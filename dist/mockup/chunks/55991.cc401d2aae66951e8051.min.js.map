{"version":3,"file":"chunks/55991.cc401d2aae66951e8051.min.js","mappings":"iNAIe,MAAMA,EACjBC,WAAAA,CAAYC,GACRC,KAAKD,GAAKA,CACd,CACAE,UAAAA,GACIC,IAAE,oBAAoBC,MAAK,WACvB,IAAIC,EAAMF,IAAEF,MACRK,EAAU,CACVC,cAAe,CACXC,gBAAgB,EAChBC,qBAAqB,EAErBC,UAAW,SAAUC,GACjBR,IAAE,mCAAmCS,QAAQ,SACjD,IAGRP,EAAIQ,SAAS,aACb,IAAIC,EAAAA,EAAMT,EAAKC,EACnB,GACJ,CAEAS,IAAAA,GACI,IAAIC,EAAOf,KACXe,EAAKd,aACLC,IAAE,qBAAqBc,GAAG,QAAS,kBAAkB,WACjDC,SAASC,cAAc,8BAA8BC,MAAQ,GAC7DF,SACKC,cAAc,yDACdE,OACT,IAEAlB,IAAE,qBAAqBc,GAAG,QAAS,gCAAgC,SAAUK,GACzEA,EAAEC,iBACF,IAAIlB,EAAMF,IAAEF,MACZuB,EAAAA,EAAMC,QAAQC,OACdvB,IAAE,iBAAiBwB,KACftB,EAAIuB,KAAK,QAAU,sBACnB,WACIZ,EAAKd,aACLsB,EAAAA,EAAMC,QAAQI,MAClB,GAER,IAGA1B,IAAE,qBAAqBc,GAAG,SAAU,mBAAmB,SAAUK,GAC7DA,EAAEC,iBACF,IAAIlB,EAAMF,IAAEF,MACZuB,EAAAA,EAAMC,QAAQC,OACdvB,IAAE,iBAAiBwB,KACfxB,IAAE,QAAQyB,KAAK,iBACX,IACAvB,EAAIyB,YACJ,sBACJ,WACId,EAAKd,aACLsB,EAAAA,EAAMC,QAAQI,MAClB,GAER,IAGA1B,IAAE,qBAAqBc,GAAG,SAAU,qBAAqB,WACrDd,IAAE,mCAAmCS,QAAQ,SACjD,GACJ,E","sources":["webpack://@plone/mockup/./src/pat/controlpanels/registry--implementation.js"],"sourcesContent":["import $ from \"jquery\";\nimport utils from \"../../core/utils\";\nimport Modal from \"../modal/modal\";\n\nexport default class ConfigRegistry {\n    constructor(el) {\n        this.el = el;\n    }\n    loadModals() {\n        $(\".recordsEditLink\").each(function () {\n            var $el = $(this);\n            var options = {\n                actionOptions: {\n                    displayInModal: false,\n                    reloadWindowOnClose: false,\n                    // eslint-disable-next-line no-unused-vars\n                    onSuccess: function (modal) {\n                        $(\"#searchrow form#registry-filter\").trigger(\"submit\");\n                    },\n                },\n            };\n            $el.addClass(\"pat-modal\");\n            new Modal($el, options);\n        });\n    }\n\n    init() {\n        var self = this;\n        self.loadModals();\n        $(\"#recordsContainer\").on(\"click\", \"[type='reset']\", function () {\n            document.querySelector('#searchrow input[name=\"q\"]').value = \"\";\n            document\n                .querySelector(\"#searchrow form#registry-filter button[type='submit']\")\n                .click();\n        });\n        /* ajax retrieval of paging */\n        $(\"#recordsContainer\").on(\"click\", \".pagination a, .listingBar a\", function (e) {\n            e.preventDefault();\n            var $el = $(this);\n            utils.loading.show();\n            $(\"#recordsTable\").load(\n                $el.attr(\"href\") + \" #recordsTable > *\",\n                function () {\n                    self.loadModals();\n                    utils.loading.hide();\n                }\n            );\n        });\n\n        /* ajax form submission */\n        $(\"#recordsContainer\").on(\"submit\", \"#searchrow form\", function (e) {\n            e.preventDefault();\n            var $el = $(this);\n            utils.loading.show();\n            $(\"#recordsTable\").load(\n                $(\"body\").attr(\"data-base-url\") +\n                    \"?\" +\n                    $el.serialize() +\n                    \" #recordsTable > *\",\n                function () {\n                    self.loadModals();\n                    utils.loading.hide();\n                }\n            );\n        });\n\n        /* force submit on select change */\n        $(\"#recordsContainer\").on(\"change\", \"#searchrow select\", function () {\n            $(\"#searchrow form#registry-filter\").trigger(\"submit\");\n        });\n    }\n}\n"],"names":["ConfigRegistry","constructor","el","this","loadModals","$","each","$el","options","actionOptions","displayInModal","reloadWindowOnClose","onSuccess","modal","trigger","addClass","Modal","init","self","on","document","querySelector","value","click","e","preventDefault","utils","loading","show","load","attr","hide","serialize"],"sourceRoot":""}