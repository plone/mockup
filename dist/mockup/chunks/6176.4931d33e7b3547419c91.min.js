"use strict";(self.webpackChunk_plone_mockup=self.webpackChunk_plone_mockup||[]).push([[6176],{6176:function(t,e,s){s.r(e),s.d(e,{default:function(){return n}});var o=new class t{_data;static instance;constructor(){return t.instance||(this._data={settings:{},blocks:{},views:{},widgets:{},slots:{},components:{},utilities:{}},t.instance=this),t.instance}set(t,e){this._data[t]=e}get(t){return this._data[t]}get settings(){return this._data.settings}set settings(t){this._data.settings=t}get experimental(){return this._data.experimental}set experimental(t){this._data.experimental=t}get blocks(){return this._data.blocks}set blocks(t){this._data.blocks=t}get views(){return this._data.views}set views(t){this._data.views=t}get widgets(){return this._data.widgets}set widgets(t){this._data.widgets=t}get addonReducers(){return this._data.addonReducers}set addonReducers(t){this._data.addonReducers=t}get addonRoutes(){return this._data.addonRoutes}set addonRoutes(t){this._data.addonRoutes=t}get routes(){return this._data.routes}set routes(t){this._data.routes=t}get slots(){return this._data.slots}set slots(t){this._data.slots=t}get components(){return this._data.components}set components(t){this._data.components=t}get utilities(){return this._data.utilities}set utilities(t){this._data.utilities=t}getComponent(t){if("object"==typeof t){const{name:e,dependencies:s=""}=t;let o="";s&&Array.isArray(s)?o=s.join("+"):"string"==typeof s&&(o=s);const n=`${e}${o?`|${o}`:""}`;return this._data.components[n]||{}}{const e=t;return this._data.components[e]||{}}}registerComponent(t){const{name:e,component:s,dependencies:o=""}=t;let n="";if(!s)throw new Error("No component provided");{o&&Array.isArray(o)?n=o.join("+"):"string"==typeof o&&(n=o);const t=`${e}${n?`|${n}`:""}`;this._data.components[t]={component:s};try{this._data.components[t].component.displayName||"function"!=typeof this._data.components[t].component||(this._data.components[t].component.displayName=e)}catch(t){console.warn(`Not setting the component displayName because ${t}`)}}}getSlot(t,e){if(!this._data.slots[t])return;const{slots:s,data:o}=this._data.slots[t],n=[];for(const t of s){let s;const i=o[t].slice().reverse();for(const o of i){let i=!1;if(o.predicates?i=o.predicates.every(t=>t(e)):s=o,i){n.push({component:o.component,name:t}),s=void 0;break}}s&&n.push({component:s.component,name:t})}return n}registerSlotComponent(t){const{name:e,component:s,predicates:o,slot:n}=t;if(!s)throw new Error("No component provided");if(!o){const t=this._data.slots?.[n]?.data?.[e]?.find(({predicates:t})=>!t);t&&s!==t.component&&(t.component=s)}let i=this._data.slots[n];i||(this._data.slots[n]={slots:[],data:{}},i=this._data.slots[n]),i.data[e]||(i.data[e]=[]);const a=i.data[e];i.slots.includes(e)||i.slots.push(e);const r={component:s,predicates:o};try{r.component.displayName||"function"!=typeof r?.component||(r.component.displayName=e)}catch(t){console.warn(`Not setting the slot component displayName because ${t}`)}a.push(r)}getSlotComponent(t,e){const s=this._data.slots[t];if(!t||!s)throw new Error(`No slot ${t} found`);const o=s.data[e];if(!o)throw new Error(`No slot component ${e} in slot ${t} found`);return o}getSlotComponents(t){const e=this._data.slots[t];if(!t||!e)throw new Error(`No slot ${t} found`);return e.slots}reorderSlotComponent({slot:t,name:e,position:s,action:o,target:n}){if(!s&&!o)throw new Error("At least a position or action is required as argument");if(s&&o)throw new Error("You should provide only one of position or action as arguments");if(("after"==o||"before"==o)&&!n)throw new Error("No action target set. You should provide the name of a slot component as target when action is 'after' or 'before'.");const i=this._data.slots[t];if(!t||!i)throw new Error(`No slot ${t} found`);const a=i.slots.indexOf(e),r=Array.from(i.slots),[c]=r.splice(a,1);if(o){let t=0;switch(n&&(t=i.slots.indexOf(n)),o){case"after":if(t<a){r.splice(t+1,0,c);break}r.splice(t,0,c);break;case"before":if(t>a){r.splice(t-1,0,c);break}r.splice(t,0,c);break;case"last":r.push(c);break;case"first":r.unshift(c)}}s&&r.splice(s,0,c),i.slots=r}unRegisterSlotComponent(t,e,s){const o=this._data.slots[t];if(!t||!o)throw new Error(`No slot ${t} found`);const n=o.data[e];if(!n)throw new Error(`No slot component ${e} in slot ${t} found`);const i=n.slice();if(i.splice(s,1),o.data[e]=i,0===i.length){const t=o.slots.indexOf(e);t>-1&&o.slots.splice(t,1)}}registerUtility(t){const{name:e,type:s,method:o,dependencies:n={}}=t;let i="";if(!o)throw new Error("No method provided");i=Object.keys(n).sort().map(t=>`${t}:${n[t]}`).join("+");const a=`${i?`|${i}`:""}${e}`;let r=this._data.utilities[s];r||(this._data.utilities[s]={},r=this._data.utilities[s]),r[a]={method:o}}getUtility(t){const{name:e,type:s,dependencies:o={}}=t;if(!e||!s)return{};let n="";n=Object.keys(o).map(t=>`${t}:${o[t]}`).join("+");const i=`${n?`|${n}`:""}${e}`;return this._data.utilities[s]?.[i]||{}}getUtilities(t){const{type:e,dependencies:s={}}=t;if(!e)return[];let o="";o=Object.keys(s).map(t=>`${t}:${s[t]}`).join("+");const n=""+(o?`|${o}`:"");return Object.keys(this._data.utilities[e]||{}).filter(t=>t.startsWith(n)).map(t=>this._data.utilities[e][t])}registerRoute(t){const e=this._data.routes||[];e.push(t),this._data.routes=e}};Object.freeze(o);var n=o}}]);
//# sourceMappingURL=6176.4931d33e7b3547419c91.min.js.map