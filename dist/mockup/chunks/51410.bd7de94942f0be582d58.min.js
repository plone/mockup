"use strict";(self.webpackChunk_plone_mockup=self.webpackChunk_plone_mockup||[]).push([[51410],{3831:function(e,t,s){s.d(t,{EO:function(){return r},Em:function(){return l},Yq:function(){return I},gf:function(){return g},qz:function(){return A},r1:function(){return a},x6:function(){return c}});var i=s(49264),n=s(67545);async function l(e){let{method:t="GET",vocabularyUrl:s=null,attributes:i=[],path:n=null,uids:l=null,searchTerm:c=null,searchPath:A=null,levelInfoPath:r=null,selectableTypes:g=[],pageSize:a=100,page:I=1}=e,C={criteria:[]};if(n&&(C={criteria:[{i:"path",o:"plone.app.querystring.operation.string.path",v:`${n}::1`}],sort_on:"getObjPositionInParent",sort_order:"ascending"}),r&&(C={criteria:[{i:"path",o:"plone.app.querystring.operation.string.path",v:`${r}::0`}]}),A&&(C={criteria:[{i:"path",o:"plone.app.querystring.operation.string.path",v:A}]},g.length&&C.criteria.push({i:"portal_type",o:"plone.app.querystring.operation.list.contains",v:g})),l&&(C={criteria:[{i:"UID",o:"plone.app.querystring.operation.list.contains",v:l}]}),c&&C.criteria.push({i:"SearchableText",o:"plone.app.querystring.operation.string.contains",v:`${c}`}),!C.criteria.length)return{results:[],total:0};let u=`${s}${-1!==s.indexOf("?")?"&":"?"}query=${JSON.stringify(C)}&attributes=${JSON.stringify(i)}&batch=${JSON.stringify({page:I,size:a})}`,o=new Headers;o.set("Accept","application/json");const d=await fetch(u,{method:t,headers:o});if(!d.ok)return{results:[],total:0,errors:b.errors};const b=await d.json();if(!A&&!r&&g.length){const e={results:[],total:b.total};for(const t of b.results)(-1!=g.indexOf(t.portal_type)||t.is_folderish)&&e.results.push(t);return e}return b}async function c(e,t){if(!e)return[];const s=await l({vocabularyUrl:t.vocabularyUrl,attributes:t.attributes,uids:e});let i=await(s?.results)||[];return i.sort(((t,s)=>e.indexOf(t.UID)-e.indexOf(s.UID))),i}async function A(e,t){let{iconName:s}=t;const n=await async function(e){return await i.A.resolveIcon(e)}(s);return e.outerHTML=n,{destroy(){}}}function r(e){const t=t=>{e&&!e.contains(t.target)&&e.dispatchEvent(new CustomEvent("click_outside",e))};return document.addEventListener("click",t,!0),{destroy(){document.removeEventListener("click",t,!0)}}}function g(e,t){let s=i.A.storage.get(t.recentlyUsedKey)||[];s=s.slice(s.length-1e3,s.length),e&&t?.selectableTypes.length&&(s=s.filter((e=>-1!=t.selectableTypes.indexOf(e.portal_type))));const n=parseInt(t.recentlyUsedMaxItems,20);return n&&(s=s.slice(s.length-n,s.length)),s}function a(e,t){if(!t.recentlyUsed)return;const s=g(!1,t),n=s.filter((t=>t.UID===e.UID));n.length>0&&s.splice(s.indexOf(n[0]),1),s.push(e),i.A.storage.set(t.recentlyUsedKey,s)}function I(e){const t=Date.parse(e),s=new n.A;return new Date(t).toLocaleString(s.currentLanguage)}},95428:function(e,t,s){var i=s(71354),n=s.n(i),l=s(76314),c=s.n(l)()(n());c.push([e.id,".selected-item.svelte-b5z3s7.svelte-b5z3s7{display:flex;flex-wrap:nowrap;align-items:start;justify-content:space-between;cursor:move}.selected-item.svelte-b5z3s7>.svelte-b5z3s7{margin-right:.5rem;display:block}.selected-item.svelte-b5z3s7 button.svelte-b5z3s7{cursor:pointer;padding:0 .375rem .374rem 0}.selected-item.svelte-b5z3s7 .item-info.svelte-b5z3s7{display:flex;align-items:start}.selected-item.svelte-b5z3s7>img.svelte-b5z3s7{object-fit:cover;width:95px;height:95px}","",{version:3,sources:["webpack://./src/pat/contentbrowser/src/SelectedItem.svelte"],names:[],mappings:"AAAA,2CAAA,YAAA,CAAA,gBAAA,CAAA,iBAAA,CAAA,6BAAA,CAAA,WAAA,CAAA,4CAAA,kBAAA,CAAA,aAAA,CAAA,kDAAA,cAAA,CAAA,2BAAA,CAAA,sDAAA,YAAA,CAAA,iBAAA,CAAA,+CAAA,gBAAA,CAAA,UAAA,CAAA,WAAA",sourcesContent:[".selected-item.svelte-b5z3s7.svelte-b5z3s7{display:flex;flex-wrap:nowrap;align-items:start;justify-content:space-between;cursor:move}.selected-item.svelte-b5z3s7>.svelte-b5z3s7{margin-right:0.5rem;display:block}.selected-item.svelte-b5z3s7 button.svelte-b5z3s7{cursor:pointer;padding:0 0.375rem 0.374rem 0}.selected-item.svelte-b5z3s7 .item-info.svelte-b5z3s7{display:flex;align-items:start}.selected-item.svelte-b5z3s7>img.svelte-b5z3s7{object-fit:cover;width:95px;height:95px}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2VsZWN0ZWRJdGVtLnN2ZWx0ZSIsInNvdXJjZXMiOlsiU2VsZWN0ZWRJdGVtLnN2ZWx0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyI8c2NyaXB0PlxuICAgIGltcG9ydCB7IGdldENvbnRleHQgfSBmcm9tIFwic3ZlbHRlXCI7XG4gICAgaW1wb3J0IHsgcmVzb2x2ZUljb24gfSBmcm9tIFwiLi91dGlsc1wiO1xuXG4gICAgLy8gY3VycmVudCBpdGVtIGluZGV4IG9mIHBhcmVudCBpdGVyYXRpb25cbiAgICBleHBvcnQgbGV0IGlkeDtcbiAgICAvLyBpdGVtIGRhdGFcbiAgICBleHBvcnQgbGV0IGl0ZW07XG5cbiAgICAvLyBwYXJlbnQgbWV0aG9kIHRvIHJlbW92ZSBzZWxlY3RlZCBpdGVtIGZyb20gbGlzdFxuICAgIGNvbnN0IHVuc2VsZWN0SXRlbSA9IGdldENvbnRleHQoXCJ1bnNlbGVjdEl0ZW1cIik7XG5cbjwvc2NyaXB0PlxuXG48ZGl2IGNsYXNzPVwic2VsZWN0ZWQtaXRlbSBib3JkZXIgYm9yZGVyLXNlY29uZGFyeS1zdWJ0bGUgcm91bmRlZCBwLTIgbWItMSBiZy1ib2R5LXRlcnRpYXJ5XCIgZGF0YS11dWlkPXtpdGVtLlVJRH0+XG4gICAgPGRpdiBjbGFzcz1cIml0ZW0taW5mb1wiPlxuICAgICAgICA8IS0tIHN2ZWx0ZS1pZ25vcmUgYTExeS1taXNzaW5nLWF0dHJpYnV0ZSAtLT5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3M9XCJidG4gYnRuLWxpbmsgYnRuLXNtIGxpbmstc2Vjb25kYXJ5XCJcbiAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiB1bnNlbGVjdEl0ZW0oaWR4KX1cbiAgICAgICAgICAgID48c3ZnIHVzZTpyZXNvbHZlSWNvbj17eyBpY29uTmFtZTogXCJ4LWNpcmNsZVwiIH19IC8+PC9idXR0b25cbiAgICAgICAgPlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpdGVtLXRpdGxlXCI+e2l0ZW0uVGl0bGV9PC9zcGFuPjxiciAvPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzbWFsbFwiPntpdGVtLnBhdGh9PC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICB7I2lmIGl0ZW0uZ2V0VVJMICYmIChpdGVtLmdldEljb24gfHwgaXRlbS5wb3J0YWxfdHlwZSA9PT0gXCJJbWFnZVwiKX08aW1nXG4gICAgICAgICAgICBzcmM9XCJ7aXRlbS5nZXRVUkx9L0BAaW1hZ2VzL2ltYWdlL21pbmlcIlxuICAgICAgICAgICAgYWx0PXtpdGVtLlRpdGxlfVxuICAgICAgICAvPnsvaWZ9XG48L2Rpdj5cblxuPHN0eWxlPlxuICAgIC5zZWxlY3RlZC1pdGVtIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgZmxleC13cmFwOiBub3dyYXA7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBzdGFydDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICBjdXJzb3I6IG1vdmU7XG4gICAgfVxuICAgIC5zZWxlY3RlZC1pdGVtID4gKiB7XG4gICAgICAgIG1hcmdpbi1yaWdodDogMC41cmVtO1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICB9XG4gICAgLnNlbGVjdGVkLWl0ZW0gYnV0dG9uIHtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICBwYWRkaW5nOiAwIDAuMzc1cmVtIDAuMzc0cmVtIDA7XG4gICAgfVxuICAgIC5zZWxlY3RlZC1pdGVtIC5pdGVtLWluZm8ge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogc3RhcnQ7XG4gICAgfVxuICAgIC5zZWxlY3RlZC1pdGVtID4gaW1nIHtcbiAgICAgICAgb2JqZWN0LWZpdDogY292ZXI7XG4gICAgICAgIHdpZHRoOiA5NXB4O1xuICAgICAgICBoZWlnaHQ6IDk1cHg7XG4gICAgfVxuPC9zdHlsZT5cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFrQ0ksMENBQWUsQ0FDWCxPQUFPLENBQUUsSUFBSSxDQUNiLFNBQVMsQ0FBRSxNQUFNLENBQ2pCLFdBQVcsQ0FBRSxLQUFLLENBQ2xCLGVBQWUsQ0FBRSxhQUFhLENBQzlCLE1BQU0sQ0FBRSxJQUNaLENBQ0EsNEJBQWMsQ0FBRyxjQUFFLENBQ2YsWUFBWSxDQUFFLE1BQU0sQ0FDcEIsT0FBTyxDQUFFLEtBQ2IsQ0FDQSw0QkFBYyxDQUFDLG9CQUFPLENBQ2xCLE1BQU0sQ0FBRSxPQUFPLENBQ2YsT0FBTyxDQUFFLENBQUMsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQ2pDLENBQ0EsNEJBQWMsQ0FBQyx3QkFBVyxDQUN0QixPQUFPLENBQUUsSUFBSSxDQUNiLFdBQVcsQ0FBRSxLQUNqQixDQUNBLDRCQUFjLENBQUcsaUJBQUksQ0FDakIsVUFBVSxDQUFFLEtBQUssQ0FDakIsS0FBSyxDQUFFLElBQUksQ0FDWCxNQUFNLENBQUUsSUFDWiJ9*/"],sourceRoot:""}]),t.A=c},51410:function(e,t,s){s.r(t),s.d(t,{default:function(){return y}});var i=s(43467),n=(s(2531),s(41949)),l=s(3831),c=s(85072),A=s.n(c),r=s(97825),g=s.n(r),a=s(57722),I=s.n(a),C=s(55056),u=s.n(C),o=s(10540),d=s.n(o),b=s(41113),p=s.n(b),m=s(95428),B={};B.styleTagTransform=p(),B.setAttributes=u(),B.insert=I(),B.domAPI=g(),B.insertStyleElement=d();A()(m.A,B),m.A&&m.A.locals&&m.A.locals;function x(e){let t,s,n;return{c(){t=(0,i.ND4)("img"),(0,i.mq_)(t.src,s=e[1].getURL+"/@@images/image/mini")||(0,i.CFu)(t,"src",s),(0,i.CFu)(t,"alt",n=e[1].Title),(0,i.CFu)(t,"class","svelte-b5z3s7")},m(e,s){(0,i.Yry)(e,t,s)},p(e,l){2&l&&!(0,i.mq_)(t.src,s=e[1].getURL+"/@@images/image/mini")&&(0,i.CFu)(t,"src",s),2&l&&n!==(n=e[1].Title)&&(0,i.CFu)(t,"alt",n)},d(e){e&&(0,i.YoD)(t)}}}function G(e){let t,s,n,c,A,r,g,a,I,C,u,o,d,b,p,m,B,G=e[1].Title+"",Q=e[1].path+"",F=e[1].getURL&&(e[1].getIcon||"Image"===e[1].portal_type)&&x(e);return{c(){t=(0,i.ND4)("div"),s=(0,i.ND4)("div"),n=(0,i.ND4)("button"),c=(0,i.QQy)("svg"),r=(0,i.xem)(),g=(0,i.ND4)("div"),a=(0,i.ND4)("span"),I=(0,i.Qq7)(G),C=(0,i.ND4)("br"),u=(0,i.xem)(),o=(0,i.ND4)("span"),d=(0,i.Qq7)(Q),b=(0,i.xem)(),F&&F.c(),(0,i.CFu)(n,"class","btn btn-link btn-sm link-secondary svelte-b5z3s7"),(0,i.CFu)(a,"class","item-title"),(0,i.CFu)(o,"class","small"),(0,i.CFu)(s,"class","item-info svelte-b5z3s7"),(0,i.CFu)(t,"class","selected-item border border-secondary-subtle rounded p-2 mb-1 bg-body-tertiary svelte-b5z3s7"),(0,i.CFu)(t,"data-uuid",p=e[1].UID)},m(p,x){(0,i.Yry)(p,t,x),(0,i.BCw)(t,s),(0,i.BCw)(s,n),(0,i.BCw)(n,c),(0,i.BCw)(s,r),(0,i.BCw)(s,g),(0,i.BCw)(g,a),(0,i.BCw)(a,I),(0,i.BCw)(g,C),(0,i.BCw)(g,u),(0,i.BCw)(g,o),(0,i.BCw)(o,d),(0,i.BCw)(t,b),F&&F.m(t,null),m||(B=[(0,i.hGc)(A=l.qz.call(null,c,{iconName:"x-circle"})),(0,i.KTR)(n,"click",e[3])],m=!0)},p(e,[s]){2&s&&G!==(G=e[1].Title+"")&&(0,i.iQh)(I,G),2&s&&Q!==(Q=e[1].path+"")&&(0,i.iQh)(d,Q),e[1].getURL&&(e[1].getIcon||"Image"===e[1].portal_type)?F?F.p(e,s):(F=x(e),F.c(),F.m(t,null)):F&&(F.d(1),F=null),2&s&&p!==(p=e[1].UID)&&(0,i.CFu)(t,"data-uuid",p)},i:i.lQ1,o:i.lQ1,d(e){e&&(0,i.YoD)(t),F&&F.d(),m=!1,(0,i.oOW)(B)}}}function Q(e,t,s){let{idx:i}=t,{item:l}=t;const c=(0,n.SD)("unselectItem");return e.$$set=e=>{"idx"in e&&s(0,i=e.idx),"item"in e&&s(1,l=e.item)},[i,l,c,()=>c(i)]}class F extends i.r7T{constructor(e){super(),(0,i.TsN)(this,e,Q,G,i.jXN,{idx:0,item:1})}}var y=F}}]);
//# sourceMappingURL=51410.bd7de94942f0be582d58.min.js.map