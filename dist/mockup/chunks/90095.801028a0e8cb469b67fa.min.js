(self.webpackChunk_plone_mockup=self.webpackChunk_plone_mockup||[]).push([[90095],{90095:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(l=String).prototype,o.isPrototypeOf(n)||r.constructor?.name===l.name)?"string":t;var n,o;var r,l})(t)===e,n=e=>t=>typeof t===e,o=t("string"),r=t("object"),l=t("array"),a=(s=null,e=>s===e);var s;const i=n("boolean"),c=e=>!(e=>null==e)(e),u=n("function"),g=(e,t)=>{if(l(e)){for(let n=0,o=e.length;n<o;++n)if(!t(e[n]))return!1;return!0}return!1},d=()=>{},m=e=>e,h=(e,t)=>e===t;class p{tag;value;static singletonNone=new p(!1);constructor(e,t){this.tag=e,this.value=t}static some(e){return new p(!0,e)}static none(){return p.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?p.some(e(this.value)):p.none()}bind(e){return this.tag?e(this.value):p.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:p.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(e??"Called getOrDie on None")}static from(e){return c(e)?p.some(e):p.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Array.prototype.slice;const f=Array.prototype.indexOf,k=Array.prototype.push,b=(e,t)=>((e,t)=>f.call(e,t))(e,t)>-1,v=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!l(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);k.apply(t,e[n])}return t},y=(e,t)=>v(((e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o})(e,t)),_=e=>((e,t)=>t>=0&&t<e.length?p.some(e[t]):p.none())(e,0);u(Array.from)&&Array.from;const x=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return p.none()},w=Object.keys,C=Object.hasOwnProperty,O=(e,t,n,o)=>{((e,t)=>{const n=w(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}})(e,(e,r)=>{(t(e,r)?n:o)(e,r)})},A=(e,t)=>C.call(e,t),S=(e,t,n=h)=>e.exists(e=>n(e,t)),N=e=>{const t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t},E=(e,t)=>e?p.some(t):p.none(),R=()=>{const e=(e=>{const t=(e=>{let t=e;return{get:()=>t,set:e=>{t=e}}})(p.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(p.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(p.some(e))}}})(d);return{...e,on:t=>e.get().each(t)}},T=(e,t)=>((e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t)(e,t,0),L=e=>t=>t.options.get(e),U=L("link_assume_external_targets"),P=L("link_context_toolbar"),B=L("link_list"),D=L("link_default_target"),M=L("link_default_protocol"),j=L("link_target_list"),I=L("link_rel_list"),F=L("link_class_list"),K=L("link_title"),z=L("allow_unsafe_link_target"),q=L("link_quicklink"),V=L("link_attributes_postprocess"),$=L("files_upload_handler"),W=L("link_uploadtab"),G=L("documents_file_types");var H=tinymce.util.Tools.resolve("tinymce.util.URI"),J=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Q=tinymce.util.Tools.resolve("tinymce.util.Tools");const X=e=>c(e)&&"a"===e.nodeName.toLowerCase(),Y=e=>X(e)&&!!te(e),Z=(e,t)=>{if(e.collapsed)return[];{const n=e.cloneContents(),o=n.firstChild,r=new J(o,n),l=[];let a=o;do{t(a)&&l.push(a)}while(a=r.next());return l}},ee=e=>/^\w+:/i.test(e),te=e=>e.getAttribute("data-mce-href")??e.getAttribute("href")??"",ne=(e,t)=>{const n=["noopener"],o=e?e.split(/\s+/):[],r=e=>e.filter(e=>-1===Q.inArray(n,e)),l=t?(e=>(e=r(e)).length>0?e.concat(n):n)(o):r(o);return l.length>0?(e=>Q.trim(e.sort().join(" ")))(l):""},oe=(e,t)=>(t=t||ae(e.selection.getRng())[0]||e.selection.getNode(),ue(t)?p.from(e.dom.select("a[href]",t)[0]):p.from(e.dom.getParent(t,"a[href]"))),re=(e,t)=>oe(e,t).isSome(),le=(e,t)=>(e=>e.replace(/\uFEFF/g,""))(t.fold(()=>e.getContent({format:"text"}),e=>e.innerText||e.textContent||"")),ae=e=>Z(e,Y),se=e=>Q.grep(e,Y),ie=e=>se(e).length>0,ce=e=>{const t=e.schema.getTextInlineElements(),n=e=>1===e.nodeType&&!X(e)&&!A(t,e.nodeName.toLowerCase());if(oe(e).exists(e=>e.hasAttribute("data-mce-block")))return!1;const o=e.selection.getRng();if(o.collapsed)return!0;return 0===Z(o,n).length},ue=e=>c(e)&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className),ge=(e,t)=>{const n={...t};if(0===I(e).length&&!z(e)){const e=ne(n.rel,"_blank"===n.target);n.rel=e||null}return p.from(n.target).isNone()&&!1===j(e)&&(n.target=D(e)),n.href=((e,t)=>"http"!==t&&"https"!==t||ee(e)?e:t+"://"+e)(n.href,U(e)),n},de=(e,t,n)=>{const o=e.selection.getNode(),r=oe(e,o),l=ge(e,(e=>{return t=["title","rel","class","target"],n=(t,n)=>(e[n].each(e=>{t[n]=e.length>0?e:null}),t),o={href:e.href},((e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)})(t,(e,t)=>{o=n(o,e,t)}),o;var t,n,o})(n)),a=V(e);c(a)&&a(l),e.undoManager.transact(()=>{n.href===t.href&&t.attach(),r.fold(()=>{((e,t,n,o)=>{const r=e.dom;ue(t)?ke(r,t,o):n.fold(()=>{e.execCommand("mceInsertLink",!1,o);const t=e.selection.getEnd(),n=r.createRng();n.setStartAfter(t),n.setEndAfter(t),e.selection.setRng(n)},t=>{e.insertContent(r.createHTML("a",o,r.encode(t)))})})(e,o,n.text,l)},t=>{e.focus(),((e,t,n,o)=>{n.each(e=>{A(t,"innerText")?t.innerText=e:t.textContent=e}),e.dom.setAttribs(t,o);const r=e.dom.createRng();r.setStartAfter(t),r.setEndAfter(t),e.selection.setRng(r)})(e,t,n.text,l)})})},me=e=>{const{class:t,href:n,rel:o,target:r,text:l,title:s}=e;return((e,t)=>{const n={};var o;return O(e,t,(o=n,(e,t)=>{o[t]=e}),d),n})({class:t.getOrNull(),href:n,rel:o.getOrNull(),target:r.getOrNull(),text:l.getOrNull(),title:s.getOrNull()},(e,t)=>!1===a(e))},he=(e,t,n)=>{const o=((e,t)=>{const n=e.options.get,o={allow_html_data_urls:n("allow_html_data_urls"),allow_script_urls:n("allow_script_urls"),allow_svg_data_urls:n("allow_svg_data_urls")},r=t.href;return{...t,href:H.isDomSafe(r,"a",o)?r:""}})(e,n);e.hasPlugin("rtc",!0)?e.execCommand("createlink",!1,me(o)):de(e,t,o)},pe=e=>{e.hasPlugin("rtc",!0)?e.execCommand("unlink"):(e=>{e.undoManager.transact(()=>{const t=e.selection.getNode();ue(t)?fe(e,t):(e=>{const t=e.dom,n=e.selection,o=n.getBookmark(),r=n.getRng().cloneRange(),l=t.getParent(r.startContainer,"a[href]",e.getBody()),a=t.getParent(r.endContainer,"a[href]",e.getBody());l&&r.setStartBefore(l),a&&r.setEndAfter(a),n.setRng(r),e.execCommand("unlink"),n.moveToBookmark(o)})(e),e.focus()})})(e)},fe=(e,t)=>{const n=e.dom.select("img",t)[0];if(n){const o=e.dom.getParents(n,"a[href]",t)[0];o&&(o.parentNode?.insertBefore(n,o),e.dom.remove(o))}},ke=(e,t,n)=>{const o=e.select("img",t)[0];if(o){const t=e.create("a",n);o.parentNode?.insertBefore(t,o),t.appendChild(o)}},be=e=>o(e.value)?e.value:"",ve=(e,t)=>{const n=[];return Q.each(e,e=>{const r=(e=>o(e.text)?e.text:o(e.title)?e.title:"")(e);if(void 0!==e.menu){const o=ve(e.menu,t);n.push({text:r,items:o})}else{const o=t(e);n.push({text:r,value:o})}}),n},ye=(e=be)=>t=>p.from(t).map(t=>ve(t,e)),_e={sanitize:e=>ye(be)(e),sanitizeWith:ye,createUi:(e,t)=>n=>({name:e,type:"listbox",label:t,items:n}),getValue:be},xe=e=>{return A(t=e,n="items")&&void 0!==t[n]&&null!==t[n];var t,n},we=(e,t)=>x(t,t=>xe(t)?we(e,t.items):E(t.value===e,t)),Ce=(e,t,n,o)=>{const r=o[t],l=e.length>0;return void 0!==r?we(r,n).map(t=>({url:{value:t.value,meta:{text:l?e:t.text,attach:d}},text:l?e:t.text})):p.none()},Oe=(e,t)=>{const n={text:e.text,title:e.title},o=e=>{const t=(o=e.url,E(n.text.length<=0,p.from(o.meta?.text).getOr(o.value)));var o;const r=(e=>E(n.title.length<=0,p.from(e.meta?.title).getOr("")))(e.url);return t.isSome()||r.isSome()?p.some({...t.map(e=>({text:e})).getOr({}),...r.map(e=>({title:e})).getOr({})}):p.none()},r=(e,o)=>{const r=(l=t,a=o,"link"===a?l.link:"anchor"===a?l.anchor:p.none()).getOr([]);var l,a;return Ce(n.text,o,r,e)};return{onChange:(e,t)=>{const l=t.name;return"url"===l?o(e()):b(["anchor","link"],l)?r(e(),l):"text"===l||"title"===l?(n[l]=e()[l],p.none()):p.none()}}};var Ae=tinymce.util.Tools.resolve("tinymce.util.Delay");const Se=e=>{const t=e.href;return t.indexOf("@")>0&&-1===t.indexOf("/")&&-1===t.indexOf("mailto:")?p.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:e=>({...e,href:"mailto:"+t})}):p.none()},Ne=(e,t)=>n=>{const o=n.href;return 1===e&&!ee(o)||0===e&&/^\s*www(\.|\d\.)/i.test(o)?p.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${t}:// prefix?`,preprocess:e=>({...e,href:t+"://"+o})}):p.none()},Ee=(e,t)=>x([Se,Ne(U(e),M(e))],e=>e(t)).fold(()=>Promise.resolve(t),n=>new Promise(o=>{((e,t,n)=>{const o=e.selection.getRng();Ae.setEditorTimeout(e,()=>{e.windowManager.confirm(t,t=>{e.selection.setRng(o),n(t)})})})(e,n.message,e=>{o(e?n.preprocess(t):t)})})),Re=e=>{const t=e.dom.select("a:not([href])"),n=y(t,e=>{const t=e.name||e.id;return t?[{text:t,value:"#"+t}]:[]});return n.length>0?p.some([{text:"None",value:""}].concat(n)):p.none()},Te=e=>{const t=F(e);return t.length>0?_e.sanitize(t):p.none()},Le=e=>{try{return p.some(JSON.parse(e))}catch{return p.none()}},Ue=e=>{const t=t=>e.convertURL(t.value||t.url||"","href"),n=B(e);return new Promise(e=>{o(n)?fetch(n).then(e=>e.ok?e.text().then(Le):Promise.reject()).then(e,()=>e(p.none())):u(n)?n(t=>e(p.some(t))):e(p.from(n))}).then(e=>e.bind(_e.sanitizeWith(t)).map(e=>{if(e.length>0){return[{text:"None",value:""}].concat(e)}return e}))},Pe=(e,t)=>{const n=I(e);if(n.length>0){const o=S(t,"_blank"),r=e=>ne(_e.getValue(e),o);return(!1===z(e)?_e.sanitizeWith(r):_e.sanitize)(n)}return p.none()},Be=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],De=e=>{const t=j(e);return l(t)?_e.sanitize(t).orThunk(()=>p.some(Be)):!1===t?p.none():p.some(Be)},Me=(e,t,n)=>{const o=e.getAttrib(t,n);return null!==o&&o.length>0?p.some(o):p.none()},je=(e,t)=>Ue(e).then(n=>{const o=(e=>c(e.options.get("files_upload_handler")))(e)&&(e=>c(e.options.get("documents_file_types")))(e)&&W(e),r=((e,t)=>{const n=e.dom,o=ce(e)?p.some(le(e.selection,t)):p.none(),r=t.bind(e=>p.from(n.getAttrib(e,"href"))),l=t.bind(e=>p.from(n.getAttrib(e,"target"))),a=t.bind(e=>Me(n,e,"rel")),s=t.bind(e=>Me(n,e,"class"));return{url:r,text:o,title:t.bind(e=>Me(n,e,"title")),target:l,rel:a,linkClass:s}})(e,t);return{anchor:r,catalogs:{targets:De(e),rels:Pe(e,r.target),classes:Te(e),anchor:Re(e),link:n},hasUploadPanel:o,optNode:t,flags:{titleEnabled:K(e)}}}),Ie=e=>({title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput",buttonLabel:"Browse for a file",dropAreaLabel:"Drop a file here",allowedFileTypes:e.map(e=>e.mimeType).join(","),allowedFileExtensions:v(e.map(e=>e.extensions))}]}),Fe=e=>(t,n)=>$(e)(t,n),Ke=(e,t)=>{const n=t.getData();t.block("Uploading file"),_(n.fileinput).fold(()=>{t.unblock()},n=>{const o=URL.createObjectURL(n),r=()=>{t.unblock(),URL.revokeObjectURL(o)};var l;(l=n,new Promise((e,t)=>{const n=new FileReader;n.onload=()=>{e(n.result)},n.onerror=()=>{t(new Error(n.error?.message??"Failed to convert blob to a data url"))},n.readAsDataURL(l)})).then(t=>{const r=e.getExistingBlobInfo((e=>p.from(e.split(",")[1]).getOr(""))(t),n.type),l=r&&r.filename()===n.name?r:e.createBlobCache(n,o,t);return e.addToBlobCache(l),e.uploadFile(l,m)}).then(e=>{(({url:e,fileName:n})=>{t.setData({text:n,title:n,url:{value:e,meta:{}}}),t.showTab("general"),t.focus("url")})(e),r()}).catch(n=>{r(),e.alertErr(n,()=>{t.focus("fileinput")})})})},ze=e=>(t,n,o)=>e.editorUpload.blobCache.create({blob:t,blobUri:n,name:t.name?.replace(/\.[^\.]+$/,""),filename:t.name,base64:o.split(",")[1]}),qe=e=>t=>{e.editorUpload.blobCache.add(t)},Ve=e=>(t,n)=>e.editorUpload.blobCache.getByData(t,n),$e=e=>(t,n)=>{e.windowManager.alert(t,n)},We=(e,t,n)=>{const o=e.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),r=e.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],l=((e,t)=>{const n=e.anchor,o=n.url.getOr("");return{url:{value:o,meta:{original:{value:o}}},text:n.text.getOr(""),title:n.title.getOr(""),anchor:o,link:o,rel:n.rel.getOr(""),target:n.target.or(t).getOr(""),linkClass:n.linkClass.getOr(""),fileinput:[]}})(e,p.from(D(n))),a=e.catalogs,s=Oe(l,a),i=((e,t,n,o,r,l)=>{const a=v([e,t,n,N([o.anchor.map(_e.createUi("anchor","Anchors")),o.rels.map(_e.createUi("rel","Rel")),o.targets.map(_e.createUi("target","Open link in...")),o.link.map(_e.createUi("link","Link list")),o.classes.map(_e.createUi("linkClass","Class"))])]);if(r)return{type:"tabpanel",tabs:v([[{title:"General",name:"general",items:a}],[Ie(l)]])};return{type:"panel",items:a}})([{name:"url",type:"urlinput",filetype:"file",label:"URL",picker_text:"Browse links"}],o,r,a,e.hasUploadPanel,G(n)),c={addToBlobCache:qe(n),createBlobCache:ze(n),alertErr:$e(n),uploadFile:Fe(n),getExistingBlobInfo:Ve(n)};return{title:"Insert/Edit Link",size:"normal",body:i,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:l,onChange:(e,{name:t})=>{"fileinput"===t?Ke(c,e):s.onChange(e.getData,{name:t}).each(t=>{e.setData(t)})},onSubmit:t}},Ge=e=>{const t=(e=>{const t=oe(e);return je(e,t)})(e);t.then(t=>{const n=((e,t)=>n=>{const o=n.getData();if(!o.url.value)return pe(e),void n.close();const r=e=>p.from(o[e]).filter(n=>!S(t.anchor[e],n)),l={href:o.url.value,text:r("text"),target:r("target"),rel:r("rel"),class:r("linkClass"),title:r("title")},a={href:o.url.value,attach:void 0!==o.url.meta&&o.url.meta.attach?o.url.meta.attach:d};Ee(e,l).then(t=>{he(e,a,t)}),n.close()})(e,t);return We(t,n,e)}).then(t=>{e.windowManager.open(t)})};var He=tinymce.util.Tools.resolve("tinymce.util.VK");const Je=e=>{const t=document.createElement("a");t.target="_blank",t.href=e,t.rel="noreferrer noopener";const n=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});document.dispatchEvent(n),((e,t)=>{document.body.appendChild(e),e.dispatchEvent(t),document.body.removeChild(e)})(t,n)},Qe=(e,t)=>{if(t){const r=te(t);if(/^#/.test(r)){const t=e.dom.select(`${r},[name="${n=r,o="#",T(n,o)?((e,t)=>e.substring(t))(n,o.length):n}"]`);t.length&&e.selection.scrollIntoView(t[0],!0)}else Je(t.href)}var n,o},Xe=(e,t)=>{const n=se(e.dom.getParents(t));return E(1===n.length,n[0])},Ye=e=>e.selection.isCollapsed()||(e=>{const t=e.selection.getRng(),n=t.startContainer;return Y(n)&&t.startContainer===t.endContainer&&1===e.dom.select("img",n).length})(e)?Xe(e,e.selection.getStart()):(e=>{const t=ae(e.selection.getRng());return E(t.length>0,t[0]).or(Xe(e,e.selection.getNode()))})(e),Ze=e=>()=>{e.execCommand("mceLink",!1,{dialog:!0})},et=(e,t)=>(e.on("NodeChange",t),()=>e.off("NodeChange",t)),tt=e=>t=>{const n=()=>{t.setActive(!e.mode.isReadOnly()&&re(e,e.selection.getNode())),t.setEnabled(e.selection.isEditable())};return n(),et(e,n)},nt=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return n(),et(e,n)},ot=e=>t=>{const n=t=>{return ie(t)||(n=e.selection.getRng(),ae(n).length>0);var n},o=e.dom.getParents(e.selection.getStart()),r=o=>{t.setEnabled(n(o)&&e.selection.isEditable())};return r(o),et(e,e=>r(e.parents))},rt=(e,t)=>{const n=t=>{const n=e.selection.getNode();return t.setEnabled(re(e,n)&&e.selection.isEditable()),d};e.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:tt(e)},label:"Link",predicate:t=>P(e)&&re(e,t),initValue:()=>oe(e).fold((e=>()=>e)(""),te),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:t=>{const n=e.selection.getNode();return t.setActive(re(e,n)),tt(e)(t)},onAction:t=>{const n=t.getValue(),o=(t=>{const n=oe(e),o=ce(e);if(n.isNone()&&o){const o=le(e.selection,n);return E(0===o.length,t)}return p.none()})(n);he(e,{href:n,attach:d},{href:n,text:o,title:p.none(),rel:p.none(),target:p.from(D(e)),class:p.none()}),(e=>{e.selection.collapse(!1)})(e),t.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:n,onAction:t=>{pe(e),t.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:n,onAction:e=>{t.gotoSelectedLink(),e.hide()}}]})},lt=e=>{const t=(e=>{const t=R(),n=()=>t.get().or(Ye(e));return e.on("contextmenu",n=>{Xe(e,n.target).each(t.set)}),e.on("SelectionChange",()=>{t.isSet()||Ye(e).each(t.set)}),e.on("click",n=>{t.clear();const o=se(e.dom.getParents(n.target));1===o.length&&He.metaKeyPressed(n)&&(n.preventDefault(),Qe(e,o[0]))}),e.on("keydown",o=>{t.clear(),!o.isDefaultPrevented()&&13===o.keyCode&&(e=>!0===e.altKey&&!1===e.shiftKey&&!1===e.ctrlKey&&!1===e.metaKey)(o)&&n().each(t=>{o.preventDefault(),Qe(e,t)})}),{gotoSelectedLink:()=>n().each(t=>Qe(e,t))}})(e);((e,t)=>{e.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onAction:Ze(e),onSetup:tt(e)}),e.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:t.gotoSelectedLink,onSetup:ot(e)}),e.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>pe(e),onSetup:ot(e)})})(e,t),((e,t)=>{e.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:t.gotoSelectedLink,onSetup:ot(e)}),e.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Ze(e),onSetup:nt(e)}),e.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>pe(e),onSetup:ot(e)})})(e,t),(e=>{e.ui.registry.addContextMenu("link",{update:t=>e.dom.isEditable(t)?ie(e.dom.getParents(t,"a"))?"link unlink openlink":"link":""})})(e),rt(e,t)};e.add("link",e=>{(e=>{const t=e.options.register;t("link_assume_external_targets",{processor:e=>{const t=o(e)||i(e);return t?!0===e?{value:1,valid:t}:"http"===e||"https"===e?{value:e,valid:t}:{value:0,valid:t}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),t("link_context_toolbar",{processor:"boolean",default:!1}),t("link_list",{processor:e=>o(e)||u(e)||g(e,r)}),t("link_default_target",{processor:"string"}),t("link_default_protocol",{processor:"string",default:"https"}),t("link_target_list",{processor:e=>i(e)||g(e,r),default:!0}),t("link_rel_list",{processor:"object[]",default:[]}),t("link_class_list",{processor:"object[]",default:[]}),t("link_title",{processor:"boolean",default:!0}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("link_quicklink",{processor:"boolean",default:!1}),t("link_attributes_postprocess",{processor:"function"}),t("files_upload_handler",{processor:"function"}),t("link_uploadtab",{processor:"boolean",default:!0})})(e),(e=>{e.addCommand("mceLink",(t,n)=>{!0!==n?.dialog&&q(e)?e.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"}):Ge(e)})})(e),lt(e),(e=>{e.addShortcut("Meta+K","",()=>{e.execCommand("mceLink")})})(e)})}()}}]);
//# sourceMappingURL=90095.801028a0e8cb469b67fa.min.js.map