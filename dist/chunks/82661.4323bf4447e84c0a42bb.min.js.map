{"version":3,"file":"chunks/82661.4323bf4447e84c0a42bb.min.js","mappings":"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","sources":["webpack://@plone/mockup/./node_modules/jqtree/lib/dataLoader.js","webpack://@plone/mockup/./node_modules/jqtree/lib/dragAndDropHandler.js","webpack://@plone/mockup/./node_modules/jqtree/lib/elementsRenderer.js","webpack://@plone/mockup/./node_modules/jqtree/lib/keyHandler.js","webpack://@plone/mockup/./node_modules/jqtree/lib/mouse.widget.js","webpack://@plone/mockup/./node_modules/jqtree/lib/node.js","webpack://@plone/mockup/./node_modules/jqtree/lib/nodeElement.js","webpack://@plone/mockup/./node_modules/jqtree/lib/saveStateHandler.js","webpack://@plone/mockup/./node_modules/jqtree/lib/scrollHandler.js","webpack://@plone/mockup/./node_modules/jqtree/lib/selectNodeHandler.js","webpack://@plone/mockup/./node_modules/jqtree/lib/simple.widget.js","webpack://@plone/mockup/./node_modules/jqtree/lib/tree.jquery.js","webpack://@plone/mockup/./node_modules/jqtree/lib/util.js","webpack://@plone/mockup/./node_modules/jqtree/lib/version.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar DataLoader = /*#__PURE__*/function () {\n  function DataLoader(treeWidget) {\n    _classCallCheck(this, DataLoader);\n    _defineProperty(this, \"treeWidget\", void 0);\n    this.treeWidget = treeWidget;\n  }\n  _createClass(DataLoader, [{\n    key: \"loadFromUrl\",\n    value: function loadFromUrl(urlInfo, parentNode, onFinished) {\n      var _this = this;\n      if (!urlInfo) {\n        return;\n      }\n      var $el = this.getDomElement(parentNode);\n      this.addLoadingClass($el);\n      this.notifyLoading(true, parentNode, $el);\n      var stopLoading = function stopLoading() {\n        _this.removeLoadingClass($el);\n        _this.notifyLoading(false, parentNode, $el);\n      };\n      var handleSuccess = function handleSuccess(data) {\n        stopLoading();\n        _this.treeWidget.loadData(_this.parseData(data), parentNode);\n        if (onFinished && typeof onFinished === \"function\") {\n          onFinished();\n        }\n      };\n      var handleError = function handleError(jqXHR) {\n        stopLoading();\n        if (_this.treeWidget.options.onLoadFailed) {\n          _this.treeWidget.options.onLoadFailed(jqXHR);\n        }\n      };\n      this.submitRequest(urlInfo, handleSuccess, handleError);\n    }\n  }, {\n    key: \"addLoadingClass\",\n    value: function addLoadingClass($el) {\n      if ($el) {\n        $el.addClass(\"jqtree-loading\");\n      }\n    }\n  }, {\n    key: \"removeLoadingClass\",\n    value: function removeLoadingClass($el) {\n      if ($el) {\n        $el.removeClass(\"jqtree-loading\");\n      }\n    }\n  }, {\n    key: \"getDomElement\",\n    value: function getDomElement(parentNode) {\n      if (parentNode) {\n        return jQuery(parentNode.element);\n      } else {\n        return this.treeWidget.element;\n      }\n    }\n  }, {\n    key: \"notifyLoading\",\n    value: function notifyLoading(isLoading, node, $el) {\n      if (this.treeWidget.options.onLoading) {\n        this.treeWidget.options.onLoading(isLoading, node, $el);\n      }\n      this.treeWidget._triggerEvent(\"tree.loading_data\", {\n        isLoading: isLoading,\n        node: node,\n        $el: $el\n      });\n    }\n  }, {\n    key: \"submitRequest\",\n    value: function submitRequest(urlInfoInput, handleSuccess, handleError) {\n      var _ajaxSettings$method;\n      var urlInfo = typeof urlInfoInput === \"string\" ? {\n        url: urlInfoInput\n      } : urlInfoInput;\n      var ajaxSettings = _objectSpread({\n        method: \"GET\",\n        cache: false,\n        dataType: \"json\",\n        success: handleSuccess,\n        error: handleError\n      }, urlInfo);\n      ajaxSettings.method = ((_ajaxSettings$method = ajaxSettings.method) === null || _ajaxSettings$method === void 0 ? void 0 : _ajaxSettings$method.toUpperCase()) || \"GET\";\n      void jQuery.ajax(ajaxSettings);\n    }\n  }, {\n    key: \"parseData\",\n    value: function parseData(data) {\n      var dataFilter = this.treeWidget.options.dataFilter;\n      var getParsedData = function getParsedData() {\n        if (typeof data === \"string\") {\n          return JSON.parse(data);\n        } else {\n          return data;\n        }\n      };\n      var parsedData = getParsedData();\n      if (dataFilter) {\n        return dataFilter(parsedData);\n      } else {\n        return parsedData;\n      }\n    }\n  }]);\n  return DataLoader;\n}();\nexports[\"default\"] = DataLoader;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.HitAreasGenerator = exports.DragAndDropHandler = void 0;\nvar _node = require(\"./node\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar DragAndDropHandler = /*#__PURE__*/function () {\n  function DragAndDropHandler(treeWidget) {\n    _classCallCheck(this, DragAndDropHandler);\n    _defineProperty(this, \"hitAreas\", void 0);\n    _defineProperty(this, \"isDragging\", void 0);\n    _defineProperty(this, \"currentItem\", void 0);\n    _defineProperty(this, \"hoveredArea\", void 0);\n    _defineProperty(this, \"positionInfo\", void 0);\n    _defineProperty(this, \"treeWidget\", void 0);\n    _defineProperty(this, \"dragElement\", void 0);\n    _defineProperty(this, \"previousGhost\", void 0);\n    _defineProperty(this, \"openFolderTimer\", void 0);\n    this.treeWidget = treeWidget;\n    this.hoveredArea = null;\n    this.hitAreas = [];\n    this.isDragging = false;\n    this.currentItem = null;\n    this.positionInfo = null;\n  }\n  _createClass(DragAndDropHandler, [{\n    key: \"mouseCapture\",\n    value: function mouseCapture(positionInfo) {\n      var $element = jQuery(positionInfo.target);\n      if (!this.mustCaptureElement($element)) {\n        return null;\n      }\n      if (this.treeWidget.options.onIsMoveHandle && !this.treeWidget.options.onIsMoveHandle($element)) {\n        return null;\n      }\n      var nodeElement = this.treeWidget._getNodeElement($element);\n      if (nodeElement && this.treeWidget.options.onCanMove) {\n        if (!this.treeWidget.options.onCanMove(nodeElement.node)) {\n          nodeElement = null;\n        }\n      }\n      this.currentItem = nodeElement;\n      return this.currentItem != null;\n    }\n  }, {\n    key: \"mouseStart\",\n    value: function mouseStart(positionInfo) {\n      var _this$treeWidget$opti;\n      if (!this.currentItem || positionInfo.pageX === undefined || positionInfo.pageY === undefined) {\n        return false;\n      }\n      this.refresh();\n      var offset = jQuery(positionInfo.target).offset();\n      var left = offset ? offset.left : 0;\n      var top = offset ? offset.top : 0;\n      var node = this.currentItem.node;\n      this.dragElement = new DragElement(node.name, positionInfo.pageX - left, positionInfo.pageY - top, this.treeWidget.element, (_this$treeWidget$opti = this.treeWidget.options.autoEscape) !== null && _this$treeWidget$opti !== void 0 ? _this$treeWidget$opti : true);\n      this.isDragging = true;\n      this.positionInfo = positionInfo;\n      this.currentItem.$element.addClass(\"jqtree-moving\");\n      return true;\n    }\n  }, {\n    key: \"mouseDrag\",\n    value: function mouseDrag(positionInfo) {\n      if (!this.currentItem || !this.dragElement || positionInfo.pageX === undefined || positionInfo.pageY === undefined) {\n        return false;\n      }\n      this.dragElement.move(positionInfo.pageX, positionInfo.pageY);\n      this.positionInfo = positionInfo;\n      var area = this.findHoveredArea(positionInfo.pageX, positionInfo.pageY);\n      if (area && this.canMoveToArea(area)) {\n        if (!area.node.isFolder()) {\n          this.stopOpenFolderTimer();\n        }\n        if (this.hoveredArea !== area) {\n          this.hoveredArea = area;\n\n          // If this is a closed folder, start timer to open it\n          if (this.mustOpenFolderTimer(area)) {\n            this.startOpenFolderTimer(area.node);\n          } else {\n            this.stopOpenFolderTimer();\n          }\n          this.updateDropHint();\n        }\n      } else {\n        this.removeDropHint();\n        this.stopOpenFolderTimer();\n        this.hoveredArea = area;\n      }\n      if (!area) {\n        if (this.treeWidget.options.onDragMove) {\n          this.treeWidget.options.onDragMove(this.currentItem.node, positionInfo.originalEvent);\n        }\n      }\n      return true;\n    }\n  }, {\n    key: \"mouseStop\",\n    value: function mouseStop(positionInfo) {\n      this.moveItem(positionInfo);\n      this.clear();\n      this.removeHover();\n      this.removeDropHint();\n      this.removeHitAreas();\n      var currentItem = this.currentItem;\n      if (this.currentItem) {\n        this.currentItem.$element.removeClass(\"jqtree-moving\");\n        this.currentItem = null;\n      }\n      this.isDragging = false;\n      this.positionInfo = null;\n      if (!this.hoveredArea && currentItem) {\n        if (this.treeWidget.options.onDragStop) {\n          this.treeWidget.options.onDragStop(currentItem.node, positionInfo.originalEvent);\n        }\n      }\n      return false;\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      this.removeHitAreas();\n      if (this.currentItem) {\n        this.generateHitAreas();\n        this.currentItem = this.treeWidget._getNodeElementForNode(this.currentItem.node);\n        if (this.isDragging) {\n          this.currentItem.$element.addClass(\"jqtree-moving\");\n        }\n      }\n    }\n  }, {\n    key: \"generateHitAreas\",\n    value: function generateHitAreas() {\n      if (!this.currentItem) {\n        this.hitAreas = [];\n      } else {\n        var hitAreasGenerator = new HitAreasGenerator(this.treeWidget.tree, this.currentItem.node, this.getTreeDimensions().bottom);\n        this.hitAreas = hitAreasGenerator.generate();\n      }\n    }\n  }, {\n    key: \"mustCaptureElement\",\n    value: function mustCaptureElement($element) {\n      return !$element.is(\"input,select,textarea\");\n    }\n  }, {\n    key: \"canMoveToArea\",\n    value: function canMoveToArea(area) {\n      if (!this.treeWidget.options.onCanMoveTo) {\n        return true;\n      }\n      if (!this.currentItem) {\n        return false;\n      }\n      var positionName = (0, _node.getPositionName)(area.position);\n      return this.treeWidget.options.onCanMoveTo(this.currentItem.node, area.node, positionName);\n    }\n  }, {\n    key: \"removeHitAreas\",\n    value: function removeHitAreas() {\n      this.hitAreas = [];\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      if (this.dragElement) {\n        this.dragElement.remove();\n        this.dragElement = null;\n      }\n    }\n  }, {\n    key: \"removeDropHint\",\n    value: function removeDropHint() {\n      if (this.previousGhost) {\n        this.previousGhost.remove();\n      }\n    }\n  }, {\n    key: \"removeHover\",\n    value: function removeHover() {\n      this.hoveredArea = null;\n    }\n  }, {\n    key: \"findHoveredArea\",\n    value: function findHoveredArea(x, y) {\n      var dimensions = this.getTreeDimensions();\n      if (x < dimensions.left || y < dimensions.top || x > dimensions.right || y > dimensions.bottom) {\n        return null;\n      }\n      var low = 0;\n      var high = this.hitAreas.length;\n      while (low < high) {\n        var mid = low + high >> 1;\n        var area = this.hitAreas[mid];\n        if (y < area.top) {\n          high = mid;\n        } else if (y > area.bottom) {\n          low = mid + 1;\n        } else {\n          return area;\n        }\n      }\n      return null;\n    }\n  }, {\n    key: \"mustOpenFolderTimer\",\n    value: function mustOpenFolderTimer(area) {\n      var node = area.node;\n      return node.isFolder() && !node.is_open && area.position === _node.Position.Inside;\n    }\n  }, {\n    key: \"updateDropHint\",\n    value: function updateDropHint() {\n      if (!this.hoveredArea) {\n        return;\n      }\n\n      // remove previous drop hint\n      this.removeDropHint();\n\n      // add new drop hint\n      var nodeElement = this.treeWidget._getNodeElementForNode(this.hoveredArea.node);\n      this.previousGhost = nodeElement.addDropHint(this.hoveredArea.position);\n    }\n  }, {\n    key: \"startOpenFolderTimer\",\n    value: function startOpenFolderTimer(folder) {\n      var _this = this;\n      var openFolder = function openFolder() {\n        _this.treeWidget._openNode(folder, _this.treeWidget.options.slide, function () {\n          _this.refresh();\n          _this.updateDropHint();\n        });\n      };\n      this.stopOpenFolderTimer();\n      var openFolderDelay = this.treeWidget.options.openFolderDelay;\n      if (openFolderDelay !== false) {\n        this.openFolderTimer = window.setTimeout(openFolder, openFolderDelay);\n      }\n    }\n  }, {\n    key: \"stopOpenFolderTimer\",\n    value: function stopOpenFolderTimer() {\n      if (this.openFolderTimer) {\n        clearTimeout(this.openFolderTimer);\n        this.openFolderTimer = null;\n      }\n    }\n  }, {\n    key: \"moveItem\",\n    value: function moveItem(positionInfo) {\n      var _this2 = this;\n      if (this.currentItem && this.hoveredArea && this.hoveredArea.position !== _node.Position.None && this.canMoveToArea(this.hoveredArea)) {\n        var movedNode = this.currentItem.node;\n        var targetNode = this.hoveredArea.node;\n        var position = this.hoveredArea.position;\n        var previousParent = movedNode.parent;\n        if (position === _node.Position.Inside) {\n          this.hoveredArea.node.is_open = true;\n        }\n        var doMove = function doMove() {\n          _this2.treeWidget.tree.moveNode(movedNode, targetNode, position);\n          _this2.treeWidget.element.empty();\n          _this2.treeWidget._refreshElements(null);\n        };\n        var event = this.treeWidget._triggerEvent(\"tree.move\", {\n          move_info: {\n            moved_node: movedNode,\n            target_node: targetNode,\n            position: (0, _node.getPositionName)(position),\n            previous_parent: previousParent,\n            do_move: doMove,\n            original_event: positionInfo.originalEvent\n          }\n        });\n        if (!event.isDefaultPrevented()) {\n          doMove();\n        }\n      }\n    }\n  }, {\n    key: \"getTreeDimensions\",\n    value: function getTreeDimensions() {\n      // Return the dimensions of the tree. Add a margin to the bottom to allow\n      // to drag-and-drop after the last element.\n      var offset = this.treeWidget.element.offset();\n      if (!offset) {\n        return {\n          left: 0,\n          top: 0,\n          right: 0,\n          bottom: 0\n        };\n      } else {\n        var el = this.treeWidget.element;\n        var width = el.width() || 0;\n        var height = el.height() || 0;\n        var left = offset.left + this.treeWidget._getScrollLeft();\n        return {\n          left: left,\n          top: offset.top,\n          right: left + width,\n          bottom: offset.top + height + 16\n        };\n      }\n    }\n  }]);\n  return DragAndDropHandler;\n}();\nexports.DragAndDropHandler = DragAndDropHandler;\nvar VisibleNodeIterator = /*#__PURE__*/function () {\n  function VisibleNodeIterator(tree) {\n    _classCallCheck(this, VisibleNodeIterator);\n    _defineProperty(this, \"tree\", void 0);\n    this.tree = tree;\n  }\n  _createClass(VisibleNodeIterator, [{\n    key: \"iterate\",\n    value: function iterate() {\n      var _this3 = this;\n      var isFirstNode = true;\n      var _iterateNode = function _iterateNode(node, nextNode) {\n        var mustIterateInside = (node.is_open || !node.element) && node.hasChildren();\n        var $element = null;\n        if (node.element) {\n          $element = jQuery(node.element);\n          if (!$element.is(\":visible\")) {\n            return;\n          }\n          if (isFirstNode) {\n            _this3.handleFirstNode(node);\n            isFirstNode = false;\n          }\n          if (!node.hasChildren()) {\n            _this3.handleNode(node, nextNode, $element);\n          } else if (node.is_open) {\n            if (!_this3.handleOpenFolder(node, $element)) {\n              mustIterateInside = false;\n            }\n          } else {\n            _this3.handleClosedFolder(node, nextNode, $element);\n          }\n        }\n        if (mustIterateInside) {\n          var childrenLength = node.children.length;\n          node.children.forEach(function (_, i) {\n            if (i === childrenLength - 1) {\n              _iterateNode(node.children[i], null);\n            } else {\n              _iterateNode(node.children[i], node.children[i + 1]);\n            }\n          });\n          if (node.is_open && $element) {\n            _this3.handleAfterOpenFolder(node, nextNode);\n          }\n        }\n      };\n      _iterateNode(this.tree, null);\n    }\n  }]);\n  return VisibleNodeIterator;\n}();\nvar HitAreasGenerator = /*#__PURE__*/function (_VisibleNodeIterator) {\n  _inherits(HitAreasGenerator, _VisibleNodeIterator);\n  var _super = _createSuper(HitAreasGenerator);\n  function HitAreasGenerator(tree, currentNode, treeBottom) {\n    var _this4;\n    _classCallCheck(this, HitAreasGenerator);\n    _this4 = _super.call(this, tree);\n    _defineProperty(_assertThisInitialized(_this4), \"currentNode\", void 0);\n    _defineProperty(_assertThisInitialized(_this4), \"treeBottom\", void 0);\n    _defineProperty(_assertThisInitialized(_this4), \"positions\", void 0);\n    _defineProperty(_assertThisInitialized(_this4), \"lastTop\", void 0);\n    _this4.currentNode = currentNode;\n    _this4.treeBottom = treeBottom;\n    return _this4;\n  }\n  _createClass(HitAreasGenerator, [{\n    key: \"generate\",\n    value: function generate() {\n      this.positions = [];\n      this.lastTop = 0;\n      this.iterate();\n      return this.generateHitAreas(this.positions);\n    }\n  }, {\n    key: \"generateHitAreas\",\n    value: function generateHitAreas(positions) {\n      var previousTop = -1;\n      var group = [];\n      var hitAreas = [];\n      var _iterator = _createForOfIteratorHelper(positions),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var position = _step.value;\n          if (position.top !== previousTop && group.length) {\n            if (group.length) {\n              this.generateHitAreasForGroup(hitAreas, group, previousTop, position.top);\n            }\n            previousTop = position.top;\n            group = [];\n          }\n          group.push(position);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      this.generateHitAreasForGroup(hitAreas, group, previousTop, this.treeBottom);\n      return hitAreas;\n    }\n  }, {\n    key: \"handleOpenFolder\",\n    value: function handleOpenFolder(node, $element) {\n      if (node === this.currentNode) {\n        // Cannot move inside current item\n        // Stop iterating\n        return false;\n      }\n\n      // Cannot move before current item\n      if (node.children[0] !== this.currentNode) {\n        this.addPosition(node, _node.Position.Inside, this.getTop($element));\n      }\n\n      // Continue iterating\n      return true;\n    }\n  }, {\n    key: \"handleClosedFolder\",\n    value: function handleClosedFolder(node, nextNode, $element) {\n      var top = this.getTop($element);\n      if (node === this.currentNode) {\n        // Cannot move after current item\n        this.addPosition(node, _node.Position.None, top);\n      } else {\n        this.addPosition(node, _node.Position.Inside, top);\n\n        // Cannot move before current item\n        if (nextNode !== this.currentNode) {\n          this.addPosition(node, _node.Position.After, top);\n        }\n      }\n    }\n  }, {\n    key: \"handleFirstNode\",\n    value: function handleFirstNode(node) {\n      if (node !== this.currentNode) {\n        this.addPosition(node, _node.Position.Before, this.getTop(jQuery(node.element)));\n      }\n    }\n  }, {\n    key: \"handleAfterOpenFolder\",\n    value: function handleAfterOpenFolder(node, nextNode) {\n      if (node === this.currentNode || nextNode === this.currentNode) {\n        // Cannot move before or after current item\n        this.addPosition(node, _node.Position.None, this.lastTop);\n      } else {\n        this.addPosition(node, _node.Position.After, this.lastTop);\n      }\n    }\n  }, {\n    key: \"handleNode\",\n    value: function handleNode(node, nextNode, $element) {\n      var top = this.getTop($element);\n      if (node === this.currentNode) {\n        // Cannot move inside current item\n        this.addPosition(node, _node.Position.None, top);\n      } else {\n        this.addPosition(node, _node.Position.Inside, top);\n      }\n      if (nextNode === this.currentNode || node === this.currentNode) {\n        // Cannot move before or after current item\n        this.addPosition(node, _node.Position.None, top);\n      } else {\n        this.addPosition(node, _node.Position.After, top);\n      }\n    }\n  }, {\n    key: \"getTop\",\n    value: function getTop($element) {\n      var offset = $element.offset();\n      return offset ? offset.top : 0;\n    }\n  }, {\n    key: \"addPosition\",\n    value: function addPosition(node, position, top) {\n      var area = {\n        top: top,\n        bottom: 0,\n        node: node,\n        position: position\n      };\n      this.positions.push(area);\n      this.lastTop = top;\n    }\n  }, {\n    key: \"generateHitAreasForGroup\",\n    value: function generateHitAreasForGroup(hitAreas, positionsInGroup, top, bottom) {\n      // limit positions in group\n      var positionCount = Math.min(positionsInGroup.length, 4);\n      var areaHeight = Math.round((bottom - top) / positionCount);\n      var areaTop = top;\n      var i = 0;\n      while (i < positionCount) {\n        var position = positionsInGroup[i];\n        hitAreas.push({\n          top: areaTop,\n          bottom: areaTop + areaHeight,\n          node: position.node,\n          position: position.position\n        });\n        areaTop += areaHeight;\n        i += 1;\n      }\n    }\n  }]);\n  return HitAreasGenerator;\n}(VisibleNodeIterator);\nexports.HitAreasGenerator = HitAreasGenerator;\nvar DragElement = /*#__PURE__*/function () {\n  function DragElement(nodeName, offsetX, offsetY, $tree, autoEscape) {\n    _classCallCheck(this, DragElement);\n    _defineProperty(this, \"offsetX\", void 0);\n    _defineProperty(this, \"offsetY\", void 0);\n    _defineProperty(this, \"$element\", void 0);\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n    this.$element = jQuery(\"<span>\").addClass(\"jqtree-title jqtree-dragging\");\n    if (autoEscape) {\n      this.$element.text(nodeName);\n    } else {\n      this.$element.html(nodeName);\n    }\n    this.$element.css(\"position\", \"absolute\");\n    $tree.append(this.$element);\n  }\n  _createClass(DragElement, [{\n    key: \"move\",\n    value: function move(pageX, pageY) {\n      this.$element.offset({\n        left: pageX - this.offsetX,\n        top: pageY - this.offsetY\n      });\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      this.$element.remove();\n    }\n  }]);\n  return DragElement;\n}();","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _util = require(\"./util\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar ElementsRenderer = /*#__PURE__*/function () {\n  function ElementsRenderer(treeWidget) {\n    _classCallCheck(this, ElementsRenderer);\n    _defineProperty(this, \"openedIconElement\", void 0);\n    _defineProperty(this, \"closedIconElement\", void 0);\n    _defineProperty(this, \"treeWidget\", void 0);\n    this.treeWidget = treeWidget;\n    this.openedIconElement = this.createButtonElement(treeWidget.options.openedIcon || \"+\");\n    this.closedIconElement = this.createButtonElement(treeWidget.options.closedIcon || \"-\");\n  }\n  _createClass(ElementsRenderer, [{\n    key: \"render\",\n    value: function render(fromNode) {\n      if (fromNode && fromNode.parent) {\n        this.renderFromNode(fromNode);\n      } else {\n        this.renderFromRoot();\n      }\n    }\n  }, {\n    key: \"renderFromRoot\",\n    value: function renderFromRoot() {\n      var $element = this.treeWidget.element;\n      $element.empty();\n      this.createDomElements($element[0], this.treeWidget.tree.children, true, 1);\n    }\n  }, {\n    key: \"renderFromNode\",\n    value: function renderFromNode(node) {\n      // remember current li\n      var $previousLi = jQuery(node.element);\n\n      // create element\n      var li = this.createLi(node, node.getLevel());\n      this.attachNodeData(node, li);\n\n      // add element to dom\n      $previousLi.after(li);\n\n      // remove previous li\n      $previousLi.remove();\n\n      // create children\n      if (node.children) {\n        this.createDomElements(li, node.children, false, node.getLevel() + 1);\n      }\n    }\n  }, {\n    key: \"createDomElements\",\n    value: function createDomElements(element, children, isRootNode, level) {\n      var ul = this.createUl(isRootNode);\n      element.appendChild(ul);\n      var _iterator = _createForOfIteratorHelper(children),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var child = _step.value;\n          var li = this.createLi(child, level);\n          ul.appendChild(li);\n          this.attachNodeData(child, li);\n          if (child.hasChildren()) {\n            this.createDomElements(li, child.children, false, level + 1);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"attachNodeData\",\n    value: function attachNodeData(node, li) {\n      node.element = li;\n      jQuery(li).data(\"node\", node);\n    }\n  }, {\n    key: \"createUl\",\n    value: function createUl(isRootNode) {\n      var classString;\n      var role;\n      if (!isRootNode) {\n        classString = \"\";\n        role = \"group\";\n      } else {\n        classString = \"jqtree-tree\";\n        role = \"tree\";\n        if (this.treeWidget.options.rtl) {\n          classString += \" jqtree-rtl\";\n        }\n      }\n      if (this.treeWidget.options.dragAndDrop) {\n        classString += \" jqtree-dnd\";\n      }\n      var ul = document.createElement(\"ul\");\n      ul.className = \"jqtree_common \".concat(classString);\n      ul.setAttribute(\"role\", role);\n      return ul;\n    }\n  }, {\n    key: \"createLi\",\n    value: function createLi(node, level) {\n      var isSelected = Boolean(this.treeWidget.selectNodeHandler.isNodeSelected(node));\n      var mustShowFolder = node.isFolder() || node.isEmptyFolder && this.treeWidget.options.showEmptyFolder;\n      var li = mustShowFolder ? this.createFolderLi(node, level, isSelected) : this.createNodeLi(node, level, isSelected);\n      if (this.treeWidget.options.onCreateLi) {\n        this.treeWidget.options.onCreateLi(node, jQuery(li), isSelected);\n      }\n      return li;\n    }\n  }, {\n    key: \"createFolderLi\",\n    value: function createFolderLi(node, level, isSelected) {\n      var buttonClasses = this.getButtonClasses(node);\n      var folderClasses = this.getFolderClasses(node, isSelected);\n      var iconElement = node.is_open ? this.openedIconElement : this.closedIconElement;\n\n      // li\n      var li = document.createElement(\"li\");\n      li.className = \"jqtree_common \".concat(folderClasses);\n      li.setAttribute(\"role\", \"presentation\");\n\n      // div\n      var div = document.createElement(\"div\");\n      div.className = \"jqtree-element jqtree_common\";\n      div.setAttribute(\"role\", \"presentation\");\n      li.appendChild(div);\n\n      // button link\n      var buttonLink = document.createElement(\"a\");\n      buttonLink.className = buttonClasses;\n      buttonLink.appendChild(iconElement.cloneNode(true));\n      buttonLink.setAttribute(\"role\", \"presentation\");\n      buttonLink.setAttribute(\"aria-hidden\", \"true\");\n      if (this.treeWidget.options.buttonLeft) {\n        div.appendChild(buttonLink);\n      }\n\n      // title span\n      div.appendChild(this.createTitleSpan(node.name, level, isSelected, node.is_open, true));\n      if (!this.treeWidget.options.buttonLeft) {\n        div.appendChild(buttonLink);\n      }\n      return li;\n    }\n  }, {\n    key: \"createNodeLi\",\n    value: function createNodeLi(node, level, isSelected) {\n      var liClasses = [\"jqtree_common\"];\n      if (isSelected) {\n        liClasses.push(\"jqtree-selected\");\n      }\n      var classString = liClasses.join(\" \");\n\n      // li\n      var li = document.createElement(\"li\");\n      li.className = classString;\n      li.setAttribute(\"role\", \"presentation\");\n\n      // div\n      var div = document.createElement(\"div\");\n      div.className = \"jqtree-element jqtree_common\";\n      div.setAttribute(\"role\", \"presentation\");\n      li.appendChild(div);\n\n      // title span\n      div.appendChild(this.createTitleSpan(node.name, level, isSelected, node.is_open, false));\n      return li;\n    }\n  }, {\n    key: \"createTitleSpan\",\n    value: function createTitleSpan(nodeName, level, isSelected, isOpen, isFolder) {\n      var titleSpan = document.createElement(\"span\");\n      var classes = \"jqtree-title jqtree_common\";\n      if (isFolder) {\n        classes += \" jqtree-title-folder\";\n      }\n      classes += \" jqtree-title-button-\".concat(this.treeWidget.options.buttonLeft ? \"left\" : \"right\");\n      titleSpan.className = classes;\n      titleSpan.setAttribute(\"role\", \"treeitem\");\n      titleSpan.setAttribute(\"aria-level\", \"\".concat(level));\n      titleSpan.setAttribute(\"aria-selected\", (0, _util.getBoolString)(isSelected));\n      titleSpan.setAttribute(\"aria-expanded\", (0, _util.getBoolString)(isOpen));\n      if (isSelected) {\n        var tabIndex = this.treeWidget.options.tabIndex;\n        if (tabIndex !== undefined) {\n          titleSpan.setAttribute(\"tabindex\", \"\".concat(tabIndex));\n        }\n      }\n      if (this.treeWidget.options.autoEscape) {\n        titleSpan.textContent = nodeName;\n      } else {\n        titleSpan.innerHTML = nodeName;\n      }\n      return titleSpan;\n    }\n  }, {\n    key: \"getButtonClasses\",\n    value: function getButtonClasses(node) {\n      var classes = [\"jqtree-toggler\", \"jqtree_common\"];\n      if (!node.is_open) {\n        classes.push(\"jqtree-closed\");\n      }\n      if (this.treeWidget.options.buttonLeft) {\n        classes.push(\"jqtree-toggler-left\");\n      } else {\n        classes.push(\"jqtree-toggler-right\");\n      }\n      return classes.join(\" \");\n    }\n  }, {\n    key: \"getFolderClasses\",\n    value: function getFolderClasses(node, isSelected) {\n      var classes = [\"jqtree-folder\"];\n      if (!node.is_open) {\n        classes.push(\"jqtree-closed\");\n      }\n      if (isSelected) {\n        classes.push(\"jqtree-selected\");\n      }\n      if (node.is_loading) {\n        classes.push(\"jqtree-loading\");\n      }\n      return classes.join(\" \");\n    }\n  }, {\n    key: \"createButtonElement\",\n    value: function createButtonElement(value) {\n      if (typeof value === \"string\") {\n        // convert value to html\n        var div = document.createElement(\"div\");\n        div.innerHTML = value;\n        return document.createTextNode(div.innerHTML);\n      } else {\n        return jQuery(value)[0];\n      }\n    }\n  }]);\n  return ElementsRenderer;\n}();\nexports[\"default\"] = ElementsRenderer;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar KeyHandler = /*#__PURE__*/function () {\n  function KeyHandler(treeWidget) {\n    var _this = this;\n    _classCallCheck(this, KeyHandler);\n    _defineProperty(this, \"treeWidget\", void 0);\n    _defineProperty(this, \"handleKeyDown\", function (e) {\n      if (!_this.canHandleKeyboard()) {\n        return true;\n      }\n      var selectedNode = _this.treeWidget.getSelectedNode();\n      if (!selectedNode) {\n        return true;\n      }\n      var key = e.which;\n      switch (key) {\n        case KeyHandler.DOWN:\n          return _this.moveDown(selectedNode);\n        case KeyHandler.UP:\n          return _this.moveUp(selectedNode);\n        case KeyHandler.RIGHT:\n          return _this.moveRight(selectedNode);\n        case KeyHandler.LEFT:\n          return _this.moveLeft(selectedNode);\n        default:\n          return true;\n      }\n    });\n    this.treeWidget = treeWidget;\n    if (treeWidget.options.keyboardSupport) {\n      jQuery(document).on(\"keydown.jqtree\", this.handleKeyDown);\n    }\n  }\n  _createClass(KeyHandler, [{\n    key: \"deinit\",\n    value: function deinit() {\n      jQuery(document).off(\"keydown.jqtree\");\n    }\n  }, {\n    key: \"moveDown\",\n    value: function moveDown(selectedNode) {\n      return this.selectNode(selectedNode.getNextVisibleNode());\n    }\n  }, {\n    key: \"moveUp\",\n    value: function moveUp(selectedNode) {\n      return this.selectNode(selectedNode.getPreviousVisibleNode());\n    }\n  }, {\n    key: \"moveRight\",\n    value: function moveRight(selectedNode) {\n      if (!selectedNode.isFolder()) {\n        return true;\n      } else {\n        // folder node\n        if (selectedNode.is_open) {\n          // Right moves to the first child of an open node\n          return this.selectNode(selectedNode.getNextVisibleNode());\n        } else {\n          // Right expands a closed node\n          this.treeWidget.openNode(selectedNode);\n          return false;\n        }\n      }\n    }\n  }, {\n    key: \"moveLeft\",\n    value: function moveLeft(selectedNode) {\n      if (selectedNode.isFolder() && selectedNode.is_open) {\n        // Left on an open node closes the node\n        this.treeWidget.closeNode(selectedNode);\n        return false;\n      } else {\n        // Left on a closed or end node moves focus to the node's parent\n        return this.selectNode(selectedNode.getParent());\n      }\n    }\n  }, {\n    key: \"selectNode\",\n    value: function selectNode(node) {\n      if (!node) {\n        return true;\n      } else {\n        this.treeWidget.selectNode(node);\n        if (!this.treeWidget.scrollHandler.isScrolledIntoView(jQuery(node.element).find(\".jqtree-element\"))) {\n          this.treeWidget.scrollToNode(node);\n        }\n        return false;\n      }\n    }\n  }, {\n    key: \"canHandleKeyboard\",\n    value: function canHandleKeyboard() {\n      return (this.treeWidget.options.keyboardSupport || false) && this.treeWidget.selectNodeHandler.isFocusOnTree();\n    }\n  }]);\n  return KeyHandler;\n}();\nexports[\"default\"] = KeyHandler;\n_defineProperty(KeyHandler, \"LEFT\", 37);\n_defineProperty(KeyHandler, \"UP\", 38);\n_defineProperty(KeyHandler, \"RIGHT\", 39);\n_defineProperty(KeyHandler, \"DOWN\", 40);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _simple = _interopRequireDefault(require(\"./simple.widget\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar getPositionInfoFromMouseEvent = function getPositionInfoFromMouseEvent(e) {\n  return {\n    pageX: e.pageX,\n    pageY: e.pageY,\n    target: e.target,\n    originalEvent: e\n  };\n};\nvar getPositionInfoFromTouch = function getPositionInfoFromTouch(touch, e) {\n  return {\n    pageX: touch.pageX,\n    pageY: touch.pageY,\n    target: touch.target,\n    originalEvent: e\n  };\n};\nvar MouseWidget = /*#__PURE__*/function (_SimpleWidget) {\n  _inherits(MouseWidget, _SimpleWidget);\n  var _super = _createSuper(MouseWidget);\n  function MouseWidget() {\n    var _this;\n    _classCallCheck(this, MouseWidget);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"isMouseStarted\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"mouseDownInfo\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"mouseDelayTimer\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"isMouseDelayMet\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"mouseDown\", function (e) {\n      // Left mouse button?\n      if (e.button !== 0) {\n        return;\n      }\n      var result = _this.handleMouseDown(getPositionInfoFromMouseEvent(e));\n      if (result && e.cancelable) {\n        e.preventDefault();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"mouseMove\", function (e) {\n      _this.handleMouseMove(e, getPositionInfoFromMouseEvent(e));\n    });\n    _defineProperty(_assertThisInitialized(_this), \"mouseUp\", function (e) {\n      _this.handleMouseUp(getPositionInfoFromMouseEvent(e));\n    });\n    _defineProperty(_assertThisInitialized(_this), \"touchStart\", function (e) {\n      if (!e) {\n        return;\n      }\n      if (e.touches.length > 1) {\n        return;\n      }\n      var touch = e.changedTouches[0];\n      _this.handleMouseDown(getPositionInfoFromTouch(touch, e));\n    });\n    _defineProperty(_assertThisInitialized(_this), \"touchMove\", function (e) {\n      if (!e) {\n        return;\n      }\n      if (e.touches.length > 1) {\n        return;\n      }\n      var touch = e.changedTouches[0];\n      _this.handleMouseMove(e, getPositionInfoFromTouch(touch, e));\n    });\n    _defineProperty(_assertThisInitialized(_this), \"touchEnd\", function (e) {\n      if (!e) {\n        return;\n      }\n      if (e.touches.length > 1) {\n        return;\n      }\n      var touch = e.changedTouches[0];\n      _this.handleMouseUp(getPositionInfoFromTouch(touch, e));\n    });\n    return _this;\n  }\n  _createClass(MouseWidget, [{\n    key: \"init\",\n    value: function init() {\n      var element = this.$el.get(0);\n      if (element) {\n        element.addEventListener(\"mousedown\", this.mouseDown, {\n          passive: false\n        });\n        element.addEventListener(\"touchstart\", this.touchStart, {\n          passive: false\n        });\n      }\n      this.isMouseStarted = false;\n      this.mouseDelayTimer = null;\n      this.isMouseDelayMet = false;\n      this.mouseDownInfo = null;\n    }\n  }, {\n    key: \"deinit\",\n    value: function deinit() {\n      var el = this.$el.get(0);\n      if (el) {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-member-access\n        el.removeEventListener(\"mousedown\", this.mouseDown, {\n          passive: false\n        });\n\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-member-access\n        el.removeEventListener(\"touchstart\", this.touchStart, {\n          passive: false\n        });\n      }\n      this.removeMouseMoveEventListeners();\n    }\n  }, {\n    key: \"handleMouseDown\",\n    value: function handleMouseDown(positionInfo) {\n      // We may have missed mouseup (out of window)\n      if (this.isMouseStarted) {\n        this.handleMouseUp(positionInfo);\n      }\n      this.mouseDownInfo = positionInfo;\n      if (!this.mouseCapture(positionInfo)) {\n        return false;\n      }\n      this.handleStartMouse();\n      return true;\n    }\n  }, {\n    key: \"handleStartMouse\",\n    value: function handleStartMouse() {\n      document.addEventListener(\"mousemove\", this.mouseMove, {\n        passive: false\n      });\n      document.addEventListener(\"touchmove\", this.touchMove, {\n        passive: false\n      });\n      document.addEventListener(\"mouseup\", this.mouseUp, {\n        passive: false\n      });\n      document.addEventListener(\"touchend\", this.touchEnd, {\n        passive: false\n      });\n      var mouseDelay = this.getMouseDelay();\n      if (mouseDelay) {\n        this.startMouseDelayTimer(mouseDelay);\n      } else {\n        this.isMouseDelayMet = true;\n      }\n    }\n  }, {\n    key: \"startMouseDelayTimer\",\n    value: function startMouseDelayTimer(mouseDelay) {\n      var _this2 = this;\n      if (this.mouseDelayTimer) {\n        clearTimeout(this.mouseDelayTimer);\n      }\n      this.mouseDelayTimer = window.setTimeout(function () {\n        if (_this2.mouseDownInfo) {\n          _this2.isMouseDelayMet = true;\n        }\n      }, mouseDelay);\n      this.isMouseDelayMet = false;\n    }\n  }, {\n    key: \"handleMouseMove\",\n    value: function handleMouseMove(e, positionInfo) {\n      if (this.isMouseStarted) {\n        this.mouseDrag(positionInfo);\n        if (e.cancelable) {\n          e.preventDefault();\n        }\n        return;\n      }\n      if (!this.isMouseDelayMet) {\n        return;\n      }\n      if (this.mouseDownInfo) {\n        this.isMouseStarted = this.mouseStart(this.mouseDownInfo) !== false;\n      }\n      if (this.isMouseStarted) {\n        this.mouseDrag(positionInfo);\n        if (e.cancelable) {\n          e.preventDefault();\n        }\n      } else {\n        this.handleMouseUp(positionInfo);\n      }\n    }\n  }, {\n    key: \"handleMouseUp\",\n    value: function handleMouseUp(positionInfo) {\n      this.removeMouseMoveEventListeners();\n      this.isMouseDelayMet = false;\n      this.mouseDownInfo = null;\n      if (this.isMouseStarted) {\n        this.isMouseStarted = false;\n        this.mouseStop(positionInfo);\n      }\n    }\n  }, {\n    key: \"removeMouseMoveEventListeners\",\n    value: function removeMouseMoveEventListeners() {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-member-access\n      document.removeEventListener(\"mousemove\", this.mouseMove, {\n        passive: false\n      });\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-member-access\n      document.removeEventListener(\"touchmove\", this.touchMove, {\n        passive: false\n      });\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-member-access\n      document.removeEventListener(\"mouseup\", this.mouseUp, {\n        passive: false\n      });\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-member-access\n      document.removeEventListener(\"touchend\", this.touchEnd, {\n        passive: false\n      });\n    }\n  }]);\n  return MouseWidget;\n}(_simple[\"default\"]);\nvar _default = MouseWidget;\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getPositionName = exports.getPosition = exports.Position = exports.Node = void 0;\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nvar Position;\nexports.Position = Position;\n(function (Position) {\n  Position[Position[\"Before\"] = 1] = \"Before\";\n  Position[Position[\"After\"] = 2] = \"After\";\n  Position[Position[\"Inside\"] = 3] = \"Inside\";\n  Position[Position[\"None\"] = 4] = \"None\";\n})(Position || (exports.Position = Position = {}));\nvar positionNames = {\n  before: Position.Before,\n  after: Position.After,\n  inside: Position.Inside,\n  none: Position.None\n};\nvar getPositionName = function getPositionName(position) {\n  for (var name in positionNames) {\n    if (Object.prototype.hasOwnProperty.call(positionNames, name)) {\n      if (positionNames[name] === position) {\n        return name;\n      }\n    }\n  }\n  return \"\";\n};\nexports.getPositionName = getPositionName;\nvar getPosition = function getPosition(name) {\n  return positionNames[name];\n};\nexports.getPosition = getPosition;\nvar isNodeRecordWithChildren = function isNodeRecordWithChildren(data) {\n  return _typeof(data) === \"object\" && \"children\" in data && data[\"children\"] instanceof Array;\n};\nvar Node = /*#__PURE__*/function () {\n  function Node() {\n    var o = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var isRoot = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var nodeClass = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : Node;\n    _classCallCheck(this, Node);\n    _defineProperty(this, \"id\", void 0);\n    _defineProperty(this, \"name\", void 0);\n    _defineProperty(this, \"children\", void 0);\n    _defineProperty(this, \"parent\", void 0);\n    _defineProperty(this, \"idMapping\", void 0);\n    _defineProperty(this, \"tree\", void 0);\n    _defineProperty(this, \"nodeClass\", void 0);\n    _defineProperty(this, \"load_on_demand\", void 0);\n    _defineProperty(this, \"is_open\", void 0);\n    _defineProperty(this, \"element\", void 0);\n    _defineProperty(this, \"is_loading\", void 0);\n    _defineProperty(this, \"isEmptyFolder\", void 0);\n    this.name = \"\";\n    this.isEmptyFolder = false;\n    this.load_on_demand = false;\n    this.setData(o);\n    this.children = [];\n    this.parent = null;\n    if (isRoot) {\n      this.idMapping = new Map();\n      this.tree = this;\n      this.nodeClass = nodeClass;\n    }\n  }\n\n  /*\n  Set the data of this node.\n   setData(string): set the name of the node\n  setdata(object): set attributes of the node\n   Examples:\n      setdata('node1')\n       setData({ name: 'node1', id: 1});\n       setData({ name: 'node2', id: 2, color: 'green'});\n   * This is an internal function; it is not in the docs\n  * Does not remove existing node values\n  */\n  _createClass(Node, [{\n    key: \"setData\",\n    value: function setData(o) {\n      if (!o) {\n        return;\n      } else if (typeof o === \"string\") {\n        this.name = o;\n      } else if (_typeof(o) === \"object\") {\n        for (var _key in o) {\n          if (Object.prototype.hasOwnProperty.call(o, _key)) {\n            var value = o[_key];\n            if (_key === \"label\" || _key === \"name\") {\n              // You can use the 'label' key instead of 'name'; this is a legacy feature\n              if (typeof value === \"string\") {\n                this.name = value;\n              }\n            } else if (_key !== \"children\" && _key !== \"parent\") {\n              // You can't update the children or the parent using this function\n              this[_key] = value;\n            }\n          }\n        }\n      }\n    }\n\n    /*\n    Create tree from data.\n     Structure of data is:\n    [\n        {\n            name: 'node1',\n            children: [\n                { name: 'child1' },\n                { name: 'child2' }\n            ]\n        },\n        {\n            name: 'node2'\n        }\n    ]\n    */\n  }, {\n    key: \"loadFromData\",\n    value: function loadFromData(data) {\n      this.removeChildren();\n      var _iterator = _createForOfIteratorHelper(data),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var o = _step.value;\n          var _node = this.createNode(o);\n          this.addChild(_node);\n          if (isNodeRecordWithChildren(o)) {\n            if (o.children.length === 0) {\n              _node.isEmptyFolder = true;\n            } else {\n              _node.loadFromData(o.children);\n            }\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return this;\n    }\n\n    /*\n    Add child.\n     tree.addChild(\n        new Node('child1')\n    );\n    */\n  }, {\n    key: \"addChild\",\n    value: function addChild(node) {\n      this.children.push(node);\n      node.setParent(this);\n    }\n\n    /*\n    Add child at position. Index starts at 0.\n     tree.addChildAtPosition(\n        new Node('abc'),\n        1\n    );\n    */\n  }, {\n    key: \"addChildAtPosition\",\n    value: function addChildAtPosition(node, index) {\n      this.children.splice(index, 0, node);\n      node.setParent(this);\n    }\n\n    /*\n    Remove child. This also removes the children of the node.\n     tree.removeChild(tree.children[0]);\n    */\n  }, {\n    key: \"removeChild\",\n    value: function removeChild(node) {\n      // remove children from the index\n      node.removeChildren();\n      this.doRemoveChild(node);\n    }\n\n    /*\n    Get child index.\n     var index = getChildIndex(node);\n    */\n  }, {\n    key: \"getChildIndex\",\n    value: function getChildIndex(node) {\n      return this.children.indexOf(node);\n    }\n\n    /*\n    Does the tree have children?\n     if (tree.hasChildren()) {\n        //\n    }\n    */\n  }, {\n    key: \"hasChildren\",\n    value: function hasChildren() {\n      return this.children.length !== 0;\n    }\n  }, {\n    key: \"isFolder\",\n    value: function isFolder() {\n      return this.hasChildren() || this.load_on_demand;\n    }\n\n    /*\n    Iterate over all the nodes in the tree.\n     Calls callback with (node, level).\n     The callback must return true to continue the iteration on current node.\n     tree.iterate(\n        function(node, level) {\n           console.log(node.name);\n            // stop iteration after level 2\n           return (level <= 2);\n        }\n    );\n     */\n  }, {\n    key: \"iterate\",\n    value: function iterate(callback) {\n      var _iterate = function _iterate(node, level) {\n        if (node.children) {\n          var _iterator2 = _createForOfIteratorHelper(node.children),\n            _step2;\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var child = _step2.value;\n              var result = callback(child, level);\n              if (result && child.hasChildren()) {\n                _iterate(child, level + 1);\n              }\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n        }\n      };\n      _iterate(this, 0);\n    }\n\n    /*\n    Move node relative to another node.\n     Argument position: Position.BEFORE, Position.AFTER or Position.Inside\n     // move node1 after node2\n    tree.moveNode(node1, node2, Position.AFTER);\n    */\n  }, {\n    key: \"moveNode\",\n    value: function moveNode(movedNode, targetNode, position) {\n      if (!movedNode.parent || movedNode.isParentOf(targetNode)) {\n        // - Node is parent of target node\n        // - Or, parent is empty\n        return false;\n      } else {\n        movedNode.parent.doRemoveChild(movedNode);\n        switch (position) {\n          case Position.After:\n            {\n              if (targetNode.parent) {\n                targetNode.parent.addChildAtPosition(movedNode, targetNode.parent.getChildIndex(targetNode) + 1);\n                return true;\n              }\n              return false;\n            }\n          case Position.Before:\n            {\n              if (targetNode.parent) {\n                targetNode.parent.addChildAtPosition(movedNode, targetNode.parent.getChildIndex(targetNode));\n                return true;\n              }\n              return false;\n            }\n          case Position.Inside:\n            {\n              // move inside as first child\n              targetNode.addChildAtPosition(movedNode, 0);\n              return true;\n            }\n          default:\n            return false;\n        }\n      }\n    }\n\n    /*\n    Get the tree as data.\n    */\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      var includeParent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var getDataFromNodes = function getDataFromNodes(nodes) {\n        return nodes.map(function (node) {\n          var tmpNode = {};\n          for (var k in node) {\n            if ([\"parent\", \"children\", \"element\", \"idMapping\", \"load_on_demand\", \"nodeClass\", \"tree\", \"isEmptyFolder\"].indexOf(k) === -1 && Object.prototype.hasOwnProperty.call(node, k)) {\n              var v = node[k];\n              tmpNode[k] = v;\n            }\n          }\n          if (node.hasChildren()) {\n            tmpNode[\"children\"] = getDataFromNodes(node.children);\n          }\n          return tmpNode;\n        });\n      };\n      if (includeParent) {\n        return getDataFromNodes([this]);\n      } else {\n        return getDataFromNodes(this.children);\n      }\n    }\n  }, {\n    key: \"getNodeByName\",\n    value: function getNodeByName(name) {\n      return this.getNodeByCallback(function (node) {\n        return node.name === name;\n      });\n    }\n  }, {\n    key: \"getNodeByNameMustExist\",\n    value: function getNodeByNameMustExist(name) {\n      var node = this.getNodeByCallback(function (n) {\n        return n.name === name;\n      });\n      if (!node) {\n        throw \"Node with name \".concat(name, \" not found\");\n      }\n      return node;\n    }\n  }, {\n    key: \"getNodeByCallback\",\n    value: function getNodeByCallback(callback) {\n      var result = null;\n      this.iterate(function (node) {\n        if (result) {\n          return false;\n        } else if (callback(node)) {\n          result = node;\n          return false;\n        } else {\n          return true;\n        }\n      });\n      return result;\n    }\n  }, {\n    key: \"addAfter\",\n    value: function addAfter(nodeInfo) {\n      if (!this.parent) {\n        return null;\n      } else {\n        var _node2 = this.createNode(nodeInfo);\n        var childIndex = this.parent.getChildIndex(this);\n        this.parent.addChildAtPosition(_node2, childIndex + 1);\n        if (isNodeRecordWithChildren(nodeInfo) && nodeInfo.children.length) {\n          _node2.loadFromData(nodeInfo.children);\n        }\n        return _node2;\n      }\n    }\n  }, {\n    key: \"addBefore\",\n    value: function addBefore(nodeInfo) {\n      if (!this.parent) {\n        return null;\n      } else {\n        var _node3 = this.createNode(nodeInfo);\n        var childIndex = this.parent.getChildIndex(this);\n        this.parent.addChildAtPosition(_node3, childIndex);\n        if (isNodeRecordWithChildren(nodeInfo) && nodeInfo.children.length) {\n          _node3.loadFromData(nodeInfo.children);\n        }\n        return _node3;\n      }\n    }\n  }, {\n    key: \"addParent\",\n    value: function addParent(nodeInfo) {\n      if (!this.parent) {\n        return null;\n      } else {\n        var newParent = this.createNode(nodeInfo);\n        if (this.tree) {\n          newParent.setParent(this.tree);\n        }\n        var originalParent = this.parent;\n        var _iterator3 = _createForOfIteratorHelper(originalParent.children),\n          _step3;\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var child = _step3.value;\n            newParent.addChild(child);\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n        originalParent.children = [];\n        originalParent.addChild(newParent);\n        return newParent;\n      }\n    }\n  }, {\n    key: \"remove\",\n    value: function remove() {\n      if (this.parent) {\n        this.parent.removeChild(this);\n        this.parent = null;\n      }\n    }\n  }, {\n    key: \"append\",\n    value: function append(nodeInfo) {\n      var node = this.createNode(nodeInfo);\n      this.addChild(node);\n      if (isNodeRecordWithChildren(nodeInfo) && nodeInfo.children.length) {\n        node.loadFromData(nodeInfo.children);\n      }\n      return node;\n    }\n  }, {\n    key: \"prepend\",\n    value: function prepend(nodeInfo) {\n      var node = this.createNode(nodeInfo);\n      this.addChildAtPosition(node, 0);\n      if (isNodeRecordWithChildren(nodeInfo) && nodeInfo.children.length) {\n        node.loadFromData(nodeInfo.children);\n      }\n      return node;\n    }\n  }, {\n    key: \"isParentOf\",\n    value: function isParentOf(node) {\n      var parent = node.parent;\n      while (parent) {\n        if (parent === this) {\n          return true;\n        }\n        parent = parent.parent;\n      }\n      return false;\n    }\n  }, {\n    key: \"getLevel\",\n    value: function getLevel() {\n      var level = 0;\n      var node = this; // eslint-disable-line @typescript-eslint/no-this-alias\n\n      while (node.parent) {\n        level += 1;\n        node = node.parent;\n      }\n      return level;\n    }\n  }, {\n    key: \"getNodeById\",\n    value: function getNodeById(nodeId) {\n      return this.idMapping.get(nodeId) || null;\n    }\n  }, {\n    key: \"addNodeToIndex\",\n    value: function addNodeToIndex(node) {\n      if (node.id != null) {\n        this.idMapping.set(node.id, node);\n      }\n    }\n  }, {\n    key: \"removeNodeFromIndex\",\n    value: function removeNodeFromIndex(node) {\n      if (node.id != null) {\n        this.idMapping[\"delete\"](node.id);\n      }\n    }\n  }, {\n    key: \"removeChildren\",\n    value: function removeChildren() {\n      var _this = this;\n      this.iterate(function (child) {\n        var _this$tree;\n        (_this$tree = _this.tree) === null || _this$tree === void 0 ? void 0 : _this$tree.removeNodeFromIndex(child);\n        return true;\n      });\n      this.children = [];\n    }\n  }, {\n    key: \"getPreviousSibling\",\n    value: function getPreviousSibling() {\n      if (!this.parent) {\n        return null;\n      } else {\n        var previousIndex = this.parent.getChildIndex(this) - 1;\n        if (previousIndex >= 0) {\n          return this.parent.children[previousIndex];\n        } else {\n          return null;\n        }\n      }\n    }\n  }, {\n    key: \"getNextSibling\",\n    value: function getNextSibling() {\n      if (!this.parent) {\n        return null;\n      } else {\n        var nextIndex = this.parent.getChildIndex(this) + 1;\n        if (nextIndex < this.parent.children.length) {\n          return this.parent.children[nextIndex];\n        } else {\n          return null;\n        }\n      }\n    }\n  }, {\n    key: \"getNodesByProperty\",\n    value: function getNodesByProperty(key, value) {\n      return this.filter(function (node) {\n        return node[key] === value;\n      });\n    }\n  }, {\n    key: \"filter\",\n    value: function filter(f) {\n      var result = [];\n      this.iterate(function (node) {\n        if (f(node)) {\n          result.push(node);\n        }\n        return true;\n      });\n      return result;\n    }\n  }, {\n    key: \"getNextNode\",\n    value: function getNextNode() {\n      var includeChildren = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      if (includeChildren && this.hasChildren()) {\n        return this.children[0];\n      } else if (!this.parent) {\n        return null;\n      } else {\n        var nextSibling = this.getNextSibling();\n        if (nextSibling) {\n          return nextSibling;\n        } else {\n          return this.parent.getNextNode(false);\n        }\n      }\n    }\n  }, {\n    key: \"getNextVisibleNode\",\n    value: function getNextVisibleNode() {\n      if (this.hasChildren() && this.is_open) {\n        // First child\n        return this.children[0];\n      } else {\n        if (!this.parent) {\n          return null;\n        } else {\n          var nextSibling = this.getNextSibling();\n          if (nextSibling) {\n            // Next sibling\n            return nextSibling;\n          } else {\n            // Next node of parent\n            return this.parent.getNextNode(false);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"getPreviousNode\",\n    value: function getPreviousNode() {\n      if (!this.parent) {\n        return null;\n      } else {\n        var previousSibling = this.getPreviousSibling();\n        if (!previousSibling) {\n          return this.getParent();\n        } else if (previousSibling.hasChildren()) {\n          return previousSibling.getLastChild();\n        } else {\n          return previousSibling;\n        }\n      }\n    }\n  }, {\n    key: \"getPreviousVisibleNode\",\n    value: function getPreviousVisibleNode() {\n      if (!this.parent) {\n        return null;\n      } else {\n        var previousSibling = this.getPreviousSibling();\n        if (!previousSibling) {\n          return this.getParent();\n        } else if (!previousSibling.hasChildren() || !previousSibling.is_open) {\n          // Previous sibling\n          return previousSibling;\n        } else {\n          // Last child of previous sibling\n          return previousSibling.getLastChild();\n        }\n      }\n    }\n  }, {\n    key: \"getParent\",\n    value: function getParent() {\n      // Return parent except if it is the root node\n      if (!this.parent) {\n        return null;\n      } else if (!this.parent.parent) {\n        // Root node -> null\n        return null;\n      } else {\n        return this.parent;\n      }\n    }\n  }, {\n    key: \"getLastChild\",\n    value: function getLastChild() {\n      if (!this.hasChildren()) {\n        return null;\n      } else {\n        var lastChild = this.children[this.children.length - 1];\n        if (!(lastChild.hasChildren() && lastChild.is_open)) {\n          return lastChild;\n        } else {\n          return lastChild.getLastChild();\n        }\n      }\n    }\n\n    // Init Node from data without making it the root of the tree\n  }, {\n    key: \"initFromData\",\n    value: function initFromData(data) {\n      var _this2 = this;\n      var addNode = function addNode(nodeData) {\n        _this2.setData(nodeData);\n        if (isNodeRecordWithChildren(nodeData) && nodeData.children.length) {\n          addChildren(nodeData.children);\n        }\n      };\n      var addChildren = function addChildren(childrenData) {\n        var _iterator4 = _createForOfIteratorHelper(childrenData),\n          _step4;\n        try {\n          for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n            var child = _step4.value;\n            var _node4 = _this2.createNode();\n            _node4.initFromData(child);\n            _this2.addChild(_node4);\n          }\n        } catch (err) {\n          _iterator4.e(err);\n        } finally {\n          _iterator4.f();\n        }\n      };\n      addNode(data);\n    }\n  }, {\n    key: \"setParent\",\n    value: function setParent(parent) {\n      var _this$tree2;\n      this.parent = parent;\n      this.tree = parent.tree;\n      (_this$tree2 = this.tree) === null || _this$tree2 === void 0 ? void 0 : _this$tree2.addNodeToIndex(this);\n    }\n  }, {\n    key: \"doRemoveChild\",\n    value: function doRemoveChild(node) {\n      var _this$tree3;\n      this.children.splice(this.getChildIndex(node), 1);\n      (_this$tree3 = this.tree) === null || _this$tree3 === void 0 ? void 0 : _this$tree3.removeNodeFromIndex(node);\n    }\n  }, {\n    key: \"getNodeClass\",\n    value: function getNodeClass() {\n      var _this$tree4;\n      return this.nodeClass || (this === null || this === void 0 ? void 0 : (_this$tree4 = this.tree) === null || _this$tree4 === void 0 ? void 0 : _this$tree4.nodeClass) || Node;\n    }\n  }, {\n    key: \"createNode\",\n    value: function createNode(nodeData) {\n      var nodeClass = this.getNodeClass();\n      return new nodeClass(nodeData);\n    }\n  }]);\n  return Node;\n}();\nexports.Node = Node;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NodeElement = exports.FolderElement = exports.BorderDropHint = void 0;\nvar _node = require(\"./node\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar NodeElement = /*#__PURE__*/function () {\n  function NodeElement(node, treeWidget) {\n    _classCallCheck(this, NodeElement);\n    _defineProperty(this, \"node\", void 0);\n    _defineProperty(this, \"$element\", void 0);\n    _defineProperty(this, \"treeWidget\", void 0);\n    this.init(node, treeWidget);\n  }\n  _createClass(NodeElement, [{\n    key: \"init\",\n    value: function init(node, treeWidget) {\n      this.node = node;\n      this.treeWidget = treeWidget;\n      if (!node.element) {\n        var element = this.treeWidget.element.get(0);\n        if (element) {\n          node.element = element;\n        }\n      }\n      if (node.element) {\n        this.$element = jQuery(node.element);\n      }\n    }\n  }, {\n    key: \"addDropHint\",\n    value: function addDropHint(position) {\n      if (this.mustShowBorderDropHint(position)) {\n        return new BorderDropHint(this.$element, this.treeWidget._getScrollLeft());\n      } else {\n        return new GhostDropHint(this.node, this.$element, position);\n      }\n    }\n  }, {\n    key: \"select\",\n    value: function select(mustSetFocus) {\n      var _this$treeWidget$opti;\n      var $li = this.getLi();\n      $li.addClass(\"jqtree-selected\");\n      $li.attr(\"aria-selected\", \"true\");\n      var $span = this.getSpan();\n      $span.attr(\"tabindex\", (_this$treeWidget$opti = this.treeWidget.options.tabIndex) !== null && _this$treeWidget$opti !== void 0 ? _this$treeWidget$opti : null);\n      if (mustSetFocus) {\n        $span.trigger(\"focus\");\n      }\n    }\n  }, {\n    key: \"deselect\",\n    value: function deselect() {\n      var $li = this.getLi();\n      $li.removeClass(\"jqtree-selected\");\n      $li.attr(\"aria-selected\", \"false\");\n      var $span = this.getSpan();\n      $span.removeAttr(\"tabindex\");\n      $span.blur();\n    }\n  }, {\n    key: \"getUl\",\n    value: function getUl() {\n      return this.$element.children(\"ul:first\");\n    }\n  }, {\n    key: \"getSpan\",\n    value: function getSpan() {\n      return this.$element.children(\".jqtree-element\").find(\"span.jqtree-title\");\n    }\n  }, {\n    key: \"getLi\",\n    value: function getLi() {\n      return this.$element;\n    }\n  }, {\n    key: \"mustShowBorderDropHint\",\n    value: function mustShowBorderDropHint(position) {\n      return position === _node.Position.Inside;\n    }\n  }]);\n  return NodeElement;\n}();\nexports.NodeElement = NodeElement;\nvar FolderElement = /*#__PURE__*/function (_NodeElement) {\n  _inherits(FolderElement, _NodeElement);\n  var _super = _createSuper(FolderElement);\n  function FolderElement() {\n    _classCallCheck(this, FolderElement);\n    return _super.apply(this, arguments);\n  }\n  _createClass(FolderElement, [{\n    key: \"open\",\n    value: function open(onFinished) {\n      var _this = this;\n      var slide = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var animationSpeed = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"fast\";\n      if (this.node.is_open) {\n        return;\n      }\n      this.node.is_open = true;\n      var $button = this.getButton();\n      $button.removeClass(\"jqtree-closed\");\n      $button.html(\"\");\n      var buttonEl = $button.get(0);\n      if (buttonEl) {\n        var icon = this.treeWidget.renderer.openedIconElement.cloneNode(true);\n        buttonEl.appendChild(icon);\n      }\n      var doOpen = function doOpen() {\n        var $li = _this.getLi();\n        $li.removeClass(\"jqtree-closed\");\n        var $span = _this.getSpan();\n        $span.attr(\"aria-expanded\", \"true\");\n        if (onFinished) {\n          onFinished(_this.node);\n        }\n        _this.treeWidget._triggerEvent(\"tree.open\", {\n          node: _this.node\n        });\n      };\n      if (slide) {\n        this.getUl().slideDown(animationSpeed, doOpen);\n      } else {\n        this.getUl().show();\n        doOpen();\n      }\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      var _this2 = this;\n      var slide = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      var animationSpeed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"fast\";\n      if (!this.node.is_open) {\n        return;\n      }\n      this.node.is_open = false;\n      var $button = this.getButton();\n      $button.addClass(\"jqtree-closed\");\n      $button.html(\"\");\n      var buttonEl = $button.get(0);\n      if (buttonEl) {\n        var icon = this.treeWidget.renderer.closedIconElement.cloneNode(true);\n        buttonEl.appendChild(icon);\n      }\n      var doClose = function doClose() {\n        var $li = _this2.getLi();\n        $li.addClass(\"jqtree-closed\");\n        var $span = _this2.getSpan();\n        $span.attr(\"aria-expanded\", \"false\");\n        _this2.treeWidget._triggerEvent(\"tree.close\", {\n          node: _this2.node\n        });\n      };\n      if (slide) {\n        this.getUl().slideUp(animationSpeed, doClose);\n      } else {\n        this.getUl().hide();\n        doClose();\n      }\n    }\n  }, {\n    key: \"mustShowBorderDropHint\",\n    value: function mustShowBorderDropHint(position) {\n      return !this.node.is_open && position === _node.Position.Inside;\n    }\n  }, {\n    key: \"getButton\",\n    value: function getButton() {\n      return this.$element.children(\".jqtree-element\").find(\"a.jqtree-toggler\");\n    }\n  }]);\n  return FolderElement;\n}(NodeElement);\nexports.FolderElement = FolderElement;\nvar BorderDropHint = /*#__PURE__*/function () {\n  function BorderDropHint($element, scrollLeft) {\n    _classCallCheck(this, BorderDropHint);\n    _defineProperty(this, \"$hint\", void 0);\n    var $div = $element.children(\".jqtree-element\");\n    var elWidth = $element.width() || 0;\n    var width = Math.max(elWidth + scrollLeft - 4, 0);\n    var elHeight = $div.outerHeight() || 0;\n    var height = Math.max(elHeight - 4, 0);\n    this.$hint = jQuery('<span class=\"jqtree-border\"></span>');\n    $div.append(this.$hint);\n    this.$hint.css({\n      width: width,\n      height: height\n    });\n  }\n  _createClass(BorderDropHint, [{\n    key: \"remove\",\n    value: function remove() {\n      this.$hint.remove();\n    }\n  }]);\n  return BorderDropHint;\n}();\nexports.BorderDropHint = BorderDropHint;\nvar GhostDropHint = /*#__PURE__*/function () {\n  function GhostDropHint(node, $element, position) {\n    _classCallCheck(this, GhostDropHint);\n    _defineProperty(this, \"$element\", void 0);\n    _defineProperty(this, \"node\", void 0);\n    _defineProperty(this, \"$ghost\", void 0);\n    this.$element = $element;\n    this.node = node;\n    this.$ghost = jQuery(\"<li class=\\\"jqtree_common jqtree-ghost\\\"><span class=\\\"jqtree_common jqtree-circle\\\"></span>\\n            <span class=\\\"jqtree_common jqtree-line\\\"></span></li>\");\n    if (position === _node.Position.After) {\n      this.moveAfter();\n    } else if (position === _node.Position.Before) {\n      this.moveBefore();\n    } else if (position === _node.Position.Inside) {\n      if (node.isFolder() && node.is_open) {\n        this.moveInsideOpenFolder();\n      } else {\n        this.moveInside();\n      }\n    }\n  }\n  _createClass(GhostDropHint, [{\n    key: \"remove\",\n    value: function remove() {\n      this.$ghost.remove();\n    }\n  }, {\n    key: \"moveAfter\",\n    value: function moveAfter() {\n      this.$element.after(this.$ghost);\n    }\n  }, {\n    key: \"moveBefore\",\n    value: function moveBefore() {\n      this.$element.before(this.$ghost);\n    }\n  }, {\n    key: \"moveInsideOpenFolder\",\n    value: function moveInsideOpenFolder() {\n      var childElement = this.node.children[0].element;\n      if (childElement) {\n        jQuery(childElement).before(this.$ghost);\n      }\n    }\n  }, {\n    key: \"moveInside\",\n    value: function moveInside() {\n      this.$element.after(this.$ghost);\n      this.$ghost.addClass(\"jqtree-inside\");\n    }\n  }]);\n  return GhostDropHint;\n}();","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _util = require(\"./util\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar SaveStateHandler = /*#__PURE__*/function () {\n  function SaveStateHandler(treeWidget) {\n    _classCallCheck(this, SaveStateHandler);\n    _defineProperty(this, \"treeWidget\", void 0);\n    _defineProperty(this, \"_supportsLocalStorage\", void 0);\n    this.treeWidget = treeWidget;\n  }\n  _createClass(SaveStateHandler, [{\n    key: \"saveState\",\n    value: function saveState() {\n      var state = JSON.stringify(this.getState());\n      if (this.treeWidget.options.onSetStateFromStorage) {\n        this.treeWidget.options.onSetStateFromStorage(state);\n      } else if (this.supportsLocalStorage()) {\n        localStorage.setItem(this.getKeyName(), state);\n      }\n    }\n  }, {\n    key: \"getStateFromStorage\",\n    value: function getStateFromStorage() {\n      var jsonData = this.loadFromStorage();\n      if (jsonData) {\n        return this.parseState(jsonData);\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"getState\",\n    value: function getState() {\n      var _this = this;\n      var getOpenNodeIds = function getOpenNodeIds() {\n        var openNodes = [];\n        _this.treeWidget.tree.iterate(function (node) {\n          if (node.is_open && node.id && node.hasChildren()) {\n            openNodes.push(node.id);\n          }\n          return true;\n        });\n        return openNodes;\n      };\n      var getSelectedNodeIds = function getSelectedNodeIds() {\n        var selectedNodeIds = [];\n        _this.treeWidget.getSelectedNodes().forEach(function (node) {\n          if (node.id != null) {\n            selectedNodeIds.push(node.id);\n          }\n        });\n        return selectedNodeIds;\n      };\n      return {\n        open_nodes: getOpenNodeIds(),\n        selected_node: getSelectedNodeIds()\n      };\n    }\n\n    /*\n    Set initial state\n    Don't handle nodes that are loaded on demand\n     result: must load on demand\n    */\n  }, {\n    key: \"setInitialState\",\n    value: function setInitialState(state) {\n      if (!state) {\n        return false;\n      } else {\n        var mustLoadOnDemand = false;\n        if (state.open_nodes) {\n          mustLoadOnDemand = this.openInitialNodes(state.open_nodes);\n        }\n        if (state.selected_node) {\n          this.resetSelection();\n          this.selectInitialNodes(state.selected_node);\n        }\n        return mustLoadOnDemand;\n      }\n    }\n  }, {\n    key: \"setInitialStateOnDemand\",\n    value: function setInitialStateOnDemand(state, cbFinished) {\n      if (state) {\n        this.doSetInitialStateOnDemand(state.open_nodes, state.selected_node, cbFinished);\n      } else {\n        cbFinished();\n      }\n    }\n  }, {\n    key: \"getNodeIdToBeSelected\",\n    value: function getNodeIdToBeSelected() {\n      var state = this.getStateFromStorage();\n      if (state && state.selected_node) {\n        return state.selected_node[0];\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"parseState\",\n    value: function parseState(jsonData) {\n      var state = JSON.parse(jsonData);\n\n      // Check if selected_node is an int (instead of an array)\n      if (state && state.selected_node && (0, _util.isInt)(state.selected_node)) {\n        // Convert to array\n        state.selected_node = [state.selected_node];\n      }\n      return state;\n    }\n  }, {\n    key: \"loadFromStorage\",\n    value: function loadFromStorage() {\n      if (this.treeWidget.options.onGetStateFromStorage) {\n        return this.treeWidget.options.onGetStateFromStorage();\n      } else if (this.supportsLocalStorage()) {\n        return localStorage.getItem(this.getKeyName());\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"openInitialNodes\",\n    value: function openInitialNodes(nodeIds) {\n      var mustLoadOnDemand = false;\n      var _iterator = _createForOfIteratorHelper(nodeIds),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var nodeId = _step.value;\n          var node = this.treeWidget.getNodeById(nodeId);\n          if (node) {\n            if (!node.load_on_demand) {\n              node.is_open = true;\n            } else {\n              mustLoadOnDemand = true;\n            }\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return mustLoadOnDemand;\n    }\n  }, {\n    key: \"selectInitialNodes\",\n    value: function selectInitialNodes(nodeIds) {\n      var selectCount = 0;\n      var _iterator2 = _createForOfIteratorHelper(nodeIds),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var nodeId = _step2.value;\n          var node = this.treeWidget.getNodeById(nodeId);\n          if (node) {\n            selectCount += 1;\n            this.treeWidget.selectNodeHandler.addToSelection(node);\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      return selectCount !== 0;\n    }\n  }, {\n    key: \"resetSelection\",\n    value: function resetSelection() {\n      var selectNodeHandler = this.treeWidget.selectNodeHandler;\n      var selectedNodes = selectNodeHandler.getSelectedNodes();\n      selectedNodes.forEach(function (node) {\n        selectNodeHandler.removeFromSelection(node);\n      });\n    }\n  }, {\n    key: \"doSetInitialStateOnDemand\",\n    value: function doSetInitialStateOnDemand(nodeIdsParam, selectedNodes, cbFinished) {\n      var _this2 = this;\n      var loadingCount = 0;\n      var nodeIds = nodeIdsParam;\n      var openNodes = function openNodes() {\n        var newNodesIds = [];\n        var _iterator3 = _createForOfIteratorHelper(nodeIds),\n          _step3;\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var nodeId = _step3.value;\n            var node = _this2.treeWidget.getNodeById(nodeId);\n            if (!node) {\n              newNodesIds.push(nodeId);\n            } else {\n              if (!node.is_loading) {\n                if (node.load_on_demand) {\n                  loadAndOpenNode(node);\n                } else {\n                  _this2.treeWidget._openNode(node, false, null);\n                }\n              }\n            }\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n        nodeIds = newNodesIds;\n        if (_this2.selectInitialNodes(selectedNodes)) {\n          _this2.treeWidget._refreshElements(null);\n        }\n        if (loadingCount === 0) {\n          cbFinished();\n        }\n      };\n      var loadAndOpenNode = function loadAndOpenNode(node) {\n        loadingCount += 1;\n        _this2.treeWidget._openNode(node, false, function () {\n          loadingCount -= 1;\n          openNodes();\n        });\n      };\n      openNodes();\n    }\n  }, {\n    key: \"getKeyName\",\n    value: function getKeyName() {\n      if (typeof this.treeWidget.options.saveState === \"string\") {\n        return this.treeWidget.options.saveState;\n      } else {\n        return \"tree\";\n      }\n    }\n  }, {\n    key: \"supportsLocalStorage\",\n    value: function supportsLocalStorage() {\n      var testSupport = function testSupport() {\n        // Is local storage supported?\n        if (localStorage == null) {\n          return false;\n        } else {\n          // Check if it's possible to store an item. Safari does not allow this in private browsing mode.\n          try {\n            var key = \"_storage_test\";\n            sessionStorage.setItem(key, \"value\");\n            sessionStorage.removeItem(key);\n          } catch (error) {\n            return false;\n          }\n          return true;\n        }\n      };\n      if (this._supportsLocalStorage == null) {\n        this._supportsLocalStorage = testSupport();\n      }\n      return this._supportsLocalStorage;\n    }\n  }]);\n  return SaveStateHandler;\n}();\nexports[\"default\"] = SaveStateHandler;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar ScrollHandler = /*#__PURE__*/function () {\n  function ScrollHandler(treeWidget) {\n    _classCallCheck(this, ScrollHandler);\n    _defineProperty(this, \"treeWidget\", void 0);\n    _defineProperty(this, \"previousTop\", void 0);\n    _defineProperty(this, \"isInitialized\", void 0);\n    _defineProperty(this, \"$scrollParent\", void 0);\n    _defineProperty(this, \"scrollParentTop\", void 0);\n    this.treeWidget = treeWidget;\n    this.previousTop = -1;\n    this.isInitialized = false;\n  }\n  _createClass(ScrollHandler, [{\n    key: \"checkScrolling\",\n    value: function checkScrolling() {\n      this.ensureInit();\n      this.checkVerticalScrolling();\n      this.checkHorizontalScrolling();\n    }\n  }, {\n    key: \"scrollToY\",\n    value: function scrollToY(top) {\n      this.ensureInit();\n      if (this.$scrollParent) {\n        this.$scrollParent[0].scrollTop = top;\n      } else {\n        var offset = this.treeWidget.$el.offset();\n        var treeTop = offset ? offset.top : 0;\n        jQuery(document).scrollTop(top + treeTop);\n      }\n    }\n  }, {\n    key: \"isScrolledIntoView\",\n    value: function isScrolledIntoView($element) {\n      this.ensureInit();\n      var elementBottom;\n      var viewBottom;\n      var elementTop;\n      var viewTop;\n      var elHeight = $element.height() || 0;\n      if (this.$scrollParent) {\n        viewTop = 0;\n        viewBottom = this.$scrollParent.height() || 0;\n        var offset = $element.offset();\n        var originalTop = offset ? offset.top : 0;\n        elementTop = originalTop - this.scrollParentTop;\n        elementBottom = elementTop + elHeight;\n      } else {\n        viewTop = jQuery(window).scrollTop() || 0;\n        var windowHeight = jQuery(window).height() || 0;\n        viewBottom = viewTop + windowHeight;\n        var _offset = $element.offset();\n        elementTop = _offset ? _offset.top : 0;\n        elementBottom = elementTop + elHeight;\n      }\n      return elementBottom <= viewBottom && elementTop >= viewTop;\n    }\n  }, {\n    key: \"getScrollLeft\",\n    value: function getScrollLeft() {\n      if (!this.$scrollParent) {\n        return 0;\n      } else {\n        return this.$scrollParent.scrollLeft() || 0;\n      }\n    }\n  }, {\n    key: \"initScrollParent\",\n    value: function initScrollParent() {\n      var _this = this;\n      var getParentWithOverflow = function getParentWithOverflow() {\n        var cssAttributes = [\"overflow\", \"overflow-y\"];\n        var hasOverFlow = function hasOverFlow($el) {\n          for (var _i = 0, _cssAttributes = cssAttributes; _i < _cssAttributes.length; _i++) {\n            var attr = _cssAttributes[_i];\n            var overflowValue = $el.css(attr);\n            if (overflowValue === \"auto\" || overflowValue === \"scroll\") {\n              return true;\n            }\n          }\n          return false;\n        };\n        if (hasOverFlow(_this.treeWidget.$el)) {\n          return _this.treeWidget.$el;\n        }\n        var _iterator = _createForOfIteratorHelper(_this.treeWidget.$el.parents().get()),\n          _step;\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var el = _step.value;\n            var $el = jQuery(el);\n            if (hasOverFlow($el)) {\n              return $el;\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n        return null;\n      };\n      var setDocumentAsScrollParent = function setDocumentAsScrollParent() {\n        _this.scrollParentTop = 0;\n        _this.$scrollParent = null;\n      };\n      if (this.treeWidget.$el.css(\"position\") === \"fixed\") {\n        setDocumentAsScrollParent();\n      }\n      var $scrollParent = getParentWithOverflow();\n      if ($scrollParent && $scrollParent.length && $scrollParent[0].tagName !== \"HTML\") {\n        this.$scrollParent = $scrollParent;\n        var offset = this.$scrollParent.offset();\n        this.scrollParentTop = offset ? offset.top : 0;\n      } else {\n        setDocumentAsScrollParent();\n      }\n      this.isInitialized = true;\n    }\n  }, {\n    key: \"ensureInit\",\n    value: function ensureInit() {\n      if (!this.isInitialized) {\n        this.initScrollParent();\n      }\n    }\n  }, {\n    key: \"handleVerticalScrollingWithScrollParent\",\n    value: function handleVerticalScrollingWithScrollParent(area) {\n      var scrollParent = this.$scrollParent && this.$scrollParent[0];\n      if (!scrollParent) {\n        return;\n      }\n      var distanceBottom = this.scrollParentTop + scrollParent.offsetHeight - area.bottom;\n      if (distanceBottom < 20) {\n        scrollParent.scrollTop += 20;\n        this.treeWidget.refreshHitAreas();\n        this.previousTop = -1;\n      } else if (area.top - this.scrollParentTop < 20) {\n        scrollParent.scrollTop -= 20;\n        this.treeWidget.refreshHitAreas();\n        this.previousTop = -1;\n      }\n    }\n  }, {\n    key: \"handleVerticalScrollingWithDocument\",\n    value: function handleVerticalScrollingWithDocument(area) {\n      var scrollTop = jQuery(document).scrollTop() || 0;\n      var distanceTop = area.top - scrollTop;\n      if (distanceTop < 20) {\n        jQuery(document).scrollTop(scrollTop - 20);\n      } else {\n        var windowHeight = jQuery(window).height() || 0;\n        if (windowHeight - (area.bottom - scrollTop) < 20) {\n          jQuery(document).scrollTop(scrollTop + 20);\n        }\n      }\n    }\n  }, {\n    key: \"checkVerticalScrolling\",\n    value: function checkVerticalScrolling() {\n      var hoveredArea = this.treeWidget.dndHandler.hoveredArea;\n      if (hoveredArea && hoveredArea.top !== this.previousTop) {\n        this.previousTop = hoveredArea.top;\n        if (this.$scrollParent) {\n          this.handleVerticalScrollingWithScrollParent(hoveredArea);\n        } else {\n          this.handleVerticalScrollingWithDocument(hoveredArea);\n        }\n      }\n    }\n  }, {\n    key: \"checkHorizontalScrolling\",\n    value: function checkHorizontalScrolling() {\n      var positionInfo = this.treeWidget.dndHandler.positionInfo;\n      if (!positionInfo) {\n        return;\n      }\n      if (this.$scrollParent) {\n        this.handleHorizontalScrollingWithParent(positionInfo);\n      } else {\n        this.handleHorizontalScrollingWithDocument(positionInfo);\n      }\n    }\n  }, {\n    key: \"handleHorizontalScrollingWithParent\",\n    value: function handleHorizontalScrollingWithParent(positionInfo) {\n      if (positionInfo.pageX === undefined || positionInfo.pageY === undefined) {\n        return;\n      }\n      var $scrollParent = this.$scrollParent;\n      var scrollParentOffset = $scrollParent && $scrollParent.offset();\n      if (!($scrollParent && scrollParentOffset)) {\n        return;\n      }\n      var scrollParent = $scrollParent[0];\n      var canScrollRight = scrollParent.scrollLeft + scrollParent.clientWidth < scrollParent.scrollWidth;\n      var canScrollLeft = scrollParent.scrollLeft > 0;\n      var rightEdge = scrollParentOffset.left + scrollParent.clientWidth;\n      var leftEdge = scrollParentOffset.left;\n      var isNearRightEdge = positionInfo.pageX > rightEdge - 20;\n      var isNearLeftEdge = positionInfo.pageX < leftEdge + 20;\n      if (isNearRightEdge && canScrollRight) {\n        scrollParent.scrollLeft = Math.min(scrollParent.scrollLeft + 20, scrollParent.scrollWidth);\n      } else if (isNearLeftEdge && canScrollLeft) {\n        scrollParent.scrollLeft = Math.max(scrollParent.scrollLeft - 20, 0);\n      }\n    }\n  }, {\n    key: \"handleHorizontalScrollingWithDocument\",\n    value: function handleHorizontalScrollingWithDocument(positionInfo) {\n      if (positionInfo.pageX === undefined || positionInfo.pageY === undefined) {\n        return;\n      }\n      var $document = jQuery(document);\n      var scrollLeft = $document.scrollLeft() || 0;\n      var windowWidth = jQuery(window).width() || 0;\n      var canScrollLeft = scrollLeft > 0;\n      var isNearRightEdge = positionInfo.pageX > windowWidth - 20;\n      var isNearLeftEdge = positionInfo.pageX - scrollLeft < 20;\n      if (isNearRightEdge) {\n        $document.scrollLeft(scrollLeft + 20);\n      } else if (isNearLeftEdge && canScrollLeft) {\n        $document.scrollLeft(Math.max(scrollLeft - 20, 0));\n      }\n    }\n  }]);\n  return ScrollHandler;\n}();\nexports[\"default\"] = ScrollHandler;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar SelectNodeHandler = /*#__PURE__*/function () {\n  function SelectNodeHandler(treeWidget) {\n    _classCallCheck(this, SelectNodeHandler);\n    _defineProperty(this, \"treeWidget\", void 0);\n    _defineProperty(this, \"selectedNodes\", void 0);\n    _defineProperty(this, \"selectedSingleNode\", void 0);\n    this.treeWidget = treeWidget;\n    this.selectedNodes = new Set();\n    this.clear();\n  }\n  _createClass(SelectNodeHandler, [{\n    key: \"getSelectedNode\",\n    value: function getSelectedNode() {\n      var selectedNodes = this.getSelectedNodes();\n      if (selectedNodes.length) {\n        return selectedNodes[0];\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"getSelectedNodes\",\n    value: function getSelectedNodes() {\n      var _this = this;\n      if (this.selectedSingleNode) {\n        return [this.selectedSingleNode];\n      } else {\n        var selectedNodes = [];\n        this.selectedNodes.forEach(function (id) {\n          var node = _this.treeWidget.getNodeById(id);\n          if (node) {\n            selectedNodes.push(node);\n          }\n        });\n        return selectedNodes;\n      }\n    }\n  }, {\n    key: \"getSelectedNodesUnder\",\n    value: function getSelectedNodesUnder(parent) {\n      if (this.selectedSingleNode) {\n        if (parent.isParentOf(this.selectedSingleNode)) {\n          return [this.selectedSingleNode];\n        } else {\n          return [];\n        }\n      } else {\n        var selectedNodes = [];\n        for (var id in this.selectedNodes) {\n          if (Object.prototype.hasOwnProperty.call(this.selectedNodes, id)) {\n            var node = this.treeWidget.getNodeById(id);\n            if (node && parent.isParentOf(node)) {\n              selectedNodes.push(node);\n            }\n          }\n        }\n        return selectedNodes;\n      }\n    }\n  }, {\n    key: \"isNodeSelected\",\n    value: function isNodeSelected(node) {\n      if (node.id != null) {\n        return this.selectedNodes.has(node.id);\n      } else if (this.selectedSingleNode) {\n        return this.selectedSingleNode.element === node.element;\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.selectedNodes.clear();\n      this.selectedSingleNode = null;\n    }\n  }, {\n    key: \"removeFromSelection\",\n    value: function removeFromSelection(node) {\n      var _this2 = this;\n      var includeChildren = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      if (node.id == null) {\n        if (this.selectedSingleNode && node.element === this.selectedSingleNode.element) {\n          this.selectedSingleNode = null;\n        }\n      } else {\n        this.selectedNodes[\"delete\"](node.id);\n        if (includeChildren) {\n          node.iterate(function () {\n            if (node.id != null) {\n              _this2.selectedNodes[\"delete\"](node.id);\n            }\n            return true;\n          });\n        }\n      }\n    }\n  }, {\n    key: \"addToSelection\",\n    value: function addToSelection(node) {\n      if (node.id != null) {\n        this.selectedNodes.add(node.id);\n      } else {\n        this.selectedSingleNode = node;\n      }\n    }\n  }, {\n    key: \"isFocusOnTree\",\n    value: function isFocusOnTree() {\n      var activeElement = document.activeElement;\n      return Boolean(activeElement && activeElement.tagName === \"SPAN\" && this.treeWidget._containsElement(activeElement));\n    }\n  }]);\n  return SelectNodeHandler;\n}();\nexports[\"default\"] = SelectNodeHandler;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nvar _register = function register(widgetClass, widgetName) {\n  var getDataKey = function getDataKey() {\n    return \"simple_widget_\".concat(widgetName);\n  };\n  var getWidgetData = function getWidgetData(el, dataKey) {\n    var widget = jQuery.data(el, dataKey);\n    if (widget && widget instanceof SimpleWidget) {\n      return widget;\n    } else {\n      return null;\n    }\n  };\n  var createWidget = function createWidget($el, options) {\n    var dataKey = getDataKey();\n    var _iterator = _createForOfIteratorHelper($el.get()),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var el = _step.value;\n        var existingWidget = getWidgetData(el, dataKey);\n        if (!existingWidget) {\n          var simpleWidgetClass = widgetClass;\n          var widget = new simpleWidgetClass(el, options);\n          if (!jQuery.data(el, dataKey)) {\n            jQuery.data(el, dataKey, widget);\n          }\n\n          // Call init after setting data, so we can call methods\n          widget.init();\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n    return $el;\n  };\n  var destroyWidget = function destroyWidget($el) {\n    var dataKey = getDataKey();\n    var _iterator2 = _createForOfIteratorHelper($el.get()),\n      _step2;\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var el = _step2.value;\n        var widget = getWidgetData(el, dataKey);\n        if (widget) {\n          widget.destroy();\n        }\n        jQuery.removeData(el, dataKey);\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  };\n  var callFunction = function callFunction($el, functionName, args) {\n    var result = null;\n    var _iterator3 = _createForOfIteratorHelper($el.get()),\n      _step3;\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var el = _step3.value;\n        var widget = jQuery.data(el, getDataKey());\n        if (widget && widget instanceof SimpleWidget) {\n          var simpleWidget = widget;\n          var widgetFunction = simpleWidget[functionName];\n          if (widgetFunction && typeof widgetFunction === \"function\") {\n            result = widgetFunction.apply(widget, args);\n          }\n        }\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n    return result;\n  };\n\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n  jQuery.fn[widgetName] = function (argument1) {\n    if (!argument1) {\n      return createWidget(this, null);\n    } else if (_typeof(argument1) === \"object\") {\n      var options = argument1;\n      return createWidget(this, options);\n    } else if (typeof argument1 === \"string\" && argument1[0] !== \"_\") {\n      var functionName = argument1;\n      if (functionName === \"destroy\") {\n        return destroyWidget(this);\n      } else if (functionName === \"get_widget_class\") {\n        return widgetClass;\n      } else {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        return callFunction(this, functionName, args);\n      }\n    }\n  };\n};\nvar SimpleWidget = /*#__PURE__*/function () {\n  function SimpleWidget(el, options) {\n    _classCallCheck(this, SimpleWidget);\n    _defineProperty(this, \"options\", void 0);\n    _defineProperty(this, \"$el\", void 0);\n    this.$el = jQuery(el);\n\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    var defaults = this.constructor[\"defaults\"];\n    this.options = _objectSpread(_objectSpread({}, defaults), options);\n  }\n  _createClass(SimpleWidget, [{\n    key: \"destroy\",\n    value: function destroy() {\n      this.deinit();\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      //\n    }\n  }, {\n    key: \"deinit\",\n    value: function deinit() {\n      //\n    }\n  }], [{\n    key: \"register\",\n    value: function register(widgetClass, widgetName) {\n      _register(widgetClass, widgetName);\n    }\n  }]);\n  return SimpleWidget;\n}();\nexports[\"default\"] = SimpleWidget;\n_defineProperty(SimpleWidget, \"defaults\", {});","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.JqTreeWidget = void 0;\nvar _version = _interopRequireDefault(require(\"./version\"));\nvar _dragAndDropHandler = require(\"./dragAndDropHandler\");\nvar _elementsRenderer = _interopRequireDefault(require(\"./elementsRenderer\"));\nvar _dataLoader = _interopRequireDefault(require(\"./dataLoader\"));\nvar _keyHandler = _interopRequireDefault(require(\"./keyHandler\"));\nvar _mouse = _interopRequireDefault(require(\"./mouse.widget\"));\nvar _saveStateHandler = _interopRequireDefault(require(\"./saveStateHandler\"));\nvar _scrollHandler = _interopRequireDefault(require(\"./scrollHandler\"));\nvar _selectNodeHandler = _interopRequireDefault(require(\"./selectNodeHandler\"));\nvar _simple = _interopRequireDefault(require(\"./simple.widget\"));\nvar _node6 = require(\"./node\");\nvar _util = require(\"./util\");\nvar _nodeElement = require(\"./nodeElement\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0); } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _get() { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get.bind(); } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(arguments.length < 3 ? target : receiver); } return desc.value; }; } return _get.apply(this, arguments); }\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar NODE_PARAM_IS_EMPTY = \"Node parameter is empty\";\nvar PARAM_IS_EMPTY = \"Parameter is empty: \";\nvar JqTreeWidget = /*#__PURE__*/function (_MouseWidget) {\n  _inherits(JqTreeWidget, _MouseWidget);\n  var _super = _createSuper(JqTreeWidget);\n  function JqTreeWidget() {\n    var _this;\n    _classCallCheck(this, JqTreeWidget);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"element\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"tree\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"dndHandler\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"renderer\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"dataLoader\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"scrollHandler\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"selectNodeHandler\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"isInitialized\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"saveStateHandler\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"keyHandler\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"handleClick\", function (e) {\n      var clickTarget = _this.getClickTarget(e.target);\n      if (clickTarget) {\n        if (clickTarget.type === \"button\") {\n          _this.toggle(clickTarget.node, _this.options.slide);\n          e.preventDefault();\n          e.stopPropagation();\n        } else if (clickTarget.type === \"label\") {\n          var _node2 = clickTarget.node;\n          var event = _this._triggerEvent(\"tree.click\", {\n            node: _node2,\n            click_event: e\n          });\n          if (!event.isDefaultPrevented()) {\n            _this.doSelectNode(_node2);\n          }\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleDblclick\", function (e) {\n      var clickTarget = _this.getClickTarget(e.target);\n      if ((clickTarget === null || clickTarget === void 0 ? void 0 : clickTarget.type) === \"label\") {\n        _this._triggerEvent(\"tree.dblclick\", {\n          node: clickTarget.node,\n          click_event: e\n        });\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleContextmenu\", function (e) {\n      var $div = jQuery(e.target).closest(\"ul.jqtree-tree .jqtree-element\");\n      if ($div.length) {\n        var _node3 = _this.getNode($div);\n        if (_node3) {\n          e.preventDefault();\n          e.stopPropagation();\n          _this._triggerEvent(\"tree.contextmenu\", {\n            node: _node3,\n            click_event: e\n          });\n          return false;\n        }\n      }\n      return null;\n    });\n    return _this;\n  }\n  _createClass(JqTreeWidget, [{\n    key: \"toggle\",\n    value: function toggle(node) {\n      var slideParam = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n      var slide = slideParam !== null && slideParam !== void 0 ? slideParam : this.options.slide;\n      if (node.is_open) {\n        this.closeNode(node, slide);\n      } else {\n        this.openNode(node, slide);\n      }\n      return this.element;\n    }\n  }, {\n    key: \"getTree\",\n    value: function getTree() {\n      return this.tree;\n    }\n  }, {\n    key: \"selectNode\",\n    value: function selectNode(node, optionsParam) {\n      this.doSelectNode(node, optionsParam);\n      return this.element;\n    }\n  }, {\n    key: \"getSelectedNode\",\n    value: function getSelectedNode() {\n      return this.selectNodeHandler.getSelectedNode();\n    }\n  }, {\n    key: \"toJson\",\n    value: function toJson() {\n      return JSON.stringify(this.tree.getData());\n    }\n  }, {\n    key: \"loadData\",\n    value: function loadData(data, parentNode) {\n      this.doLoadData(data, parentNode);\n      return this.element;\n    }\n\n    /*\n    signatures:\n    - loadDataFromUrl(url, parent_node=null, on_finished=null)\n        loadDataFromUrl('/my_data');\n        loadDataFromUrl('/my_data', node1);\n        loadDataFromUrl('/my_data', node1, function() { console.log('finished'); });\n        loadDataFromUrl('/my_data', null, function() { console.log('finished'); });\n     - loadDataFromUrl(parent_node=null, on_finished=null)\n        loadDataFromUrl();\n        loadDataFromUrl(node1);\n        loadDataFromUrl(null, function() { console.log('finished'); });\n        loadDataFromUrl(node1, function() { console.log('finished'); });\n    */\n  }, {\n    key: \"loadDataFromUrl\",\n    value: function loadDataFromUrl(param1, param2, param3) {\n      if (typeof param1 === \"string\") {\n        // first parameter is url\n        this.doLoadDataFromUrl(param1, param2, param3 !== null && param3 !== void 0 ? param3 : null);\n      } else {\n        // first parameter is not url\n        this.doLoadDataFromUrl(null, param1, param2);\n      }\n      return this.element;\n    }\n  }, {\n    key: \"reload\",\n    value: function reload(onFinished) {\n      this.doLoadDataFromUrl(null, null, onFinished);\n      return this.element;\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      this._refreshElements(null);\n      return this.element;\n    }\n  }, {\n    key: \"getNodeById\",\n    value: function getNodeById(nodeId) {\n      return this.tree.getNodeById(nodeId);\n    }\n  }, {\n    key: \"getNodeByName\",\n    value: function getNodeByName(name) {\n      return this.tree.getNodeByName(name);\n    }\n  }, {\n    key: \"getNodeByNameMustExist\",\n    value: function getNodeByNameMustExist(name) {\n      return this.tree.getNodeByNameMustExist(name);\n    }\n  }, {\n    key: \"getNodesByProperty\",\n    value: function getNodesByProperty(key, value) {\n      return this.tree.getNodesByProperty(key, value);\n    }\n  }, {\n    key: \"getNodeByHtmlElement\",\n    value: function getNodeByHtmlElement(element) {\n      return this.getNode(jQuery(element));\n    }\n  }, {\n    key: \"getNodeByCallback\",\n    value: function getNodeByCallback(callback) {\n      return this.tree.getNodeByCallback(callback);\n    }\n  }, {\n    key: \"openNode\",\n    value: function openNode(node, param1, param2) {\n      var _this2 = this;\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n      var parseParams = function parseParams() {\n        var onFinished;\n        var slide;\n        if ((0, _util.isFunction)(param1)) {\n          onFinished = param1;\n          slide = null;\n        } else {\n          slide = param1;\n          onFinished = param2;\n        }\n        if (slide == null) {\n          var _this2$options$slide;\n          slide = (_this2$options$slide = _this2.options.slide) !== null && _this2$options$slide !== void 0 ? _this2$options$slide : false;\n        }\n        return [slide, onFinished];\n      };\n      var _parseParams = parseParams(),\n        _parseParams2 = _slicedToArray(_parseParams, 2),\n        slide = _parseParams2[0],\n        onFinished = _parseParams2[1];\n      this._openNode(node, slide, onFinished);\n      return this.element;\n    }\n  }, {\n    key: \"closeNode\",\n    value: function closeNode(node, slideParam) {\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n      var slide = slideParam !== null && slideParam !== void 0 ? slideParam : this.options.slide;\n      if (node.isFolder() || node.isEmptyFolder) {\n        new _nodeElement.FolderElement(node, this).close(slide, this.options.animationSpeed);\n        this.saveState();\n      }\n      return this.element;\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      return this.dndHandler.isDragging;\n    }\n  }, {\n    key: \"refreshHitAreas\",\n    value: function refreshHitAreas() {\n      this.dndHandler.refresh();\n      return this.element;\n    }\n  }, {\n    key: \"addNodeAfter\",\n    value: function addNodeAfter(newNodeInfo, existingNode) {\n      var newNode = existingNode.addAfter(newNodeInfo);\n      if (newNode) {\n        this._refreshElements(existingNode.parent);\n      }\n      return newNode;\n    }\n  }, {\n    key: \"addNodeBefore\",\n    value: function addNodeBefore(newNodeInfo, existingNode) {\n      if (!existingNode) {\n        throw Error(PARAM_IS_EMPTY + \"existingNode\");\n      }\n      var newNode = existingNode.addBefore(newNodeInfo);\n      if (newNode) {\n        this._refreshElements(existingNode.parent);\n      }\n      return newNode;\n    }\n  }, {\n    key: \"addParentNode\",\n    value: function addParentNode(newNodeInfo, existingNode) {\n      if (!existingNode) {\n        throw Error(PARAM_IS_EMPTY + \"existingNode\");\n      }\n      var newNode = existingNode.addParent(newNodeInfo);\n      if (newNode) {\n        this._refreshElements(newNode.parent);\n      }\n      return newNode;\n    }\n  }, {\n    key: \"removeNode\",\n    value: function removeNode(node) {\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n      if (!node.parent) {\n        throw Error(\"Node has no parent\");\n      }\n      this.selectNodeHandler.removeFromSelection(node, true); // including children\n\n      var parent = node.parent;\n      node.remove();\n      this._refreshElements(parent);\n      return this.element;\n    }\n  }, {\n    key: \"appendNode\",\n    value: function appendNode(newNodeInfo, parentNodeParam) {\n      var parentNode = parentNodeParam || this.tree;\n      var node = parentNode.append(newNodeInfo);\n      this._refreshElements(parentNode);\n      return node;\n    }\n  }, {\n    key: \"prependNode\",\n    value: function prependNode(newNodeInfo, parentNodeParam) {\n      var parentNode = parentNodeParam !== null && parentNodeParam !== void 0 ? parentNodeParam : this.tree;\n      var node = parentNode.prepend(newNodeInfo);\n      this._refreshElements(parentNode);\n      return node;\n    }\n  }, {\n    key: \"updateNode\",\n    value: function updateNode(node, data) {\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n      var idIsChanged = _typeof(data) === \"object\" && data.id && data.id !== node.id;\n      if (idIsChanged) {\n        this.tree.removeNodeFromIndex(node);\n      }\n      node.setData(data);\n      if (idIsChanged) {\n        this.tree.addNodeToIndex(node);\n      }\n      if (_typeof(data) === \"object\" && data[\"children\"] && data[\"children\"] instanceof Array) {\n        node.removeChildren();\n        if (data.children.length) {\n          node.loadFromData(data.children);\n        }\n      }\n      this._refreshElements(node);\n      return this.element;\n    }\n  }, {\n    key: \"isSelectedNodeInSubtree\",\n    value: function isSelectedNodeInSubtree(subtree) {\n      var selectedNode = this.getSelectedNode();\n      if (!selectedNode) {\n        return false;\n      } else {\n        return subtree === selectedNode || subtree.isParentOf(selectedNode);\n      }\n    }\n  }, {\n    key: \"moveNode\",\n    value: function moveNode(node, targetNode, position) {\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n      if (!targetNode) {\n        throw Error(PARAM_IS_EMPTY + \"targetNode\");\n      }\n      var positionIndex = (0, _node6.getPosition)(position);\n      if (positionIndex !== undefined) {\n        this.tree.moveNode(node, targetNode, positionIndex);\n        this._refreshElements(null);\n      }\n      return this.element;\n    }\n  }, {\n    key: \"getStateFromStorage\",\n    value: function getStateFromStorage() {\n      return this.saveStateHandler.getStateFromStorage();\n    }\n  }, {\n    key: \"addToSelection\",\n    value: function addToSelection(node, mustSetFocus) {\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n      this.selectNodeHandler.addToSelection(node);\n      this._getNodeElementForNode(node).select(mustSetFocus === undefined ? true : mustSetFocus);\n      this.saveState();\n      return this.element;\n    }\n  }, {\n    key: \"getSelectedNodes\",\n    value: function getSelectedNodes() {\n      return this.selectNodeHandler.getSelectedNodes();\n    }\n  }, {\n    key: \"isNodeSelected\",\n    value: function isNodeSelected(node) {\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n      return this.selectNodeHandler.isNodeSelected(node);\n    }\n  }, {\n    key: \"removeFromSelection\",\n    value: function removeFromSelection(node) {\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n      this.selectNodeHandler.removeFromSelection(node);\n      this._getNodeElementForNode(node).deselect();\n      this.saveState();\n      return this.element;\n    }\n  }, {\n    key: \"scrollToNode\",\n    value: function scrollToNode(node) {\n      if (!node) {\n        throw Error(NODE_PARAM_IS_EMPTY);\n      }\n      var nodeOffset = jQuery(node.element).offset();\n      var nodeTop = nodeOffset ? nodeOffset.top : 0;\n      var treeOffset = this.$el.offset();\n      var treeTop = treeOffset ? treeOffset.top : 0;\n      var top = nodeTop - treeTop;\n      this.scrollHandler.scrollToY(top);\n      return this.element;\n    }\n  }, {\n    key: \"getState\",\n    value: function getState() {\n      return this.saveStateHandler.getState();\n    }\n  }, {\n    key: \"setState\",\n    value: function setState(state) {\n      this.saveStateHandler.setInitialState(state);\n      this._refreshElements(null);\n      return this.element;\n    }\n  }, {\n    key: \"setOption\",\n    value: function setOption(option, value) {\n      this.options[option] = value;\n      return this.element;\n    }\n  }, {\n    key: \"moveDown\",\n    value: function moveDown() {\n      var selectedNode = this.getSelectedNode();\n      if (selectedNode) {\n        this.keyHandler.moveDown(selectedNode);\n      }\n      return this.element;\n    }\n  }, {\n    key: \"moveUp\",\n    value: function moveUp() {\n      var selectedNode = this.getSelectedNode();\n      if (selectedNode) {\n        this.keyHandler.moveUp(selectedNode);\n      }\n      return this.element;\n    }\n  }, {\n    key: \"getVersion\",\n    value: function getVersion() {\n      return _version[\"default\"];\n    }\n  }, {\n    key: \"_triggerEvent\",\n    value: function _triggerEvent(eventName, values) {\n      var event = jQuery.Event(eventName, values);\n      this.element.trigger(event);\n      return event;\n    }\n  }, {\n    key: \"_openNode\",\n    value: function _openNode(node) {\n      var _this3 = this;\n      var slide = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var onFinished = arguments.length > 2 ? arguments[2] : undefined;\n      var doOpenNode = function doOpenNode(_node, _slide, _onFinished) {\n        var folderElement = new _nodeElement.FolderElement(_node, _this3);\n        folderElement.open(_onFinished, _slide, _this3.options.animationSpeed);\n      };\n      if (node.isFolder() || node.isEmptyFolder) {\n        if (node.load_on_demand) {\n          this.loadFolderOnDemand(node, slide, onFinished);\n        } else {\n          var parent = node.parent;\n          while (parent) {\n            // nb: do not open root element\n            if (parent.parent) {\n              doOpenNode(parent, false, null);\n            }\n            parent = parent.parent;\n          }\n          doOpenNode(node, slide, onFinished);\n          this.saveState();\n        }\n      }\n    }\n\n    /*\n    Redraw the tree or part of the tree.\n     from_node: redraw this subtree\n    */\n  }, {\n    key: \"_refreshElements\",\n    value: function _refreshElements(fromNode) {\n      var mustSetFocus = this.selectNodeHandler.isFocusOnTree();\n      var mustSelect = fromNode ? this.isSelectedNodeInSubtree(fromNode) : false;\n      this.renderer.render(fromNode);\n      if (mustSelect) {\n        this.selectCurrentNode(mustSetFocus);\n      }\n      this._triggerEvent(\"tree.refresh\");\n    }\n  }, {\n    key: \"_getNodeElementForNode\",\n    value: function _getNodeElementForNode(node) {\n      if (node.isFolder()) {\n        return new _nodeElement.FolderElement(node, this);\n      } else {\n        return new _nodeElement.NodeElement(node, this);\n      }\n    }\n  }, {\n    key: \"_getNodeElement\",\n    value: function _getNodeElement($element) {\n      var node = this.getNode($element);\n      if (node) {\n        return this._getNodeElementForNode(node);\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"_containsElement\",\n    value: function _containsElement(element) {\n      var node = this.getNode(jQuery(element));\n      return node != null && node.tree === this.tree;\n    }\n  }, {\n    key: \"_getScrollLeft\",\n    value: function _getScrollLeft() {\n      return this.scrollHandler.getScrollLeft();\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      _get(_getPrototypeOf(JqTreeWidget.prototype), \"init\", this).call(this);\n      this.element = this.$el;\n      this.isInitialized = false;\n      this.options.rtl = this.getRtlOption();\n      if (this.options.closedIcon == null) {\n        this.options.closedIcon = this.getDefaultClosedIcon();\n      }\n      this.renderer = new _elementsRenderer[\"default\"](this);\n      this.dataLoader = new _dataLoader[\"default\"](this);\n      this.saveStateHandler = new _saveStateHandler[\"default\"](this);\n      this.selectNodeHandler = new _selectNodeHandler[\"default\"](this);\n      this.dndHandler = new _dragAndDropHandler.DragAndDropHandler(this);\n      this.scrollHandler = new _scrollHandler[\"default\"](this);\n      this.keyHandler = new _keyHandler[\"default\"](this);\n      this.initData();\n      this.element.on(\"click\", this.handleClick);\n      this.element.on(\"dblclick\", this.handleDblclick);\n      if (this.options.useContextMenu) {\n        this.element.on(\"contextmenu\", this.handleContextmenu);\n      }\n    }\n  }, {\n    key: \"deinit\",\n    value: function deinit() {\n      this.element.empty();\n      this.element.off();\n      this.keyHandler.deinit();\n      this.tree = new _node6.Node({}, true);\n      _get(_getPrototypeOf(JqTreeWidget.prototype), \"deinit\", this).call(this);\n    }\n  }, {\n    key: \"mouseCapture\",\n    value: function mouseCapture(positionInfo) {\n      if (this.options.dragAndDrop) {\n        return this.dndHandler.mouseCapture(positionInfo);\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"mouseStart\",\n    value: function mouseStart(positionInfo) {\n      if (this.options.dragAndDrop) {\n        return this.dndHandler.mouseStart(positionInfo);\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"mouseDrag\",\n    value: function mouseDrag(positionInfo) {\n      if (this.options.dragAndDrop) {\n        var result = this.dndHandler.mouseDrag(positionInfo);\n        this.scrollHandler.checkScrolling();\n        return result;\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"mouseStop\",\n    value: function mouseStop(positionInfo) {\n      if (this.options.dragAndDrop) {\n        return this.dndHandler.mouseStop(positionInfo);\n      } else {\n        return false;\n      }\n    }\n  }, {\n    key: \"getMouseDelay\",\n    value: function getMouseDelay() {\n      var _this$options$startDn;\n      return (_this$options$startDn = this.options.startDndDelay) !== null && _this$options$startDn !== void 0 ? _this$options$startDn : 0;\n    }\n  }, {\n    key: \"initData\",\n    value: function initData() {\n      if (this.options.data) {\n        this.doLoadData(this.options.data, null);\n      } else {\n        var dataUrl = this.getDataUrlInfo(null);\n        if (dataUrl) {\n          this.doLoadDataFromUrl(null, null, null);\n        } else {\n          this.doLoadData([], null);\n        }\n      }\n    }\n  }, {\n    key: \"getDataUrlInfo\",\n    value: function getDataUrlInfo(node) {\n      var _this4 = this;\n      var dataUrl = this.options.dataUrl || this.element.data(\"url\");\n      var getUrlFromString = function getUrlFromString(url) {\n        var urlInfo = {\n          url: url\n        };\n        setUrlInfoData(urlInfo);\n        return urlInfo;\n      };\n      var setUrlInfoData = function setUrlInfoData(urlInfo) {\n        if (node !== null && node !== void 0 && node.id) {\n          // Load on demand of a subtree; add node parameter\n          var data = {\n            node: node.id\n          };\n          urlInfo[\"data\"] = data;\n        } else {\n          // Add selected_node parameter\n          var selectedNodeId = _this4.getNodeIdToBeSelected();\n          if (selectedNodeId) {\n            var _data = {\n              selected_node: selectedNodeId\n            };\n            urlInfo[\"data\"] = _data;\n          }\n        }\n      };\n      if (typeof dataUrl === \"function\") {\n        return dataUrl(node);\n      } else if (typeof dataUrl === \"string\") {\n        return getUrlFromString(dataUrl);\n      } else if (dataUrl && _typeof(dataUrl) === \"object\") {\n        setUrlInfoData(dataUrl);\n        return dataUrl;\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"getNodeIdToBeSelected\",\n    value: function getNodeIdToBeSelected() {\n      if (this.options.saveState) {\n        return this.saveStateHandler.getNodeIdToBeSelected();\n      } else {\n        return null;\n      }\n    }\n  }, {\n    key: \"initTree\",\n    value: function initTree(data) {\n      var _this5 = this;\n      var doInit = function doInit() {\n        if (!_this5.isInitialized) {\n          _this5.isInitialized = true;\n          _this5._triggerEvent(\"tree.init\");\n        }\n      };\n      if (!this.options.nodeClass) {\n        return;\n      }\n      this.tree = new this.options.nodeClass(null, true, this.options.nodeClass);\n      this.selectNodeHandler.clear();\n      this.tree.loadFromData(data);\n      var mustLoadOnDemand = this.setInitialState();\n      this._refreshElements(null);\n      if (!mustLoadOnDemand) {\n        doInit();\n      } else {\n        // Load data on demand and then init the tree\n        this.setInitialStateOnDemand(doInit);\n      }\n    }\n\n    // Set initial state, either by restoring the state or auto-opening nodes\n    // result: must load nodes on demand?\n  }, {\n    key: \"setInitialState\",\n    value: function setInitialState() {\n      var _this6 = this;\n      var restoreState = function restoreState() {\n        // result: is state restored, must load on demand?\n        if (!_this6.options.saveState) {\n          return [false, false];\n        } else {\n          var state = _this6.saveStateHandler.getStateFromStorage();\n          if (!state) {\n            return [false, false];\n          } else {\n            var _mustLoadOnDemand = _this6.saveStateHandler.setInitialState(state);\n\n            // return true: the state is restored\n            return [true, _mustLoadOnDemand];\n          }\n        }\n      };\n      var autoOpenNodes = function autoOpenNodes() {\n        // result: must load on demand?\n        if (_this6.options.autoOpen === false) {\n          return false;\n        }\n        var maxLevel = _this6.getAutoOpenMaxLevel();\n        var mustLoadOnDemand = false;\n        _this6.tree.iterate(function (node, level) {\n          if (node.load_on_demand) {\n            mustLoadOnDemand = true;\n            return false;\n          } else if (!node.hasChildren()) {\n            return false;\n          } else {\n            node.is_open = true;\n            return level !== maxLevel;\n          }\n        });\n        return mustLoadOnDemand;\n      };\n      var _restoreState = restoreState(),\n        _restoreState2 = _slicedToArray(_restoreState, 2),\n        isRestored = _restoreState2[0],\n        mustLoadOnDemand = _restoreState2[1]; // eslint-disable-line prefer-const\n\n      if (!isRestored) {\n        mustLoadOnDemand = autoOpenNodes();\n      }\n      return mustLoadOnDemand;\n    }\n\n    // Set the initial state for nodes that are loaded on demand\n    // Call cb_finished when done\n  }, {\n    key: \"setInitialStateOnDemand\",\n    value: function setInitialStateOnDemand(cbFinished) {\n      var _this7 = this;\n      var restoreState = function restoreState() {\n        if (!_this7.options.saveState) {\n          return false;\n        } else {\n          var state = _this7.saveStateHandler.getStateFromStorage();\n          if (!state) {\n            return false;\n          } else {\n            _this7.saveStateHandler.setInitialStateOnDemand(state, cbFinished);\n            return true;\n          }\n        }\n      };\n      var autoOpenNodes = function autoOpenNodes() {\n        var maxLevel = _this7.getAutoOpenMaxLevel();\n        var loadingCount = 0;\n        var loadAndOpenNode = function loadAndOpenNode(node) {\n          loadingCount += 1;\n          _this7._openNode(node, false, function () {\n            loadingCount -= 1;\n            openNodes();\n          });\n        };\n        var openNodes = function openNodes() {\n          _this7.tree.iterate(function (node, level) {\n            if (node.load_on_demand) {\n              if (!node.is_loading) {\n                loadAndOpenNode(node);\n              }\n              return false;\n            } else {\n              _this7._openNode(node, false, null);\n              return level !== maxLevel;\n            }\n          });\n          if (loadingCount === 0) {\n            cbFinished();\n          }\n        };\n        openNodes();\n      };\n      if (!restoreState()) {\n        autoOpenNodes();\n      }\n    }\n  }, {\n    key: \"getAutoOpenMaxLevel\",\n    value: function getAutoOpenMaxLevel() {\n      if (this.options.autoOpen === true) {\n        return -1;\n      } else if (typeof this.options.autoOpen === \"number\") {\n        return this.options.autoOpen;\n      } else if (typeof this.options.autoOpen === \"string\") {\n        return parseInt(this.options.autoOpen, 10);\n      } else {\n        return 0;\n      }\n    }\n  }, {\n    key: \"getClickTarget\",\n    value: function getClickTarget(element) {\n      var $target = jQuery(element);\n      var $button = $target.closest(\".jqtree-toggler\");\n      if ($button.length) {\n        var _node4 = this.getNode($button);\n        if (_node4) {\n          return {\n            type: \"button\",\n            node: _node4\n          };\n        }\n      } else {\n        var $el = $target.closest(\".jqtree-element\");\n        if ($el.length) {\n          var _node5 = this.getNode($el);\n          if (_node5) {\n            return {\n              type: \"label\",\n              node: _node5\n            };\n          }\n        }\n      }\n      return null;\n    }\n  }, {\n    key: \"getNode\",\n    value: function getNode($element) {\n      var $li = $element.closest(\"li.jqtree_common\");\n      if ($li.length === 0) {\n        return null;\n      } else {\n        return $li.data(\"node\");\n      }\n    }\n  }, {\n    key: \"saveState\",\n    value: function saveState() {\n      if (this.options.saveState) {\n        this.saveStateHandler.saveState();\n      }\n    }\n  }, {\n    key: \"selectCurrentNode\",\n    value: function selectCurrentNode(mustSetFocus) {\n      var node = this.getSelectedNode();\n      if (node) {\n        var nodeElement = this._getNodeElementForNode(node);\n        if (nodeElement) {\n          nodeElement.select(mustSetFocus);\n        }\n      }\n    }\n  }, {\n    key: \"deselectCurrentNode\",\n    value: function deselectCurrentNode() {\n      var node = this.getSelectedNode();\n      if (node) {\n        this.removeFromSelection(node);\n      }\n    }\n  }, {\n    key: \"getDefaultClosedIcon\",\n    value: function getDefaultClosedIcon() {\n      if (this.options.rtl) {\n        // triangle to the left\n        return \"&#x25c0;\";\n      } else {\n        // triangle to the right\n        return \"&#x25ba;\";\n      }\n    }\n  }, {\n    key: \"getRtlOption\",\n    value: function getRtlOption() {\n      if (this.options.rtl != null) {\n        return this.options.rtl;\n      } else {\n        var dataRtl = this.element.data(\"rtl\");\n        if (dataRtl !== null && dataRtl !== false && dataRtl !== undefined) {\n          return true;\n        } else {\n          return false;\n        }\n      }\n    }\n  }, {\n    key: \"doSelectNode\",\n    value: function doSelectNode(node, optionsParam) {\n      var _this8 = this;\n      var saveState = function saveState() {\n        if (_this8.options.saveState) {\n          _this8.saveStateHandler.saveState();\n        }\n      };\n      if (!node) {\n        // Called with empty node -> deselect current node\n        this.deselectCurrentNode();\n        saveState();\n        return;\n      }\n      var defaultOptions = {\n        mustSetFocus: true,\n        mustToggle: true\n      };\n      var selectOptions = _objectSpread(_objectSpread({}, defaultOptions), optionsParam || {});\n      var canSelect = function canSelect() {\n        if (_this8.options.onCanSelectNode) {\n          return _this8.options.selectable === true && _this8.options.onCanSelectNode(node);\n        } else {\n          return _this8.options.selectable === true;\n        }\n      };\n      var openParents = function openParents() {\n        var parent = node.parent;\n        if (parent && parent.parent && !parent.is_open) {\n          _this8.openNode(parent, false);\n        }\n      };\n      if (!canSelect()) {\n        return;\n      }\n      if (this.selectNodeHandler.isNodeSelected(node)) {\n        if (selectOptions.mustToggle) {\n          this.deselectCurrentNode();\n          this._triggerEvent(\"tree.select\", {\n            node: null,\n            previous_node: node\n          });\n        }\n      } else {\n        var deselectedNode = this.getSelectedNode() || null;\n        this.deselectCurrentNode();\n        this.addToSelection(node, selectOptions.mustSetFocus);\n        this._triggerEvent(\"tree.select\", {\n          node: node,\n          deselected_node: deselectedNode\n        });\n        openParents();\n      }\n      saveState();\n    }\n  }, {\n    key: \"doLoadData\",\n    value: function doLoadData(data, parentNode) {\n      if (data) {\n        if (parentNode) {\n          this.deselectNodes(parentNode);\n          this.loadSubtree(data, parentNode);\n        } else {\n          this.initTree(data);\n        }\n        if (this.isDragging()) {\n          this.dndHandler.refresh();\n        }\n      }\n      this._triggerEvent(\"tree.load_data\", {\n        tree_data: data,\n        parent_node: parentNode\n      });\n    }\n  }, {\n    key: \"deselectNodes\",\n    value: function deselectNodes(parentNode) {\n      var selectedNodesUnderParent = this.selectNodeHandler.getSelectedNodesUnder(parentNode);\n      var _iterator = _createForOfIteratorHelper(selectedNodesUnderParent),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var n = _step.value;\n          this.selectNodeHandler.removeFromSelection(n);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"loadSubtree\",\n    value: function loadSubtree(data, parentNode) {\n      parentNode.loadFromData(data);\n      parentNode.load_on_demand = false;\n      parentNode.is_loading = false;\n      this._refreshElements(parentNode);\n    }\n  }, {\n    key: \"doLoadDataFromUrl\",\n    value: function doLoadDataFromUrl(urlInfoParam, parentNode, onFinished) {\n      var urlInfo = urlInfoParam || this.getDataUrlInfo(parentNode);\n      this.dataLoader.loadFromUrl(urlInfo, parentNode, onFinished);\n    }\n  }, {\n    key: \"loadFolderOnDemand\",\n    value: function loadFolderOnDemand(node) {\n      var _this9 = this;\n      var slide = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var onFinished = arguments.length > 2 ? arguments[2] : undefined;\n      node.is_loading = true;\n      this.doLoadDataFromUrl(null, node, function () {\n        _this9._openNode(node, slide, onFinished);\n      });\n    }\n  }]);\n  return JqTreeWidget;\n}(_mouse[\"default\"]);\nexports.JqTreeWidget = JqTreeWidget;\n_defineProperty(JqTreeWidget, \"defaults\", {\n  animationSpeed: \"fast\",\n  autoEscape: true,\n  autoOpen: false,\n  // true / false / int (open n levels starting at 0)\n  buttonLeft: true,\n  // The symbol to use for a closed node -  BLACK RIGHT-POINTING POINTER\n  // http://www.fileformat.info/info/unicode/char/25ba/index.htm\n  closedIcon: undefined,\n  data: undefined,\n  dataFilter: undefined,\n  dataUrl: undefined,\n  dragAndDrop: false,\n  keyboardSupport: true,\n  nodeClass: _node6.Node,\n  onCanMove: undefined,\n  // Can this node be moved?\n  onCanMoveTo: undefined,\n  // Can this node be moved to this position? function(moved_node, target_node, position)\n  onCanSelectNode: undefined,\n  onCreateLi: undefined,\n  onDragMove: undefined,\n  onDragStop: undefined,\n  onGetStateFromStorage: undefined,\n  onIsMoveHandle: undefined,\n  onLoadFailed: undefined,\n  onLoading: undefined,\n  onSetStateFromStorage: undefined,\n  openedIcon: \"&#x25bc;\",\n  openFolderDelay: 500,\n  // The delay for opening a folder during drag and drop; the value is in milliseconds\n  // The symbol to use for an open node -  BLACK DOWN-POINTING TRIANGLE\n  // http://www.fileformat.info/info/unicode/char/25bc/index.htm\n  rtl: undefined,\n  // right-to-left support; true / false (default)\n  saveState: false,\n  // true / false / string (cookie name)\n  selectable: true,\n  showEmptyFolder: false,\n  slide: true,\n  // must display slide animation?\n  startDndDelay: 300,\n  // The delay for starting dnd (in milliseconds)\n  tabIndex: 0,\n  useContextMenu: true\n});\n_simple[\"default\"].register(JqTreeWidget, \"tree\");","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isInt = exports.isFunction = exports.getBoolString = void 0;\nvar isInt = function isInt(n) {\n  return typeof n === \"number\" && n % 1 === 0;\n};\nexports.isInt = isInt;\nvar isFunction = function isFunction(v) {\n  return typeof v === \"function\";\n};\nexports.isFunction = isFunction;\nvar getBoolString = function getBoolString(value) {\n  return value ? \"true\" : \"false\";\n};\nexports.getBoolString = getBoolString;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar version = \"1.7.0\";\nvar _default = version;\nexports[\"default\"] = _default;"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_defineProperties","target","props","i","length","descriptor","configurable","writable","defineProperty","_toPropertyKey","key","_defineProperty","value","arg","input","hint","prim","toPrimitive","undefined","res","call","TypeError","String","Number","_toPrimitive","exports","DataLoader","treeWidget","instance","Constructor","_classCallCheck","this","protoProps","staticProps","urlInfo","parentNode","onFinished","_this","$el","getDomElement","addLoadingClass","notifyLoading","stopLoading","removeLoadingClass","submitRequest","data","loadData","parseData","jqXHR","options","onLoadFailed","addClass","removeClass","jQuery","element","isLoading","node","onLoading","_triggerEvent","urlInfoInput","handleSuccess","handleError","_ajaxSettings$method","ajaxSettings","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","_objectSpread","method","cache","dataType","success","error","url","toUpperCase","ajax","dataFilter","parsedData","JSON","parse","HitAreasGenerator","DragAndDropHandler","_node","_createForOfIteratorHelper","o","allowArrayLike","it","Array","isArray","minLen","_arrayLikeToArray","n","toString","slice","name","from","test","_unsupportedIterableToArray","F","s","done","e","_e","f","err","normalCompletion","didErr","step","next","_e2","arr","len","arr2","_setPrototypeOf","p","setPrototypeOf","bind","__proto__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","self","_assertThisInitialized","_possibleConstructorReturn","ReferenceError","getPrototypeOf","_createClass","hoveredArea","hitAreas","isDragging","currentItem","positionInfo","$element","mustCaptureElement","onIsMoveHandle","nodeElement","_getNodeElement","onCanMove","_this$treeWidget$opti","pageX","pageY","refresh","offset","left","top","dragElement","DragElement","autoEscape","move","area","findHoveredArea","canMoveToArea","isFolder","stopOpenFolderTimer","mustOpenFolderTimer","startOpenFolderTimer","updateDropHint","removeDropHint","onDragMove","originalEvent","moveItem","clear","removeHover","removeHitAreas","onDragStop","generateHitAreas","_getNodeElementForNode","hitAreasGenerator","tree","getTreeDimensions","bottom","generate","is","onCanMoveTo","positionName","getPositionName","position","remove","previousGhost","x","y","dimensions","right","low","high","mid","is_open","Position","Inside","addDropHint","folder","openFolderDelay","openFolderTimer","window","setTimeout","_openNode","slide","clearTimeout","_this2","None","movedNode","targetNode","previousParent","parent","doMove","moveNode","empty","_refreshElements","move_info","moved_node","target_node","previous_parent","do_move","original_event","isDefaultPrevented","el","width","height","_getScrollLeft","_VisibleNodeIterator","subClass","superClass","create","_inherits","_super","currentNode","treeBottom","_this4","positions","lastTop","iterate","_step","previousTop","group","_iterator","generateHitAreasForGroup","children","addPosition","getTop","nextNode","After","Before","positionsInGroup","positionCount","Math","min","areaHeight","round","areaTop","VisibleNodeIterator","_this3","isFirstNode","_iterateNode","mustIterateInside","hasChildren","handleFirstNode","handleOpenFolder","handleClosedFolder","handleNode","childrenLength","_","handleAfterOpenFolder","nodeName","offsetX","offsetY","$tree","text","html","css","append","_util","ElementsRenderer","openedIconElement","createButtonElement","openedIcon","closedIconElement","closedIcon","fromNode","renderFromNode","renderFromRoot","createDomElements","$previousLi","li","createLi","getLevel","attachNodeData","after","isRootNode","level","ul","createUl","appendChild","child","classString","role","rtl","dragAndDrop","document","createElement","className","concat","setAttribute","isSelected","selectNodeHandler","isNodeSelected","isEmptyFolder","showEmptyFolder","createFolderLi","createNodeLi","onCreateLi","buttonClasses","getButtonClasses","folderClasses","getFolderClasses","iconElement","div","buttonLink","cloneNode","buttonLeft","createTitleSpan","liClasses","join","isOpen","titleSpan","classes","getBoolString","tabIndex","textContent","innerHTML","is_loading","createTextNode","KeyHandler","canHandleKeyboard","selectedNode","getSelectedNode","which","DOWN","moveDown","UP","moveUp","RIGHT","moveRight","LEFT","moveLeft","keyboardSupport","on","handleKeyDown","off","selectNode","getNextVisibleNode","getPreviousVisibleNode","openNode","closeNode","getParent","scrollHandler","isScrolledIntoView","find","scrollToNode","isFocusOnTree","_simple","__esModule","getPositionInfoFromMouseEvent","getPositionInfoFromTouch","touch","MouseWidget","_SimpleWidget","_len","args","_key","button","handleMouseDown","cancelable","preventDefault","handleMouseMove","handleMouseUp","touches","changedTouches","get","addEventListener","mouseDown","passive","touchStart","isMouseStarted","mouseDelayTimer","isMouseDelayMet","mouseDownInfo","removeEventListener","removeMouseMoveEventListeners","mouseCapture","handleStartMouse","mouseMove","touchMove","mouseUp","touchEnd","mouseDelay","getMouseDelay","startMouseDelayTimer","mouseDrag","mouseStart","mouseStop","_default","getPosition","Node","positionNames","before","inside","none","hasOwnProperty","isNodeRecordWithChildren","isRoot","nodeClass","load_on_demand","setData","idMapping","Map","removeChildren","createNode","addChild","loadFromData","setParent","index","splice","doRemoveChild","indexOf","callback","_iterate","_step2","_iterator2","isParentOf","addChildAtPosition","getChildIndex","getDataFromNodes","nodes","map","tmpNode","k","v","getNodeByCallback","nodeInfo","_node2","childIndex","_node3","newParent","_step3","originalParent","_iterator3","removeChild","nodeId","id","set","_this$tree","removeNodeFromIndex","previousIndex","nextIndex","nextSibling","getNextSibling","getNextNode","previousSibling","getPreviousSibling","getLastChild","lastChild","nodeData","addChildren","childrenData","_step4","_iterator4","_node4","initFromData","_this$tree2","addNodeToIndex","_this$tree3","_this$tree4","getNodeClass","NodeElement","FolderElement","BorderDropHint","init","mustShowBorderDropHint","GhostDropHint","mustSetFocus","$li","getLi","attr","$span","getSpan","trigger","removeAttr","blur","_NodeElement","animationSpeed","$button","getButton","buttonEl","icon","renderer","doOpen","getUl","slideDown","show","doClose","slideUp","hide","scrollLeft","$div","elWidth","max","elHeight","outerHeight","$hint","$ghost","moveAfter","moveBefore","moveInsideOpenFolder","moveInside","childElement","SaveStateHandler","state","stringify","getState","onSetStateFromStorage","supportsLocalStorage","localStorage","setItem","getKeyName","jsonData","loadFromStorage","parseState","selectedNodeIds","openNodes","open_nodes","selected_node","getSelectedNodes","mustLoadOnDemand","openInitialNodes","resetSelection","selectInitialNodes","cbFinished","doSetInitialStateOnDemand","getStateFromStorage","isInt","onGetStateFromStorage","getItem","nodeIds","getNodeById","selectCount","addToSelection","removeFromSelection","nodeIdsParam","selectedNodes","loadingCount","newNodesIds","loadAndOpenNode","saveState","_supportsLocalStorage","sessionStorage","removeItem","testSupport","ScrollHandler","isInitialized","ensureInit","checkVerticalScrolling","checkHorizontalScrolling","$scrollParent","scrollTop","treeTop","elementBottom","viewBottom","elementTop","viewTop","scrollParentTop","_offset","setDocumentAsScrollParent","cssAttributes","hasOverFlow","_i","_cssAttributes","overflowValue","parents","getParentWithOverflow","tagName","initScrollParent","scrollParent","offsetHeight","refreshHitAreas","dndHandler","handleVerticalScrollingWithScrollParent","handleVerticalScrollingWithDocument","handleHorizontalScrollingWithParent","handleHorizontalScrollingWithDocument","scrollParentOffset","canScrollRight","clientWidth","scrollWidth","canScrollLeft","rightEdge","leftEdge","isNearRightEdge","isNearLeftEdge","$document","windowWidth","SelectNodeHandler","Set","selectedSingleNode","has","includeChildren","add","activeElement","_containsElement","_register","widgetClass","widgetName","getDataKey","getWidgetData","dataKey","widget","SimpleWidget","createWidget","fn","argument1","functionName","destroy","removeData","destroyWidget","widgetFunction","callFunction","defaults","deinit","JqTreeWidget","_version","_interopRequireDefault","_dragAndDropHandler","_elementsRenderer","_dataLoader","_keyHandler","_mouse","_saveStateHandler","_scrollHandler","_selectNodeHandler","_node6","_nodeElement","_slicedToArray","_arrayWithHoles","_s","_x","_r","_arr","_n","_d","_iterableToArrayLimit","_nonIterableRest","_get","property","receiver","base","_superPropBase","desc","NODE_PARAM_IS_EMPTY","PARAM_IS_EMPTY","_MouseWidget","clickTarget","getClickTarget","type","toggle","stopPropagation","click_event","doSelectNode","closest","getNode","slideParam","Error","optionsParam","getData","doLoadData","param1","param2","param3","doLoadDataFromUrl","getNodeByName","getNodeByNameMustExist","getNodesByProperty","_parseParams","_this2$options$slide","isFunction","parseParams","_parseParams2","close","newNodeInfo","existingNode","newNode","addAfter","addBefore","addParent","parentNodeParam","prepend","idIsChanged","subtree","positionIndex","saveStateHandler","select","deselect","nodeOffset","nodeTop","treeOffset","scrollToY","setInitialState","option","keyHandler","eventName","values","event","Event","doOpenNode","_slide","_onFinished","open","loadFolderOnDemand","mustSelect","isSelectedNodeInSubtree","render","selectCurrentNode","getScrollLeft","getRtlOption","getDefaultClosedIcon","dataLoader","initData","handleClick","handleDblclick","useContextMenu","handleContextmenu","checkScrolling","_this$options$startDn","startDndDelay","getDataUrlInfo","dataUrl","setUrlInfoData","selectedNodeId","getNodeIdToBeSelected","_data","_this5","doInit","setInitialStateOnDemand","_this6","_restoreState2","restoreState","isRestored","autoOpen","maxLevel","getAutoOpenMaxLevel","autoOpenNodes","_this7","parseInt","$target","_node5","dataRtl","_this8","deselectCurrentNode","selectOptions","mustToggle","onCanSelectNode","selectable","previous_node","deselectedNode","deselected_node","deselectNodes","loadSubtree","initTree","tree_data","parent_node","_e3","getSelectedNodesUnder","urlInfoParam","loadFromUrl","_this9","register"],"sourceRoot":""}