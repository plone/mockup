(self.webpackChunk_plone_mockup=self.webpackChunk_plone_mockup||[]).push([[56507],{88190:function(e,t,n){n(7440)},7440:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");e.add("code",(e=>((e=>{e.addCommand("mceCodeEditor",(()=>{(e=>{const t=(e=>e.getContent({source_view:!0}))(e);e.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:t},onSubmit:t=>{((e,t)=>{e.focus(),e.undoManager.transact((()=>{e.setContent(t)})),e.selection.setCursorLocation(),e.nodeChanged()})(e,t.getData().code),t.close()}})})(e)}))})(e),(e=>{const t=()=>e.execCommand("mceCodeEditor");e.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:t}),e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:t})})(e),{})))}()},3214:function(){!function(){"use strict";tinymce.util.Tools.resolve("tinymce.PluginManager").add("code",(e=>((e=>{e.addCommand("mceCodeEditor",(()=>{(e=>{const t=(e=>e.getContent({source_view:!0}))(e);e.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:t},onSubmit:t=>{((e,t)=>{e.focus(),e.undoManager.transact((()=>{e.setContent(t)})),e.selection.setCursorLocation(),e.nodeChanged()})(e,t.getData().code),t.close()}})})(e)}))})(e),(e=>{const t=()=>e.execCommand("mceCodeEditor");e.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:t}),e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:t})})(e),{})))}()},82069:function(e,t,n){n(53292)},53292:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>!(e=>null==e)(e),n=()=>{};class o{constructor(e,t){this.tag=e,this.value=t}static some(e){return new o(!0,e)}static none(){return o.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?o.some(e(this.value)):o.none()}bind(e){return this.tag?e(this.value):o.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:o.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return t(e)?o.some(e):o.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}o.singletonNone=new o(!1);const r=e=>((e,t)=>t>=0&&t<e.length?o.some(e[t]):o.none())(e,0);var a=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");const s="undefined"!=typeof window?window:Function("return this;")(),l=function(e,t,n){const o=window.Prism;window.Prism={manual:!0};var r=function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,o={},r={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof a?new a(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var o,a;switch(n=n||{},r.util.type(t)){case"Object":if(a=r.util.objId(t),n[a])return n[a];for(var s in o={},n[a]=o,t)t.hasOwnProperty(s)&&(o[s]=e(t[s],n));return o;case"Array":return a=r.util.objId(t),n[a]?n[a]:(o=[],n[a]=o,t.forEach((function(t,r){o[r]=e(t,n)})),o);default:return t}},getLanguage:function(e){for(;e;){var n=t.exec(e.className);if(n)return n[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,n){e.className=e.className.replace(RegExp(t,"gi"),""),e.classList.add("language-"+n)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(o){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(o.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var o="no-"+t;e;){var r=e.classList;if(r.contains(t))return!0;if(r.contains(o))return!1;e=e.parentElement}return!!n}},languages:{plain:o,plaintext:o,text:o,txt:o,extend:function(e,t){var n=r.util.clone(r.languages[e]);for(var o in t)n[o]=t[o];return n},insertBefore:function(e,t,n,o){var a=(o=o||r.languages)[e],s={};for(var l in a)if(a.hasOwnProperty(l)){if(l==t)for(var i in n)n.hasOwnProperty(i)&&(s[i]=n[i]);n.hasOwnProperty(l)||(s[l]=a[l])}var c=o[e];return o[e]=s,r.languages.DFS(r.languages,(function(t,n){n===c&&t!=e&&(this[t]=s)})),s},DFS:function e(t,n,o,a){a=a||{};var s=r.util.objId;for(var l in t)if(t.hasOwnProperty(l)){n.call(t,l,t[l],o||l);var i=t[l],c=r.util.type(i);"Object"!==c||a[s(i)]?"Array"!==c||a[s(i)]||(a[s(i)]=!0,e(i,n,l,a)):(a[s(i)]=!0,e(i,n,null,a))}}},plugins:{},highlightAll:function(e,t){r.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var o={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",o),o.elements=Array.prototype.slice.apply(o.container.querySelectorAll(o.selector)),r.hooks.run("before-all-elements-highlight",o);for(var a,s=0;a=o.elements[s++];)r.highlightElement(a,!0===t,o.callback)},highlightElement:function(t,n,o){var a=r.util.getLanguage(t),s=r.languages[a];r.util.setLanguage(t,a);var l=t.parentElement;l&&"pre"===l.nodeName.toLowerCase()&&r.util.setLanguage(l,a);var i={element:t,language:a,grammar:s,code:t.textContent};function c(e){i.highlightedCode=e,r.hooks.run("before-insert",i),i.element.innerHTML=i.highlightedCode,r.hooks.run("after-highlight",i),r.hooks.run("complete",i),o&&o.call(i.element)}if(r.hooks.run("before-sanity-check",i),(l=i.element.parentElement)&&"pre"===l.nodeName.toLowerCase()&&!l.hasAttribute("tabindex")&&l.setAttribute("tabindex","0"),!i.code)return r.hooks.run("complete",i),void(o&&o.call(i.element));if(r.hooks.run("before-highlight",i),i.grammar)if(n&&e.Worker){var u=new Worker(r.filename);u.onmessage=function(e){c(e.data)},u.postMessage(JSON.stringify({language:i.language,code:i.code,immediateClose:!0}))}else c(r.highlight(i.code,i.grammar,i.language));else c(r.util.encode(i.code))},highlight:function(e,t,n){var o={code:e,grammar:t,language:n};if(r.hooks.run("before-tokenize",o),!o.grammar)throw new Error('The language "'+o.language+'" has no grammar.');return o.tokens=r.tokenize(o.code,o.grammar),r.hooks.run("after-tokenize",o),a.stringify(r.util.encode(o.tokens),o.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var o in n)t[o]=n[o];delete t.rest}var r=new i;return c(r,r.head,e),l(e,r,t,r.head,0),function(e){var t=[],n=e.head.next;for(;n!==e.tail;)t.push(n.value),n=n.next;return t}(r)},hooks:{all:{},add:function(e,t){var n=r.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=r.hooks.all[e];if(n&&n.length)for(var o,a=0;o=n[a++];)o(t)}},Token:a};function a(e,t,n,o){this.type=e,this.content=t,this.alias=n,this.length=0|(o||"").length}function s(e,t,n,o){e.lastIndex=t;var r=e.exec(n);if(r&&o&&r[1]){var a=r[1].length;r.index+=a,r[0]=r[0].slice(a)}return r}function l(e,t,n,o,i,d){for(var m in n)if(n.hasOwnProperty(m)&&n[m]){var p=n[m];p=Array.isArray(p)?p:[p];for(var g=0;g<p.length;++g){if(d&&d.cause==m+","+g)return;var h=p[g],b=h.inside,f=!!h.lookbehind,y=!!h.greedy,v=h.alias;if(y&&!h.pattern.global){var w=h.pattern.toString().match(/[imsuy]*$/)[0];h.pattern=RegExp(h.pattern.source,w+"g")}for(var x=h.pattern||h,S=o.next,k=i;S!==t.tail&&!(d&&k>=d.reach);k+=S.value.length,S=S.next){var C=S.value;if(t.length>e.length)return;if(!(C instanceof a)){var T,_=1;if(y){if(!(T=s(x,k,e,f))||T.index>=e.length)break;var A=T.index,E=T.index+T[0].length,N=k;for(N+=S.value.length;A>=N;)N+=(S=S.next).value.length;if(k=N-=S.value.length,S.value instanceof a)continue;for(var O=S;O!==t.tail&&(N<E||"string"==typeof O.value);O=O.next)_++,N+=O.value.length;_--,C=e.slice(k,N),T.index-=k}else if(!(T=s(x,0,C,f)))continue;A=T.index;var F=T[0],D=C.slice(0,A),R=C.slice(A+F.length),P=k+C.length;d&&P>d.reach&&(d.reach=P);var M=S.prev;if(D&&(M=c(t,M,D),k+=D.length),u(t,M,_),S=c(t,M,new a(m,b?r.tokenize(F,b):F,v,F)),R&&c(t,S,R),_>1){var B={cause:m+","+g,reach:P};l(e,t,n,S.prev,k,B),d&&B.reach>d.reach&&(d.reach=B.reach)}}}}}}function i(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function c(e,t,n){var o=t.next,r={value:n,prev:t,next:o};return t.next=r,o.prev=r,e.length++,r}function u(e,t,n){for(var o=t.next,r=0;r<n&&o!==e.tail;r++)o=o.next;t.next=o,o.prev=t,e.length-=r}if(e.Prism=r,a.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var o="";return t.forEach((function(t){o+=e(t,n)})),o}var a={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},s=t.alias;s&&(Array.isArray(s)?Array.prototype.push.apply(a.classes,s):a.classes.push(s)),r.hooks.run("wrap",a);var l="";for(var i in a.attributes)l+=" "+i+'="'+(a.attributes[i]||"").replace(/"/g,"&quot;")+'"';return"<"+a.tag+' class="'+a.classes.join(" ")+'"'+l+">"+a.content+"</"+a.tag+">"},!e.document)return e.addEventListener?(r.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),o=n.language,a=n.code,s=n.immediateClose;e.postMessage(r.highlight(a,r.languages[o],o)),s&&e.close()}),!1),r):r;var d=r.util.currentScript();function m(){r.manual||r.highlightAll()}if(d&&(r.filename=d.src,d.hasAttribute("data-manual")&&(r.manual=!0)),!r.manual){var p=document.readyState;"loading"===p||"interactive"===p&&d&&d.defer?document.addEventListener("DOMContentLoaded",m):window.requestAnimationFrame?window.requestAnimationFrame(m):window.setTimeout(m,16)}return r}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});return void 0!==t&&t.exports&&(t.exports=r),void 0!==e&&(e.Prism=r),r.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(e){function t(e,t){return"___"+e.toUpperCase()+t+"___"}Object.defineProperties(e.languages["markup-templating"]={},{buildPlaceholders:{value:function(n,o,r,a){if(n.language===o){var s=n.tokenStack=[];n.code=n.code.replace(r,(function(e){if("function"==typeof a&&!a(e))return e;for(var r,l=s.length;-1!==n.code.indexOf(r=t(o,l));)++l;return s[l]=e,r})),n.grammar=e.languages.markup}}},tokenizePlaceholders:{value:function(n,o){if(n.language===o&&n.tokenStack){n.grammar=e.languages[o];var r=0,a=Object.keys(n.tokenStack);!function s(l){for(var i=0;i<l.length&&!(r>=a.length);i++){var c=l[i];if("string"==typeof c||c.content&&"string"==typeof c.content){var u=a[r],d=n.tokenStack[u],m="string"==typeof c?c:c.content,p=t(o,u),g=m.indexOf(p);if(g>-1){++r;var h=m.substring(0,g),b=new e.Token(o,e.tokenize(d,n.grammar),"language-"+o,d),f=m.substring(g+p.length),y=[];h&&y.push.apply(y,s([h])),y.push(b),f&&y.push.apply(y,s([f])),"string"==typeof c?l.splice.apply(l,[i,1].concat(y)):c.content=y}}else c.content&&s(c.content)}return l}(n.tokens)}}}})}(r),r.languages.c=r.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),r.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),r.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},r.languages.c.string],char:r.languages.c.char,comment:r.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:r.languages.c}}}}),r.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete r.languages.c.boolean,function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,(function(){return t.source}));e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,(function(){return n}))+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(r),function(e){function t(e,t){return e.replace(/<<(\d+)>>/g,(function(e,n){return"(?:"+t[+n]+")"}))}function n(e,n,o){return RegExp(t(e,n),o||"")}function o(e,t){for(var n=0;n<t;n++)e=e.replace(/<<self>>/g,(function(){return"(?:"+e+")"}));return e.replace(/<<self>>/g,"[^\\s\\S]")}var r="bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",a="class enum interface record struct",s="add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",l="abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield";function i(e){return"\\b(?:"+e.trim().replace(/ /g,"|")+")\\b"}var c=i(a),u=RegExp(i(r+" "+a+" "+s+" "+l)),d=i(a+" "+s+" "+l),m=i(r+" "+a+" "+l),p=o(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),g=o(/\((?:[^()]|<<self>>)*\)/.source,2),h=/@?\b[A-Za-z_]\w*\b/.source,b=t(/<<0>>(?:\s*<<1>>)?/.source,[h,p]),f=t(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[d,b]),y=/\[\s*(?:,\s*)*\]/.source,v=t(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[f,y]),w=t(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[p,g,y]),x=t(/\(<<0>>+(?:,<<0>>+)+\)/.source,[w]),S=t(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[x,f,y]),k={keyword:u,punctuation:/[<>()?,.:[\]]/},C=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,T=/"(?:\\.|[^\\"\r\n])*"/.source,_=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;e.languages.csharp=e.languages.extend("clike",{string:[{pattern:n(/(^|[^$\\])<<0>>/.source,[_]),lookbehind:!0,greedy:!0},{pattern:n(/(^|[^@$\\])<<0>>/.source,[T]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:n(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[f]),lookbehind:!0,inside:k},{pattern:n(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[h,S]),lookbehind:!0,inside:k},{pattern:n(/(\busing\s+)<<0>>(?=\s*=)/.source,[h]),lookbehind:!0},{pattern:n(/(\b<<0>>\s+)<<1>>/.source,[c,b]),lookbehind:!0,inside:k},{pattern:n(/(\bcatch\s*\(\s*)<<0>>/.source,[f]),lookbehind:!0,inside:k},{pattern:n(/(\bwhere\s+)<<0>>/.source,[h]),lookbehind:!0},{pattern:n(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[v]),lookbehind:!0,inside:k},{pattern:n(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[S,m,h]),inside:k}],keyword:u,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),e.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),e.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:n(/([(,]\s*)<<0>>(?=\s*:)/.source,[h]),lookbehind:!0,alias:"punctuation"}}),e.languages.insertBefore("csharp","class-name",{namespace:{pattern:n(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[h]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:n(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[g]),lookbehind:!0,alias:"class-name",inside:k},"return-type":{pattern:n(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[S,f]),inside:k,alias:"class-name"},"constructor-invocation":{pattern:n(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[S]),lookbehind:!0,inside:k,alias:"class-name"},"generic-method":{pattern:n(/<<0>>\s*<<1>>(?=\s*\()/.source,[h,p]),inside:{function:n(/^<<0>>/.source,[h]),generic:{pattern:RegExp(p),alias:"class-name",inside:k}}},"type-list":{pattern:n(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[c,b,h,S,u.source,g,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:n(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[b,g]),lookbehind:!0,greedy:!0,inside:e.languages.csharp},keyword:u,"class-name":{pattern:RegExp(S),greedy:!0,inside:k},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var A=T+"|"+C,E=t(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[A]),N=o(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[E]),2),O=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,F=t(/<<0>>(?:\s*\(<<1>>*\))?/.source,[f,N]);e.languages.insertBefore("csharp","class-name",{attribute:{pattern:n(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[O,F]),lookbehind:!0,greedy:!0,inside:{target:{pattern:n(/^<<0>>(?=\s*:)/.source,[O]),alias:"keyword"},"attribute-arguments":{pattern:n(/\(<<0>>*\)/.source,[N]),inside:e.languages.csharp},"class-name":{pattern:RegExp(f),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var D=/:[^}\r\n]+/.source,R=o(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[E]),2),P=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[R,D]),M=o(t(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[A]),2),B=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[M,D]);function j(t,o){return{interpolation:{pattern:n(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[t]),lookbehind:!0,inside:{"format-string":{pattern:n(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[o,D]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:e.languages.csharp}}},string:/[\s\S]+/}}e.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:n(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[P]),lookbehind:!0,greedy:!0,inside:j(P,R)},{pattern:n(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[B]),lookbehind:!0,greedy:!0,inside:j(B,M)}],char:{pattern:RegExp(C),greedy:!0}}),e.languages.dotnet=e.languages.cs=e.languages.csharp}(r),function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(r),function(e){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,o={pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};e.languages.java=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[o,{pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:o.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+n+/[A-Z]\w*\b/.source),lookbehind:!0,inside:o.inside}],keyword:t,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":o,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+n+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:o.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+n+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:o.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0,inside:{punctuation:/\./}}})}(r),r.languages.javascript=r.languages.extend("clike",{"class-name":[r.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),r.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,r.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:r.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:r.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:r.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:r.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:r.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),r.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:r.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),r.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),r.languages.markup&&(r.languages.markup.tag.addInlined("script","javascript"),r.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),r.languages.js=r.languages.javascript,r.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},r.languages.markup.tag.inside["attr-value"].inside.entity=r.languages.markup.entity,r.languages.markup.doctype.inside["internal-subset"].inside=r.languages.markup,r.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(r.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:r.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};o["language-"+t]={pattern:/[\s\S]+/,inside:r.languages[t]};var a={};a[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:o},r.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(r.languages.markup.tag,"addAttribute",{value:function(e,t){r.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:r.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),r.languages.html=r.languages.markup,r.languages.mathml=r.languages.markup,r.languages.svg=r.languages.markup,r.languages.xml=r.languages.extend("markup",{}),r.languages.ssml=r.languages.xml,r.languages.atom=r.languages.xml,r.languages.rss=r.languages.xml,function(e){var t=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,n=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],o=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,r=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,a=/[{}\[\](),:;]/;e.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:t,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:o,operator:r,punctuation:a};var s={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:e.languages.php},l=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:s}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:s}}];e.languages.insertBefore("php","variable",{string:l,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:t,string:l,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,number:o,operator:r,punctuation:a}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),e.hooks.add("before-tokenize",(function(t){if(/<\?/.test(t.code)){e.languages["markup-templating"].buildPlaceholders(t,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g)}})),e.hooks.add("after-tokenize",(function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"php")}))}(r),r.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},r.languages.python["string-interpolation"].inside.interpolation.inside.rest=r.languages.python,r.languages.py=r.languages.python,function(e){e.languages.ruby=e.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),e.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var t={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:e.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete e.languages.ruby.function;var n="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",o=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;e.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+n+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+o),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+o+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),e.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+n),greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+n),greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete e.languages.ruby.string,e.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),e.languages.rb=e.languages.ruby}(r),window.Prism=o,r}(void 0,void 0),i=e=>t=>t.options.get(e),c=i("codesample_languages"),u=i("codesample_global_prismjs"),d=e=>s.Prism&&u(e)?s.Prism:l,m=e=>t(e)&&"PRE"===e.nodeName&&-1!==e.className.indexOf("language-"),p=e=>{const t=e.selection?e.selection.getNode():null;return m(t)?o.some(t):o.none()},g=e=>{const t=(e=>{const t=c(e);return t||[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}]})(e),n=r(t).fold((s="",()=>s),(e=>e.value));var s;const l=((e,t)=>p(e).fold((()=>t),(e=>{const n=e.className.match(/language-(\w+)/);return n?n[1]:t})))(e,n),i=(e=>p(e).bind((e=>o.from(e.textContent))).getOr(""))(e);e.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"listbox",name:"language",label:"Language",items:t},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:l,code:i},onSubmit:t=>{const n=t.getData();((e,t,n)=>{const o=e.dom;e.undoManager.transact((()=>{const r=p(e);return n=a.DOM.encode(n),r.fold((()=>{e.insertContent('<pre id="__new" class="language-'+t+'">'+n+"</pre>");const r=o.select("#__new")[0];o.setAttrib(r,"id",null),e.selection.select(r)}),(r=>{o.setAttrib(r,"class","language-"+t),r.innerHTML=n,d(e).highlightElement(r),e.selection.select(r)}))}))})(e,n.language,n.code),t.close()}})},h=(b=/^\s+|\s+$/g,e=>e.replace(b,""));var b,f=tinymce.util.Tools.resolve("tinymce.util.Tools");const y=(e,t=n)=>n=>{const o=()=>{n.setEnabled(e.selection.isEditable()),t(n)};return e.on("NodeChange",o),o(),()=>{e.off("NodeChange",o)}};e.add("codesample",(e=>{(e=>{const t=e.options.register;t("codesample_languages",{processor:"object[]"}),t("codesample_global_prismjs",{processor:"boolean",default:!1})})(e),(e=>{e.on("PreProcess",(t=>{const n=e.dom,o=n.select("pre[contenteditable=false]",t.node);f.each(f.grep(o,m),(e=>{const t=e.textContent;let o;for(n.setAttrib(e,"class",h(n.getAttrib(e,"class"))),n.setAttrib(e,"contentEditable",null),n.setAttrib(e,"data-mce-highlighted",null);o=e.firstChild;)e.removeChild(o);n.add(e,"code").textContent=t}))})),e.on("SetContent",(()=>{const t=e.dom,n=f.grep(t.select("pre"),(e=>m(e)&&"true"!==t.getAttrib(e,"data-mce-highlighted")));n.length&&e.undoManager.transact((()=>{f.each(n,(n=>{var o;f.each(t.select("br",n),(n=>{t.replace(e.getDoc().createTextNode("\n"),n)})),n.innerHTML=t.encode(null!==(o=n.textContent)&&void 0!==o?o:""),d(e).highlightElement(n),t.setAttrib(n,"data-mce-highlighted",!0),n.className=h(n.className)}))}))})),e.on("PreInit",(()=>{e.parser.addNodeFilter("pre",(e=>{var t;for(let n=0,o=e.length;n<o;n++){const o=e[n];-1!==(null!==(t=o.attr("class"))&&void 0!==t?t:"").indexOf("language-")&&(o.attr("contenteditable","false"),o.attr("data-mce-highlighted","false"))}}))}))})(e),(e=>{const t=()=>e.execCommand("codesample");e.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:t,onSetup:y(e,(t=>{t.setActive((e=>{const t=e.selection.getStart();return e.dom.is(t,'pre[class*="language-"]')})(e))}))}),e.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:t,onSetup:y(e)})})(e),(e=>{e.addCommand("codesample",(()=>{const t=e.selection.getNode();e.selection.isCollapsed()||m(t)?g(e):e.formatter.toggle("code")}))})(e),e.on("dblclick",(t=>{m(t.target)&&g(e)}))}))}()},63403:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>!(e=>null==e)(e),n=()=>{};class o{constructor(e,t){this.tag=e,this.value=t}static some(e){return new o(!0,e)}static none(){return o.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?o.some(e(this.value)):o.none()}bind(e){return this.tag?e(this.value):o.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:o.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return t(e)?o.some(e):o.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}o.singletonNone=new o(!1);var r=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");const a="undefined"!=typeof window?window:Function("return this;")(),s=function(e,t,n){const o=window.Prism;window.Prism={manual:!0};var r=function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,o={},r={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof a?new a(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var o,a;switch(n=n||{},r.util.type(t)){case"Object":if(a=r.util.objId(t),n[a])return n[a];for(var s in o={},n[a]=o,t)t.hasOwnProperty(s)&&(o[s]=e(t[s],n));return o;case"Array":return a=r.util.objId(t),n[a]?n[a]:(o=[],n[a]=o,t.forEach((function(t,r){o[r]=e(t,n)})),o);default:return t}},getLanguage:function(e){for(;e;){var n=t.exec(e.className);if(n)return n[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,n){e.className=e.className.replace(RegExp(t,"gi"),""),e.classList.add("language-"+n)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(o){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(o.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var o="no-"+t;e;){var r=e.classList;if(r.contains(t))return!0;if(r.contains(o))return!1;e=e.parentElement}return!!n}},languages:{plain:o,plaintext:o,text:o,txt:o,extend:function(e,t){var n=r.util.clone(r.languages[e]);for(var o in t)n[o]=t[o];return n},insertBefore:function(e,t,n,o){var a=(o=o||r.languages)[e],s={};for(var l in a)if(a.hasOwnProperty(l)){if(l==t)for(var i in n)n.hasOwnProperty(i)&&(s[i]=n[i]);n.hasOwnProperty(l)||(s[l]=a[l])}var c=o[e];return o[e]=s,r.languages.DFS(r.languages,(function(t,n){n===c&&t!=e&&(this[t]=s)})),s},DFS:function e(t,n,o,a){a=a||{};var s=r.util.objId;for(var l in t)if(t.hasOwnProperty(l)){n.call(t,l,t[l],o||l);var i=t[l],c=r.util.type(i);"Object"!==c||a[s(i)]?"Array"!==c||a[s(i)]||(a[s(i)]=!0,e(i,n,l,a)):(a[s(i)]=!0,e(i,n,null,a))}}},plugins:{},highlightAll:function(e,t){r.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var o={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",o),o.elements=Array.prototype.slice.apply(o.container.querySelectorAll(o.selector)),r.hooks.run("before-all-elements-highlight",o);for(var a,s=0;a=o.elements[s++];)r.highlightElement(a,!0===t,o.callback)},highlightElement:function(t,n,o){var a=r.util.getLanguage(t),s=r.languages[a];r.util.setLanguage(t,a);var l=t.parentElement;l&&"pre"===l.nodeName.toLowerCase()&&r.util.setLanguage(l,a);var i={element:t,language:a,grammar:s,code:t.textContent};function c(e){i.highlightedCode=e,r.hooks.run("before-insert",i),i.element.innerHTML=i.highlightedCode,r.hooks.run("after-highlight",i),r.hooks.run("complete",i),o&&o.call(i.element)}if(r.hooks.run("before-sanity-check",i),(l=i.element.parentElement)&&"pre"===l.nodeName.toLowerCase()&&!l.hasAttribute("tabindex")&&l.setAttribute("tabindex","0"),!i.code)return r.hooks.run("complete",i),void(o&&o.call(i.element));if(r.hooks.run("before-highlight",i),i.grammar)if(n&&e.Worker){var u=new Worker(r.filename);u.onmessage=function(e){c(e.data)},u.postMessage(JSON.stringify({language:i.language,code:i.code,immediateClose:!0}))}else c(r.highlight(i.code,i.grammar,i.language));else c(r.util.encode(i.code))},highlight:function(e,t,n){var o={code:e,grammar:t,language:n};if(r.hooks.run("before-tokenize",o),!o.grammar)throw new Error('The language "'+o.language+'" has no grammar.');return o.tokens=r.tokenize(o.code,o.grammar),r.hooks.run("after-tokenize",o),a.stringify(r.util.encode(o.tokens),o.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var o in n)t[o]=n[o];delete t.rest}var r=new i;return c(r,r.head,e),l(e,r,t,r.head,0),function(e){for(var t=[],n=e.head.next;n!==e.tail;)t.push(n.value),n=n.next;return t}(r)},hooks:{all:{},add:function(e,t){var n=r.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=r.hooks.all[e];if(n&&n.length)for(var o,a=0;o=n[a++];)o(t)}},Token:a};function a(e,t,n,o){this.type=e,this.content=t,this.alias=n,this.length=0|(o||"").length}function s(e,t,n,o){e.lastIndex=t;var r=e.exec(n);if(r&&o&&r[1]){var a=r[1].length;r.index+=a,r[0]=r[0].slice(a)}return r}function l(e,t,n,o,i,d){for(var m in n)if(n.hasOwnProperty(m)&&n[m]){var p=n[m];p=Array.isArray(p)?p:[p];for(var g=0;g<p.length;++g){if(d&&d.cause==m+","+g)return;var h=p[g],b=h.inside,f=!!h.lookbehind,y=!!h.greedy,v=h.alias;if(y&&!h.pattern.global){var w=h.pattern.toString().match(/[imsuy]*$/)[0];h.pattern=RegExp(h.pattern.source,w+"g")}for(var x=h.pattern||h,S=o.next,k=i;S!==t.tail&&!(d&&k>=d.reach);k+=S.value.length,S=S.next){var C=S.value;if(t.length>e.length)return;if(!(C instanceof a)){var T,_=1;if(y){if(!(T=s(x,k,e,f))||T.index>=e.length)break;var A=T.index,E=T.index+T[0].length,N=k;for(N+=S.value.length;A>=N;)N+=(S=S.next).value.length;if(k=N-=S.value.length,S.value instanceof a)continue;for(var O=S;O!==t.tail&&(N<E||"string"==typeof O.value);O=O.next)_++,N+=O.value.length;_--,C=e.slice(k,N),T.index-=k}else if(!(T=s(x,0,C,f)))continue;A=T.index;var F=T[0],D=C.slice(0,A),R=C.slice(A+F.length),P=k+C.length;d&&P>d.reach&&(d.reach=P);var M=S.prev;if(D&&(M=c(t,M,D),k+=D.length),u(t,M,_),S=c(t,M,new a(m,b?r.tokenize(F,b):F,v,F)),R&&c(t,S,R),_>1){var B={cause:m+","+g,reach:P};l(e,t,n,S.prev,k,B),d&&B.reach>d.reach&&(d.reach=B.reach)}}}}}}function i(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function c(e,t,n){var o=t.next,r={value:n,prev:t,next:o};return t.next=r,o.prev=r,e.length++,r}function u(e,t,n){for(var o=t.next,r=0;r<n&&o!==e.tail;r++)o=o.next;t.next=o,o.prev=t,e.length-=r}if(e.Prism=r,a.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var o="";return t.forEach((function(t){o+=e(t,n)})),o}var a={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},s=t.alias;s&&(Array.isArray(s)?Array.prototype.push.apply(a.classes,s):a.classes.push(s)),r.hooks.run("wrap",a);var l="";for(var i in a.attributes)l+=" "+i+'="'+(a.attributes[i]||"").replace(/"/g,"&quot;")+'"';return"<"+a.tag+' class="'+a.classes.join(" ")+'"'+l+">"+a.content+"</"+a.tag+">"},!e.document)return e.addEventListener?(r.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),o=n.language,a=n.code,s=n.immediateClose;e.postMessage(r.highlight(a,r.languages[o],o)),s&&e.close()}),!1),r):r;var d=r.util.currentScript();function m(){r.manual||r.highlightAll()}if(d&&(r.filename=d.src,d.hasAttribute("data-manual")&&(r.manual=!0)),!r.manual){var p=document.readyState;"loading"===p||"interactive"===p&&d&&d.defer?document.addEventListener("DOMContentLoaded",m):window.requestAnimationFrame?window.requestAnimationFrame(m):window.setTimeout(m,16)}return r}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});return r.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(e){function t(e,t){return"___"+e.toUpperCase()+t+"___"}Object.defineProperties(e.languages["markup-templating"]={},{buildPlaceholders:{value:function(n,o,r,a){if(n.language===o){var s=n.tokenStack=[];n.code=n.code.replace(r,(function(e){if("function"==typeof a&&!a(e))return e;for(var r,l=s.length;-1!==n.code.indexOf(r=t(o,l));)++l;return s[l]=e,r})),n.grammar=e.languages.markup}}},tokenizePlaceholders:{value:function(n,o){if(n.language===o&&n.tokenStack){n.grammar=e.languages[o];var r=0,a=Object.keys(n.tokenStack);!function s(l){for(var i=0;i<l.length&&!(r>=a.length);i++){var c=l[i];if("string"==typeof c||c.content&&"string"==typeof c.content){var u=a[r],d=n.tokenStack[u],m="string"==typeof c?c:c.content,p=t(o,u),g=m.indexOf(p);if(g>-1){++r;var h=m.substring(0,g),b=new e.Token(o,e.tokenize(d,n.grammar),"language-"+o,d),f=m.substring(g+p.length),y=[];h&&y.push.apply(y,s([h])),y.push(b),f&&y.push.apply(y,s([f])),"string"==typeof c?l.splice.apply(l,[i,1].concat(y)):c.content=y}}else c.content&&s(c.content)}return l}(n.tokens)}}}})}(r),r.languages.c=r.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),r.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),r.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},r.languages.c.string],char:r.languages.c.char,comment:r.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:r.languages.c}}}}),r.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete r.languages.c.boolean,function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,(function(){return t.source}));e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,(function(){return n}))+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(r),function(e){function t(e,t){return e.replace(/<<(\d+)>>/g,(function(e,n){return"(?:"+t[+n]+")"}))}function n(e,n,o){return RegExp(t(e,n),o||"")}function o(e,t){for(var n=0;n<t;n++)e=e.replace(/<<self>>/g,(function(){return"(?:"+e+")"}));return e.replace(/<<self>>/g,"[^\\s\\S]")}var r="bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",a="class enum interface record struct",s="add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",l="abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield";function i(e){return"\\b(?:"+e.trim().replace(/ /g,"|")+")\\b"}var c=i(a),u=RegExp(i(r+" "+a+" "+s+" "+l)),d=i(a+" "+s+" "+l),m=i(r+" "+a+" "+l),p=o(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),g=o(/\((?:[^()]|<<self>>)*\)/.source,2),h=/@?\b[A-Za-z_]\w*\b/.source,b=t(/<<0>>(?:\s*<<1>>)?/.source,[h,p]),f=t(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[d,b]),y=/\[\s*(?:,\s*)*\]/.source,v=t(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[f,y]),w=t(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[p,g,y]),x=t(/\(<<0>>+(?:,<<0>>+)+\)/.source,[w]),S=t(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[x,f,y]),k={keyword:u,punctuation:/[<>()?,.:[\]]/},C=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,T=/"(?:\\.|[^\\"\r\n])*"/.source,_=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;e.languages.csharp=e.languages.extend("clike",{string:[{pattern:n(/(^|[^$\\])<<0>>/.source,[_]),lookbehind:!0,greedy:!0},{pattern:n(/(^|[^@$\\])<<0>>/.source,[T]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:n(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[f]),lookbehind:!0,inside:k},{pattern:n(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[h,S]),lookbehind:!0,inside:k},{pattern:n(/(\busing\s+)<<0>>(?=\s*=)/.source,[h]),lookbehind:!0},{pattern:n(/(\b<<0>>\s+)<<1>>/.source,[c,b]),lookbehind:!0,inside:k},{pattern:n(/(\bcatch\s*\(\s*)<<0>>/.source,[f]),lookbehind:!0,inside:k},{pattern:n(/(\bwhere\s+)<<0>>/.source,[h]),lookbehind:!0},{pattern:n(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[v]),lookbehind:!0,inside:k},{pattern:n(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[S,m,h]),inside:k}],keyword:u,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),e.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),e.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:n(/([(,]\s*)<<0>>(?=\s*:)/.source,[h]),lookbehind:!0,alias:"punctuation"}}),e.languages.insertBefore("csharp","class-name",{namespace:{pattern:n(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[h]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:n(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[g]),lookbehind:!0,alias:"class-name",inside:k},"return-type":{pattern:n(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[S,f]),inside:k,alias:"class-name"},"constructor-invocation":{pattern:n(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[S]),lookbehind:!0,inside:k,alias:"class-name"},"generic-method":{pattern:n(/<<0>>\s*<<1>>(?=\s*\()/.source,[h,p]),inside:{function:n(/^<<0>>/.source,[h]),generic:{pattern:RegExp(p),alias:"class-name",inside:k}}},"type-list":{pattern:n(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[c,b,h,S,u.source,g,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:n(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[b,g]),lookbehind:!0,greedy:!0,inside:e.languages.csharp},keyword:u,"class-name":{pattern:RegExp(S),greedy:!0,inside:k},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var A=T+"|"+C,E=t(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[A]),N=o(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[E]),2),O=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,F=t(/<<0>>(?:\s*\(<<1>>*\))?/.source,[f,N]);e.languages.insertBefore("csharp","class-name",{attribute:{pattern:n(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[O,F]),lookbehind:!0,greedy:!0,inside:{target:{pattern:n(/^<<0>>(?=\s*:)/.source,[O]),alias:"keyword"},"attribute-arguments":{pattern:n(/\(<<0>>*\)/.source,[N]),inside:e.languages.csharp},"class-name":{pattern:RegExp(f),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var D=/:[^}\r\n]+/.source,R=o(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[E]),2),P=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[R,D]),M=o(t(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[A]),2),B=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[M,D]);function j(t,o){return{interpolation:{pattern:n(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[t]),lookbehind:!0,inside:{"format-string":{pattern:n(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[o,D]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:e.languages.csharp}}},string:/[\s\S]+/}}e.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:n(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[P]),lookbehind:!0,greedy:!0,inside:j(P,R)},{pattern:n(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[B]),lookbehind:!0,greedy:!0,inside:j(B,M)}],char:{pattern:RegExp(C),greedy:!0}}),e.languages.dotnet=e.languages.cs=e.languages.csharp}(r),function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(r),function(e){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,o={pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};e.languages.java=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[o,{pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:o.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+n+/[A-Z]\w*\b/.source),lookbehind:!0,inside:o.inside}],keyword:t,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":o,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+n+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:o.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+n+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:o.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0,inside:{punctuation:/\./}}})}(r),r.languages.javascript=r.languages.extend("clike",{"class-name":[r.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),r.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,r.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:r.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:r.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:r.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:r.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:r.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),r.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:r.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),r.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),r.languages.markup&&(r.languages.markup.tag.addInlined("script","javascript"),r.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),r.languages.js=r.languages.javascript,r.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},r.languages.markup.tag.inside["attr-value"].inside.entity=r.languages.markup.entity,r.languages.markup.doctype.inside["internal-subset"].inside=r.languages.markup,r.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(r.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:r.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};o["language-"+t]={pattern:/[\s\S]+/,inside:r.languages[t]};var a={};a[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:o},r.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(r.languages.markup.tag,"addAttribute",{value:function(e,t){r.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:r.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),r.languages.html=r.languages.markup,r.languages.mathml=r.languages.markup,r.languages.svg=r.languages.markup,r.languages.xml=r.languages.extend("markup",{}),r.languages.ssml=r.languages.xml,r.languages.atom=r.languages.xml,r.languages.rss=r.languages.xml,function(e){var t=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,n=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],o=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,r=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,a=/[{}\[\](),:;]/;e.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:t,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:o,operator:r,punctuation:a};var s={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:e.languages.php},l=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:s}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:s}}];e.languages.insertBefore("php","variable",{string:l,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:t,string:l,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,number:o,operator:r,punctuation:a}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),e.hooks.add("before-tokenize",(function(t){/<\?/.test(t.code)&&e.languages["markup-templating"].buildPlaceholders(t,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g)})),e.hooks.add("after-tokenize",(function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"php")}))}(r),r.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},r.languages.python["string-interpolation"].inside.interpolation.inside.rest=r.languages.python,r.languages.py=r.languages.python,function(e){e.languages.ruby=e.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),e.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var t={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:e.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete e.languages.ruby.function;var n="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",o=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;e.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+n+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+o),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+o+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),e.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+n),greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+n),greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete e.languages.ruby.string,e.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),e.languages.rb=e.languages.ruby}(r),window.Prism=o,r}(),l=e=>t=>t.options.get(e),i=l("codesample_languages"),c=l("codesample_global_prismjs"),u=e=>a.Prism&&c(e)?a.Prism:s,d=e=>t(e)&&"PRE"===e.nodeName&&-1!==e.className.indexOf("language-"),m=e=>{const t=e.selection?e.selection.getNode():null;return d(t)?o.some(t):o.none()},p=e=>{const t=(e=>i(e)||[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}])(e),n=(a=t,((e,t)=>0<e.length?o.some(e[0]):o.none())(a)).fold((()=>""),(e=>e.value));var a;const s=((e,t)=>m(e).fold((()=>t),(e=>{const n=e.className.match(/language-(\w+)/);return n?n[1]:t})))(e,n),l=(e=>m(e).bind((e=>o.from(e.textContent))).getOr(""))(e);e.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"listbox",name:"language",label:"Language",items:t},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:s,code:l},onSubmit:t=>{const n=t.getData();((e,t,n)=>{const o=e.dom;e.undoManager.transact((()=>{const a=m(e);return n=r.DOM.encode(n),a.fold((()=>{e.insertContent('<pre id="__new" class="language-'+t+'">'+n+"</pre>");const r=o.select("#__new")[0];o.setAttrib(r,"id",null),e.selection.select(r)}),(r=>{o.setAttrib(r,"class","language-"+t),r.innerHTML=n,u(e).highlightElement(r),e.selection.select(r)}))}))})(e,n.language,n.code),t.close()}})},g=(h=/^\s+|\s+$/g,e=>e.replace(h,""));var h,b=tinymce.util.Tools.resolve("tinymce.util.Tools");const f=(e,t=n)=>n=>{const o=()=>{n.setEnabled(e.selection.isEditable()),t(n)};return e.on("NodeChange",o),o(),()=>{e.off("NodeChange",o)}};e.add("codesample",(e=>{(e=>{const t=e.options.register;t("codesample_languages",{processor:"object[]"}),t("codesample_global_prismjs",{processor:"boolean",default:!1})})(e),(e=>{e.on("PreProcess",(t=>{const n=e.dom,o=n.select("pre[contenteditable=false]",t.node);b.each(b.grep(o,d),(e=>{const t=e.textContent;let o;for(n.setAttrib(e,"class",g(n.getAttrib(e,"class"))),n.setAttrib(e,"contentEditable",null),n.setAttrib(e,"data-mce-highlighted",null);o=e.firstChild;)e.removeChild(o);n.add(e,"code").textContent=t}))})),e.on("SetContent",(()=>{const t=e.dom,n=b.grep(t.select("pre"),(e=>d(e)&&"true"!==t.getAttrib(e,"data-mce-highlighted")));n.length&&e.undoManager.transact((()=>{b.each(n,(n=>{var o;b.each(t.select("br",n),(n=>{t.replace(e.getDoc().createTextNode("\n"),n)})),n.innerHTML=t.encode(null!==(o=n.textContent)&&void 0!==o?o:""),u(e).highlightElement(n),t.setAttrib(n,"data-mce-highlighted",!0),n.className=g(n.className)}))}))})),e.on("PreInit",(()=>{e.parser.addNodeFilter("pre",(e=>{var t;for(let n=0,o=e.length;n<o;n++){const o=e[n];-1!==(null!==(t=o.attr("class"))&&void 0!==t?t:"").indexOf("language-")&&(o.attr("contenteditable","false"),o.attr("data-mce-highlighted","false"))}}))}))})(e),(e=>{const t=()=>e.execCommand("codesample");e.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:t,onSetup:f(e,(t=>{t.setActive((e=>{const t=e.selection.getStart();return e.dom.is(t,'pre[class*="language-"]')})(e))}))}),e.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:t,onSetup:f(e)})})(e),(e=>{e.addCommand("codesample",(()=>{const t=e.selection.getNode();e.selection.isCollapsed()||d(t)?p(e):e.formatter.toggle("code")}))})(e),e.on("dblclick",(t=>{d(t.target)&&p(e)}))}))}()},1080:function(e,t,n){n(94844)},94844:function(){!function(){"use strict";const e=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=e=>({isFullscreen:()=>null!==e.get()}),o=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(a=String).prototype,o.isPrototypeOf(n)||(null===(s=r.constructor)||void 0===s?void 0:s.name)===a.name)?"string":t;var n,o;var r,a,s})(t)===e,r=e=>t=>typeof t===e,a=e=>t=>e===t,s=o("string"),l=o("array"),i=a(null),c=r("boolean"),u=a(void 0),d=e=>!(e=>null==e)(e),m=r("function"),p=r("number"),g=()=>{},h=e=>()=>e;function b(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const f=h(!1),y=h(!0);class v{constructor(e,t){this.tag=e,this.value=t}static some(e){return new v(!0,e)}static none(){return v.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?v.some(e(this.value)):v.none()}bind(e){return this.tag?e(this.value):v.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:v.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return d(e)?v.some(e):v.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}v.singletonNone=new v(!1);const w=t=>{const n=e(v.none()),o=()=>n.get().each(t);return{clear:()=>{o(),n.set(v.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:e=>{o(),n.set(v.some(e))}}},x=()=>w((e=>e.unbind())),S=Array.prototype.push,k=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},C=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},T=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},_=(e,t)=>((e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return v.some(r);if(n(r,o))break}return v.none()})(e,t,f),A=(e,t)=>(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!l(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);S.apply(t,e[n])}return t})(k(e,t)),E=e=>((e,t)=>t>=0&&t<e.length?v.some(e[t]):v.none())(e,0),N=Object.keys,O=(e,t,n=0,o)=>{const r=e.indexOf(t,n);return-1!==r&&(!!u(o)||r+t.length<=o)},F=e=>void 0!==e.style&&m(e.style.getPropertyValue),D=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},R={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return D(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return D(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return D(n)},fromDom:D,fromPoint:(e,t,n)=>v.from(e.dom.elementFromPoint(t,n)).map(D)};"undefined"!=typeof window?window:Function("return this;")();const P=e=>t=>(e=>e.dom.nodeType)(t)===e,M=P(1),B=P(3),j=P(9),$=P(11),L=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},I=e=>R.fromDom(e.dom.ownerDocument),z=e=>(e=>v.from(e.dom.parentNode).map(R.fromDom))(e).map(q).map((t=>T(t,(t=>{return n=t,!(e.dom===n.dom);var n})))).getOr([]),q=e=>k(e.dom.childNodes,R.fromDom),W=m(Element.prototype.attachShadow)&&m(Node.prototype.getRootNode),U=h(W),H=W?e=>R.fromDom(e.dom.getRootNode()):e=>j(e)?e:I(e),V=e=>{const t=H(e);return $(n=t)&&d(n.dom.host)?v.some(t):v.none();var n},Z=e=>R.fromDom(e.dom.host),K=e=>d(e.dom.shadowRoot),G=e=>{const t=B(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return V(R.fromDom(t)).fold((()=>n.body.contains(t)),(o=G,r=Z,e=>o(r(e))));var o,r},J=(e,t,n)=>{((e,t,n)=>{if(!(s(n)||c(n)||p(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(e.dom,t,n)},Q=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},Y=(e,t)=>{e.dom.removeAttribute(t)},X=(e,t)=>{const n=e.dom;((e,t)=>{const n=N(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}})(t,((e,t)=>{((e,t,n)=>{if(!s(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);F(e)&&e.style.setProperty(t,n)})(n,t,e)}))},ee=(e,t)=>F(e)?e.style.getPropertyValue(t):"",te=e=>{const t=R.fromDom((e=>{if(U()&&d(e.target)){const t=R.fromDom(e.target);if(M(t)&&K(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return E(t)}}return v.from(e.target)})(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),r=(a=o,s=n,(...e)=>a(s.apply(null,e)));var a,s;return((e,t,n,o,r,a,s)=>({target:e,x:t,y:n,stop:o,prevent:r,kill:a,raw:s}))(t,e.clientX,e.clientY,n,o,r,e)},ne=(e,t,n,o,r)=>{const a=((e,t)=>n=>{e(n)&&t(te(n))})(n,o);return e.dom.addEventListener(t,a,r),{unbind:b(oe,e,t,a,r)}},oe=(e,t,n,o)=>{e.dom.removeEventListener(t,n,o)},re=y,ae=(e,t,n)=>((e,t,n,o)=>ne(e,t,n,o,!1))(e,t,re,n),se=()=>le(0,0),le=(e,t)=>({major:e,minor:t}),ie={nu:le,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?se():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}})(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return le(o(1),o(2))})(e,n)},unknown:se},ce=(e,t)=>((e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return v.none()})(t.brands,(t=>{const n=t.brand.toLowerCase();return _(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:ie.nu(parseInt(t.version,10),0)})))})),ue=(e,t)=>{const n=String(t).toLowerCase();return _(e,(e=>e.search(n)))},de=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,me=e=>t=>O(t,e),pe=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>O(e,"edge/")&&O(e,"chrome")&&O(e,"safari")&&O(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,de],search:e=>O(e,"chrome")&&!O(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>O(e,"msie")||O(e,"trident")},{name:"Opera",versionRegexes:[de,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:me("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:me("firefox")},{name:"Safari",versionRegexes:[de,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(O(e,"safari")||O(e,"mobile/"))&&O(e,"applewebkit")}],ge=[{name:"Windows",search:me("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>O(e,"iphone")||O(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:me("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:me("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:me("linux"),versionRegexes:[]},{name:"Solaris",search:me("sunos"),versionRegexes:[]},{name:"FreeBSD",search:me("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:me("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],he={browsers:h(pe),oses:h(ge)},be="Edge",fe="Chromium",ye="Opera",ve="Firefox",we="Safari",xe=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(be),isChromium:o(fe),isIE:o("IE"),isOpera:o(ye),isFirefox:o(ve),isSafari:o(we)}},Se={unknown:()=>xe({current:void 0,version:ie.unknown()}),nu:xe,edge:h(be),chromium:h(fe),ie:h("IE"),opera:h(ye),firefox:h(ve),safari:h(we)},ke="Windows",Ce="Android",Te="Linux",_e="macOS",Ae="Solaris",Ee="FreeBSD",Ne="ChromeOS",Oe=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(ke),isiOS:o("iOS"),isAndroid:o(Ce),isMacOS:o(_e),isLinux:o(Te),isSolaris:o(Ae),isFreeBSD:o(Ee),isChromeOS:o(Ne)}},Fe={unknown:()=>Oe({current:void 0,version:ie.unknown()}),nu:Oe,windows:h(ke),ios:h("iOS"),android:h(Ce),linux:h(Te),macos:h(_e),solaris:h(Ae),freebsd:h(Ee),chromeos:h(Ne)},De=(e,t,n)=>{const o=he.browsers(),r=he.oses(),a=t.bind((e=>ce(o,e))).orThunk((()=>((e,t)=>ue(e,t).map((e=>{const n=ie.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(o,e))).fold(Se.unknown,Se.nu),s=((e,t)=>ue(e,t).map((e=>{const n=ie.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(r,e).fold(Fe.unknown,Fe.nu),l=((e,t,n,o)=>{const r=e.isiOS()&&!0===/ipad/i.test(n),a=e.isiOS()&&!r,s=e.isiOS()||e.isAndroid(),l=s||o("(pointer:coarse)"),i=r||!a&&s&&o("(min-device-width:768px)"),c=a||s&&!i,u=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!c&&!i&&!u;return{isiPad:h(r),isiPhone:h(a),isTablet:h(i),isPhone:h(c),isTouch:h(l),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:h(u),isDesktop:h(d)}})(s,a,e,n);return{browser:a,os:s,deviceType:l}},Re=e=>window.matchMedia(e).matches;let Pe=(e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)})((()=>De(navigator.userAgent,v.from(navigator.userAgentData),Re)));const Me=(e,t)=>({left:e,top:t,translate:(n,o)=>Me(e+n,t+o)}),Be=Me,je=e=>{const t=void 0===e?window:e;return Pe().browser.isFirefox()?v.none():v.from(t.visualViewport)},$e=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),Le=e=>{const t=void 0===e?window:e,n=t.document,o=(e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return Be(n,o)})(R.fromDom(n));return je(t).fold((()=>{const e=t.document.documentElement,n=e.clientWidth,r=e.clientHeight;return $e(o.left,o.top,n,r)}),(e=>$e(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height)))},Ie=(e,t,n)=>je(n).map((n=>{const o=e=>t(te(e));return n.addEventListener(e,o),{unbind:()=>n.removeEventListener(e,o)}})).getOrThunk((()=>({unbind:g})));var ze=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),qe=tinymce.util.Tools.resolve("tinymce.Env");const We=(e,t)=>{e.dispatch("FullscreenStateChanged",{state:t}),e.dispatch("ResizeEditor")},Ue=(He="fullscreen_native",e=>e.options.get(He));var He;const Ve=e=>{const t=R.fromDom(e.getElement());return V(t).map(Z).getOrThunk((()=>(e=>{const t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return R.fromDom(t)})(I(t))))},Ze=e=>{return e.dom===(void 0!==(t=I(e).dom).fullscreenElement?t.fullscreenElement:void 0!==t.msFullscreenElement?t.msFullscreenElement:void 0!==t.webkitFullscreenElement?t.webkitFullscreenElement:null);var t},Ke=(e,t,n)=>T(((e,t)=>{const n=m(t)?t:f;let o=e.dom;const r=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){const e=o.parentNode,t=R.fromDom(e);if(r.push(t),!0===n(t))break;o=e}return r})(e,n),t),Ge=e=>((e,t)=>{const n=void 0===t?document:t.dom;return 1!==(o=n).nodeType&&9!==o.nodeType&&11!==o.nodeType||0===o.childElementCount?[]:k(n.querySelectorAll(e),R.fromDom);var o})(e),Je=(e,t,n)=>Ke(e,(e=>L(e,t)),n),Qe=(e,t)=>((e,t)=>T(z(e),t))(e,(e=>L(e,t))),Ye="data-ephox-mobile-fullscreen-style",Xe="position:absolute!important;",et="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",tt=qe.os.isAndroid(),nt=e=>{const t=((e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||G(e)?o:ee(n,t)})(e,"background-color");return void 0!==t&&""!==t?"background-color:"+t+"!important":"background-color:rgb(255,255,255)!important;"},ot=ze.DOM,rt=je().fold((()=>({bind:g,unbind:g})),(e=>{const t=(()=>{const e=w(g);return{...e,on:t=>e.get().each(t)}})(),n=x(),o=x(),r=((e,t)=>{let n=null;return{cancel:()=>{i(n)||(clearTimeout(n),n=null)},throttle:(...o)=>{i(n)&&(n=setTimeout((()=>{n=null,e.apply(null,o)}),t))}}})((()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0,window.requestAnimationFrame((()=>{t.on((t=>X(t,{top:e.offsetTop+"px",left:e.offsetLeft+"px",height:e.height+"px",width:e.width+"px"})))}))}),50);return{bind:e=>{t.set(e),r.throttle(),n.set(Ie("resize",r.throttle)),o.set(Ie("scroll",r.throttle))},unbind:()=>{t.on((()=>{n.clear(),o.clear()})),t.clear()}}})),at=(e,t)=>{const n=document.body,o=document.documentElement,r=e.getContainer(),a=R.fromDom(r),s=Ve(e),l=t.get(),i=R.fromDom(e.getBody()),c=qe.deviceType.isTouch(),u=r.style,d=e.iframeElement,m=null==d?void 0:d.style,p=e=>{e(n,"tox-fullscreen"),e(o,"tox-fullscreen"),e(r,"tox-fullscreen"),V(a).map((e=>Z(e).dom)).each((t=>{e(t,"tox-fullscreen"),e(t,"tox-shadowhost")}))},g=()=>{c&&(e=>{const t=Ge("["+Ye+"]");C(t,(t=>{const n=Q(t,Ye);n&&"no-styles"!==n?X(t,e.parseStyle(n)):Y(t,"style"),Y(t,Ye)}))})(e.dom),p(ot.removeClass),rt.unbind(),v.from(t.get()).each((e=>e.fullscreenChangeHandler.unbind()))};if(l)l.fullscreenChangeHandler.unbind(),Ue(e)&&Ze(s)&&(e=>{const t=e.dom;t.exitFullscreen?t.exitFullscreen():t.msExitFullscreen?t.msExitFullscreen():t.webkitCancelFullScreen&&t.webkitCancelFullScreen()})(I(s)),m.width=l.iframeWidth,m.height=l.iframeHeight,u.width=l.containerWidth,u.height=l.containerHeight,u.top=l.containerTop,u.left=l.containerLeft,g(),h=l.scrollPos,window.scrollTo(h.x,h.y),t.set(null),We(e,!1),e.off("remove",g);else{const n=ae(I(s),void 0!==document.fullscreenElement?"fullscreenchange":void 0!==document.msFullscreenElement?"MSFullscreenChange":void 0!==document.webkitFullscreenElement?"webkitfullscreenchange":"fullscreenchange",(n=>{Ue(e)&&(Ze(s)||null===t.get()||at(e,t))})),o={scrollPos:Le(window),containerWidth:u.width,containerHeight:u.height,containerTop:u.top,containerLeft:u.left,iframeWidth:m.width,iframeHeight:m.height,fullscreenChangeHandler:n};c&&((e,t,n)=>{const o=t=>n=>{const o=Q(n,"style"),r=void 0===o?"no-styles":o.trim();r!==t&&(J(n,Ye,r),X(n,e.parseStyle(t)))},r=Je(t,"*"),a=A(r,(e=>Qe(e,"*:not(.tox-silver-sink)"))),s=nt(n);C(a,o("display:none!important;")),C(r,o(Xe+et+s)),o((!0===tt?"":Xe)+et+s)(t)})(e.dom,a,i),m.width=m.height="100%",u.width=u.height="",p(ot.addClass),rt.bind(a),e.on("remove",g),t.set(o),Ue(e)&&(e=>{const t=e.dom;t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen()})(s),We(e,!0)}var h},st=(e,t)=>n=>{n.setActive(null!==t.get());const o=e=>n.setActive(e.state);return e.on("FullscreenStateChanged",o),()=>e.off("FullscreenStateChanged",o)};t.add("fullscreen",(t=>{const o=e(null);return t.inline||((e=>{(0,e.options.register)("fullscreen_native",{processor:"boolean",default:!1})})(t),((e,t)=>{e.addCommand("mceFullScreen",(()=>{at(e,t)}))})(t,o),((e,t)=>{const n=()=>e.execCommand("mceFullScreen");e.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:n,onSetup:st(e,t)}),e.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:n,onSetup:st(e,t)})})(t,o),t.addShortcut("Meta+Shift+F","","mceFullScreen")),n(o)}))}()},42117:function(){!function(){"use strict";const e=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||(null===(a=o.constructor)||void 0===a?void 0:a.name)===r.name)?"string":t;var n,o,r,a})(t)===e,o=e=>t=>typeof t===e,r=e=>t=>e===t,a=n("string"),s=n("array"),l=r(null),i=o("boolean"),c=r(void 0),u=e=>!(e=>null==e)(e),d=o("function"),m=o("number"),p=()=>{},g=e=>()=>e;function h(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const b=g(!1),f=g(!0);class y{constructor(e,t){this.tag=e,this.value=t}static some(e){return new y(!0,e)}static none(){return y.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?y.some(e(this.value)):y.none()}bind(e){return this.tag?e(this.value):y.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:y.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return u(e)?y.some(e):y.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}y.singletonNone=new y(!1);const v=t=>{const n=e(y.none()),o=()=>n.get().each(t);return{clear:()=>{o(),n.set(y.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:e=>{o(),n.set(y.some(e))}}},w=()=>v((e=>e.unbind())),x=Array.prototype.push,S=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},k=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},C=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},T=(e,t)=>((e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return y.some(r);if(n(r,o))break}return y.none()})(e,t,b),_=Object.keys,A=(e,t,n=0,o)=>{const r=e.indexOf(t,n);return-1!==r&&(!!c(o)||r+t.length<=o)},E=e=>void 0!==e.style&&d(e.style.getPropertyValue),N=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}};"undefined"!=typeof window?window:Function("return this;")();const O=e=>t=>(e=>e.dom.nodeType)(t)===e,F=O(1),D=O(3),R=O(9),P=O(11),M=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},B=e=>N(e.dom.ownerDocument),j=e=>S(e.dom.childNodes,N),$=d(Element.prototype.attachShadow)&&d(Node.prototype.getRootNode),L=g($),I=$?e=>N(e.dom.getRootNode()):e=>R(e)?e:B(e),z=e=>{const t=I(e);return P(n=t)&&u(n.dom.host)?y.some(t):y.none();var n},q=e=>N(e.dom.host),W=e=>{const t=D(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return z(N(t)).fold((()=>n.body.contains(t)),(o=W,r=q,e=>o(r(e))));var o,r},U=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},H=(e,t)=>{e.dom.removeAttribute(t)},V=(e,t)=>{const n=e.dom;((e,t)=>{const n=_(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}})(t,((e,t)=>{((e,t,n)=>{if(!a(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);E(e)&&e.style.setProperty(t,n)})(n,t,e)}))},Z=e=>{const t=N((e=>{if(L()&&u(e.target)){const t=N(e.target);if(F(t)&&u(t.dom.shadowRoot)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return((e,t)=>0<e.length?y.some(e[0]):y.none())(t)}}return y.from(e.target)})(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),r=(a=o,s=n,(...e)=>a(s.apply(null,e)));var a,s;return((e,t,n,o,r,a,s)=>({target:e,x:t,y:n,stop:o,prevent:r,kill:a,raw:s}))(t,e.clientX,e.clientY,n,o,r,e)},K=(e,t,n,o)=>{e.dom.removeEventListener(t,n,o)},G=f,J=(e,t,n)=>((e,t,n,o)=>((e,t,n,o,r)=>{const a=((e,t)=>n=>{e(n)&&t(Z(n))})(n,o);return e.dom.addEventListener(t,a,false),{unbind:h(K,e,t,a,false)}})(e,t,n,o))(e,t,G,n),Q=()=>Y(0,0),Y=(e,t)=>({major:e,minor:t}),X={nu:Y,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?Q():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}})(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return Y(o(1),o(2))})(e,n)},unknown:Q},ee=(e,t)=>{const n=String(t).toLowerCase();return T(e,(e=>e.search(n)))},te=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ne=e=>t=>A(t,e),oe=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>A(e,"edge/")&&A(e,"chrome")&&A(e,"safari")&&A(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,te],search:e=>A(e,"chrome")&&!A(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>A(e,"msie")||A(e,"trident")},{name:"Opera",versionRegexes:[te,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ne("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ne("firefox")},{name:"Safari",versionRegexes:[te,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(A(e,"safari")||A(e,"mobile/"))&&A(e,"applewebkit")}],re=[{name:"Windows",search:ne("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>A(e,"iphone")||A(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ne("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:ne("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ne("linux"),versionRegexes:[]},{name:"Solaris",search:ne("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ne("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ne("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ae={browsers:g(oe),oses:g(re)},se="Edge",le="Chromium",ie="Opera",ce="Firefox",ue="Safari",de=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(se),isChromium:o(le),isIE:o("IE"),isOpera:o(ie),isFirefox:o(ce),isSafari:o(ue)}},me=()=>de({current:void 0,version:X.unknown()}),pe=de,ge=(g(se),g(le),g("IE"),g(ie),g(ce),g(ue),"Windows"),he="Android",be="Linux",fe="macOS",ye="Solaris",ve="FreeBSD",we="ChromeOS",xe=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(ge),isiOS:o("iOS"),isAndroid:o(he),isMacOS:o(fe),isLinux:o(be),isSolaris:o(ye),isFreeBSD:o(ve),isChromeOS:o(we)}},Se=()=>xe({current:void 0,version:X.unknown()}),ke=xe,Ce=(g(ge),g("iOS"),g(he),g(be),g(fe),g(ye),g(ve),g(we),(e,t,n)=>{const o=ae.browsers(),r=ae.oses(),a=t.bind((e=>((e,t)=>((e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n]);if(o.isSome())return o}return y.none()})(t.brands,(t=>{const n=t.brand.toLowerCase();return T(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:X.nu(parseInt(t.version,10),0)})))})))(o,e))).orThunk((()=>((e,t)=>ee(e,t).map((e=>{const n=X.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(o,e))).fold(me,pe),s=((e,t)=>ee(e,t).map((e=>{const n=X.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(r,e).fold(Se,ke),l=((e,t,n,o)=>{const r=e.isiOS()&&!0===/ipad/i.test(n),a=e.isiOS()&&!r,s=e.isiOS()||e.isAndroid(),l=s||o("(pointer:coarse)"),i=r||!a&&s&&o("(min-device-width:768px)"),c=a||s&&!i,u=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!c&&!i&&!u;return{isiPad:g(r),isiPhone:g(a),isTablet:g(i),isPhone:g(c),isTouch:g(l),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:g(u),isDesktop:g(d)}})(s,a,e,n);return{browser:a,os:s,deviceType:l}}),Te=e=>window.matchMedia(e).matches;let _e=(e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)})((()=>Ce(navigator.userAgent,y.from(navigator.userAgentData),Te)));const Ae=(e,t)=>({left:e,top:t,translate:(n,o)=>Ae(e+n,t+o)}),Ee=Ae,Ne=e=>{const t=void 0===e?window:e;return _e().browser.isFirefox()?y.none():y.from(t.visualViewport)},Oe=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),Fe=e=>{const t=void 0===e?window:e,n=t.document,o=(e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return Ee(n,o)})(N(n));return Ne(t).fold((()=>{const e=t.document.documentElement,n=e.clientWidth,r=e.clientHeight;return Oe(o.left,o.top,n,r)}),(e=>Oe(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height)))},De=(e,t,n)=>Ne(n).map((n=>{const o=e=>t(Z(e));return n.addEventListener(e,o),{unbind:()=>n.removeEventListener(e,o)}})).getOrThunk((()=>({unbind:p})));var Re=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Pe=tinymce.util.Tools.resolve("tinymce.Env");const Me=(e,t)=>{e.dispatch("FullscreenStateChanged",{state:t}),e.dispatch("ResizeEditor")},Be=e=>e.options.get("fullscreen_native"),je=e=>{return e.dom===(void 0!==(t=B(e).dom).fullscreenElement?t.fullscreenElement:void 0!==t.msFullscreenElement?t.msFullscreenElement:void 0!==t.webkitFullscreenElement?t.webkitFullscreenElement:null);var t},$e=(e,t,n)=>((e,t,n)=>C(((e,t)=>{const n=d(t)?t:b;let o=e.dom;const r=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){const e=o.parentNode,t=N(e);if(r.push(t),!0===n(t))break;o=e}return r})(e,n),t))(e,(e=>M(e,t)),n),Le="data-ephox-mobile-fullscreen-style",Ie="position:absolute!important;",ze="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",qe=Pe.os.isAndroid(),We=Re.DOM,Ue=Ne().fold((()=>({bind:p,unbind:p})),(e=>{const t=(()=>{const e=v(p);return{...e,on:t=>e.get().each(t)}})(),n=w(),o=w(),r=((e,t)=>{let n=null;return{cancel:()=>{l(n)||(clearTimeout(n),n=null)},throttle:(...t)=>{l(n)&&(n=setTimeout((()=>{n=null,e.apply(null,t)}),50))}}})((()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0,window.requestAnimationFrame((()=>{t.on((t=>V(t,{top:e.offsetTop+"px",left:e.offsetLeft+"px",height:e.height+"px",width:e.width+"px"})))}))}));return{bind:e=>{t.set(e),r.throttle(),n.set(De("resize",r.throttle)),o.set(De("scroll",r.throttle))},unbind:()=>{t.on((()=>{n.clear(),o.clear()})),t.clear()}}})),He=(e,t)=>{const n=document.body,o=document.documentElement,r=e.getContainer(),l=N(r),c=(e=>{const t=N(e.getElement());return z(t).map(q).getOrThunk((()=>(e=>{const t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return N(t)})(B(t))))})(e),u=t.get(),d=N(e.getBody()),p=Pe.deviceType.isTouch(),g=r.style,h=e.iframeElement,b=null==h?void 0:h.style,f=e=>{e(n,"tox-fullscreen"),e(o,"tox-fullscreen"),e(r,"tox-fullscreen"),z(l).map((e=>q(e).dom)).each((t=>{e(t,"tox-fullscreen"),e(t,"tox-shadowhost")}))},v=()=>{p&&(e=>{const t=((e,t)=>{const n=document;return 1!==(o=n).nodeType&&9!==o.nodeType&&11!==o.nodeType||0===o.childElementCount?[]:S(n.querySelectorAll(e),N);var o})("["+Le+"]");k(t,(t=>{const n=U(t,Le);n&&"no-styles"!==n?V(t,e.parseStyle(n)):H(t,"style"),H(t,Le)}))})(e.dom),f(We.removeClass),Ue.unbind(),y.from(t.get()).each((e=>e.fullscreenChangeHandler.unbind()))};if(u)u.fullscreenChangeHandler.unbind(),Be(e)&&je(c)&&(e=>{const t=e.dom;t.exitFullscreen?t.exitFullscreen():t.msExitFullscreen?t.msExitFullscreen():t.webkitCancelFullScreen&&t.webkitCancelFullScreen()})(B(c)),b.width=u.iframeWidth,b.height=u.iframeHeight,g.width=u.containerWidth,g.height=u.containerHeight,g.top=u.containerTop,g.left=u.containerLeft,v(),w=u.scrollPos,window.scrollTo(w.x,w.y),t.set(null),Me(e,!1),e.off("remove",v);else{const n=J(B(c),void 0!==document.fullscreenElement?"fullscreenchange":void 0!==document.msFullscreenElement?"MSFullscreenChange":void 0!==document.webkitFullscreenElement?"webkitfullscreenchange":"fullscreenchange",(n=>{Be(e)&&(je(c)||null===t.get()||He(e,t))})),o={scrollPos:Fe(window),containerWidth:g.width,containerHeight:g.height,containerTop:g.top,containerLeft:g.left,iframeWidth:b.width,iframeHeight:b.height,fullscreenChangeHandler:n};p&&((e,t,n)=>{const o=t=>n=>{const o=U(n,"style"),r=void 0===o?"no-styles":o.trim();r!==t&&(((e,t,n)=>{((e,t,n)=>{if(!(a(n)||i(n)||m(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(e.dom,t,n)})(n,Le,r),V(n,e.parseStyle(t)))},r=$e(t,"*"),l=(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!s(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);x.apply(t,e[n])}return t})(S(r,(e=>((e,t)=>((e,n)=>{return C((e=>y.from(e.dom.parentNode).map(N))(o=e).map(j).map((e=>C(e,(e=>{return t=e,!(o.dom===t.dom);var t})))).getOr([]),(e=>M(e,t)));var o})(e))(e,"*:not(.tox-silver-sink)")))),c=(e=>{const t=((e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||W(e)?o:((e,t)=>E(e)?e.style.getPropertyValue(t):"")(n,t)})(e,"background-color");return void 0!==t&&""!==t?"background-color:"+t+"!important":"background-color:rgb(255,255,255)!important;"})(n);k(l,o("display:none!important;")),k(r,o(Ie+ze+c)),o((!0===qe?"":Ie)+ze+c)(t)})(e.dom,l,d),b.width=b.height="100%",g.width=g.height="",f(We.addClass),Ue.bind(l),e.on("remove",v),t.set(o),Be(e)&&(e=>{const t=e.dom;t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen()})(c),Me(e,!0)}var w},Ve=(e,t)=>n=>{n.setActive(null!==t.get());const o=e=>n.setActive(e.state);return e.on("FullscreenStateChanged",o),()=>e.off("FullscreenStateChanged",o)};t.add("fullscreen",(t=>{const n=e(null);return t.inline||((e=>{(0,e.options.register)("fullscreen_native",{processor:"boolean",default:!1})})(t),((e,t)=>{e.addCommand("mceFullScreen",(()=>{He(e,t)}))})(t,n),((e,t)=>{const n=()=>e.execCommand("mceFullScreen");e.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:n,onSetup:Ve(e,t)}),e.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:n,onSetup:Ve(e,t)})})(t,n),t.addShortcut("Meta+Shift+F","","mceFullScreen")),(e=>({isFullscreen:()=>null!==e.get()}))(n)}))}()},44876:function(){tinymce.Resource.add("tinymce.html-i18n.help-keynav.hr","<h1>Poetak navigacije na tipkovnici</h1>\n\n<dl>\n  <dt>Fokusiranje trake izbornika</dt>\n  <dd>Windows ili Linux: Alt+F9</dd>\n  <dd>macOS: &#x2325;F9</dd>\n  <dt>Fokusiranje alatne trake</dt>\n  <dd>Windows ili Linux: Alt+F10</dd>\n  <dd>macOS: &#x2325;F10</dd>\n  <dt>Fokusiranje podnoja</dt>\n  <dd>Windows ili Linux: Alt+F11</dd>\n  <dd>macOS: &#x2325;F11</dd>\n  <dt>Fokusiranje kontekstne alatne trake</dt>\n  <dd>Windows, Linux ili macOS: Ctrl+F9\n</dl>\n\n<p>Navigacija e zapoeti kod prve stavke na korisnikom suelju, koja e biti istaknuta ili podcrtana ako se radi o prvoj stavci u\n  putu elementa u podnoju.</p>\n\n<h1>Navigacija izmeu dijelova korisnikog suelja</h1>\n\n<p>Za pomicanje s jednog dijela korisnikog suelja na drugi pritisnite <strong>tabulator</strong>.</p>\n\n<p>Za pomicanje s jednog dijela korisnikog suelja na prethodni pritisnite <strong>Shift + tabulator</strong>.</p>\n\n<p>Ovo je redoslijed pomicanja <strong>tabulatora</strong> po dijelovima korisnikog suelja:</p>\n\n<ol>\n  <li>Traka izbornika</li>\n  <li>Pojedinane grupe na alatnoj traci</li>\n  <li>Bona traka</li>\n  <li>Put elemenata u podnoju</li>\n  <li>Gumb za pomicanje po broju rijei u podnoju</li>\n  <li>Veza na brand u podnoju</li>\n  <li>Znaajka za promjenu veliine alata za ureivanje u podnoju</li>\n</ol>\n\n<p>Ako neki dio korisnikog suelja nije naveden, on se preskae.</p>\n\n<p>Ako u podnoju postoji fokus za navigaciju na tipkovnici, a nema vidljive bone trake, pritiskom na <strong>Shift + tabulator</strong>\n  fokus se prebacuje na prvu skupinu na alatnoj traci, ne na zadnju.</p>\n\n<h1>Navigacija unutar dijelova korisnikog suelja</h1>\n\n<p>Za pomicanje s jednog elementa korisnikog suelja na drugi pritisnite tipku s odgovarajuom <strong>strelicom</strong>.</p>\n\n<p>Tipke s <strong>lijevom</strong> i <strong>desnom</strong> strelicom</p>\n\n<ul>\n  <li>slue za pomicanje izmeu izbornika na alatnoj traci.</li>\n  <li>otvaraju podizbornik unutar izbornika.</li>\n  <li>slue za pomicanje izmeu gumba unutar skupina na alatnoj traci.</li>\n  <li>slue za pomicanje izmeu stavki na elementu puta u podnoju.</li>\n</ul>\n\n<p>Tipke s <strong>donjom</strong> i <strong>gornjom</strong> strelicom</p>\n\n<ul>\n  <li>slue za pomicanje izmeu stavki unutar izbornika.</li>\n  <li>slue za pomicanje izmeu stavki na alatnoj traci skonog izbornika.</li>\n</ul>\n\n<p>Tipkama <strong>strelica</strong> kruno se pomiete unutar dijela korisnikog suelja koji je u fokusu.</p>\n\n<p>Za zatvaranje otvorenog izbornika, otvorenog podizbornika ili otvorenog skonog izbornika pritisnite tipku <strong>Esc</strong>.</p>\n\n<p>Ako je fokus trenutano postavljen na vrh pojedinanog dijela korisnikog suelja, pritiskom na tipku <strong>Esc</strong> takoer\n  u potpunosti zatvarate navigaciju na tipkovnici.</p>\n\n<h1>Izvravanje radnji putem stavki izbornika ili gumba na alatnoj traci</h1>\n\n<p>Nakon to se istakne stavka izbornika ili gumb na alatnoj traci s radnjom koju elite izvriti, pritisnite tipku <strong>Return</strong>, <strong>Enter</strong>\n  ili <strong>razmak</strong> da biste pokrenuli eljenu radnju.</p>\n\n<h1>Navigacija dijalokim okvirima izvan kartica</h1>\n\n<p>Prilikom otvaranja dijalokih okvira izvan kartica fokus se nalazi na prvoj interaktivnoj komponenti.</p>\n\n<p>Navigaciju izmeu interaktivnih dijalokih komponenata vrite pritiskom na <strong>tabulator</strong> ili <strong>Shift + tabulator</strong>.</p>\n\n<h1>Navigacija dijalokim okvirima u karticama</h1>\n\n<p>Prilikom otvaranja dijalokih okvira u karticama fokus se nalazi na prvom gumbu u izborniku unutar kartice.</p>\n\n<p>Navigaciju izmeu interaktivnih komponenata dijalokog okvira u kartici vrite pritiskom na <strong>tabulator</strong> ili\n  <strong>Shift + tabulator</strong>.</p>\n\n<p>Na karticu s drugim dijalokim okvirom moete se prebaciti tako da stavite fokus na izbornik kartice pa pritisnete tipku s odgovarajuom <strong>strelicom</strong>\n  za kruno pomicanje izmeu dostupnih kartica.</p>\n")},1236:function(e,t,n){n(77585)},77585:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(a=String).prototype,o.isPrototypeOf(n)||(null===(s=r.constructor)||void 0===s?void 0:s.name)===a.name)?"string":t;var n,o;var r,a,s})(t)===e,n=e=>t=>typeof t===e,o=t("string"),r=t("object"),a=t("array"),s=n("boolean"),l=e=>!(e=>null==e)(e),i=n("function"),c=n("number"),u=()=>{},d=e=>()=>e,m=(e,t)=>e===t;const p=e=>t=>!e(t),g=d(!1);class h{constructor(e,t){this.tag=e,this.value=t}static some(e){return new h(!0,e)}static none(){return h.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?h.some(e(this.value)):h.none()}bind(e){return this.tag?e(this.value):h.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:h.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return l(e)?h.some(e):h.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}h.singletonNone=new h(!1);const b=Array.prototype.slice,f=Array.prototype.indexOf,y=Array.prototype.push,v=(e,t)=>{return n=e,o=t,f.call(n,o)>-1;var n,o},w=(e,t)=>{for(let n=0,o=e.length;n<o;n++){if(t(e[n],n))return!0}return!1},x=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},S=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},k=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},C=(e,t,n)=>(S(e,((e,o)=>{n=t(n,e,o)})),n),T=(e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return h.some(r);if(n(r,o))break}return h.none()},_=(e,t)=>T(e,t,g),A=(e,t)=>(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);y.apply(t,e[n])}return t})(x(e,t)),E=e=>{const t=b.call(e,0);return t.reverse(),t},N=(e,t)=>t>=0&&t<e.length?h.some(e[t]):h.none(),O=e=>N(e,0),F=e=>N(e,e.length-1),D=(e,t)=>{const n=[],o=i(t)?e=>w(n,(n=>t(n,e))):e=>v(n,e);for(let t=0,r=e.length;t<r;t++){const r=e[t];o(r)||n.push(r)}return n},R=(e,t,n=m)=>e.exists((e=>n(e,t))),P=(e,t,n)=>e.isSome()&&t.isSome()?h.some(n(e.getOrDie(),t.getOrDie())):h.none(),M=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},B={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return M(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return M(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return M(n)},fromDom:M,fromPoint:(e,t,n)=>h.from(e.dom.elementFromPoint(t,n)).map(M)},j=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},$=(e,t)=>e.dom===t.dom,L=j,I="undefined"!=typeof window?window:Function("return this;")(),z=(e,t)=>((e,t)=>{let n=null!=t?t:I;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),q=(e,t)=>{const n=((e,t)=>z(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n},W=Object.getPrototypeOf,U=e=>{const t=z("ownerDocument.defaultView",e);return r(e)&&((e=>q("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(W(e).constructor.name))},H=e=>e.dom.nodeName.toLowerCase(),V=e=>e.dom.nodeType,Z=e=>t=>V(t)===e,K=e=>G(e)&&U(e.dom),G=Z(1),J=Z(3),Q=Z(9),Y=Z(11),X=e=>t=>G(t)&&H(t)===e,ee=e=>h.from(e.dom.parentNode).map(B.fromDom),te=e=>x(e.dom.childNodes,B.fromDom),ne=(e,t)=>{const n=e.dom.childNodes;return h.from(n[t]).map(B.fromDom)},oe=e=>ne(e,0),re=e=>ne(e,e.dom.childNodes.length-1),ae=i(Element.prototype.attachShadow)&&i(Node.prototype.getRootNode)?e=>B.fromDom(e.dom.getRootNode()):e=>{return Q(e)?e:(t=e,B.fromDom(t.dom.ownerDocument));var t},se=e=>{const t=ae(e);return Y(n=t)&&l(n.dom.host)?h.some(t):h.none();var n},le=e=>B.fromDom(e.dom.host),ie=e=>{const t=J(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return se(B.fromDom(t)).fold((()=>n.body.contains(t)),(o=ie,r=le,e=>o(r(e))));var o,r};var ce=(e,t,n,o,r)=>e(n,o)?h.some(n):i(r)&&r(n)?h.none():t(n,o,r);const ue=(e,t,n)=>{let o=e.dom;const r=i(n)?n:g;for(;o.parentNode;){o=o.parentNode;const e=B.fromDom(o);if(t(e))return h.some(e);if(r(e))break}return h.none()},de=(e,t,n)=>ce(((e,t)=>t(e)),ue,e,t,n),me=(e,t,n)=>ue(e,(e=>j(e,t)),n),pe=e=>{return ce(((e,t)=>j(e,t)),me,e,"[contenteditable]",t);var t},ge=e=>e.dom.contentEditable,he=(e,t)=>{ee(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},be=(e,t)=>{const n=(e=>h.from(e.dom.nextSibling).map(B.fromDom))(e);n.fold((()=>{ee(e).each((e=>{fe(e,t)}))}),(e=>{he(e,t)}))},fe=(e,t)=>{e.dom.appendChild(t.dom)},ye=(e,t)=>{S(t,(t=>{fe(e,t)}))},ve=e=>{e.dom.textContent="",S(te(e),(e=>{we(e)}))},we=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)};var xe=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Se=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ke=tinymce.util.Tools.resolve("tinymce.util.VK");const Ce=e=>x(e,B.fromDom),Te=Object.keys,_e=(e,t)=>{const n=Te(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},Ae=(e,t)=>{const n={};var o;return((e,t,n,o)=>{_e(e,((e,r)=>{(t(e,r)?n:o)(e,r)}))})(e,t,(o=n,(e,t)=>{o[t]=e}),u),n},Ee=(e,t)=>{const n=e.dom;_e(t,((e,t)=>{((e,t,n)=>{if(!(o(n)||s(n)||c(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(n,t,e)}))},Ne=e=>C(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),Oe=e=>((e,t)=>B.fromDom(e.dom.cloneNode(t)))(e,!0),Fe=(e,t)=>{const n=((e,t)=>{const n=B.fromTag(t),o=Ne(e);return Ee(n,o),n})(e,t);be(e,n);const o=te(e);return ye(n,o),we(e),n};var De=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Re=tinymce.util.Tools.resolve("tinymce.util.Tools");const Pe=e=>t=>l(t)&&t.nodeName.toLowerCase()===e,Me=e=>t=>l(t)&&e.test(t.nodeName),Be=e=>l(e)&&3===e.nodeType,je=e=>l(e)&&1===e.nodeType,$e=Me(/^(OL|UL|DL)$/),Le=Me(/^(OL|UL)$/),Ie=Pe("ol"),ze=Me(/^(LI|DT|DD)$/),qe=Me(/^(DT|DD)$/),We=Me(/^(TH|TD)$/),Ue=Pe("br"),He=(e,t)=>l(t)&&t.nodeName in e.schema.getTextBlockElements(),Ve=(e,t)=>l(e)&&e.nodeName in t,Ze=(e,t)=>l(t)&&t.nodeName in e.schema.getVoidElements(),Ke=(e,t,n)=>{const o=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&o},Ge=(e,t)=>e.isChildOf(t,e.getRoot()),Je=e=>t=>t.options.get(e),Qe=Je("lists_indent_on_tab"),Ye=Je("forced_root_block"),Xe=Je("forced_root_block_attrs"),et=(e,t)=>{const n=e.dom,o=e.schema.getBlockElements(),r=n.createFragment(),a=Ye(e),s=Xe(e);let l,i,c=!1;for(i=n.create(a,s),Ve(t.firstChild,o)||r.appendChild(i);l=t.firstChild;){const e=l.nodeName;c||"SPAN"===e&&"bookmark"===l.getAttribute("data-mce-type")||(c=!0),Ve(l,o)?(r.appendChild(l),i=null):(i||(i=n.create(a,s),r.appendChild(i)),i.appendChild(l))}return!c&&i&&i.appendChild(n.create("br",{"data-mce-bogus":"1"})),r},tt=De.DOM,nt=(e,t,n)=>{const o=tt.select('span[data-mce-type="bookmark"]',t),r=et(e,n),a=tt.createRng();a.setStartAfter(n),a.setEndAfter(t);const s=a.extractContents();for(let t=s.firstChild;t;t=t.firstChild)if("LI"===t.nodeName&&e.dom.isEmpty(t)){tt.remove(t);break}e.dom.isEmpty(s)||tt.insertAfter(s,t),tt.insertAfter(r,t);const l=n.parentElement;l&&Ke(e.dom,l)&&(e=>{const t=e.parentNode;t&&Re.each(o,(e=>{t.insertBefore(e,n.parentNode)})),tt.remove(e)})(l),tt.remove(n),Ke(e.dom,t)&&tt.remove(t)},ot=X("dd"),rt=X("dt"),at=(e,t)=>{var n;ot(t)?Fe(t,"dt"):rt(t)&&(n=t,h.from(n.dom.parentElement).map(B.fromDom)).each((n=>nt(e,n.dom,t.dom)))},st=e=>{rt(e)&&Fe(e,"dd")},lt=(e,t)=>{if(Be(e))return{container:e,offset:t};const n=xe.getNode(e,t);return Be(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&Be(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&Be(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},it=e=>{const t=e.cloneRange(),n=lt(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);const o=lt(e.endContainer,e.endOffset);return t.setEnd(o.container,o.offset),t},ct=["OL","UL","DL"],ut=ct.join(","),dt=(e,t)=>{const n=t||e.selection.getStart(!0);return e.dom.getParent(n,ut,ht(e,n))},mt=e=>{const t=dt(e),n=e.selection.getSelectedBlocks();return((e,t)=>l(e)&&1===t.length&&t[0]===e)(t,n)?(e=>k(e.querySelectorAll(ut),$e))(t):k(n,(e=>$e(e)&&t!==e))},pt=e=>{const t=e.selection.getSelectedBlocks();return k(((e,t)=>{const n=Re.map(t,(t=>e.dom.getParent(t,"li,dd,dt",ht(e,t))||t));return D(n)})(e,t),ze)},gt=(e,t)=>{const n=e.dom.getParents(t,"TD,TH");return n.length>0?n[0]:e.getBody()},ht=(e,t)=>{const n=e.dom.getParents(t,e.dom.isBlock),o=_(n,(t=>{return n=e.schema,!$e(o=t)&&!ze(o)&&w(ct,(e=>n.isValidChild(o.nodeName,e)));var n,o}));return o.getOr(e.getBody())},bt=(e,t)=>{const n=e.dom.getParents(t,"ol,ul",ht(e,t));return F(n)},ft=e=>{const t=(e=>{const t=bt(e,e.selection.getStart()),n=k(e.selection.getSelectedBlocks(),Le);return t.toArray().concat(n)})(e),n=(e=>{const t=e.selection.getStart();return e.dom.getParents(t,"ol,ul",ht(e,t))})(e);return _(n,(e=>{return t=B.fromDom(e),ee(t).exists((e=>ze(e.dom)&&oe(e).exists((e=>!$e(e.dom)))&&re(e).exists((e=>!$e(e.dom)))));var t})).fold((()=>yt(e,t)),(e=>[e]))},yt=(e,t)=>{const n=x(t,(t=>bt(e,t).getOr(t)));return D(n)},vt=e=>/\btox\-/.test(e.className),wt=(e,t)=>T(e,$e,We).exists((e=>e.nodeName===t&&!vt(e))),xt=(e,t)=>null!==t&&!e.dom.isEditable(t),St=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return xt(e,n)},kt=(e,t)=>{const n=e.selection.getNode();return t({parents:e.dom.getParents(n),element:n}),e.on("NodeChange",t),()=>e.off("NodeChange",t)},Ct=(e,t)=>{const n=(t||document).createDocumentFragment();return S(e,(e=>{n.appendChild(e.dom)})),B.fromDom(n)},Tt=(e,t,n)=>e.dispatch("ListMutation",{action:t,element:n}),_t=(At=/^\s+|\s+$/g,e=>e.replace(At,""));var At;const Et=(e,t,n)=>{if(!o(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);(e=>void 0!==e.style&&i(e.style.getPropertyValue))(e)&&e.style.setProperty(t,n)},Nt=(e,t,n)=>{const o=e.dom;Et(o,t,n)},Ot=e=>L(e,"OL,UL"),Ft=e=>oe(e).exists(Ot),Dt=e=>"listAttributes"in e,Rt=e=>"isComment"in e,Pt=e=>e.depth>0,Mt=e=>e.isSelected,Bt=e=>{const t=te(e),n=re(e).exists(Ot)?t.slice(0,-1):t;return x(n,Oe)},jt=(e,t)=>{fe(e.item,t.list)},$t=(e,t)=>{const n={list:B.fromTag(t,e),item:B.fromTag("li",e)};return fe(n.list,n.item),n},Lt=(e,t,n)=>{const o=t.slice(0,n.depth);return F(o).each((t=>{if(Dt(n)){const o=((e,t,n)=>{const o=B.fromTag("li",e);return Ee(o,t),ye(o,n),o})(e,n.itemAttributes,n.content);((e,t)=>{fe(e.list,t),e.item=t})(t,o),((e,t)=>{H(e.list)!==t.listType&&(e.list=Fe(e.list,t.listType)),Ee(e.list,t.listAttributes)})(t,n)}else if((e=>"isFragment"in e)(n))ye(t.item,n.content);else{const e=B.fromHtml(`\x3c!--${n.content}--\x3e`);fe(t.list,e)}})),o},It=(e,t,n)=>{const o=((e,t,n)=>{const o=[];for(let r=0;r<n;r++)o.push($t(e,Dt(t)?t.listType:t.parentListType));return o})(e,n,n.depth-t.length);var r;return(e=>{for(let t=1;t<e.length;t++)jt(e[t-1],e[t])})(o),((e,t)=>{for(let t=0;t<e.length-1;t++)Nt(e[t].item,"list-style-type","none");F(e).each((e=>{Dt(t)&&(Ee(e.list,t.listAttributes),Ee(e.item,t.itemAttributes)),ye(e.item,t.content)}))})(o,n),r=o,P(F(t),O(r),jt),t.concat(o)},zt=(e,t)=>{let n=h.none();const o=C(t,((t,o,r)=>Rt(o)?0===r?(n=h.some(o),t):Lt(e,t,o):o.depth>t.length?It(e,t,o):Lt(e,t,o)),[]);return n.each((e=>{const t=B.fromHtml(`\x3c!--${e.content}--\x3e`);O(o).each((e=>{((e,t)=>{oe(e).fold((()=>{fe(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))})(e.list,t)}))})),O(o).map((e=>e.list))},qt=e=>(S(e,((t,n)=>{((e,t)=>{const n=e[t].depth,o=e=>e.depth===n&&!e.dirty,r=e=>e.depth<n;return T(E(e.slice(0,t)),o,r).orThunk((()=>T(e.slice(t+1),o,r)))})(e,n).fold((()=>{t.dirty&&Dt(t)&&(e=>{e.listAttributes=Ae(e.listAttributes,((e,t)=>"start"!==t))})(t)}),(e=>{return o=e,void(Dt(n=t)&&Dt(o)&&(n.listType=o.listType,n.listAttributes={...o.listAttributes}));var n,o}))})),e),Wt=(e,t,n,o)=>{var r,a;if(8===V(a=o)||"#comment"===H(a))return[{depth:e+1,content:null!==(r=o.dom.nodeValue)&&void 0!==r?r:"",dirty:!1,isSelected:!1,isComment:!0}];t.each((e=>{$(e.start,o)&&n.set(!0)}));const s=((e,t,n)=>ee(e).filter(G).map((o=>({depth:t,dirty:!1,isSelected:n,content:Bt(e),itemAttributes:Ne(e),listAttributes:Ne(o),listType:H(o),isInPreviousLi:!1}))))(o,e,n.get());t.each((e=>{$(e.end,o)&&n.set(!1)}));const l=re(o).filter(Ot).map((o=>Ht(e,t,n,o))).getOr([]);return s.toArray().concat(l)},Ut=(e,t,n,o)=>oe(o).filter(Ot).fold((()=>Wt(e,t,n,o)),(r=>{const a=C(te(o),((o,a,s)=>{if(0===s)return o;if(L(a,"LI"))return o.concat(Wt(e,t,n,a));{const t={isFragment:!0,depth:e,content:[a],isSelected:!1,dirty:!1,parentListType:H(r)};return o.concat(t)}}),[]);return Ht(e,t,n,r).concat(a)})),Ht=(e,t,n,o)=>A(te(o),(o=>(Ot(o)?Ht:Ut)(e+1,t,n,o))),Vt=(e,t)=>A(((e,t)=>{if(0===e.length)return[];{let n=t(e[0]);const o=[];let r=[];for(let a=0,s=e.length;a<s;a++){const s=e[a],l=t(s);l!==n&&(o.push(r),r=[]),n=l,r.push(s)}return 0!==r.length&&o.push(r),o}})(t,Pt),(t=>O(t).exists(Pt)?((e,t)=>{const n=qt(t);return zt(e.contentDocument,n).toArray()})(e,t):((e,t)=>{const n=qt(t);return x(n,(t=>{const n=Rt(t)?Ct([B.fromHtml(`\x3c!--${t.content}--\x3e`)]):Ct(t.content);return B.fromDom(et(e,n.dom))}))})(e,t))),Zt=(e,t,n)=>{const o=((e,t)=>{const n=(e=>{let t=!1;return{get:()=>t,set:e=>{t=e}}})();return x(e,(e=>({sourceList:e,entries:Ht(0,t,n,e)})))})(t,(e=>{const t=x(pt(e),B.fromDom);return P(_(t,p(Ft)),_(E(t),p(Ft)),((e,t)=>({start:e,end:t})))})(e));S(o,(t=>{((e,t)=>{S(k(e,Mt),(e=>((e,t)=>{switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}t.dirty=!0})(t,e)))})(t.entries,n);const o=Vt(e,t.entries);var r;S(o,(t=>{Tt(e,"Indent"===n?"IndentList":"OutdentList",t.dom)})),r=t.sourceList,S(o,(e=>{he(r,e)})),we(t.sourceList)}))},Kt=(e,t)=>{const n=Ce(ft(e)),o=Ce((e=>k(pt(e),qe))(e));let r=!1;if(n.length||o.length){const a=e.selection.getBookmark();Zt(e,n,t),((e,t,n)=>{S(n,"Indent"===t?st:t=>at(e,t))})(e,t,o),e.selection.moveToBookmark(a),e.selection.setRng(it(e.selection.getRng())),e.nodeChanged(),r=!0}return r},Gt=(e,t)=>!(e=>{const t=dt(e);return xt(e,t)})(e)&&Kt(e,t),Jt=e=>Gt(e,"Indent"),Qt=e=>Gt(e,"Outdent"),Yt=e=>Gt(e,"Flatten"),Xt=e=>"\ufeff"===e,en=(e,t)=>{return n=e,o=function(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}($,t),ue(n,o,r).isSome();var n,o,r};var tn=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const nn=De.DOM,on=e=>{const t={},n=n=>{let o=e[n?"startContainer":"endContainer"],r=e[n?"startOffset":"endOffset"];if(je(o)){const e=nn.create("span",{"data-mce-type":"bookmark"});o.hasChildNodes()?(r=Math.min(r,o.childNodes.length-1),n?o.insertBefore(e,o.childNodes[r]):nn.insertAfter(e,o.childNodes[r])):o.appendChild(e),o=e,r=0}t[n?"startContainer":"endContainer"]=o,t[n?"startOffset":"endOffset"]=r};return n(!0),e.collapsed||n(),t},rn=e=>{const t=t=>{let n=e[t?"startContainer":"endContainer"],o=e[t?"startOffset":"endOffset"];if(n){if(je(n)&&n.parentNode){const e=n;o=(e=>{var t;let n=null===(t=e.parentNode)||void 0===t?void 0:t.firstChild,o=0;for(;n;){if(n===e)return o;je(n)&&"bookmark"===n.getAttribute("data-mce-type")||o++,n=n.nextSibling}return-1})(n),n=n.parentNode,nn.remove(e),!n.hasChildNodes()&&nn.isBlock(n)&&n.appendChild(nn.create("br"))}e[t?"startContainer":"endContainer"]=n,e[t?"startOffset":"endOffset"]=o}};t(!0),t();const n=nn.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),it(n)},an=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},sn=(e,t)=>{Re.each(t,((t,n)=>{e.setAttribute(n,t)}))},ln=(e,t,n)=>{((e,t,n)=>{const o=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",o)})(e,t,n),((e,t,n)=>{sn(t,n["list-attributes"]),Re.each(e.select("li",t),(e=>{sn(e,n["list-item-attributes"])}))})(e,t,n)},cn=(e,t)=>l(t)&&!Ve(t,e.schema.getBlockElements()),un=(e,t,n,o)=>{let r=t[n?"startContainer":"endContainer"];const a=t[n?"startOffset":"endOffset"];je(r)&&(r=r.childNodes[Math.min(a,r.childNodes.length-1)]||r),!n&&Ue(r.nextSibling)&&(r=r.nextSibling);const s=(t,n)=>{var r;const a=new Se(t,(t=>{for(;!e.dom.isBlock(t)&&t.parentNode&&o!==t;)t=t.parentNode;return t})(t)),s=n?"next":"prev";let l;for(;l=a[s]();)if(!Ze(e,l)&&!Xt(l.textContent)&&0!==(null===(r=l.textContent)||void 0===r?void 0:r.length))return h.some(l);return h.none()};if(n&&Be(r))if(Xt(r.textContent))r=s(r,!1).getOr(r);else for(null!==r.parentNode&&cn(e,r.parentNode)&&(r=r.parentNode);null!==r.previousSibling&&(cn(e,r.previousSibling)||Be(r.previousSibling));)r=r.previousSibling;if(!n&&Be(r))if(Xt(r.textContent))r=s(r,!0).getOr(r);else for(null!==r.parentNode&&cn(e,r.parentNode)&&(r=r.parentNode);null!==r.nextSibling&&(cn(e,r.nextSibling)||Be(r.nextSibling));)r=r.nextSibling;for(;r.parentNode!==o;){const t=r.parentNode;if(He(e,r))return r;if(/^(TD|TH)$/.test(t.nodeName))return r;r=t}return r},dn=(e,t,n)=>{const o=e.selection.getRng();let r="LI";const a=ht(e,((e,t)=>{const n=e.selection.getStart(!0),o=un(e,t,!0,e.getBody());return en(B.fromDom(o),B.fromDom(t.commonAncestorContainer))?t.commonAncestorContainer:n})(e,o)),s=e.dom;if("false"===s.getContentEditable(e.selection.getNode()))return;"DL"===(t=t.toUpperCase())&&(r="DT");const l=on(o),i=k(((e,t,n)=>{const o=[],r=e.dom,a=un(e,t,!0,n),s=un(e,t,!1,n);let l;const i=[];for(let e=a;e&&(i.push(e),e!==s);e=e.nextSibling);return Re.each(i,(t=>{var a;if(He(e,t))return o.push(t),void(l=null);if(r.isBlock(t)||Ue(t))return Ue(t)&&r.remove(t),void(l=null);const s=t.nextSibling;tn.isBookmarkNode(t)&&($e(s)||He(e,s)||!s&&t.parentNode===n)?l=null:(l||(l=r.create("p"),null===(a=t.parentNode)||void 0===a||a.insertBefore(l,t),o.push(l)),l.appendChild(t))})),o})(e,o,a),e.dom.isEditable);Re.each(i,(o=>{let a;const l=o.previousSibling,i=o.parentNode;ze(i)||(l&&$e(l)&&l.nodeName===t&&((e,t,n)=>{const o=e.getStyle(t,"list-style-type");let r=n?n["list-style-type"]:"";return r=null===r?"":r,o===r})(s,l,n)?(a=l,o=s.rename(o,r),l.appendChild(o)):(a=s.create(t),i.insertBefore(a,o),a.appendChild(o),o=s.rename(o,r)),((e,t,n)=>{Re.each(n,(n=>e.setStyle(t,n,"")))})(s,o,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),ln(s,a,n),pn(e.dom,a))})),e.selection.setRng(rn(l))},mn=(e,t,n)=>{return((e,t)=>$e(e)&&e.nodeName===(null==t?void 0:t.nodeName))(t,n)&&((e,t,n)=>e.getStyle(t,"list-style-type",!0)===e.getStyle(n,"list-style-type",!0))(e,t,n)&&(o=n,t.className===o.className);var o},pn=(e,t)=>{let n,o=t.nextSibling;if(mn(e,t,o)){const r=o;for(;n=r.firstChild;)t.appendChild(n);e.remove(r)}if(o=t.previousSibling,mn(e,t,o)){const r=o;for(;n=r.lastChild;)t.insertBefore(n,t.firstChild);e.remove(r)}},gn=(e,t,n,o)=>{if(t.nodeName!==n){const r=e.dom.rename(t,n);ln(e.dom,r,o),Tt(e,an(n),r)}else ln(e.dom,t,o),Tt(e,an(n),t)},hn=(e,t,n,o)=>{if(t.classList.forEach(((e,n,o)=>{e.startsWith("tox-")&&(o.remove(e),0===o.length&&t.removeAttribute("class"))})),t.nodeName!==n){const r=e.dom.rename(t,n);ln(e.dom,r,o),Tt(e,an(n),r)}else ln(e.dom,t,o),Tt(e,an(n),t)},bn=e=>"list-style-type"in e,fn=(e,t,n)=>{const o=dt(e);if(St(e,o))return;const a=mt(e),s=r(n)?n:{};a.length>0?((e,t,n,o,r)=>{const a=$e(t);if(!a||t.nodeName!==o||bn(r)||vt(t)){dn(e,o,r);const s=on(e.selection.getRng()),l=a?[t,...n]:n,i=a&&vt(t)?hn:gn;Re.each(l,(t=>{i(e,t,o,r)})),e.selection.setRng(rn(s))}else Yt(e)})(e,o,a,t,s):((e,t,n,o)=>{if(t!==e.getBody())if(t)if(t.nodeName!==n||bn(o)||vt(t)){const r=on(e.selection.getRng());vt(t)&&t.classList.forEach(((e,n,o)=>{e.startsWith("tox-")&&(o.remove(e),0===o.length&&t.removeAttribute("class"))})),ln(e.dom,t,o);const a=e.dom.rename(t,n);pn(e.dom,a),e.selection.setRng(rn(r)),dn(e,n,o),Tt(e,an(n),a)}else Yt(e);else dn(e,n,o),Tt(e,an(n),t)})(e,o,t,s)},yn=De.DOM,vn=(e,t)=>{const n=Re.grep(e.select("ol,ul",t));Re.each(n,(t=>{((e,t)=>{const n=t.parentElement;if(n&&"LI"===n.nodeName&&n.firstChild===t){const o=n.previousSibling;o&&"LI"===o.nodeName?(o.appendChild(t),Ke(e,n)&&yn.remove(n)):yn.setStyle(n,"listStyleType","none")}if($e(n)){const e=n.previousSibling;e&&"LI"===e.nodeName&&e.appendChild(t)}})(e,t)}))},wn=(e,t,n,o)=>{let r=t.startContainer;const a=t.startOffset;if(Be(r)&&(n?a<r.data.length:a>0))return r;const s=e.schema.getNonEmptyElements();je(r)&&(r=xe.getNode(r,a));const l=new Se(r,o);n&&((e,t)=>!!Ue(t)&&e.isBlock(t.nextSibling)&&!Ue(t.previousSibling))(e.dom,r)&&l.next();const i=n?l.next.bind(l):l.prev2.bind(l);for(;r=i();){if("LI"===r.nodeName&&!r.hasChildNodes())return r;if(s[r.nodeName])return r;if(Be(r)&&r.data.length>0)return r}return null},xn=(e,t)=>{const n=t.childNodes;return 1===n.length&&!$e(n[0])&&e.isBlock(n[0])},Sn=e=>h.from(e).map(B.fromDom).filter(K).exists((e=>((e,t=!1)=>ie(e)?e.dom.isContentEditable:pe(e).fold(d(t),(e=>"true"===ge(e))))(e)&&!v(["details"],H(e)))),kn=(e,t,n)=>{let o;const r=xn(e,n)?n.firstChild:n;if(((e,t)=>{xn(e,t)&&Sn(t.firstChild)&&e.remove(t.firstChild,!0)})(e,t),!Ke(e,t,!0))for(;o=t.firstChild;)r.appendChild(o)},Cn=(e,t,n)=>{let o;const r=t.parentNode;if(!Ge(e,t)||!Ge(e,n))return;$e(n.lastChild)&&(o=n.lastChild),r===n.lastChild&&Ue(r.previousSibling)&&e.remove(r.previousSibling);const a=n.lastChild;a&&Ue(a)&&t.hasChildNodes()&&e.remove(a),Ke(e,n,!0)&&ve(B.fromDom(n)),kn(e,t,n),o&&n.appendChild(o);const s=((e,t)=>{const n=e.dom,o=t.dom;return n!==o&&n.contains(o)})(B.fromDom(n),B.fromDom(t))?e.getParents(t,$e,n):[];e.remove(t),S(s,(t=>{Ke(e,t)&&t!==e.getRoot()&&e.remove(t)}))},Tn=(e,t,n,o)=>{const r=e.dom;if(r.isEmpty(o))((e,t,n)=>{ve(B.fromDom(n)),Cn(e.dom,t,n),e.selection.setCursorLocation(n,0)})(e,n,o);else{const a=on(t);Cn(r,n,o),e.selection.setRng(rn(a))}},_n=(e,t)=>{const n=e.dom,o=e.selection,r=o.getStart(),a=gt(e,r),s=n.getParent(o.getStart(),"LI",a);if(s){const r=s.parentElement;if(r===e.getBody()&&Ke(n,r))return!0;const l=it(o.getRng()),i=n.getParent(wn(e,l,t,a),"LI",a),c=i&&(t?n.isChildOf(s,i):n.isChildOf(i,s));if(i&&i!==s&&!c)return e.undoManager.transact((()=>{var n,o;t?Tn(e,l,i,s):(null===(o=(n=s).parentNode)||void 0===o?void 0:o.firstChild)===n?Qt(e):((e,t,n,o)=>{const r=on(t);Cn(e.dom,n,o);const a=rn(r);e.selection.setRng(a)})(e,l,s,i)})),!0;if(c&&!t&&i!==s)return e.undoManager.transact((()=>{if(l.commonAncestorContainer.parentElement){const t=on(l),o=l.commonAncestorContainer.parentElement;kn(n,l.commonAncestorContainer.parentElement,i),o.remove();const r=rn(t);e.selection.setRng(r)}})),!0;if(!i&&!t&&0===l.startOffset&&0===l.endOffset)return e.undoManager.transact((()=>{Yt(e)})),!0}return!1},An=(e,t)=>{const n=e.dom,o=e.selection.getStart(),r=gt(e,o),a=n.getParent(o,n.isBlock,r);if(a&&n.isEmpty(a)){const o=it(e.selection.getRng()),s=n.getParent(wn(e,o,t,r),"LI",r);if(s){const l=e=>v(["td","th","caption"],H(e)),i=e=>e.dom===r;return!!((e,t,n=m)=>P(e,t,n).getOr(e.isNone()&&t.isNone()))(de(B.fromDom(s),l,i),de(B.fromDom(o.startContainer),l,i),$)&&(e.undoManager.transact((()=>{const o=s.parentNode;((e,t,n)=>{const o=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),o&&e.isEmpty(o)&&e.remove(o)})(n,a,r),pn(n,o),e.selection.select(s,!0),e.selection.collapse(t)})),!0)}}return!1},En=e=>{const t=e.selection.getStart(),n=gt(e,t);return e.dom.getParent(t,"LI,DT,DD",n)||pt(e).length>0},Nn=(e,t)=>{const n=e.selection;return!St(e,n.getNode())&&(n.isCollapsed()?((e,t)=>_n(e,t)||An(e,t))(e,t):(e=>!!En(e)&&(e.undoManager.transact((()=>{e.execCommand("Delete"),vn(e.dom,e.getBody())})),!0))(e))},On=e=>{const t=E(_t(e).split("")),n=x(t,((e,t)=>{const n=e.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,t)*n}));return C(n,((e,t)=>e+t),0)},Fn=e=>{if(--e<0)return"";{const t=e%26,n=Math.floor(e/26);return Fn(n)+String.fromCharCode("A".charCodeAt(0)+t)}},Dn=e=>{const t=parseInt(e.start,10);return R(e.listStyleType,"upper-alpha")?Fn(t):R(e.listStyleType,"lower-alpha")?Fn(t).toLowerCase():e.start},Rn=e=>{const t=dt(e);Ie(t)&&!St(e,t)&&e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Dn({start:e.dom.getAttrib(t,"start","1"),listStyleType:h.from(e.dom.getStyle(t,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:t=>{(e=>{switch((e=>/^[0-9]+$/.test(e)?2:/^[A-Z]+$/.test(e)?0:(e=>/^[a-z]+$/.test(e))(e)?1:e.length>0?4:3)(e)){case 2:return h.some({listStyleType:h.none(),start:e});case 0:return h.some({listStyleType:h.some("upper-alpha"),start:On(e).toString()});case 1:return h.some({listStyleType:h.some("lower-alpha"),start:On(e).toString()});case 3:return h.some({listStyleType:h.none(),start:""});case 4:return h.none()}})(t.getData().start).each((t=>{e.execCommand("mceListUpdate",!1,{attrs:{start:"1"===t.start?"":t.start},styles:{"list-style-type":t.listStyleType.getOr("")}})})),t.close()}})},Pn=(e,t)=>()=>{const n=dt(e);return l(n)&&n.nodeName===t},Mn=e=>{e.addCommand("mceListProps",(()=>{Rn(e)}))},Bn=e=>{e.on("BeforeExecCommand",(t=>{const n=t.command.toLowerCase();"indent"===n?Jt(e):"outdent"===n&&Qt(e)})),e.addCommand("InsertUnorderedList",((t,n)=>{fn(e,"UL",n)})),e.addCommand("InsertOrderedList",((t,n)=>{fn(e,"OL",n)})),e.addCommand("InsertDefinitionList",((t,n)=>{fn(e,"DL",n)})),e.addCommand("RemoveList",(()=>{Yt(e)})),Mn(e),e.addCommand("mceListUpdate",((t,n)=>{r(n)&&((e,t)=>{const n=dt(e);null===n||St(e,n)||e.undoManager.transact((()=>{r(t.styles)&&e.dom.setStyles(n,t.styles),r(t.attrs)&&_e(t.attrs,((t,o)=>e.dom.setAttrib(n,o,t)))}))})(e,n)})),e.addQueryStateHandler("InsertUnorderedList",Pn(e,"UL")),e.addQueryStateHandler("InsertOrderedList",Pn(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",Pn(e,"DL"))};var jn=tinymce.util.Tools.resolve("tinymce.html.Node");const $n=e=>3===e.type,Ln=e=>0===e.length,In=e=>{const t=(t,n)=>{const o=jn.create("li");S(t,(e=>o.append(e))),n?e.insert(o,n,!0):e.append(o)},n=C(e.children(),((e,n)=>$n(n)?[...e,n]:Ln(e)||$n(n)?e:(t(e,n),[])),[]);Ln(n)||t(n)},zn=e=>{Qe(e)&&(e=>{e.on("keydown",(t=>{t.keyCode!==ke.TAB||ke.metaKeyPressed(t)||e.undoManager.transact((()=>{(t.shiftKey?Qt(e):Jt(e))&&t.preventDefault()}))}))})(e),(e=>{e.on("ExecCommand",(t=>{const n=t.command.toLowerCase();"delete"!==n&&"forwarddelete"!==n||!En(e)||vn(e.dom,e.getBody())})),e.on("keydown",(t=>{t.keyCode===ke.BACKSPACE?Nn(e,!1)&&t.preventDefault():t.keyCode===ke.DELETE&&Nn(e,!0)&&t.preventDefault()}))})(e)},qn=(e,t)=>n=>(n.setEnabled(e.selection.isEditable()),kt(e,(o=>{n.setActive(wt(o.parents,t)),n.setEnabled(!St(e,o.element)&&e.selection.isEditable())}))),Wn=(e,t)=>n=>kt(e,(o=>n.setEnabled(wt(o.parents,t)&&!St(e,o.element))));e.add("lists",(e=>((e=>{(0,e.options.register)("lists_indent_on_tab",{processor:"boolean",default:!0})})(e),(e=>{e.on("PreInit",(()=>{const{parser:t}=e;t.addNodeFilter("ul,ol",(e=>S(e,In)))}))})(e),e.hasPlugin("rtc",!0)?Mn(e):(zn(e),Bn(e)),(e=>{const t=t=>()=>e.execCommand(t);e.hasPlugin("advlist")||(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:qn(e,"OL")}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:qn(e,"UL")}))})(e),(e=>{const t={text:"List properties...",icon:"ordered-list",onAction:()=>e.execCommand("mceListProps"),onSetup:Wn(e,"OL")};e.ui.registry.addMenuItem("listprops",t),e.ui.registry.addContextMenu("lists",{update:t=>{const n=dt(e,t);return Ie(n)?["listprops"]:[]}})})(e),(e=>({backspaceDelete:t=>{Nn(e,t)}}))(e))))}()},94050:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||(null===(a=o.constructor)||void 0===a?void 0:a.name)===r.name)?"string":t;var n,o,r,a})(t)===e,n=e=>t=>typeof t===e,o=t("string"),r=t("object"),a=t("array"),s=n("boolean"),l=e=>!(e=>null==e)(e),i=n("function"),c=n("number"),u=()=>{},d=e=>()=>e,m=(e,t)=>e===t,p=e=>t=>!e(t),g=d(!1);class h{constructor(e,t){this.tag=e,this.value=t}static some(e){return new h(!0,e)}static none(){return h.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?h.some(e(this.value)):h.none()}bind(e){return this.tag?e(this.value):h.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:h.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return l(e)?h.some(e):h.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}h.singletonNone=new h(!1);const b=Array.prototype.slice,f=Array.prototype.indexOf,y=Array.prototype.push,v=(e,t)=>{return n=e,o=t,f.call(n,o)>-1;var n,o},w=(e,t)=>{for(let n=0,o=e.length;n<o;n++)if(t(e[n],n))return!0;return!1},x=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},S=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},k=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},C=(e,t,n)=>(S(e,((e,o)=>{n=t(n,e,o)})),n),T=(e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return h.some(r);if(n(r,o))break}return h.none()},_=(e,t)=>T(e,t,g),A=(e,t)=>(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);y.apply(t,e[n])}return t})(x(e,t)),E=e=>{const t=b.call(e,0);return t.reverse(),t},N=(e,t)=>t>=0&&t<e.length?h.some(e[t]):h.none(),O=e=>N(e,0),F=e=>N(e,e.length-1),D=(e,t)=>{const n=[],o=i(t)?e=>w(n,(n=>t(n,e))):e=>v(n,e);for(let t=0,r=e.length;t<r;t++){const r=e[t];o(r)||n.push(r)}return n},R=(e,t,n=m)=>e.exists((e=>n(e,t))),P=(e,t,n)=>e.isSome()&&t.isSome()?h.some(n(e.getOrDie(),t.getOrDie())):h.none(),M=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},B=(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return M(n.childNodes[0])},j=(e,t)=>{const n=(t||document).createElement(e);return M(n)},$=M,L=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},I=(e,t)=>e.dom===t.dom,z=L,q="undefined"!=typeof window?window:Function("return this;")(),W=(e,t)=>((e,t)=>{let n=null!=t?t:q;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),U=Object.getPrototypeOf,H=e=>e.dom.nodeName.toLowerCase(),V=e=>e.dom.nodeType,Z=e=>t=>V(t)===e,K=e=>G(e)&&(e=>{const t=W("ownerDocument.defaultView",e);return r(e)&&((e=>((e,t)=>{const n=((e,t)=>W(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n})("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(U(e).constructor.name))})(e.dom),G=Z(1),J=Z(3),Q=Z(9),Y=Z(11),X=e=>t=>G(t)&&H(t)===e,ee=e=>h.from(e.dom.parentNode).map($),te=e=>x(e.dom.childNodes,$),ne=(e,t)=>{const n=e.dom.childNodes;return h.from(n[t]).map($)},oe=e=>ne(e,0),re=e=>ne(e,e.dom.childNodes.length-1),ae=i(Element.prototype.attachShadow)&&i(Node.prototype.getRootNode)?e=>$(e.dom.getRootNode()):e=>Q(e)?e:$(e.dom.ownerDocument),se=e=>$(e.dom.host),le=e=>{const t=J(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return(e=>{const t=ae(e);return Y(n=t)&&l(n.dom.host)?h.some(t):h.none();var n})($(t)).fold((()=>n.body.contains(t)),(o=le,r=se,e=>o(r(e))));var o,r};var ie=(e,t,n,o,r)=>e(n,o)?h.some(n):i(r)&&r(n)?h.none():t(n,o,r);const ce=(e,t,n)=>{let o=e.dom;const r=i(n)?n:g;for(;o.parentNode;){o=o.parentNode;const e=$(o);if(t(e))return h.some(e);if(r(e))break}return h.none()},ue=(e,t,n)=>ie(((e,t)=>t(e)),ce,e,t,n),de=(e,t,n)=>ce(e,(e=>L(e,t)),n),me=(e,t)=>{ee(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},pe=(e,t)=>{e.dom.appendChild(t.dom)},ge=(e,t)=>{S(t,(t=>{pe(e,t)}))},he=e=>{e.dom.textContent="",S(te(e),(e=>{be(e)}))},be=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)};var fe=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),ye=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ve=tinymce.util.Tools.resolve("tinymce.util.VK");const we=e=>x(e,$),xe=Object.keys,Se=(e,t)=>{const n=xe(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},ke=(e,t)=>{const n=e.dom;Se(t,((e,t)=>{((e,t,n)=>{if(!(o(n)||s(n)||c(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(n,t,e)}))},Ce=e=>C(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),Te=e=>((e,t)=>$(e.dom.cloneNode(!0)))(e),_e=(e,t)=>{const n=((e,t)=>{const n=j(t),o=Ce(e);return ke(n,o),n})(e,t);var o,r;r=n,(e=>h.from(e.dom.nextSibling).map($))(o=e).fold((()=>{ee(o).each((e=>{pe(e,r)}))}),(e=>{me(e,r)}));const a=te(e);return ge(n,a),be(e),n};var Ae=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ee=tinymce.util.Tools.resolve("tinymce.util.Tools");const Ne=e=>t=>l(t)&&t.nodeName.toLowerCase()===e,Oe=e=>t=>l(t)&&e.test(t.nodeName),Fe=e=>l(e)&&3===e.nodeType,De=e=>l(e)&&1===e.nodeType,Re=Oe(/^(OL|UL|DL)$/),Pe=Oe(/^(OL|UL)$/),Me=Ne("ol"),Be=Oe(/^(LI|DT|DD)$/),je=Oe(/^(DT|DD)$/),$e=Oe(/^(TH|TD)$/),Le=Ne("br"),Ie=(e,t)=>l(t)&&t.nodeName in e.schema.getTextBlockElements(),ze=(e,t)=>l(e)&&e.nodeName in t,qe=(e,t)=>l(t)&&t.nodeName in e.schema.getVoidElements(),We=(e,t,n)=>{const o=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&o},Ue=(e,t)=>e.isChildOf(t,e.getRoot()),He=e=>t=>t.options.get(e),Ve=He("lists_indent_on_tab"),Ze=He("forced_root_block"),Ke=He("forced_root_block_attrs"),Ge=(e,t)=>{const n=e.dom,o=e.schema.getBlockElements(),r=n.createFragment(),a=Ze(e),s=Ke(e);let l,i,c=!1;for(i=n.create(a,s),ze(t.firstChild,o)||r.appendChild(i);l=t.firstChild;){const e=l.nodeName;c||"SPAN"===e&&"bookmark"===l.getAttribute("data-mce-type")||(c=!0),ze(l,o)?(r.appendChild(l),i=null):(i||(i=n.create(a,s),r.appendChild(i)),i.appendChild(l))}return!c&&i&&i.appendChild(n.create("br",{"data-mce-bogus":"1"})),r},Je=Ae.DOM,Qe=X("dd"),Ye=X("dt"),Xe=e=>{Ye(e)&&_e(e,"dd")},et=(e,t)=>{if(Fe(e))return{container:e,offset:t};const n=fe.getNode(e,t);return Fe(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&Fe(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&Fe(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},tt=e=>{const t=e.cloneRange(),n=et(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);const o=et(e.endContainer,e.endOffset);return t.setEnd(o.container,o.offset),t},nt=["OL","UL","DL"],ot=nt.join(","),rt=(e,t)=>{const n=t||e.selection.getStart(!0);return e.dom.getParent(n,ot,lt(e,n))},at=e=>{const t=e.selection.getSelectedBlocks();return k(((e,t)=>{const n=Ee.map(t,(t=>e.dom.getParent(t,"li,dd,dt",lt(e,t))||t));return D(n)})(e,t),Be)},st=(e,t)=>{const n=e.dom.getParents(t,"TD,TH");return n.length>0?n[0]:e.getBody()},lt=(e,t)=>{const n=e.dom.getParents(t,e.dom.isBlock),o=_(n,(t=>{return n=e.schema,!Re(o=t)&&!Be(o)&&w(nt,(e=>n.isValidChild(o.nodeName,e)));var n,o}));return o.getOr(e.getBody())},it=(e,t)=>{const n=e.dom.getParents(t,"ol,ul",lt(e,t));return F(n)},ct=e=>/\btox\-/.test(e.className),ut=(e,t)=>T(e,Re,$e).exists((e=>e.nodeName===t&&!ct(e))),dt=(e,t)=>null!==t&&!e.dom.isEditable(t),mt=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return dt(e,n)},pt=(e,t)=>{const n=e.selection.getNode();return t({parents:e.dom.getParents(n),element:n}),e.on("NodeChange",t),()=>e.off("NodeChange",t)},gt=(e,t)=>{const n=(t||document).createDocumentFragment();return S(e,(e=>{n.appendChild(e.dom)})),$(n)},ht=(e,t,n)=>e.dispatch("ListMutation",{action:t,element:n}),bt=(ft=/^\s+|\s+$/g,e=>e.replace(ft,""));var ft;const yt=(e,t,n)=>{((e,t,n)=>{if(!o(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);(e=>void 0!==e.style&&i(e.style.getPropertyValue))(e)&&e.style.setProperty(t,n)})(e.dom,t,n)},vt=e=>z(e,"OL,UL"),wt=e=>oe(e).exists(vt),xt=e=>"listAttributes"in e,St=e=>"isComment"in e,kt=e=>e.depth>0,Ct=e=>e.isSelected,Tt=e=>{const t=te(e),n=re(e).exists(vt)?t.slice(0,-1):t;return x(n,Te)},_t=(e,t)=>{pe(e.item,t.list)},At=(e,t)=>{const n={list:j(t,e),item:j("li",e)};return pe(n.list,n.item),n},Et=(e,t,n)=>{const o=t.slice(0,n.depth);return F(o).each((t=>{if(xt(n)){const o=((e,t,n)=>{const o=j("li",e);return ke(o,t),ge(o,n),o})(e,n.itemAttributes,n.content);((e,t)=>{pe(e.list,t),e.item=t})(t,o),((e,t)=>{H(e.list)!==t.listType&&(e.list=_e(e.list,t.listType)),ke(e.list,t.listAttributes)})(t,n)}else if((e=>"isFragment"in e)(n))ge(t.item,n.content);else{const e=B(`\x3c!--${n.content}--\x3e`);pe(t.list,e)}})),o},Nt=e=>(S(e,((t,n)=>{((e,t)=>{const n=e[t].depth,o=e=>e.depth===n&&!e.dirty,r=e=>e.depth<n;return T(E(e.slice(0,t)),o,r).orThunk((()=>T(e.slice(t+1),o,r)))})(e,n).fold((()=>{t.dirty&&xt(t)&&(e=>{e.listAttributes=((e,t)=>{const n={};var o;return((e,t,n,o)=>{Se(e,((e,r)=>{(t(e,r)?n:o)(e,r)}))})(e,((e,t)=>"start"!==t),(o=n,(e,t)=>{o[t]=e}),u),n})(e.listAttributes)})(t)}),(e=>{return o=e,void(xt(n=t)&&xt(o)&&(n.listType=o.listType,n.listAttributes={...o.listAttributes}));var n,o}))})),e),Ot=(e,t,n,o)=>{var r,a;if(8===V(a=o)||"#comment"===H(a))return[{depth:e+1,content:null!==(r=o.dom.nodeValue)&&void 0!==r?r:"",dirty:!1,isSelected:!1,isComment:!0}];t.each((e=>{I(e.start,o)&&n.set(!0)}));const s=((e,t,n)=>ee(e).filter(G).map((o=>({depth:t,dirty:!1,isSelected:n,content:Tt(e),itemAttributes:Ce(e),listAttributes:Ce(o),listType:H(o),isInPreviousLi:!1}))))(o,e,n.get());t.each((e=>{I(e.end,o)&&n.set(!1)}));const l=re(o).filter(vt).map((o=>Dt(e,t,n,o))).getOr([]);return s.toArray().concat(l)},Ft=(e,t,n,o)=>oe(o).filter(vt).fold((()=>Ot(e,t,n,o)),(r=>{const a=C(te(o),((o,a,s)=>{if(0===s)return o;if(z(a,"LI"))return o.concat(Ot(e,t,n,a));{const t={isFragment:!0,depth:e,content:[a],isSelected:!1,dirty:!1,parentListType:H(r)};return o.concat(t)}}),[]);return Dt(e,t,n,r).concat(a)})),Dt=(e,t,n,o)=>A(te(o),(o=>(vt(o)?Dt:Ft)(e+1,t,n,o))),Rt=(e,t,n)=>{const o=((e,t)=>{const n=(e=>{let t=!1;return{get:()=>t,set:e=>{t=e}}})();return x(e,(e=>({sourceList:e,entries:Dt(0,t,n,e)})))})(t,(e=>{const t=x(at(e),$);return P(_(t,p(wt)),_(E(t),p(wt)),((e,t)=>({start:e,end:t})))})(e));S(o,(t=>{((e,t)=>{S(k(e,Ct),(e=>((e,t)=>{switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}t.dirty=!0})(t,e)))})(t.entries,n);const o=((e,t)=>A(((e,t)=>{if(0===e.length)return[];{let n=t(e[0]);const o=[];let r=[];for(let a=0,s=e.length;a<s;a++){const s=e[a],l=t(s);l!==n&&(o.push(r),r=[]),n=l,r.push(s)}return 0!==r.length&&o.push(r),o}})(t,kt),(t=>O(t).exists(kt)?((e,t)=>{const n=Nt(t);return((e,t)=>{let n=h.none();const o=C(t,((t,o,r)=>St(o)?0===r?(n=h.some(o),t):Et(e,t,o):o.depth>t.length?((e,t,n)=>{const o=((e,t,n)=>{const o=[];for(let r=0;r<n;r++)o.push(At(e,xt(t)?t.listType:t.parentListType));return o})(e,n,n.depth-t.length);var r;return(e=>{for(let t=1;t<e.length;t++)_t(e[t-1],e[t])})(o),((e,t)=>{for(let t=0;t<e.length-1;t++)yt(e[t].item,"list-style-type","none");F(e).each((e=>{xt(t)&&(ke(e.list,t.listAttributes),ke(e.item,t.itemAttributes)),ge(e.item,t.content)}))})(o,n),r=o,P(F(t),O(r),_t),t.concat(o)})(e,t,o):Et(e,t,o)),[]);return n.each((e=>{const t=B(`\x3c!--${e.content}--\x3e`);O(o).each((e=>{((e,t)=>{oe(e).fold((()=>{pe(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))})(e.list,t)}))})),O(o).map((e=>e.list))})(e.contentDocument,n).toArray()})(e,t):((e,t)=>{const n=Nt(t);return x(n,(t=>{const n=St(t)?gt([B(`\x3c!--${t.content}--\x3e`)]):gt(t.content);return $(Ge(e,n.dom))}))})(e,t))))(e,t.entries);var r;S(o,(t=>{ht(e,"Indent"===n?"IndentList":"OutdentList",t.dom)})),r=t.sourceList,S(o,(e=>{me(r,e)})),be(t.sourceList)}))},Pt=(e,t)=>{const n=we((e=>{const t=(e=>{const t=it(e,e.selection.getStart()),n=k(e.selection.getSelectedBlocks(),Pe);return t.toArray().concat(n)})(e),n=(e=>{const t=e.selection.getStart();return e.dom.getParents(t,"ol,ul",lt(e,t))})(e);return _(n,(e=>{return t=$(e),ee(t).exists((e=>Be(e.dom)&&oe(e).exists((e=>!Re(e.dom)))&&re(e).exists((e=>!Re(e.dom)))));var t})).fold((()=>((e,t)=>{const n=x(t,(t=>it(e,t).getOr(t)));return D(n)})(e,t)),(e=>[e]))})(e)),o=we((e=>k(at(e),je))(e));let r=!1;if(n.length||o.length){const a=e.selection.getBookmark();Rt(e,n,t),((e,t,n)=>{S(n,"Indent"===t?Xe:t=>((e,t)=>{var n;Qe(t)?_e(t,"dt"):Ye(t)&&(n=t,h.from(n.dom.parentElement).map($)).each((n=>((e,t,n)=>{const o=Je.select('span[data-mce-type="bookmark"]',t),r=Ge(e,n),a=Je.createRng();a.setStartAfter(n),a.setEndAfter(t);const s=a.extractContents();for(let t=s.firstChild;t;t=t.firstChild)if("LI"===t.nodeName&&e.dom.isEmpty(t)){Je.remove(t);break}e.dom.isEmpty(s)||Je.insertAfter(s,t),Je.insertAfter(r,t);const l=n.parentElement;l&&We(e.dom,l)&&(e=>{const t=e.parentNode;t&&Ee.each(o,(e=>{t.insertBefore(e,n.parentNode)})),Je.remove(e)})(l),Je.remove(n),We(e.dom,t)&&Je.remove(t)})(e,n.dom,t.dom)))})(e,t))})(e,t,o),e.selection.moveToBookmark(a),e.selection.setRng(tt(e.selection.getRng())),e.nodeChanged(),r=!0}return r},Mt=(e,t)=>!(e=>{const t=rt(e);return dt(e,t)})(e)&&Pt(e,t),Bt=e=>Mt(e,"Indent"),jt=e=>Mt(e,"Outdent"),$t=e=>Mt(e,"Flatten"),Lt=e=>"\ufeff"===e;var It=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const zt=Ae.DOM,qt=e=>{const t={},n=n=>{let o=e[n?"startContainer":"endContainer"],r=e[n?"startOffset":"endOffset"];if(De(o)){const e=zt.create("span",{"data-mce-type":"bookmark"});o.hasChildNodes()?(r=Math.min(r,o.childNodes.length-1),n?o.insertBefore(e,o.childNodes[r]):zt.insertAfter(e,o.childNodes[r])):o.appendChild(e),o=e,r=0}t[n?"startContainer":"endContainer"]=o,t[n?"startOffset":"endOffset"]=r};return n(!0),e.collapsed||n(),t},Wt=e=>{const t=t=>{let n=e[t?"startContainer":"endContainer"],o=e[t?"startOffset":"endOffset"];if(n){if(De(n)&&n.parentNode){const e=n;o=(e=>{var t;let n=null===(t=e.parentNode)||void 0===t?void 0:t.firstChild,o=0;for(;n;){if(n===e)return o;De(n)&&"bookmark"===n.getAttribute("data-mce-type")||o++,n=n.nextSibling}return-1})(n),n=n.parentNode,zt.remove(e),!n.hasChildNodes()&&zt.isBlock(n)&&n.appendChild(zt.create("br"))}e[t?"startContainer":"endContainer"]=n,e[t?"startOffset":"endOffset"]=o}};t(!0),t();const n=zt.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),tt(n)},Ut=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Ht=(e,t)=>{Ee.each(t,((t,n)=>{e.setAttribute(n,t)}))},Vt=(e,t,n)=>{((e,t,n)=>{const o=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",o)})(e,t,n),((e,t,n)=>{Ht(t,n["list-attributes"]),Ee.each(e.select("li",t),(e=>{Ht(e,n["list-item-attributes"])}))})(e,t,n)},Zt=(e,t)=>l(t)&&!ze(t,e.schema.getBlockElements()),Kt=(e,t,n,o)=>{let r=t[n?"startContainer":"endContainer"];const a=t[n?"startOffset":"endOffset"];De(r)&&(r=r.childNodes[Math.min(a,r.childNodes.length-1)]||r),!n&&Le(r.nextSibling)&&(r=r.nextSibling);const s=(t,n)=>{var r;const a=new ye(t,(t=>{for(;!e.dom.isBlock(t)&&t.parentNode&&o!==t;)t=t.parentNode;return t})(t)),s=n?"next":"prev";let l;for(;l=a[s]();)if(!qe(e,l)&&!Lt(l.textContent)&&0!==(null===(r=l.textContent)||void 0===r?void 0:r.length))return h.some(l);return h.none()};if(n&&Fe(r))if(Lt(r.textContent))r=s(r,!1).getOr(r);else for(null!==r.parentNode&&Zt(e,r.parentNode)&&(r=r.parentNode);null!==r.previousSibling&&(Zt(e,r.previousSibling)||Fe(r.previousSibling));)r=r.previousSibling;if(!n&&Fe(r))if(Lt(r.textContent))r=s(r,!0).getOr(r);else for(null!==r.parentNode&&Zt(e,r.parentNode)&&(r=r.parentNode);null!==r.nextSibling&&(Zt(e,r.nextSibling)||Fe(r.nextSibling));)r=r.nextSibling;for(;r.parentNode!==o;){const t=r.parentNode;if(Ie(e,r))return r;if(/^(TD|TH)$/.test(t.nodeName))return r;r=t}return r},Gt=(e,t,n)=>{const o=e.selection.getRng();let r="LI";const a=lt(e,((e,t)=>{const n=e.selection.getStart(!0),o=Kt(e,t,!0,e.getBody());return r=$(o),a=$(t.commonAncestorContainer),s=r,l=function(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}(I,a),ce(s,l,void 0).isSome()?t.commonAncestorContainer:n;var r,a,s,l})(e,o)),s=e.dom;if("false"===s.getContentEditable(e.selection.getNode()))return;"DL"===(t=t.toUpperCase())&&(r="DT");const l=qt(o),i=k(((e,t,n)=>{const o=[],r=e.dom,a=Kt(e,t,!0,n),s=Kt(e,t,!1,n);let l;const i=[];for(let e=a;e&&(i.push(e),e!==s);e=e.nextSibling);return Ee.each(i,(t=>{var a;if(Ie(e,t))return o.push(t),void(l=null);if(r.isBlock(t)||Le(t))return Le(t)&&r.remove(t),void(l=null);const s=t.nextSibling;It.isBookmarkNode(t)&&(Re(s)||Ie(e,s)||!s&&t.parentNode===n)?l=null:(l||(l=r.create("p"),null===(a=t.parentNode)||void 0===a||a.insertBefore(l,t),o.push(l)),l.appendChild(t))})),o})(e,o,a),e.dom.isEditable);Ee.each(i,(o=>{let a;const l=o.previousSibling,i=o.parentNode;Be(i)||(l&&Re(l)&&l.nodeName===t&&((e,t,n)=>{const o=e.getStyle(t,"list-style-type");let r=n?n["list-style-type"]:"";return r=null===r?"":r,o===r})(s,l,n)?(a=l,o=s.rename(o,r),l.appendChild(o)):(a=s.create(t),i.insertBefore(a,o),a.appendChild(o),o=s.rename(o,r)),((e,t,n)=>{Ee.each(["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"],(n=>e.setStyle(t,n,"")))})(s,o),Vt(s,a,n),Qt(e.dom,a))})),e.selection.setRng(Wt(l))},Jt=(e,t,n)=>{return((e,t)=>Re(e)&&e.nodeName===(null==t?void 0:t.nodeName))(t,n)&&((e,t,n)=>e.getStyle(t,"list-style-type",!0)===e.getStyle(n,"list-style-type",!0))(e,t,n)&&(o=n,t.className===o.className);var o},Qt=(e,t)=>{let n,o=t.nextSibling;if(Jt(e,t,o)){const r=o;for(;n=r.firstChild;)t.appendChild(n);e.remove(r)}if(o=t.previousSibling,Jt(e,t,o)){const r=o;for(;n=r.lastChild;)t.insertBefore(n,t.firstChild);e.remove(r)}},Yt=(e,t,n,o)=>{if(t.nodeName!==n){const r=e.dom.rename(t,n);Vt(e.dom,r,o),ht(e,Ut(n),r)}else Vt(e.dom,t,o),ht(e,Ut(n),t)},Xt=(e,t,n,o)=>{if(t.classList.forEach(((e,n,o)=>{e.startsWith("tox-")&&(o.remove(e),0===o.length&&t.removeAttribute("class"))})),t.nodeName!==n){const r=e.dom.rename(t,n);Vt(e.dom,r,o),ht(e,Ut(n),r)}else Vt(e.dom,t,o),ht(e,Ut(n),t)},en=e=>"list-style-type"in e,tn=(e,t,n)=>{const o=rt(e);if(mt(e,o))return;const a=(e=>{const t=rt(e),n=e.selection.getSelectedBlocks();return((e,t)=>l(e)&&1===t.length&&t[0]===e)(t,n)?(e=>k(e.querySelectorAll(ot),Re))(t):k(n,(e=>Re(e)&&t!==e))})(e),s=r(n)?n:{};a.length>0?((e,t,n,o,r)=>{const a=Re(t);if(!a||t.nodeName!==o||en(r)||ct(t)){Gt(e,o,r);const s=qt(e.selection.getRng()),l=a?[t,...n]:n,i=a&&ct(t)?Xt:Yt;Ee.each(l,(t=>{i(e,t,o,r)})),e.selection.setRng(Wt(s))}else $t(e)})(e,o,a,t,s):((e,t,n,o)=>{if(t!==e.getBody())if(t)if(t.nodeName!==n||en(o)||ct(t)){const r=qt(e.selection.getRng());ct(t)&&t.classList.forEach(((e,n,o)=>{e.startsWith("tox-")&&(o.remove(e),0===o.length&&t.removeAttribute("class"))})),Vt(e.dom,t,o);const a=e.dom.rename(t,n);Qt(e.dom,a),e.selection.setRng(Wt(r)),Gt(e,n,o),ht(e,Ut(n),a)}else $t(e);else Gt(e,n,o),ht(e,Ut(n),t)})(e,o,t,s)},nn=Ae.DOM,on=(e,t)=>{const n=Ee.grep(e.select("ol,ul",t));Ee.each(n,(t=>{((e,t)=>{const n=t.parentElement;if(n&&"LI"===n.nodeName&&n.firstChild===t){const o=n.previousSibling;o&&"LI"===o.nodeName?(o.appendChild(t),We(e,n)&&nn.remove(n)):nn.setStyle(n,"listStyleType","none")}if(Re(n)){const e=n.previousSibling;e&&"LI"===e.nodeName&&e.appendChild(t)}})(e,t)}))},rn=(e,t,n,o)=>{let r=t.startContainer;const a=t.startOffset;if(Fe(r)&&(n?a<r.data.length:a>0))return r;const s=e.schema.getNonEmptyElements();De(r)&&(r=fe.getNode(r,a));const l=new ye(r,o);n&&((e,t)=>!!Le(t)&&e.isBlock(t.nextSibling)&&!Le(t.previousSibling))(e.dom,r)&&l.next();const i=n?l.next.bind(l):l.prev2.bind(l);for(;r=i();){if("LI"===r.nodeName&&!r.hasChildNodes())return r;if(s[r.nodeName])return r;if(Fe(r)&&r.data.length>0)return r}return null},an=(e,t)=>{const n=t.childNodes;return 1===n.length&&!Re(n[0])&&e.isBlock(n[0])},sn=(e,t,n)=>{let o;const r=an(e,n)?n.firstChild:n;if(((e,t)=>{an(e,t)&&(e=>h.from(e).map($).filter(K).exists((e=>((e,t=!1)=>{return le(e)?e.dom.isContentEditable:(n=e,ie(((e,t)=>L(e,t)),de,n,"[contenteditable]",void 0)).fold(d(t),(e=>"true"===(e=>e.dom.contentEditable)(e)));var n})(e)&&!v(["details"],H(e)))))(t.firstChild)&&e.remove(t.firstChild,!0)})(e,t),!We(e,t,!0))for(;o=t.firstChild;)r.appendChild(o)},ln=(e,t,n)=>{let o;const r=t.parentNode;if(!Ue(e,t)||!Ue(e,n))return;Re(n.lastChild)&&(o=n.lastChild),r===n.lastChild&&Le(r.previousSibling)&&e.remove(r.previousSibling);const a=n.lastChild;a&&Le(a)&&t.hasChildNodes()&&e.remove(a),We(e,n,!0)&&he($(n)),sn(e,t,n),o&&n.appendChild(o);const s=((e,t)=>{const n=e.dom,o=t.dom;return n!==o&&n.contains(o)})($(n),$(t))?e.getParents(t,Re,n):[];e.remove(t),S(s,(t=>{We(e,t)&&t!==e.getRoot()&&e.remove(t)}))},cn=e=>{const t=e.selection.getStart(),n=st(e,t);return e.dom.getParent(t,"LI,DT,DD",n)||at(e).length>0},un=(e,t)=>{const n=e.selection;return!mt(e,n.getNode())&&(n.isCollapsed()?((e,t)=>((e,t)=>{const n=e.dom,o=e.selection,r=o.getStart(),a=st(e,r),s=n.getParent(o.getStart(),"LI",a);if(s){const r=s.parentElement;if(r===e.getBody()&&We(n,r))return!0;const l=tt(o.getRng()),i=n.getParent(rn(e,l,t,a),"LI",a),c=i&&(t?n.isChildOf(s,i):n.isChildOf(i,s));if(i&&i!==s&&!c)return e.undoManager.transact((()=>{var n,o;t?((e,t,n,o)=>{const r=e.dom;if(r.isEmpty(o))((e,t,n)=>{he($(n)),ln(e.dom,t,n),e.selection.setCursorLocation(n,0)})(e,n,o);else{const a=qt(t);ln(r,n,o),e.selection.setRng(Wt(a))}})(e,l,i,s):(null===(o=(n=s).parentNode)||void 0===o?void 0:o.firstChild)===n?jt(e):((e,t,n,o)=>{const r=qt(t);ln(e.dom,n,o);const a=Wt(r);e.selection.setRng(a)})(e,l,s,i)})),!0;if(c&&!t&&i!==s)return e.undoManager.transact((()=>{if(l.commonAncestorContainer.parentElement){const t=qt(l),o=l.commonAncestorContainer.parentElement;sn(n,l.commonAncestorContainer.parentElement,i),o.remove();const r=Wt(t);e.selection.setRng(r)}})),!0;if(!i&&!t&&0===l.startOffset&&0===l.endOffset)return e.undoManager.transact((()=>{$t(e)})),!0}return!1})(e,t)||((e,t)=>{const n=e.dom,o=e.selection.getStart(),r=st(e,o),a=n.getParent(o,n.isBlock,r);if(a&&n.isEmpty(a)){const o=tt(e.selection.getRng()),s=n.getParent(rn(e,o,t,r),"LI",r);if(s){const l=e=>v(["td","th","caption"],H(e)),i=e=>e.dom===r;return!!((e,t,n=m)=>P(e,t,n).getOr(e.isNone()&&t.isNone()))(ue($(s),l,i),ue($(o.startContainer),l,i),I)&&(e.undoManager.transact((()=>{const o=s.parentNode;((e,t,n)=>{const o=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),o&&e.isEmpty(o)&&e.remove(o)})(n,a,r),Qt(n,o),e.selection.select(s,!0),e.selection.collapse(t)})),!0)}}return!1})(e,t))(e,t):(e=>!!cn(e)&&(e.undoManager.transact((()=>{e.execCommand("Delete"),on(e.dom,e.getBody())})),!0))(e))},dn=e=>{const t=E(bt(e).split("")),n=x(t,((e,t)=>{const n=e.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,t)*n}));return C(n,((e,t)=>e+t),0)},mn=e=>{if(--e<0)return"";{const t=e%26,n=Math.floor(e/26);return mn(n)+String.fromCharCode("A".charCodeAt(0)+t)}},pn=e=>{const t=parseInt(e.start,10);return R(e.listStyleType,"upper-alpha")?mn(t):R(e.listStyleType,"lower-alpha")?mn(t).toLowerCase():e.start},gn=(e,t)=>()=>{const n=rt(e);return l(n)&&n.nodeName===t},hn=e=>{e.addCommand("mceListProps",(()=>{(e=>{const t=rt(e);Me(t)&&!mt(e,t)&&e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:pn({start:e.dom.getAttrib(t,"start","1"),listStyleType:h.from(e.dom.getStyle(t,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:t=>{(e=>{switch((e=>/^[0-9]+$/.test(e)?2:/^[A-Z]+$/.test(e)?0:/^[a-z]+$/.test(e)?1:e.length>0?4:3)(e)){case 2:return h.some({listStyleType:h.none(),start:e});case 0:return h.some({listStyleType:h.some("upper-alpha"),start:dn(e).toString()});case 1:return h.some({listStyleType:h.some("lower-alpha"),start:dn(e).toString()});case 3:return h.some({listStyleType:h.none(),start:""});case 4:return h.none()}})(t.getData().start).each((t=>{e.execCommand("mceListUpdate",!1,{attrs:{start:"1"===t.start?"":t.start},styles:{"list-style-type":t.listStyleType.getOr("")}})})),t.close()}})})(e)}))};var bn=tinymce.util.Tools.resolve("tinymce.html.Node");const fn=e=>3===e.type,yn=e=>0===e.length,vn=e=>{const t=(t,n)=>{const o=bn.create("li");S(t,(e=>o.append(e))),n?e.insert(o,n,!0):e.append(o)},n=C(e.children(),((e,n)=>fn(n)?[...e,n]:yn(e)||fn(n)?e:(t(e,n),[])),[]);yn(n)||t(n)},wn=(e,t)=>n=>(n.setEnabled(e.selection.isEditable()),pt(e,(o=>{n.setActive(ut(o.parents,t)),n.setEnabled(!mt(e,o.element)&&e.selection.isEditable())}))),xn=(e,t)=>n=>pt(e,(o=>n.setEnabled(ut(o.parents,t)&&!mt(e,o.element))));e.add("lists",(e=>((e=>{(0,e.options.register)("lists_indent_on_tab",{processor:"boolean",default:!0})})(e),(e=>{e.on("PreInit",(()=>{const{parser:t}=e;t.addNodeFilter("ul,ol",(e=>S(e,vn)))}))})(e),e.hasPlugin("rtc",!0)?hn(e):((e=>{Ve(e)&&(e=>{e.on("keydown",(t=>{t.keyCode!==ve.TAB||ve.metaKeyPressed(t)||e.undoManager.transact((()=>{(t.shiftKey?jt(e):Bt(e))&&t.preventDefault()}))}))})(e),(e=>{e.on("ExecCommand",(t=>{const n=t.command.toLowerCase();"delete"!==n&&"forwarddelete"!==n||!cn(e)||on(e.dom,e.getBody())})),e.on("keydown",(t=>{t.keyCode===ve.BACKSPACE?un(e,!1)&&t.preventDefault():t.keyCode===ve.DELETE&&un(e,!0)&&t.preventDefault()}))})(e)})(e),(e=>{e.on("BeforeExecCommand",(t=>{const n=t.command.toLowerCase();"indent"===n?Bt(e):"outdent"===n&&jt(e)})),e.addCommand("InsertUnorderedList",((t,n)=>{tn(e,"UL",n)})),e.addCommand("InsertOrderedList",((t,n)=>{tn(e,"OL",n)})),e.addCommand("InsertDefinitionList",((t,n)=>{tn(e,"DL",n)})),e.addCommand("RemoveList",(()=>{$t(e)})),hn(e),e.addCommand("mceListUpdate",((t,n)=>{r(n)&&((e,t)=>{const n=rt(e);null===n||mt(e,n)||e.undoManager.transact((()=>{r(t.styles)&&e.dom.setStyles(n,t.styles),r(t.attrs)&&Se(t.attrs,((t,o)=>e.dom.setAttrib(n,o,t)))}))})(e,n)})),e.addQueryStateHandler("InsertUnorderedList",gn(e,"UL")),e.addQueryStateHandler("InsertOrderedList",gn(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",gn(e,"DL"))})(e)),(e=>{const t=t=>()=>e.execCommand(t);e.hasPlugin("advlist")||(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:wn(e,"OL")}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:wn(e,"UL")}))})(e),(e=>{const t={text:"List properties...",icon:"ordered-list",onAction:()=>e.execCommand("mceListProps"),onSetup:xn(e,"OL")};e.ui.registry.addMenuItem("listprops",t),e.ui.registry.addContextMenu("lists",{update:t=>{const n=rt(e,t);return Me(n)?["listprops"]:[]}})})(e),(e=>({backspaceDelete:t=>{un(e,t)}}))(e))))}()},42540:function(e,t,n){n(33167)},33167:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(a=String).prototype,o.isPrototypeOf(n)||(null===(s=r.constructor)||void 0===s?void 0:s.name)===a.name)?"string":t;var n,o;var r,a,s})(t)===e,n=t("string"),o=t("object"),r=t("array"),a=e=>!(e=>null==e)(e);class s{constructor(e,t){this.tag=e,this.value=t}static some(e){return new s(!0,e)}static none(){return s.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?s.some(e(this.value)):s.none()}bind(e){return this.tag?e(this.value):s.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:s.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return a(e)?s.some(e):s.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}s.singletonNone=new s(!1);const l=Array.prototype.push,i=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},c=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!r(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);l.apply(t,e[n])}return t},u=Object.keys,d=Object.hasOwnProperty,m=(e,t)=>p(e,t)?s.from(e[t]):s.none(),p=(e,t)=>d.call(e,t),g=e=>t=>t.options.get(e),h=g("audio_template_callback"),b=g("video_template_callback"),f=g("iframe_template_callback"),y=g("media_live_embeds"),v=g("media_filter_html"),w=g("media_url_resolver"),x=g("media_alt_source"),S=g("media_poster"),k=g("media_dimensions");var C=tinymce.util.Tools.resolve("tinymce.util.Tools"),T=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),_=tinymce.util.Tools.resolve("tinymce.html.DomParser");const A=T.DOM,E=e=>e.replace(/px$/,""),N=e=>{const t=e.attr("style"),n=t?A.parseStyle(t):{};return{type:"ephox-embed-iri",source:e.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:m(n,"max-width").map(E).getOr(""),height:m(n,"max-height").map(E).getOr("")}},O=(e,t)=>{let n={};for(let o=_({validate:!1,forced_root_block:!1},t).parse(e);o;o=o.walk())if(1===o.type){const e=o.name;if(o.attr("data-ephox-embed-iri")){n=N(o);break}n.source||"param"!==e||(n.source=o.attr("movie")),"iframe"!==e&&"object"!==e&&"embed"!==e&&"video"!==e&&"audio"!==e||(n.type||(n.type=e),n=C.extend(o.attributes.map,n)),"source"===e&&(n.source?n.altsource||(n.altsource=o.attr("src")):n.source=o.attr("src")),"img"!==e||n.poster||(n.poster=o.attr("src"))}return n.source=n.source||n.src||"",n.altsource=n.altsource||"",n.poster=n.poster||"",n},F=e=>{var t;const n=null!==(t=e.toLowerCase().split(".").pop())&&void 0!==t?t:"";return m({mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},n).getOr("")};var D=tinymce.util.Tools.resolve("tinymce.html.Node"),R=tinymce.util.Tools.resolve("tinymce.html.Serializer");const P=(e,t={})=>_({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...t},e),M=T.DOM,B=e=>/^[0-9.]+$/.test(e)?e+"px":e,j=(e,t)=>{const n=t.attr("style"),o=n?M.parseStyle(n):{};a(e.width)&&(o["max-width"]=B(e.width)),a(e.height)&&(o["max-height"]=B(e.height)),t.attr("style",M.serializeStyle(o))},$=["source","altsource"],L=(e,t,n,o)=>{let r=0,a=0;const s=P(o);s.addNodeFilter("source",(e=>r=e.length));const l=s.parse(e);for(let e=l;e;e=e.walk())if(1===e.type){const o=e.name;if(e.attr("data-ephox-embed-iri")){j(t,e);break}switch(o){case"video":case"object":case"embed":case"img":case"iframe":void 0!==t.height&&void 0!==t.width&&(e.attr("width",t.width),e.attr("height",t.height))}if(n)switch(o){case"video":e.attr("poster",t.poster),e.attr("src",null);for(let n=r;n<2;n++)if(t[$[n]]){const o=new D("source",1);o.attr("src",t[$[n]]),o.attr("type",t[$[n]+"mime"]||null),e.append(o)}break;case"iframe":e.attr("src",t.source);break;case"object":const n=e.getAll("img").length>0;if(t.poster&&!n){e.attr("src",t.poster);const n=new D("img",1);n.attr("src",t.poster),n.attr("width",t.width),n.attr("height",t.height),e.append(n)}break;case"source":if(a<2&&(e.attr("src",t[$[a]]),e.attr("type",t[$[a]+"mime"]||null),!t[$[a]])){e.remove();continue}a++;break;case"img":t.poster||e.remove()}}return R({},o).serialize(l)},I=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],z=(e,t)=>{const n=(e=>{const t=e.match(/^(https?:\/\/|www\.)(.+)$/i);return t&&t.length>1?"www."===t[1]?"https://":t[1]:"https://"})(t),o=e.regex.exec(t);let r=n+e.url;if(a(o))for(let e=0;e<o.length;e++)r=r.replace("$"+e,(()=>o[e]?o[e]:""));return r.replace(/\?$/,"")},q=e=>{const t=I.filter((t=>t.regex.test(e)));return t.length>0?C.extend({},t[0],{url:z(t[0],e)}):null},W=(e,t)=>{var n;const o=C.extend({},t);if(!o.source&&(C.extend(o,O(null!==(n=o.embed)&&void 0!==n?n:"",e.schema)),!o.source))return"";o.altsource||(o.altsource=""),o.poster||(o.poster=""),o.source=e.convertURL(o.source,"source"),o.altsource=e.convertURL(o.altsource,"source"),o.sourcemime=F(o.source),o.altsourcemime=F(o.altsource),o.poster=e.convertURL(o.poster,"poster");const r=q(o.source);if(r&&(o.source=r.url,o.type=r.type,o.allowfullscreen=r.allowFullscreen,o.width=o.width||String(r.w),o.height=o.height||String(r.h)),o.embed)return L(o.embed,o,!0,e.schema);{const t=h(e),n=b(e),r=f(e);return o.width=o.width||"300",o.height=o.height||"150",C.each(o,((t,n)=>{o[n]=e.dom.encode(""+t)})),"iframe"===o.type?((e,t)=>{if(t)return t(e);{const t=e.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+e.source+'" width="'+e.width+'" height="'+e.height+'"'+t+"></iframe>"}})(o,r):"application/x-shockwave-flash"===o.sourcemime?(e=>{let t='<object data="'+e.source+'" width="'+e.width+'" height="'+e.height+'" type="application/x-shockwave-flash">';return e.poster&&(t+='<img src="'+e.poster+'" width="'+e.width+'" height="'+e.height+'" />'),t+="</object>",t})(o):-1!==o.sourcemime.indexOf("audio")?((e,t)=>t?t(e):'<audio controls="controls" src="'+e.source+'">'+(e.altsource?'\n<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</audio>")(o,t):((e,t)=>t?t(e):'<video width="'+e.width+'" height="'+e.height+'"'+(e.poster?' poster="'+e.poster+'"':"")+' controls="controls">\n<source src="'+e.source+'"'+(e.sourcemime?' type="'+e.sourcemime+'"':"")+" />\n"+(e.altsource?'<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</video>")(o,n)}},U=e=>e.hasAttribute("data-mce-object")||e.hasAttribute("data-ephox-embed-iri"),H={},V=e=>t=>W(e,t),Z=(e,t)=>{const n=w(e);return n?((e,t,n)=>new Promise(((o,r)=>{const a=n=>(n.html&&(H[e.source]=n),o({url:e.source,html:n.html?n.html:t(e)}));H[e.source]?a(H[e.source]):n({url:e.source},a,r)})))(t,V(e),n):((e,t)=>Promise.resolve({html:t(e),url:e.source}))(t,V(e))},K=(e,t)=>{const n={};return m(e,"dimensions").each((e=>{i(["width","height"],(o=>{m(t,o).orThunk((()=>m(e,o))).each((e=>n[o]=e))}))})),n},G=(e,t)=>{const n=t&&"dimensions"!==t?((e,t)=>m(t,e).bind((e=>m(e,"meta"))))(t,e).getOr({}):{},r=((e,t,n)=>r=>{const a=()=>m(e,r),l=()=>m(t,r),i=e=>m(e,"value").bind((e=>e.length>0?s.some(e):s.none()));return{[r]:(r===n?a().bind((e=>o(e)?i(e).orThunk(l):l().orThunk((()=>s.from(e))))):l().orThunk((()=>a().bind((e=>o(e)?i(e):s.from(e)))))).getOr("")}})(e,n,t);return{...r("source"),...r("altsource"),...r("poster"),...r("embed"),...K(e,n)}},J=e=>{const t={...e,source:{value:m(e,"source").getOr("")},altsource:{value:m(e,"altsource").getOr("")},poster:{value:m(e,"poster").getOr("")}};return i(["width","height"],(n=>{m(e,n).each((e=>{const o=t.dimensions||{};o[n]=e,t.dimensions=o}))})),t},Q=e=>t=>{const n=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.";e.notificationManager.open({type:"error",text:n})},Y=(e,t)=>o=>{if(n(o.url)&&o.url.trim().length>0){const n=o.html,r={...O(n,t.schema),source:o.url,embed:n};e.setData(J(r))}},X=(e,t)=>{const n=e.dom.select("*[data-mce-object]");e.insertContent(t),((e,t)=>{const n=e.dom.select("*[data-mce-object]");for(let e=0;e<t.length;e++)for(let o=n.length-1;o>=0;o--)t[e]===n[o]&&n.splice(o,1);e.selection.select(n[0])})(e,n),e.nodeChanged()},ee=(e,t)=>a(t)&&"ephox-embed-iri"===t&&a(q(e)),te=(e,t)=>((e,t)=>e.width!==t.width||e.height!==t.height)(e,t)&&ee(t.source,e.type),ne=(e,t,n)=>{var o,r;t.embed=te(e,t)&&k(n)?W(n,{...t,embed:""}):L(null!==(o=t.embed)&&void 0!==o?o:"",t,!1,n.schema),t.embed&&(e.source===t.source||(r=t.source,p(H,r)))?X(n,t.embed):Z(n,t).then((e=>{X(n,e.html)})).catch(Q(n))},oe=e=>{const t=(e=>{const t=e.selection.getNode(),n=U(t)?e.serializer.serialize(t,{selection:!0}):"",o=O(n,e.schema),r=(()=>{if(ee(o.source,o.type)){const n=e.dom.getRect(t);return{width:n.w.toString().replace(/px$/,""),height:n.h.toString().replace(/px$/,"")}}return{}})();return{embed:n,...o,...r}})(e),n=(e=>{let t=e;return{get:()=>t,set:e=>{t=e}}})(t),o=J(t),r=k(e)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],a={title:"General",name:"general",items:c([[{name:"source",type:"urlinput",filetype:"media",label:"Source",picker_text:"Browse files"}],r])},s={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},l=[];x(e)&&l.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),S(e)&&l.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const i={title:"Advanced",name:"advanced",items:l},u=[a,s];l.length>0&&u.push(i);const d={type:"tabpanel",tabs:u},m=e.windowManager.open({title:"Insert/Edit Media",size:"normal",body:d,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:t=>{const o=G(t.getData());ne(n.get(),o,e),t.close()},onChange:(t,o)=>{switch(o.name){case"source":((t,n)=>{const o=G(n.getData(),"source");t.source!==o.source&&(Y(m,e)({url:o.source,html:""}),Z(e,o).then(Y(m,e)).catch(Q(e)))})(n.get(),t);break;case"embed":(t=>{var n;const o=G(t.getData()),r=O(null!==(n=o.embed)&&void 0!==n?n:"",e.schema);t.setData(J(r))})(t);break;case"dimensions":case"altsource":case"poster":((t,n,o)=>{const r=G(t.getData(),n),a=te(o,r)&&k(e)?{...r,embed:""}:r,s=W(e,a);t.setData(J({...a,embed:s}))})(t,o.name,n.get())}n.set(G(t.getData()))},initialData:o})};var re=tinymce.util.Tools.resolve("tinymce.Env");const ae=e=>{const t=e.name;return"iframe"===t||"video"===t||"audio"===t},se=(e,t,n,o=null)=>{const r=e.attr(n);return a(r)?r:p(t,n)?null:o},le=(e,t,n)=>{const o="img"===t.name||"video"===e.name,r=o?"300":null,a="audio"===e.name?"30":"150",s=o?a:null;t.attr({width:se(e,n,"width",r),height:se(e,n,"height",s)})},ie=(e,t)=>{const n=t.name,o=new D("img",1);return ue(e,t,o),le(t,o,{}),o.attr({style:t.attr("style"),src:re.transparentSrc,"data-mce-object":n,class:"mce-object mce-object-"+n}),o},ce=(e,t)=>{var n;const o=t.name,r=new D("span",1);r.attr({contentEditable:"false",style:t.attr("style"),"data-mce-object":o,class:"mce-preview-object mce-object-"+o}),ue(e,t,r);const s=e.dom.parseStyle(null!==(n=t.attr("style"))&&void 0!==n?n:""),l=new D(o,1);if(le(t,l,s),l.attr({src:t.attr("src"),style:t.attr("style"),class:t.attr("class")}),"iframe"===o)l.attr({allowfullscreen:t.attr("allowfullscreen"),frameborder:"0",sandbox:t.attr("sandbox")});else{i(["controls","crossorigin","currentTime","loop","muted","poster","preload"],(e=>{l.attr(e,t.attr(e))}));const n=r.attr("data-mce-html");a(n)&&((e,t,n,o)=>{const r=P(e.schema).parse(o,{context:t});for(;r.firstChild;)n.append(r.firstChild)})(e,o,l,unescape(n))}const c=new D("span",1);return c.attr("class","mce-shim"),r.append(l),r.append(c),r},ue=(e,t,n)=>{var o;const r=null!==(o=t.attributes)&&void 0!==o?o:[];let a=r.length;for(;a--;){const t=r[a].name;let o=r[a].value;"width"===t||"height"===t||"style"===t||((e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t)(t,"data-mce-",0)||("data"!==t&&"src"!==t||(o=e.convertURL(o,t)),n.attr("data-mce-p-"+t,o))}const s=R({inner:!0},e.schema),l=new D("div",1);i(t.children(),(e=>l.append(e)));const c=s.serialize(l);c&&(n.attr("data-mce-html",escape(c)),n.empty())},de=e=>{const t=e.attr("class");return n(t)&&/\btiny-pageembed\b/.test(t)},me=e=>{let t=e;for(;t=t.parent;)if(t.attr("data-ephox-embed-iri")||de(t))return!0;return!1},pe=(e,t,n)=>{const o=(0,e.options.get)("xss_sanitization"),r=v(e);return P(e.schema,{sanitize:o,validate:r}).parse(n,{context:t})},ge=e=>{e.on("PreInit",(()=>{const{schema:t,serializer:n,parser:o}=e,r=t.getBoolAttrs();i("webkitallowfullscreen mozallowfullscreen".split(" "),(e=>{r[e]={}})),((e,t)=>{const n=u(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}})({embed:["wmode"]},((e,n)=>{const o=t.getElementRule(n);o&&i(e,(e=>{o.attributes[e]={},o.attributesOrder.push(e)}))})),o.addNodeFilter("iframe,video,audio,object,embed",(e=>t=>{let n,o=t.length;for(;o--;)n=t[o],n.parent&&(n.parent.attr("data-mce-object")||(ae(n)&&y(e)?me(n)||n.replace(ce(e,n)):me(n)||n.replace(ie(e,n))))})(e)),n.addAttributeFilter("data-mce-object",((t,n)=>{var o;let r=t.length;for(;r--;){const a=t[r];if(!a.parent)continue;const s=a.attr(n),l=new D(s,1);if("audio"!==s){const e=a.attr("class");e&&-1!==e.indexOf("mce-preview-object")&&a.firstChild?l.attr({width:a.firstChild.attr("width"),height:a.firstChild.attr("height")}):l.attr({width:a.attr("width"),height:a.attr("height")})}l.attr({style:a.attr("style")});const c=null!==(o=a.attributes)&&void 0!==o?o:[];let u=c.length;for(;u--;){const e=c[u].name;0===e.indexOf("data-mce-p-")&&l.attr(e.substr(11),c[u].value)}const d=a.attr("data-mce-html");if(d){const t=pe(e,s,unescape(d));i(t.children(),(e=>l.append(e)))}a.replace(l)}}))})),e.on("SetContent",(()=>{const t=e.dom;i(t.select("span.mce-preview-object"),(e=>{0===t.select("span.mce-shim",e).length&&t.add(e,"span",{class:"mce-shim"})}))}))},he=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("media",(e=>((e=>{const t=e.options.register;t("audio_template_callback",{processor:"function"}),t("video_template_callback",{processor:"function"}),t("iframe_template_callback",{processor:"function"}),t("media_live_embeds",{processor:"boolean",default:!0}),t("media_filter_html",{processor:"boolean",default:!0}),t("media_url_resolver",{processor:"function"}),t("media_alt_source",{processor:"boolean",default:!0}),t("media_poster",{processor:"boolean",default:!0}),t("media_dimensions",{processor:"boolean",default:!0})})(e),(e=>{e.addCommand("mceMedia",(()=>{oe(e)}))})(e),(e=>{const t=()=>e.execCommand("mceMedia");e.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:t,onSetup:t=>{const n=e.selection;t.setActive(U(n.getNode()));const o=n.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",t.setActive).unbind,r=he(e)(t);return()=>{o(),r()}}}),e.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:t,onSetup:he(e)})})(e),(e=>{e.on("ResolveName",(e=>{let t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)}))})(e),ge(e),(e=>{e.on("click keyup touchend",(()=>{const t=e.selection.getNode();t&&e.dom.hasClass(t,"mce-preview-object")&&e.dom.getAttrib(t,"data-mce-selected")&&t.setAttribute("data-mce-selected","2")})),e.on("ObjectResized",(t=>{const n=t.target;if(n.getAttribute("data-mce-object")){let o=n.getAttribute("data-mce-html");o&&(o=unescape(o),n.setAttribute("data-mce-html",escape(L(o,{width:String(t.width),height:String(t.height)},!1,e.schema))))}}))})(e),(e=>({showDialog:()=>{oe(e)}}))(e))))}()},78471:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||(null===(a=o.constructor)||void 0===a?void 0:a.name)===r.name)?"string":t;var n,o,r,a})(t)===e,n=t("string"),o=t("object"),r=t("array"),a=e=>!(e=>null==e)(e);class s{constructor(e,t){this.tag=e,this.value=t}static some(e){return new s(!0,e)}static none(){return s.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?s.some(e(this.value)):s.none()}bind(e){return this.tag?e(this.value):s.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:s.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return a(e)?s.some(e):s.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}s.singletonNone=new s(!1);const l=Array.prototype.push,i=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},c=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!r(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);l.apply(t,e[n])}return t},u=Object.keys,d=Object.hasOwnProperty,m=(e,t)=>p(e,t)?s.from(e[t]):s.none(),p=(e,t)=>d.call(e,t),g=e=>t=>t.options.get(e),h=g("audio_template_callback"),b=g("video_template_callback"),f=g("iframe_template_callback"),y=g("media_live_embeds"),v=g("media_filter_html"),w=g("media_url_resolver"),x=g("media_alt_source"),S=g("media_poster"),k=g("media_dimensions");var C=tinymce.util.Tools.resolve("tinymce.util.Tools"),T=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),_=tinymce.util.Tools.resolve("tinymce.html.DomParser");const A=T.DOM,E=e=>e.replace(/px$/,""),N=e=>{const t=e.attr("style"),n=t?A.parseStyle(t):{};return{type:"ephox-embed-iri",source:e.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:m(n,"max-width").map(E).getOr(""),height:m(n,"max-height").map(E).getOr("")}},O=(e,t)=>{let n={};for(let o=_({validate:!1,forced_root_block:!1},t).parse(e);o;o=o.walk())if(1===o.type){const e=o.name;if(o.attr("data-ephox-embed-iri")){n=N(o);break}n.source||"param"!==e||(n.source=o.attr("movie")),"iframe"!==e&&"object"!==e&&"embed"!==e&&"video"!==e&&"audio"!==e||(n.type||(n.type=e),n=C.extend(o.attributes.map,n)),"source"===e&&(n.source?n.altsource||(n.altsource=o.attr("src")):n.source=o.attr("src")),"img"!==e||n.poster||(n.poster=o.attr("src"))}return n.source=n.source||n.src||"",n.altsource=n.altsource||"",n.poster=n.poster||"",n},F=e=>{var t;const n=null!==(t=e.toLowerCase().split(".").pop())&&void 0!==t?t:"";return m({mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},n).getOr("")};var D=tinymce.util.Tools.resolve("tinymce.html.Node"),R=tinymce.util.Tools.resolve("tinymce.html.Serializer");const P=(e,t={})=>_({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...t},e),M=T.DOM,B=e=>/^[0-9.]+$/.test(e)?e+"px":e,j=(e,t)=>{const n=t.attr("style"),o=n?M.parseStyle(n):{};a(e.width)&&(o["max-width"]=B(e.width)),a(e.height)&&(o["max-height"]=B(e.height)),t.attr("style",M.serializeStyle(o))},$=["source","altsource"],L=(e,t,n,o)=>{let r=0,a=0;const s=P(o);s.addNodeFilter("source",(e=>r=e.length));const l=s.parse(e);for(let e=l;e;e=e.walk())if(1===e.type){const o=e.name;if(e.attr("data-ephox-embed-iri")){j(t,e);break}switch(o){case"video":case"object":case"embed":case"img":case"iframe":void 0!==t.height&&void 0!==t.width&&(e.attr("width",t.width),e.attr("height",t.height))}if(n)switch(o){case"video":e.attr("poster",t.poster),e.attr("src",null);for(let n=r;n<2;n++)if(t[$[n]]){const o=new D("source",1);o.attr("src",t[$[n]]),o.attr("type",t[$[n]+"mime"]||null),e.append(o)}break;case"iframe":e.attr("src",t.source);break;case"object":const n=e.getAll("img").length>0;if(t.poster&&!n){e.attr("src",t.poster);const n=new D("img",1);n.attr("src",t.poster),n.attr("width",t.width),n.attr("height",t.height),e.append(n)}break;case"source":if(a<2&&(e.attr("src",t[$[a]]),e.attr("type",t[$[a]+"mime"]||null),!t[$[a]])){e.remove();continue}a++;break;case"img":t.poster||e.remove()}}return R({},o).serialize(l)},I=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],z=(e,t)=>{const n=(e=>{const t=e.match(/^(https?:\/\/|www\.)(.+)$/i);return t&&t.length>1?"www."===t[1]?"https://":t[1]:"https://"})(t),o=e.regex.exec(t);let r=n+e.url;if(a(o))for(let e=0;e<o.length;e++)r=r.replace("$"+e,(()=>o[e]?o[e]:""));return r.replace(/\?$/,"")},q=e=>{const t=I.filter((t=>t.regex.test(e)));return t.length>0?C.extend({},t[0],{url:z(t[0],e)}):null},W=(e,t)=>{var n;const o=C.extend({},t);if(!o.source&&(C.extend(o,O(null!==(n=o.embed)&&void 0!==n?n:"",e.schema)),!o.source))return"";o.altsource||(o.altsource=""),o.poster||(o.poster=""),o.source=e.convertURL(o.source,"source"),o.altsource=e.convertURL(o.altsource,"source"),o.sourcemime=F(o.source),o.altsourcemime=F(o.altsource),o.poster=e.convertURL(o.poster,"poster");const r=q(o.source);if(r&&(o.source=r.url,o.type=r.type,o.allowfullscreen=r.allowFullscreen,o.width=o.width||String(r.w),o.height=o.height||String(r.h)),o.embed)return L(o.embed,o,!0,e.schema);{const t=h(e),n=b(e),r=f(e);return o.width=o.width||"300",o.height=o.height||"150",C.each(o,((t,n)=>{o[n]=e.dom.encode(""+t)})),"iframe"===o.type?((e,t)=>{if(t)return t(e);{const t=e.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+e.source+'" width="'+e.width+'" height="'+e.height+'"'+t+"></iframe>"}})(o,r):"application/x-shockwave-flash"===o.sourcemime?(e=>{let t='<object data="'+e.source+'" width="'+e.width+'" height="'+e.height+'" type="application/x-shockwave-flash">';return e.poster&&(t+='<img src="'+e.poster+'" width="'+e.width+'" height="'+e.height+'" />'),t+="</object>",t})(o):-1!==o.sourcemime.indexOf("audio")?((e,t)=>t?t(e):'<audio controls="controls" src="'+e.source+'">'+(e.altsource?'\n<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</audio>")(o,t):((e,t)=>t?t(e):'<video width="'+e.width+'" height="'+e.height+'"'+(e.poster?' poster="'+e.poster+'"':"")+' controls="controls">\n<source src="'+e.source+'"'+(e.sourcemime?' type="'+e.sourcemime+'"':"")+" />\n"+(e.altsource?'<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</video>")(o,n)}},U=e=>e.hasAttribute("data-mce-object")||e.hasAttribute("data-ephox-embed-iri"),H={},V=e=>t=>W(e,t),Z=(e,t)=>{const n=w(e);return n?((e,t,n)=>new Promise(((o,r)=>{const a=n=>(n.html&&(H[e.source]=n),o({url:e.source,html:n.html?n.html:t(e)}));H[e.source]?a(H[e.source]):n({url:e.source},a,r)})))(t,V(e),n):((e,t)=>Promise.resolve({html:t(e),url:e.source}))(t,V(e))},K=(e,t)=>{const n={};return m(e,"dimensions").each((e=>{i(["width","height"],(o=>{m(t,o).orThunk((()=>m(e,o))).each((e=>n[o]=e))}))})),n},G=(e,t)=>{const n=t&&"dimensions"!==t?((e,t)=>m(t,e).bind((e=>m(e,"meta"))))(t,e).getOr({}):{},r=((e,t,n)=>r=>{const a=()=>m(e,r),l=()=>m(t,r),i=e=>m(e,"value").bind((e=>e.length>0?s.some(e):s.none()));return{[r]:(r===n?a().bind((e=>o(e)?i(e).orThunk(l):l().orThunk((()=>s.from(e))))):l().orThunk((()=>a().bind((e=>o(e)?i(e):s.from(e)))))).getOr("")}})(e,n,t);return{...r("source"),...r("altsource"),...r("poster"),...r("embed"),...K(e,n)}},J=e=>{const t={...e,source:{value:m(e,"source").getOr("")},altsource:{value:m(e,"altsource").getOr("")},poster:{value:m(e,"poster").getOr("")}};return i(["width","height"],(n=>{m(e,n).each((e=>{const o=t.dimensions||{};o[n]=e,t.dimensions=o}))})),t},Q=e=>t=>{const n=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.";e.notificationManager.open({type:"error",text:n})},Y=(e,t)=>o=>{if(n(o.url)&&o.url.trim().length>0){const n=o.html,r={...O(n,t.schema),source:o.url,embed:n};e.setData(J(r))}},X=(e,t)=>{const n=e.dom.select("*[data-mce-object]");e.insertContent(t),((e,t)=>{const n=e.dom.select("*[data-mce-object]");for(let e=0;e<t.length;e++)for(let o=n.length-1;o>=0;o--)t[e]===n[o]&&n.splice(o,1);e.selection.select(n[0])})(e,n),e.nodeChanged()},ee=(e,t)=>a(t)&&"ephox-embed-iri"===t&&a(q(e)),te=(e,t)=>((e,t)=>e.width!==t.width||e.height!==t.height)(e,t)&&ee(t.source,e.type),ne=e=>{const t=(e=>{const t=e.selection.getNode(),n=U(t)?e.serializer.serialize(t,{selection:!0}):"",o=O(n,e.schema),r=(()=>{if(ee(o.source,o.type)){const n=e.dom.getRect(t);return{width:n.w.toString().replace(/px$/,""),height:n.h.toString().replace(/px$/,"")}}return{}})();return{embed:n,...o,...r}})(e),n=(e=>{let t=e;return{get:()=>t,set:e=>{t=e}}})(t),o=J(t),r=k(e)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],a={title:"General",name:"general",items:c([[{name:"source",type:"urlinput",filetype:"media",label:"Source",picker_text:"Browse files"}],r])},s=[];x(e)&&s.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),S(e)&&s.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const l={title:"Advanced",name:"advanced",items:s},i=[a,{title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]}];s.length>0&&i.push(l);const u={type:"tabpanel",tabs:i},d=e.windowManager.open({title:"Insert/Edit Media",size:"normal",body:u,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:t=>{const o=G(t.getData());((e,t,n)=>{var o,r;t.embed=te(e,t)&&k(n)?W(n,{...t,embed:""}):L(null!==(o=t.embed)&&void 0!==o?o:"",t,!1,n.schema),t.embed&&(e.source===t.source||(r=t.source,p(H,r)))?X(n,t.embed):Z(n,t).then((e=>{X(n,e.html)})).catch(Q(n))})(n.get(),o,e),t.close()},onChange:(t,o)=>{switch(o.name){case"source":((t,n)=>{const o=G(n.getData(),"source");t.source!==o.source&&(Y(d,e)({url:o.source,html:""}),Z(e,o).then(Y(d,e)).catch(Q(e)))})(n.get(),t);break;case"embed":(t=>{var n;const o=G(t.getData()),r=O(null!==(n=o.embed)&&void 0!==n?n:"",e.schema);t.setData(J(r))})(t);break;case"dimensions":case"altsource":case"poster":((t,n,o)=>{const r=G(t.getData(),n),a=te(o,r)&&k(e)?{...r,embed:""}:r,s=W(e,a);t.setData(J({...a,embed:s}))})(t,o.name,n.get())}n.set(G(t.getData()))},initialData:o})};var oe=tinymce.util.Tools.resolve("tinymce.Env");const re=e=>{const t=e.name;return"iframe"===t||"video"===t||"audio"===t},ae=(e,t,n,o=null)=>{const r=e.attr(n);return a(r)?r:p(t,n)?null:o},se=(e,t,n)=>{const o="img"===t.name||"video"===e.name,r=o?"300":null,a="audio"===e.name?"30":"150",s=o?a:null;t.attr({width:ae(e,n,"width",r),height:ae(e,n,"height",s)})},le=(e,t)=>{const n=t.name,o=new D("img",1);return ce(e,t,o),se(t,o,{}),o.attr({style:t.attr("style"),src:oe.transparentSrc,"data-mce-object":n,class:"mce-object mce-object-"+n}),o},ie=(e,t)=>{var n;const o=t.name,r=new D("span",1);r.attr({contentEditable:"false",style:t.attr("style"),"data-mce-object":o,class:"mce-preview-object mce-object-"+o}),ce(e,t,r);const s=e.dom.parseStyle(null!==(n=t.attr("style"))&&void 0!==n?n:""),l=new D(o,1);if(se(t,l,s),l.attr({src:t.attr("src"),style:t.attr("style"),class:t.attr("class")}),"iframe"===o)l.attr({allowfullscreen:t.attr("allowfullscreen"),frameborder:"0",sandbox:t.attr("sandbox")});else{i(["controls","crossorigin","currentTime","loop","muted","poster","preload"],(e=>{l.attr(e,t.attr(e))}));const n=r.attr("data-mce-html");a(n)&&((e,t,n,o)=>{const r=P(e.schema).parse(o,{context:t});for(;r.firstChild;)n.append(r.firstChild)})(e,o,l,unescape(n))}const c=new D("span",1);return c.attr("class","mce-shim"),r.append(l),r.append(c),r},ce=(e,t,n)=>{var o;const r=null!==(o=t.attributes)&&void 0!==o?o:[];let a=r.length;for(;a--;){const t=r[a].name;let o=r[a].value;"width"===t||"height"===t||"style"===t||("data-mce-",(s=t).length>=9&&"data-mce-"===s.substr(0,9))||("data"!==t&&"src"!==t||(o=e.convertURL(o,t)),n.attr("data-mce-p-"+t,o))}var s;const l=R({inner:!0},e.schema),c=new D("div",1);i(t.children(),(e=>c.append(e)));const u=l.serialize(c);u&&(n.attr("data-mce-html",escape(u)),n.empty())},ue=e=>{const t=e.attr("class");return n(t)&&/\btiny-pageembed\b/.test(t)},de=e=>{let t=e;for(;t=t.parent;)if(t.attr("data-ephox-embed-iri")||ue(t))return!0;return!1},me=(e,t,n)=>{const o=(0,e.options.get)("xss_sanitization"),r=v(e);return P(e.schema,{sanitize:o,validate:r}).parse(n,{context:t})},pe=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("media",(e=>((e=>{const t=e.options.register;t("audio_template_callback",{processor:"function"}),t("video_template_callback",{processor:"function"}),t("iframe_template_callback",{processor:"function"}),t("media_live_embeds",{processor:"boolean",default:!0}),t("media_filter_html",{processor:"boolean",default:!0}),t("media_url_resolver",{processor:"function"}),t("media_alt_source",{processor:"boolean",default:!0}),t("media_poster",{processor:"boolean",default:!0}),t("media_dimensions",{processor:"boolean",default:!0})})(e),(e=>{e.addCommand("mceMedia",(()=>{ne(e)}))})(e),(e=>{const t=()=>e.execCommand("mceMedia");e.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:t,onSetup:t=>{const n=e.selection;t.setActive(U(n.getNode()));const o=n.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",t.setActive).unbind,r=pe(e)(t);return()=>{o(),r()}}}),e.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:t,onSetup:pe(e)})})(e),(e=>{e.on("ResolveName",(e=>{let t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)}))})(e),(e=>{e.on("PreInit",(()=>{const{schema:t,serializer:n,parser:o}=e,r=t.getBoolAttrs();i("webkitallowfullscreen mozallowfullscreen".split(" "),(e=>{r[e]={}})),((e,t)=>{const n=u(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}})({embed:["wmode"]},((e,n)=>{const o=t.getElementRule(n);o&&i(e,(e=>{o.attributes[e]={},o.attributesOrder.push(e)}))})),o.addNodeFilter("iframe,video,audio,object,embed",(e=>t=>{let n,o=t.length;for(;o--;)n=t[o],n.parent&&(n.parent.attr("data-mce-object")||(re(n)&&y(e)?de(n)||n.replace(ie(e,n)):de(n)||n.replace(le(e,n))))})(e)),n.addAttributeFilter("data-mce-object",((t,n)=>{var o;let r=t.length;for(;r--;){const a=t[r];if(!a.parent)continue;const s=a.attr(n),l=new D(s,1);if("audio"!==s){const e=a.attr("class");e&&-1!==e.indexOf("mce-preview-object")&&a.firstChild?l.attr({width:a.firstChild.attr("width"),height:a.firstChild.attr("height")}):l.attr({width:a.attr("width"),height:a.attr("height")})}l.attr({style:a.attr("style")});const c=null!==(o=a.attributes)&&void 0!==o?o:[];let u=c.length;for(;u--;){const e=c[u].name;0===e.indexOf("data-mce-p-")&&l.attr(e.substr(11),c[u].value)}const d=a.attr("data-mce-html");if(d){const t=me(e,s,unescape(d));i(t.children(),(e=>l.append(e)))}a.replace(l)}}))})),e.on("SetContent",(()=>{const t=e.dom;i(t.select("span.mce-preview-object"),(e=>{0===t.select("span.mce-shim",e).length&&t.add(e,"span",{class:"mce-shim"})}))}))})(e),(e=>{e.on("click keyup touchend",(()=>{const t=e.selection.getNode();t&&e.dom.hasClass(t,"mce-preview-object")&&e.dom.getAttrib(t,"data-mce-selected")&&t.setAttribute("data-mce-selected","2")})),e.on("ObjectResized",(t=>{const n=t.target;if(n.getAttribute("data-mce-object")){let o=n.getAttribute("data-mce-html");o&&(o=unescape(o),n.setAttribute("data-mce-html",escape(L(o,{width:String(t.width),height:String(t.height)},!1,e.schema))))}}))})(e),(e=>({showDialog:()=>{ne(e)}}))(e))))}()},31528:function(e,t,n){n(41100)},41100:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>typeof t===e,n=t("boolean"),o=t("number"),r=e=>t=>t.options.get(e),a=r("nonbreaking_force_tab"),s=r("nonbreaking_wrap"),l=(e,t)=>{let n="";for(let o=0;o<t;o++)n+=e;return n},i=(e,t)=>{const n=s(e)||e.plugins.visualchars?`<span class="${(e=>!!e.plugins.visualchars&&e.plugins.visualchars.isEnabled())(e)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap"}" contenteditable="false">${l("&nbsp;",t)}</span>`:l("&nbsp;",t);e.undoManager.transact((()=>e.insertContent(n)))};var c=tinymce.util.Tools.resolve("tinymce.util.VK");const u=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("nonbreaking",(e=>{(e=>{const t=e.options.register;t("nonbreaking_force_tab",{processor:e=>n(e)?{value:e?3:0,valid:!0}:o(e)?{value:e,valid:!0}:{valid:!1,message:"Must be a boolean or number."},default:!1}),t("nonbreaking_wrap",{processor:"boolean",default:!0})})(e),(e=>{e.addCommand("mceNonBreaking",(()=>{i(e,1)}))})(e),(e=>{const t=()=>e.execCommand("mceNonBreaking");e.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:t,onSetup:u(e)}),e.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:t,onSetup:u(e)})})(e),(e=>{const t=a(e);t>0&&e.on("keydown",(n=>{if(n.keyCode===c.TAB&&!n.isDefaultPrevented()){if(n.shiftKey)return;n.preventDefault(),n.stopImmediatePropagation(),i(e,t)}}))})(e)}))}()},9358:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>typeof t===e,n=t("boolean"),o=t("number"),r=e=>t=>t.options.get(e),a=r("nonbreaking_force_tab"),s=r("nonbreaking_wrap"),l=(e,t)=>{let n="";for(let o=0;o<t;o++)n+=e;return n},i=(e,t)=>{const n=s(e)||e.plugins.visualchars?`<span class="${(e=>!!e.plugins.visualchars&&e.plugins.visualchars.isEnabled())(e)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap"}" contenteditable="false">${l("&nbsp;",t)}</span>`:l("&nbsp;",t);e.undoManager.transact((()=>e.insertContent(n)))};var c=tinymce.util.Tools.resolve("tinymce.util.VK");const u=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("nonbreaking",(e=>{(e=>{const t=e.options.register;t("nonbreaking_force_tab",{processor:e=>n(e)?{value:e?3:0,valid:!0}:o(e)?{value:e,valid:!0}:{valid:!1,message:"Must be a boolean or number."},default:!1}),t("nonbreaking_wrap",{processor:"boolean",default:!0})})(e),(e=>{e.addCommand("mceNonBreaking",(()=>{i(e,1)}))})(e),(e=>{const t=()=>e.execCommand("mceNonBreaking");e.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:t,onSetup:u(e)}),e.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:t,onSetup:u(e)})})(e),(e=>{const t=a(e);t>0&&e.on("keydown",(n=>{if(n.keyCode===c.TAB&&!n.isDefaultPrevented()){if(n.shiftKey)return;n.preventDefault(),n.stopImmediatePropagation(),i(e,t)}}))})(e)}))}()},78843:function(e,t,n){n(40243)},40243:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env");const n=e=>t=>t.options.get(e),o=n("pagebreak_separator"),r=n("pagebreak_split_block"),a="mce-pagebreak",s=e=>{const n=`<img src="${t.transparentSrc}" class="${a}" data-mce-resize="false" data-mce-placeholder />`;return e?`<p>${n}</p>`:n},l=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("pagebreak",(e=>{(e=>{const t=e.options.register;t("pagebreak_separator",{processor:"string",default:"\x3c!-- pagebreak --\x3e"}),t("pagebreak_split_block",{processor:"boolean",default:!1})})(e),(e=>{e.addCommand("mcePageBreak",(()=>{e.insertContent(s(r(e)))}))})(e),(e=>{const t=()=>e.execCommand("mcePageBreak");e.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:t,onSetup:l(e)}),e.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:t,onSetup:l(e)})})(e),(e=>{const t=o(e),n=()=>r(e),l=new RegExp(t.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,(e=>"\\"+e)),"gi");e.on("BeforeSetContent",(e=>{e.content=e.content.replace(l,s(n()))})),e.on("PreInit",(()=>{e.serializer.addNodeFilter("img",(o=>{let r,s,l=o.length;for(;l--;)if(r=o[l],s=r.attr("class"),s&&-1!==s.indexOf(a)){const o=r.parent;if(o&&e.schema.getBlockElements()[o.name]&&n()){o.type=3,o.value=t,o.raw=!0,r.remove();continue}r.type=3,r.value=t,r.raw=!0}}))}))})(e),(e=>{e.on("ResolveName",(t=>{"IMG"===t.target.nodeName&&e.dom.hasClass(t.target,a)&&(t.name="pagebreak")}))})(e)}))}()},33042:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env");const n=e=>t=>t.options.get(e),o=n("pagebreak_separator"),r=n("pagebreak_split_block"),a="mce-pagebreak",s=e=>{const n=`<img src="${t.transparentSrc}" class="${a}" data-mce-resize="false" data-mce-placeholder />`;return e?`<p>${n}</p>`:n},l=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("pagebreak",(e=>{(e=>{const t=e.options.register;t("pagebreak_separator",{processor:"string",default:"\x3c!-- pagebreak --\x3e"}),t("pagebreak_split_block",{processor:"boolean",default:!1})})(e),(e=>{e.addCommand("mcePageBreak",(()=>{e.insertContent(s(r(e)))}))})(e),(e=>{const t=()=>e.execCommand("mcePageBreak");e.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:t,onSetup:l(e)}),e.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:t,onSetup:l(e)})})(e),(e=>{const t=o(e),n=()=>r(e),l=new RegExp(t.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,(e=>"\\"+e)),"gi");e.on("BeforeSetContent",(e=>{e.content=e.content.replace(l,s(n()))})),e.on("PreInit",(()=>{e.serializer.addNodeFilter("img",(o=>{let r,s,l=o.length;for(;l--;)if(r=o[l],s=r.attr("class"),s&&-1!==s.indexOf(a)){const o=r.parent;if(o&&e.schema.getBlockElements()[o.name]&&n()){o.type=3,o.value=t,o.raw=!0,r.remove();continue}r.type=3,r.value=t,r.raw=!0}}))}))})(e),(e=>{e.on("ResolveName",(t=>{"IMG"===t.target.nodeName&&e.dom.hasClass(t.target,a)&&(t.name="pagebreak")}))})(e)}))}()},44446:function(e,t,n){n(18495)},18495:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),n=tinymce.util.Tools.resolve("tinymce.util.Tools");const o=e=>t=>t.options.get(e),r=o("content_style"),a=o("content_css_cors"),s=o("body_class"),l=o("body_id"),i=e=>{const o=(e=>{var o;let i="";const c=e.dom.encode,u=null!==(o=r(e))&&void 0!==o?o:"";i+='<base href="'+c(e.documentBaseURI.getURI())+'">';const d=a(e)?' crossorigin="anonymous"':"";n.each(e.contentCSS,(t=>{i+='<link type="text/css" rel="stylesheet" href="'+c(e.documentBaseURI.toAbsolute(t))+'"'+d+">"})),u&&(i+='<style type="text/css">'+u+"</style>");const m=l(e),p=s(e),g='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(t.os.isMacOS()||t.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",h=e.getBody().dir,b=h?' dir="'+c(h)+'"':"";return"<!DOCTYPE html><html><head>"+i+'</head><body id="'+c(m)+'" class="mce-content-body '+c(p)+'"'+b+">"+e.getContent()+g+"</body></html>"})(e);e.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:o}}).focus("close")};e.add("preview",(e=>{(e=>{e.addCommand("mcePreview",(()=>{i(e)}))})(e),(e=>{const t=()=>e.execCommand("mcePreview");e.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:t}),e.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:t})})(e)}))}()},39707:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),n=tinymce.util.Tools.resolve("tinymce.util.Tools");const o=e=>t=>t.options.get(e),r=o("content_style"),a=o("content_css_cors"),s=o("body_class"),l=o("body_id");e.add("preview",(e=>{(e=>{e.addCommand("mcePreview",(()=>{(e=>{const o=(e=>{var o;let i="";const c=e.dom.encode,u=null!==(o=r(e))&&void 0!==o?o:"";i+='<base href="'+c(e.documentBaseURI.getURI())+'">';const d=a(e)?' crossorigin="anonymous"':"";n.each(e.contentCSS,(t=>{i+='<link type="text/css" rel="stylesheet" href="'+c(e.documentBaseURI.toAbsolute(t))+'"'+d+">"})),u&&(i+='<style type="text/css">'+u+"</style>");const m=l(e),p=s(e),g='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(t.os.isMacOS()||t.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",h=e.getBody().dir,b=h?' dir="'+c(h)+'"':"";return"<!DOCTYPE html><html><head>"+i+'</head><body id="'+c(m)+'" class="mce-content-body '+c(p)+'"'+b+">"+e.getContent()+g+"</body></html>"})(e);e.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:o}}).focus("close")})(e)}))})(e),(e=>{const t=()=>e.execCommand("mcePreview");e.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:t}),e.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:t})})(e)}))}()},31295:function(e,t,n){n(76834)},76834:function(){!function(){"use strict";const e=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(a=String).prototype,o.isPrototypeOf(n)||(null===(s=r.constructor)||void 0===s?void 0:s.name)===a.name)?"string":t;var n,o;var r,a,s})(t)===e,o=e=>t=>typeof t===e,r=n("string"),a=n("array"),s=o("boolean"),l=o("number"),i=()=>{},c=e=>()=>e,u=c(!0),d=c("[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]");class m{constructor(e,t){this.tag=e,this.value=t}static some(e){return new m(!0,e)}static none(){return m.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?m.some(e(this.value)):m.none()}bind(e){return this.tag?e(this.value):m.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:m.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return(e=>null==e)(e)?m.none():m.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}m.singletonNone=new m(!1);const p=d;var g=tinymce.util.Tools.resolve("tinymce.Env"),h=tinymce.util.Tools.resolve("tinymce.util.Tools");const b=Array.prototype.slice,f=Array.prototype.push,y=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},v=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},w=(e,t)=>{for(let n=e.length-1;n>=0;n--){t(e[n],n)}},x=(e,t)=>(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);f.apply(t,e[n])}return t})(y(e,t)),S=Object.hasOwnProperty,k=(e,t)=>S.call(e,t);"undefined"!=typeof window?window:Function("return this;")();const C=(T=3,e=>(e=>e.dom.nodeType)(e)===T);var T;const _=(e,t,n)=>{((e,t,n)=>{if(!(r(n)||s(n)||l(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(e.dom,t,n)},A=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},E={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return A(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return A(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return A(n)},fromDom:A,fromPoint:(e,t,n)=>m.from(e.dom.elementFromPoint(t,n)).map(A)},N=(e,t)=>({element:e,offset:t}),O=(e,t)=>{const n=(e=>y(e.dom.childNodes,E.fromDom))(e);return n.length>0&&t<n.length?N(n[t],0):N(e,t)},F=(e,t)=>{const n=(e=>m.from(e.dom.parentNode).map(E.fromDom))(e);n.each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},D=(e,t)=>{F(e,t),((e,t)=>{e.dom.appendChild(t.dom)})(t,e)},R=((e,t)=>{const n=t=>e(t)?m.from(t.dom.nodeValue):m.none();return{get:o=>{if(!e(o))throw new Error("Can only get "+t+" value of a "+t+" node");return n(o).getOr("")},getOption:n,set:(n,o)=>{if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=o}}})(C,"text"),P=e=>R.get(e),M=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return 1!==(o=n).nodeType&&9!==o.nodeType&&11!==o.nodeType||0===o.childElementCount?[]:y(n.querySelectorAll(e),E.fromDom);var o})(t,e);var B=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const j=(e,t)=>e.isBlock(t)||k(e.schema.getVoidElements(),t.nodeName),$=(e,t)=>!e.isEditable(t),L=(e,t)=>!e.isBlock(t)&&k(e.schema.getWhitespaceElements(),t.nodeName),I=(e,t)=>O(E.fromDom(e),t),z=(e,t,n,o,r,a=!0)=>{let s=a?t(!1):n;for(;s;){const n=$(e,s);if(n||L(e,s)){if(n?o.cef(s):o.boundary(s))break;s=t(!0)}else{if(j(e,s)){if(o.boundary(s))break}else 3===s.nodeType&&o.text(s);if(s===r)break;s=t(!1)}}},q=(e,t,n,o,r)=>{var a;if(((e,t)=>j(e,t)||$(e,t)||L(e,t)||((e,t)=>"true"===e.getContentEditable(t)&&t.parentNode&&!e.isEditable(t.parentNode))(e,t))(e,n))return;const s=null!==(a=e.getParent(o,e.isBlock))&&void 0!==a?a:e.getRoot(),l=new B(n,s),i=r?l.next.bind(l):l.prev.bind(l);z(e,i,n,{boundary:u,cef:u,text:e=>{r?t.fOffset+=e.length:t.sOffset+=e.length,t.elements.push(E.fromDom(e))}})},W=(e,t,n,o,r,a=!0)=>{const s=new B(n,t),l=[];let i={sOffset:0,fOffset:0,elements:[]};q(e,i,n,t,!1);const c=()=>(i.elements.length>0&&(l.push(i),i={sOffset:0,fOffset:0,elements:[]}),!1);return z(e,s.next.bind(s),n,{boundary:c,cef:e=>(c(),r&&l.push(...r.cef(e)),!1),text:e=>{i.elements.push(E.fromDom(e)),r&&r.text(e,i)}},o,a),o&&q(e,i,o,t,!0),c(),l},U=(e,t)=>{const n=I(t.startContainer,t.startOffset),o=n.element.dom,r=I(t.endContainer,t.endOffset),a=r.element.dom;return W(e,t.commonAncestorContainer,o,a,{text:(e,t)=>{e===a?t.fOffset+=e.length-r.offset:e===o&&(t.sOffset+=n.offset)},cef:t=>((e,t)=>{const n=b.call(e,0);return n.sort(t),n})(x(M(E.fromDom(t),"*[contenteditable=true]"),(t=>{const n=t.dom;return W(e,n,n)})),((e,t)=>((e,t)=>((e,t,n)=>0!=(e.compareDocumentPosition(t)&n))(e,t,Node.DOCUMENT_POSITION_PRECEDING))(e.elements[0].dom,t.elements[0].dom)?1:-1))},!1)},H=(e,t)=>t.collapsed?[]:U(e,t),V=(e,t)=>{const n=e.createRng();return n.selectNode(t),H(e,n)},Z=(e,t)=>{const n=(o=e,r=(e,n)=>{const o=P(n),r=e.last,a=r+o.length,s=x(t,((e,t)=>e.start<a&&e.finish>r?[{element:n,start:Math.max(r,e.start)-r,finish:Math.min(a,e.finish)-r,matchId:t}]:[]));return{results:e.results.concat(s),last:a}},a={results:[],last:0},v(o,((e,t)=>{a=r(a,e,t)})),a).results;var o,r,a;return((e,t)=>{if(0===e.length)return[];{let n=t(e[0]);const o=[];let r=[];for(let a=0,s=e.length;a<s;a++){const s=e[a],l=t(s);l!==n&&(o.push(r),r=[]),n=l,r.push(s)}return 0!==r.length&&o.push(r),o}})(n,(e=>e.matchId))},K=(e,t)=>x(t,(t=>{const n=t.elements,o=y(n,P).join(""),r=((e,t,n=0,o=e.length)=>{const r=t.regex;r.lastIndex=n;const a=[];let s;for(;s=r.exec(e);){const e=s[t.matchIndex],n=s.index+s[0].indexOf(e),l=n+e.length;if(l>o)break;a.push({start:n,finish:l}),r.lastIndex=l}return a})(o,e,t.sOffset,o.length-t.fOffset);return Z(n,r)})),G=(e,t)=>{w(e,((e,n)=>{w(e,(e=>{const o=E.fromDom(t.cloneNode(!1));_(o,"data-mce-index",n);const r=e.element.dom;if(r.length===e.finish&&0===e.start)D(e.element,o);else{r.length!==e.finish&&r.splitText(e.finish);const t=r.splitText(e.start);D(E.fromDom(t),o)}}))}))},J=(e,t,n,o)=>{const r=n.getBookmark(),a=e.select("td[data-mce-selected],th[data-mce-selected]"),s=a.length>0?((e,t)=>x(t,(t=>V(e,t))))(e,a):H(e,n.getRng()),l=K(t,s);return G(l,o),n.moveToBookmark(r),l.length},Q=e=>e.getAttribute("data-mce-index"),Y=(e,t,n,o)=>{const r=e.dom.create("span",{"data-mce-bogus":1});r.className="mce-match-marker";const a=e.getBody();return ie(e,t,!1),o?J(e.dom,n,e.selection,r):((e,t,n,o)=>{const r=V(e,n),a=K(t,r);return G(a,o),a.length})(e.dom,n,a,r)},X=e=>{var t;const n=e.parentNode;e.firstChild&&n.insertBefore(e.firstChild,e),null===(t=e.parentNode)||void 0===t||t.removeChild(e)},ee=(e,t)=>{const n=[],o=h.toArray(e.getBody().getElementsByTagName("span"));if(o.length)for(let e=0;e<o.length;e++){const r=Q(o[e]);null!==r&&r.length&&(r===t.toString()&&n.push(o[e]))}return n},te=(e,t,n)=>{const o=t.get();let r=o.index;const a=e.dom;n?r+1===o.count?r=0:r++:r-1==-1?r=o.count-1:r--,a.removeClass(ee(e,o.index),"mce-match-marker-selected");const s=ee(e,r);return s.length?(a.addClass(ee(e,r),"mce-match-marker-selected"),e.selection.scrollIntoView(s[0]),r):-1},ne=(e,t)=>{const n=t.parentNode;e.remove(t),n&&e.isEmpty(n)&&e.remove(n)},oe=(e,t,n,o,r,a)=>{const s=e.selection,l=((e,t)=>{const n="("+e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return t?`(?:^|\\s|${p()})`+n+`(?=$|\\s|${p()})`:n})(n,r),i=s.isForward(),c={regex:new RegExp(l,o?"g":"gi"),matchIndex:1},u=Y(e,t,c,a);if(g.browser.isSafari()&&s.setRng(s.getRng(),i),u){const s=te(e,t,!0);t.set({index:s,count:u,text:n,matchCase:o,wholeWord:r,inSelection:a})}return u},re=(e,t)=>{const n=te(e,t,!0);t.set({...t.get(),index:n})},ae=(e,t)=>{const n=te(e,t,!1);t.set({...t.get(),index:n})},se=e=>{const t=Q(e);return null!==t&&t.length>0},le=(e,t,n,o,r)=>{const a=t.get(),s=a.index;let l,i=s;o=!1!==o;const c=e.getBody(),u=h.grep(h.toArray(c.getElementsByTagName("span")),se);for(let t=0;t<u.length;t++){const c=Q(u[t]);let d=l=parseInt(c,10);if(r||d===a.index){for(n.length?(u[t].innerText=n,X(u[t])):ne(e.dom,u[t]);u[++t];){if(d=parseInt(Q(u[t]),10),d!==l){t--;break}ne(e.dom,u[t])}o&&i--}else l>s&&u[t].setAttribute("data-mce-index",String(l-1))}return t.set({...a,count:r?0:a.count-1,index:i}),o?re(e,t):ae(e,t),!r&&t.get().count>0},ie=(e,t,n)=>{let o,r;const a=t.get(),s=h.toArray(e.getBody().getElementsByTagName("span"));for(let e=0;e<s.length;e++){const t=Q(s[e]);null!==t&&t.length&&(t===a.index.toString()&&(o||(o=s[e].firstChild),r=s[e].firstChild),X(s[e]))}if(t.set({...a,index:-1,count:0,text:""}),o&&r){const t=e.dom.createRng();return t.setStart(o,0),t.setEnd(r,r.data.length),!1!==n&&e.selection.setRng(t),t}},ce=()=>{const t=(t=>{const n=e(m.none()),o=()=>n.get().each(t);return{clear:()=>{o(),n.set(m.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:e=>{o(),n.set(m.some(e))}}})(i);return{...t,on:e=>t.get().each(e)}},ue=(e,t)=>{const n=ce();e.undoManager.add();const o=h.trim(e.selection.getContent({format:"text"})),r=e=>{e.setEnabled("next",((e,t)=>t.get().count>1)(0,t)),e.setEnabled("prev",((e,t)=>t.get().count>1)(0,t))},a=(e,t)=>{v(["replace","replaceall","prev","next"],(n=>e.setEnabled(n,!t)))},s=(e,t)=>{t.redial(p(e,t.getData()))},l=(e,t)=>{g.browser.isSafari()&&g.deviceType.isTouch()&&("find"===t||"replace"===t||"replaceall"===t)&&e.focus(t)},i=n=>{ie(e,t,!1),a(n,!0),r(n)},c=n=>{const o=n.getData(),l=t.get();if(o.findtext.length){if(l.text===o.findtext&&l.matchCase===o.matchcase&&l.wholeWord===o.wholewords)re(e,t);else{const r=oe(e,t,o.findtext,o.matchcase,o.wholewords,o.inselection);r<=0&&s(!0,n),a(n,0===r)}r(n)}else i(n)},u=t.get(),d={findtext:o,replacetext:"",wholewords:u.wholeWord,matchcase:u.matchCase,inselection:u.inSelection},m=e=>{const t=[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}];return e&&t.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"}),t},p=(n,o)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:m(n)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:o,onChange:(e,o)=>{n&&s(!1,e),"findtext"===o.name&&t.get().count>0&&i(e)},onAction:(n,o)=>{const a=n.getData();switch(o.name){case"find":c(n);break;case"replace":le(e,t,a.replacetext)?r(n):i(n);break;case"replaceall":le(e,t,a.replacetext,!0,!0),i(n);break;case"prev":ae(e,t),r(n);break;case"next":re(e,t),r(n);break;case"matchcase":case"wholewords":case"inselection":s(!1,n),(e=>{const n=e.getData(),o=t.get();t.set({...o,matchCase:n.matchcase,wholeWord:n.wholewords,inSelection:n.inselection})})(n),i(n)}l(n,o.name)},onSubmit:e=>{c(e),l(e,"find")},onClose:()=>{e.focus(),ie(e,t),e.undoManager.add()}});n.set(e.windowManager.open(p(!1,d),{inline:"toolbar"}))},de=(e,t)=>()=>{ue(e,t)};t.add("searchreplace",(t=>{const n=e({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return((e,t)=>{e.addCommand("SearchReplace",(()=>{ue(e,t)}))})(t,n),((e,t)=>{e.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:de(e,t),icon:"search"}),e.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:de(e,t),icon:"search"}),e.shortcuts.add("Meta+F","",de(e,t))})(t,n),((e,t)=>({done:n=>ie(e,t,n),find:(n,o,r,a=!1)=>oe(e,t,n,o,r,a),next:()=>re(e,t),prev:()=>ae(e,t),replace:(n,o,r)=>le(e,t,n,o,r)}))(t,n)}))}()},55710:function(){!function(){"use strict";const e=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||(null===(a=o.constructor)||void 0===a?void 0:a.name)===r.name)?"string":t;var n,o,r,a})(t)===e,o=e=>t=>typeof t===e,r=n("string"),a=n("array"),s=o("boolean"),l=o("number"),i=()=>{},c=e=>()=>e,u=c(!0),d=c("[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]");class m{constructor(e,t){this.tag=e,this.value=t}static some(e){return new m(!0,e)}static none(){return m.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?m.some(e(this.value)):m.none()}bind(e){return this.tag?e(this.value):m.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:m.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return null==e?m.none():m.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}m.singletonNone=new m(!1);const p=d;var g=tinymce.util.Tools.resolve("tinymce.Env"),h=tinymce.util.Tools.resolve("tinymce.util.Tools");const b=Array.prototype.slice,f=Array.prototype.push,y=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},v=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},w=(e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)},x=(e,t)=>(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);f.apply(t,e[n])}return t})(y(e,t)),S=Object.hasOwnProperty,k=(e,t)=>S.call(e,t);"undefined"!=typeof window?window:Function("return this;")();const C=e=>3===(e=>e.dom.nodeType)(e),T=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},_=(e,t)=>({element:e,offset:t}),A=(e,t)=>{((e,t)=>{const n=(e=>m.from(e.dom.parentNode).map(T))(e);n.each((n=>{n.dom.insertBefore(t.dom,e.dom)}))})(e,t),((e,t)=>{e.dom.appendChild(t.dom)})(t,e)},E=((e,t)=>{const n=t=>e(t)?m.from(t.dom.nodeValue):m.none();return{get:t=>{if(!e(t))throw new Error("Can only get text value of a text node");return n(t).getOr("")},getOption:n,set:(t,n)=>{if(!e(t))throw new Error("Can only set raw text value of a text node");t.dom.nodeValue=n}}})(C),N=e=>E.get(e);var O=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const F=(e,t)=>e.isBlock(t)||k(e.schema.getVoidElements(),t.nodeName),D=(e,t)=>!e.isEditable(t),R=(e,t)=>!e.isBlock(t)&&k(e.schema.getWhitespaceElements(),t.nodeName),P=(e,t)=>((e,t)=>{const n=(e=>y(e.dom.childNodes,T))(e);return n.length>0&&t<n.length?_(n[t],0):_(e,t)})(T(e),t),M=(e,t,n,o,r,a=!0)=>{let s=a?t(!1):n;for(;s;){const n=D(e,s);if(n||R(e,s)){if(n?o.cef(s):o.boundary(s))break;s=t(!0)}else{if(F(e,s)){if(o.boundary(s))break}else 3===s.nodeType&&o.text(s);if(s===r)break;s=t(!1)}}},B=(e,t,n,o,r)=>{var a;if(((e,t)=>F(e,t)||D(e,t)||R(e,t)||((e,t)=>"true"===e.getContentEditable(t)&&t.parentNode&&!e.isEditable(t.parentNode))(e,t))(e,n))return;const s=null!==(a=e.getParent(o,e.isBlock))&&void 0!==a?a:e.getRoot(),l=new O(n,s),i=r?l.next.bind(l):l.prev.bind(l);M(e,i,n,{boundary:u,cef:u,text:e=>{r?t.fOffset+=e.length:t.sOffset+=e.length,t.elements.push(T(e))}})},j=(e,t,n,o,r,a=!0)=>{const s=new O(n,t),l=[];let i={sOffset:0,fOffset:0,elements:[]};B(e,i,n,t,!1);const c=()=>(i.elements.length>0&&(l.push(i),i={sOffset:0,fOffset:0,elements:[]}),!1);return M(e,s.next.bind(s),n,{boundary:c,cef:e=>(c(),r&&l.push(...r.cef(e)),!1),text:e=>{i.elements.push(T(e)),r&&r.text(e,i)}},o,a),o&&B(e,i,o,t,!0),c(),l},$=(e,t)=>t.collapsed?[]:((e,t)=>{const n=P(t.startContainer,t.startOffset),o=n.element.dom,r=P(t.endContainer,t.endOffset),a=r.element.dom;return j(e,t.commonAncestorContainer,o,a,{text:(e,t)=>{e===a?t.fOffset+=e.length-r.offset:e===o&&(t.sOffset+=n.offset)},cef:t=>((e,t)=>{const n=b.call(e,0);return n.sort(((e,t)=>((e,t)=>((e,t,n)=>0!=(e.compareDocumentPosition(t)&n))(e,t,Node.DOCUMENT_POSITION_PRECEDING))(e.elements[0].dom,t.elements[0].dom)?1:-1)),n})(x(((e,t)=>{const n=void 0===t?document:t.dom;return 1!==(o=n).nodeType&&9!==o.nodeType&&11!==o.nodeType||0===o.childElementCount?[]:y(n.querySelectorAll("*[contenteditable=true]"),T);var o})(0,T(t)),(t=>{const n=t.dom;return j(e,n,n)})))},!1)})(e,t),L=(e,t)=>{const n=e.createRng();return n.selectNode(t),$(e,n)},I=(e,t)=>x(t,(t=>{const n=t.elements,o=y(n,N).join(""),r=((e,t,n=0,o=e.length)=>{const r=t.regex;r.lastIndex=n;const a=[];let s;for(;s=r.exec(e);){const e=s[t.matchIndex],n=s.index+s[0].indexOf(e),l=n+e.length;if(l>o)break;a.push({start:n,finish:l}),r.lastIndex=l}return a})(o,e,t.sOffset,o.length-t.fOffset);return((e,t)=>{const n=(o=e,r=(e,n)=>{const o=N(n),r=e.last,a=r+o.length,s=x(t,((e,t)=>e.start<a&&e.finish>r?[{element:n,start:Math.max(r,e.start)-r,finish:Math.min(a,e.finish)-r,matchId:t}]:[]));return{results:e.results.concat(s),last:a}},a={results:[],last:0},v(o,((e,t)=>{a=r(a,e)})),a).results;var o,r,a;return((e,t)=>{if(0===e.length)return[];{let n=t(e[0]);const o=[];let r=[];for(let a=0,s=e.length;a<s;a++){const s=e[a],l=t(s);l!==n&&(o.push(r),r=[]),n=l,r.push(s)}return 0!==r.length&&o.push(r),o}})(n,(e=>e.matchId))})(n,r)})),z=(e,t)=>{w(e,((e,n)=>{w(e,(e=>{const o=T(t.cloneNode(!1));((e,t,n)=>{((e,t,n)=>{if(!(r(n)||s(n)||l(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(e.dom,"data-mce-index",n)})(o,0,n);const a=e.element.dom;if(a.length===e.finish&&0===e.start)A(e.element,o);else{a.length!==e.finish&&a.splitText(e.finish);const t=a.splitText(e.start);A(T(t),o)}}))}))},q=e=>e.getAttribute("data-mce-index"),W=e=>{var t;const n=e.parentNode;e.firstChild&&n.insertBefore(e.firstChild,e),null===(t=e.parentNode)||void 0===t||t.removeChild(e)},U=(e,t)=>{const n=[],o=h.toArray(e.getBody().getElementsByTagName("span"));if(o.length)for(let e=0;e<o.length;e++){const r=q(o[e]);null!==r&&r.length&&r===t.toString()&&n.push(o[e])}return n},H=(e,t,n)=>{const o=t.get();let r=o.index;const a=e.dom;n?r+1===o.count?r=0:r++:r-1==-1?r=o.count-1:r--,a.removeClass(U(e,o.index),"mce-match-marker-selected");const s=U(e,r);return s.length?(a.addClass(U(e,r),"mce-match-marker-selected"),e.selection.scrollIntoView(s[0]),r):-1},V=(e,t)=>{const n=t.parentNode;e.remove(t),n&&e.isEmpty(n)&&e.remove(n)},Z=(e,t,n,o,r,a)=>{const s=e.selection,l=((e,t)=>{const n="("+e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return t?`(?:^|\\s|${p()})`+n+`(?=$|\\s|${p()})`:n})(n,r),i=s.isForward(),c=((e,t,n,o)=>{const r=e.dom.create("span",{"data-mce-bogus":1});r.className="mce-match-marker";const a=e.getBody();return Y(e,t,!1),o?((e,t,n,o)=>{const r=n.getBookmark(),a=e.select("td[data-mce-selected],th[data-mce-selected]"),s=a.length>0?((e,t)=>x(t,(t=>L(e,t))))(e,a):$(e,n.getRng()),l=I(t,s);return z(l,o),n.moveToBookmark(r),l.length})(e.dom,n,e.selection,r):((e,t,n,o)=>{const r=L(e,n),a=I(t,r);return z(a,o),a.length})(e.dom,n,a,r)})(e,t,{regex:new RegExp(l,o?"g":"gi"),matchIndex:1},a);if(g.browser.isSafari()&&s.setRng(s.getRng(),i),c){const s=H(e,t,!0);t.set({index:s,count:c,text:n,matchCase:o,wholeWord:r,inSelection:a})}return c},K=(e,t)=>{const n=H(e,t,!0);t.set({...t.get(),index:n})},G=(e,t)=>{const n=H(e,t,!1);t.set({...t.get(),index:n})},J=e=>{const t=q(e);return null!==t&&t.length>0},Q=(e,t,n,o,r)=>{const a=t.get(),s=a.index;let l,i=s;o=!1!==o;const c=e.getBody(),u=h.grep(h.toArray(c.getElementsByTagName("span")),J);for(let t=0;t<u.length;t++){const c=q(u[t]);let d=l=parseInt(c,10);if(r||d===a.index){for(n.length?(u[t].innerText=n,W(u[t])):V(e.dom,u[t]);u[++t];){if(d=parseInt(q(u[t]),10),d!==l){t--;break}V(e.dom,u[t])}o&&i--}else l>s&&u[t].setAttribute("data-mce-index",String(l-1))}return t.set({...a,count:r?0:a.count-1,index:i}),o?K(e,t):G(e,t),!r&&t.get().count>0},Y=(e,t,n)=>{let o,r;const a=t.get(),s=h.toArray(e.getBody().getElementsByTagName("span"));for(let e=0;e<s.length;e++){const t=q(s[e]);null!==t&&t.length&&(t===a.index.toString()&&(o||(o=s[e].firstChild),r=s[e].firstChild),W(s[e]))}if(t.set({...a,index:-1,count:0,text:""}),o&&r){const t=e.dom.createRng();return t.setStart(o,0),t.setEnd(r,r.data.length),!1!==n&&e.selection.setRng(t),t}},X=(t,n)=>{const o=(()=>{const t=(t=>{const n=e(m.none()),o=()=>n.get().each(t);return{clear:()=>{o(),n.set(m.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:e=>{o(),n.set(m.some(e))}}})(i);return{...t,on:e=>t.get().each(e)}})();t.undoManager.add();const r=h.trim(t.selection.getContent({format:"text"})),a=e=>{e.setEnabled("next",((e,t)=>t.get().count>1)(0,n)),e.setEnabled("prev",((e,t)=>t.get().count>1)(0,n))},s=(e,t)=>{v(["replace","replaceall","prev","next"],(n=>e.setEnabled(n,!t)))},l=(e,t)=>{t.redial(y(e,t.getData()))},c=(e,t)=>{g.browser.isSafari()&&g.deviceType.isTouch()&&("find"===t||"replace"===t||"replaceall"===t)&&e.focus(t)},u=e=>{Y(t,n,!1),s(e,!0),a(e)},d=e=>{const o=e.getData(),r=n.get();if(o.findtext.length){if(r.text===o.findtext&&r.matchCase===o.matchcase&&r.wholeWord===o.wholewords)K(t,n);else{const r=Z(t,n,o.findtext,o.matchcase,o.wholewords,o.inselection);r<=0&&l(!0,e),s(e,0===r)}a(e)}else u(e)},p=n.get(),b={findtext:r,replacetext:"",wholewords:p.wholeWord,matchcase:p.matchCase,inselection:p.inSelection},f=e=>{const t=[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}];return e&&t.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"}),t},y=(e,o)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:f(e)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:o,onChange:(t,o)=>{e&&l(!1,t),"findtext"===o.name&&n.get().count>0&&u(t)},onAction:(e,o)=>{const r=e.getData();switch(o.name){case"find":d(e);break;case"replace":Q(t,n,r.replacetext)?a(e):u(e);break;case"replaceall":Q(t,n,r.replacetext,!0,!0),u(e);break;case"prev":G(t,n),a(e);break;case"next":K(t,n),a(e);break;case"matchcase":case"wholewords":case"inselection":l(!1,e),(e=>{const t=e.getData(),o=n.get();n.set({...o,matchCase:t.matchcase,wholeWord:t.wholewords,inSelection:t.inselection})})(e),u(e)}c(e,o.name)},onSubmit:e=>{d(e),c(e,"find")},onClose:()=>{t.focus(),Y(t,n),t.undoManager.add()}});o.set(t.windowManager.open(y(!1,b),{inline:"toolbar"}))},ee=(e,t)=>()=>{X(e,t)};t.add("searchreplace",(t=>{const n=e({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return((e,t)=>{e.addCommand("SearchReplace",(()=>{X(e,t)}))})(t,n),((e,t)=>{e.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:ee(e,t),icon:"search"}),e.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:ee(e,t),icon:"search"}),e.shortcuts.add("Meta+F","",ee(e,t))})(t,n),((e,t)=>({done:n=>Y(e,t,n),find:(n,o,r,a=!1)=>Z(e,t,n,o,r,a),next:()=>K(e,t),prev:()=>G(e,t),replace:(n,o,r)=>Q(e,t,n,o,r)}))(t,n)}))}()},38619:function(e,t,n){n(42590)},42590:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(a=String).prototype,o.isPrototypeOf(n)||(null===(s=r.constructor)||void 0===s?void 0:s.name)===a.name)?"string":t;var n,o;var r,a,s})(t)===e,n=e=>t=>typeof t===e,o=t("string"),r=t("array"),a=n("boolean"),s=(l=void 0,e=>l===e);var l;const i=e=>!(e=>null==e)(e),c=n("function"),u=n("number"),d=()=>{},m=e=>()=>e,p=e=>e,g=(e,t)=>e===t;function h(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const b=e=>{e()},f=m(!1),y=m(!0);class v{constructor(e,t){this.tag=e,this.value=t}static some(e){return new v(!0,e)}static none(){return v.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?v.some(e(this.value)):v.none()}bind(e){return this.tag?e(this.value):v.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:v.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return i(e)?v.some(e):v.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}v.singletonNone=new v(!1);const w=Object.keys,x=Object.hasOwnProperty,S=(e,t)=>{const n=w(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},k=(e,t)=>{const n={};var o;return((e,t,n,o)=>{S(e,((e,r)=>{(t(e,r)?n:o)(e,r)}))})(e,t,(o=n,(e,t)=>{o[t]=e}),d),n},C=e=>((e,t)=>{const n=[];return S(e,((e,o)=>{n.push(t(e,o))})),n})(e,p),T=e=>w(e).length,_=(e,t)=>A(e,t)?v.from(e[t]):v.none(),A=(e,t)=>x.call(e,t),E=(e,t)=>A(e,t)&&void 0!==e[t]&&null!==e[t],N=Array.prototype.indexOf,O=Array.prototype.push,F=(e,t)=>((e,t)=>N.call(e,t))(e,t)>-1,D=(e,t)=>{for(let n=0,o=e.length;n<o;n++){if(t(e[n],n))return!0}return!1},R=(e,t)=>{const n=[];for(let o=0;o<e;o++)n.push(t(o));return n},P=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},M=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},B=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},j=(e,t,n)=>(M(e,((e,o)=>{n=t(n,e,o)})),n),$=(e,t)=>((e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return v.some(r);if(n(r,o))break}return v.none()})(e,t,f),L=(e,t)=>(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!r(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);O.apply(t,e[n])}return t})(P(e,t)),I=(e,t)=>{for(let n=0,o=e.length;n<o;++n){if(!0!==t(e[n],n))return!1}return!0},z=(e,t)=>t>=0&&t<e.length?v.some(e[t]):v.none(),q=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return v.none()},W=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},U={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return W(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return W(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return W(n)},fromDom:W,fromPoint:(e,t,n)=>v.from(e.dom.elementFromPoint(t,n)).map(W)},H=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},V=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,Z=(e,t)=>e.dom===t.dom,K=H;"undefined"!=typeof window?window:Function("return this;")();const G=e=>e.dom.nodeName.toLowerCase(),J=e=>e.dom.nodeType,Q=e=>t=>J(t)===e,Y=e=>8===J(e)||"#comment"===G(e),X=Q(1),ee=Q(3),te=Q(9),ne=Q(11),oe=e=>t=>X(t)&&G(t)===e,re=e=>{return te(e)?e:(t=e,U.fromDom(t.dom.ownerDocument));var t},ae=e=>v.from(e.dom.parentNode).map(U.fromDom),se=(e,t)=>{const n=c(t)?t:f;let o=e.dom;const r=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){const e=o.parentNode,t=U.fromDom(e);if(r.push(t),!0===n(t))break;o=e}return r},le=e=>v.from(e.dom.previousSibling).map(U.fromDom),ie=e=>v.from(e.dom.nextSibling).map(U.fromDom),ce=e=>P(e.dom.childNodes,U.fromDom),ue=e=>((e,t)=>{const n=e.dom.childNodes;return v.from(n[t]).map(U.fromDom)})(e,0),de=c(Element.prototype.attachShadow)&&c(Node.prototype.getRootNode)?e=>U.fromDom(e.dom.getRootNode()):re,me=e=>{const t=de(e);return ne(n=t)&&i(n.dom.host)?v.some(t):v.none();var n},pe=e=>U.fromDom(e.dom.host),ge=e=>{const t=ee(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return me(U.fromDom(t)).fold((()=>n.body.contains(t)),(o=ge,r=pe,e=>o(r(e))));var o,r};var he=(e,t,n,o,r)=>e(n,o)?v.some(n):c(r)&&r(n)?v.none():t(n,o,r);const be=(e,t,n)=>{let o=e.dom;const r=c(n)?n:f;for(;o.parentNode;){o=o.parentNode;const e=U.fromDom(o);if(t(e))return v.some(e);if(r(e))break}return v.none()},fe=(e,t,n)=>be(e,(e=>H(e,t)),n),ye=(e,t)=>((e,t)=>$(e.dom.childNodes,(e=>t(U.fromDom(e)))).map(U.fromDom))(e,(e=>H(e,t))),ve=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return V(n)?v.none():v.from(n.querySelector(e)).map(U.fromDom)})(t,e),we=(e,t,n)=>he(((e,t)=>H(e,t)),fe,e,t,n),xe=(e,t=!1)=>{return ge(e)?e.dom.isContentEditable:(n=e,we(n,"[contenteditable]")).fold(m(t),(e=>"true"===Se(e)));var n},Se=e=>e.dom.contentEditable,ke=e=>t=>Z(t,(e=>U.fromDom(e.getBody()))(e)),Ce=e=>/^\d+(\.\d+)?$/.test(e)?e+"px":e,Te=e=>U.fromDom(e.selection.getStart()),_e=e=>{return(t=e,n=oe("table"),he(((e,t)=>t(e)),be,t,n,o)).forall(xe);var t,n,o},Ae=(e,t)=>{let n=[];return M(ce(e),(e=>{t(e)&&(n=n.concat([e])),n=n.concat(Ae(e,t))})),n},Ee=(e,t)=>((e,t)=>B(ce(e),t))(e,(e=>H(e,t))),Ne=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return V(n)?[]:P(n.querySelectorAll(e),U.fromDom)})(t,e),Oe=(e,t,n)=>{if(!(o(n)||a(n)||u(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Fe=(e,t,n)=>{Oe(e.dom,t,n)},De=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},Re=(e,t)=>v.from(De(e,t)),Pe=(e,t)=>{e.dom.removeAttribute(t)},Me=(e,t,n=g)=>e.exists((e=>n(e,t))),Be=(e,t,n)=>e.isSome()&&t.isSome()?v.some(n(e.getOrDie(),t.getOrDie())):v.none(),je=(e,t)=>((e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t)(e,t,0),$e=(Le=/^\s+|\s+$/g,e=>e.replace(Le,""));var Le;const Ie=e=>e.length>0,ze=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?v.none():v.some(n)},qe=e=>void 0!==e.style&&c(e.style.getPropertyValue),We=(e,t,n)=>{((e,t,n)=>{if(!o(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);qe(e)&&e.style.setProperty(t,n)})(e.dom,t,n)},Ue=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||ge(e)?o:He(n,t)},He=(e,t)=>qe(e)?e.style.getPropertyValue(t):"",Ve=(e,t)=>{const n=e.dom,o=He(n,t);return v.from(o).filter((e=>e.length>0))},Ze=(e,t)=>{((e,t)=>{qe(e)&&e.style.removeProperty(t)})(e.dom,t),Me(Re(e,"style").map($e),"")&&Pe(e,"style")},Ke=(e,t,n=0)=>Re(e,t).map((e=>parseInt(e,10))).getOr(n),Ge=(e,t)=>Je(e,t,y),Je=(e,t,n)=>L(ce(e),(e=>H(e,t)?n(e)?[e]:[]:Je(e,t,n))),Qe=["tfoot","thead","tbody","colgroup"],Ye=(e,t,n)=>({element:e,rowspan:t,colspan:n}),Xe=(e,t,n)=>({element:e,cells:t,section:n}),et=(e,t)=>((e,t,n=f)=>n(t)?v.none():F(e,G(t))?v.some(t):fe(t,e.join(","),(e=>H(e,"table")||n(e))))(["td","th"],e,t),tt=(e,t)=>we(e,"table",t),nt=e=>Ge(e,"tr"),ot=e=>tt(e).fold(m([]),(e=>Ee(e,"colgroup"))),rt=(e,t)=>P(e,(e=>{if("colgroup"===G(e)){const t=P((e=>H(e,"colgroup")?Ee(e,"col"):L(ot(e),(e=>Ee(e,"col"))))(e),(e=>{const t=Ke(e,"span",1);return Ye(e,1,t)}));return Xe(e,t,"colgroup")}{const n=P((e=>Ge(e,"th,td"))(e),(e=>{const t=Ke(e,"rowspan",1),n=Ke(e,"colspan",1);return Ye(e,t,n)}));return Xe(e,n,t(e))}})),at=e=>ae(e).map((e=>{const t=G(e);return(e=>F(Qe,e))(t)?t:"tbody"})).getOr("tbody"),st=e=>Re(e,"data-snooker-locked-cols").bind((e=>v.from(e.match(/\d+/g)))).map((e=>((e,t)=>{const n={};for(let o=0,r=e.length;o<r;o++){const r=e[o];n[String(r)]=t(r,o)}return n})(e,y))),lt=(e,t)=>e+","+t,it=(e,t)=>{const n=L(e.all,(e=>e.cells));return B(n,t)},ct=e=>{const t={},n=[];var o;const r=(o=e,z(o,0)).map((e=>e.element)).bind(tt).bind(st).getOr({});let a=0,s=0,l=0;const{pass:i,fail:c}=((e,t)=>{const n=[],o=[];for(let r=0,a=e.length;r<a;r++){const a=e[r];(t(a,r)?n:o).push(a)}return{pass:n,fail:o}})(e,(e=>"colgroup"===e.section));M(c,(e=>{const o=[];M(e.cells,(e=>{let n=0;for(;void 0!==t[lt(l,n)];)n++;const a=E(r,n.toString()),i=((e,t,n,o,r,a)=>({element:e,rowspan:t,colspan:n,row:o,column:r,isLocked:a}))(e.element,e.rowspan,e.colspan,l,n,a);for(let o=0;o<e.colspan;o++)for(let r=0;r<e.rowspan;r++){const e=n+o,a=lt(l+r,e);t[a]=i,s=Math.max(s,e+1)}o.push(i)})),a++,n.push(Xe(e.element,o,e.section)),l++}));const{columns:u,colgroups:d}=(e=>z(e,e.length-1))(i).map((e=>{const t=(e=>{const t={};let n=0;return M(e.cells,(e=>{const o=e.colspan;R(o,(r=>{const a=n+r;t[a]=((e,t,n)=>({element:e,colspan:t,column:n}))(e.element,o,a)})),n+=o})),t})(e),n=((e,t)=>({element:e,columns:t}))(e.element,C(t));return{colgroups:[n],columns:t}})).getOrThunk((()=>({colgroups:[],columns:{}}))),m=((e,t)=>({rows:e,columns:t}))(a,s);return{grid:m,access:t,all:n,columns:u,colgroups:d}},ut=e=>{const t=(e=>{const t=nt(e),n=[...ot(e),...t];return rt(n,at)})(e);return ct(t)},dt=(e,t,n)=>v.from(e.access[lt(t,n)]),mt=(e,t,n)=>{const o=it(e,(e=>n(t,e.element)));return o.length>0?v.some(o[0]):v.none()},pt=e=>L(e.all,(e=>e.cells)),gt=(e,t)=>v.from(e.columns[t]);var ht=tinymce.util.Tools.resolve("tinymce.util.Tools");const bt=(e,t,n)=>{const o=e.select("td,th",t);let r;for(let t=0;t<o.length;t++){const a=e.getStyle(o[t],n);if(s(r)&&(r=a),r!==a)return""}return r},ft=(e,t,n)=>{ht.each("left center right".split(" "),(o=>{o!==n&&e.formatter.remove("align"+o,{},t)})),n&&e.formatter.apply("align"+n,{},t)},yt=(e,t,n)=>{e.dispatch("TableModified",{...n,table:t})},vt=(e,t)=>(e=>{const t=parseFloat(e);return isNaN(t)?v.none():v.some(t)})(e).getOr(t),wt=(e,t,n)=>vt(Ue(e,t),n),xt=(e,t)=>{const n=e.dom,o=n.getBoundingClientRect().width||n.offsetWidth;return"border-box"===t?o:((e,t,n,o)=>t-wt(e,`padding-${n}`,0)-wt(e,`padding-${o}`,0)-wt(e,`border-${n}-width`,0)-wt(e,`border-${o}-width`,0))(e,o,"left","right")},St=e=>xt(e,"content-box");var kt=tinymce.util.Tools.resolve("tinymce.Env");const Ct=R(5,(e=>{const t=`${e+1}px`;return{title:t,value:t}})),Tt=P(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],(e=>({title:e,value:e.toLowerCase()}))),_t="100%",At=e=>{var t;const n=e.dom,o=null!==(t=n.getParent(e.selection.getStart(),n.isBlock))&&void 0!==t?t:e.getBody();return St(U.fromDom(o))+"px"},Et=e=>t=>t.options.get(e),Nt=Et("table_sizing_mode"),Ot=Et("table_border_widths"),Ft=Et("table_border_styles"),Dt=Et("table_cell_advtab"),Rt=Et("table_row_advtab"),Pt=Et("table_advtab"),Mt=Et("table_appearance_options"),Bt=Et("table_grid"),jt=Et("table_style_by_css"),$t=Et("table_cell_class_list"),Lt=Et("table_row_class_list"),It=Et("table_class_list"),zt=Et("table_toolbar"),qt=Et("table_background_color_map"),Wt=Et("table_border_color_map"),Ut=e=>"fixed"===Nt(e),Ht=e=>"responsive"===Nt(e),Vt=e=>{const t=e.options,n=t.get("table_default_styles");return t.isSet("table_default_styles")?n:((e,t)=>Ht(e)||!jt(e)?t:Ut(e)?{...t,width:At(e)}:{...t,width:_t})(e,n)},Zt=e=>{const t=e.options,n=t.get("table_default_attributes");return t.isSet("table_default_attributes")?n:((e,t)=>Ht(e)||jt(e)?t:Ut(e)?{...t,width:At(e)}:{...t,width:_t})(e,n)},Kt=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,Gt=(e,t,n)=>{const o=mt(e,t,Z),r=mt(e,n,Z);return o.bind((e=>r.map((t=>{return n=e,o=t,r=Math.min(n.row,o.row),a=Math.min(n.column,o.column),s=Math.max(n.row+n.rowspan-1,o.row+o.rowspan-1),l=Math.max(n.column+n.colspan-1,o.column+o.colspan-1),{startRow:r,startCol:a,finishRow:s,finishCol:l};var n,o,r,a,s,l}))))},Jt=(e,t,n)=>Gt(e,t,n).bind((t=>((e,t)=>{let n=!0;const o=h(Kt,t);for(let r=t.startRow;r<=t.finishRow;r++)for(let a=t.startCol;a<=t.finishCol;a++)n=n&&dt(e,r,a).exists(o);return n?v.some(t):v.none()})(e,t))),Qt=ut,Yt=(e,t)=>{ae(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},Xt=(e,t)=>{ie(e).fold((()=>{ae(e).each((e=>{tn(e,t)}))}),(e=>{Yt(e,t)}))},en=(e,t)=>{ue(e).fold((()=>{tn(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},tn=(e,t)=>{e.dom.appendChild(t.dom)},nn=(e,t)=>{Yt(e,t),tn(t,e)},on=(e,t)=>{M(t,((n,o)=>{const r=0===o?e:t[o-1];Xt(r,n)}))},rn=(e,t)=>{M(t,(t=>{tn(e,t)}))},an=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},sn=e=>{const t=ce(e);t.length>0&&on(e,t),an(e)},ln=((e,t)=>{const n=t=>e(t)?v.from(t.dom.nodeValue):v.none();return{get:o=>{if(!e(o))throw new Error("Can only get "+t+" value of a "+t+" node");return n(o).getOr("")},getOption:n,set:(n,o)=>{if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=o}}})(ee,"text"),cn=e=>ln.get(e),un=(e,t)=>ln.set(e,t);var dn=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];const mn=(e,t,n,o)=>{const r=t(e,n);return a=(n,o)=>{const r=t(e,o);return pn(e,n,r)},s=r,((e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)})(o,((e,t)=>{s=a(s,e,t)})),s;var a,s},pn=(e,t,n)=>t.bind((t=>n.filter(h(e.eq,t)))),gn=(e,t,n)=>n.length>0?((e,t,n,o)=>o(e,t,n[0],n.slice(1)))(e,t,n,mn):v.none(),hn={up:m({selector:fe,closest:we,predicate:be,all:se}),down:m({selector:Ne,predicate:Ae}),styles:m({get:Ue,getRaw:Ve,set:We,remove:Ze}),attrs:m({get:De,set:Fe,remove:Pe,copyTo:(e,t)=>{((e,t)=>{const n=e.dom;S(t,((e,t)=>{Oe(n,t,e)}))})(t,j(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}))}}),insert:m({before:Yt,after:Xt,afterAll:on,append:tn,appendAll:rn,prepend:en,wrap:nn}),remove:m({unwrap:sn,remove:an}),create:m({nu:U.fromTag,clone:e=>U.fromDom(e.dom.cloneNode(!1)),text:U.fromText}),query:m({comparePosition:(e,t)=>e.dom.compareDocumentPosition(t.dom),prevSibling:le,nextSibling:ie}),property:m({children:ce,name:G,parent:ae,document:e=>re(e).dom,isText:ee,isComment:Y,isElement:X,isSpecial:e=>{const t=G(e);return F(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)},getLanguage:e=>X(e)?Re(e,"lang"):v.none(),getText:cn,setText:un,isBoundary:e=>!!X(e)&&("body"===G(e)||F(dn,G(e))),isEmptyTag:e=>!!X(e)&&F(["br","img","hr","input"],G(e)),isNonEditable:e=>X(e)&&"false"===De(e,"contenteditable")}),eq:Z,is:K},bn=e=>fe(e,"table"),fn=(e,t,n)=>ve(e,t).bind((t=>ve(e,n).bind((e=>{return(n=bn,o=[t,e],gn(hn,((e,t)=>n(t)),o)).map((n=>({first:t,last:e,table:n})));var n,o})))),yn=(e,t)=>((e,t)=>{const n=Ne(e,t);return n.length>0?v.some(n):v.none()})(e,t),vn=(e,t,n)=>fn(e,t,n).bind((t=>{const n=t=>Z(e,t),o="thead,tfoot,tbody,table",r=fe(t.first,o,n),a=fe(t.last,o,n);return r.bind((e=>a.bind((n=>Z(e,n)?((e,t,n)=>{const o=Qt(e);return Jt(o,t,n)})(t.table,t.first,t.last):v.none()))))})),wn=e=>P(e,U.fromDom),xn="data-mce-selected",Sn="data-mce-first-selected",kn="data-mce-last-selected",Cn={selected:xn,selectedSelector:"td["+xn+"],th["+xn+"]",firstSelected:Sn,firstSelectedSelector:"td["+Sn+"],th["+Sn+"]",lastSelected:kn,lastSelectedSelector:"td["+kn+"],th["+kn+"]"},Tn=e=>(t,n)=>{const o=G(t),r="col"===o||"colgroup"===o?tt(a=t).bind((e=>yn(e,Cn.firstSelectedSelector))).fold(m(a),(e=>e[0])):t;var a;return we(r,e,n)},_n=Tn("th,td,caption"),An=Tn("th,td"),En=e=>wn(e.model.table.getSelectedCells()),Nn=(e,t)=>{const n=An(e),o=n.bind((e=>tt(e))).map((e=>nt(e)));return Be(n,o,((e,n)=>B(n,(n=>D(wn(n.dom.cells),(n=>"1"===De(n,t)||Z(n,e))))))).getOr([])},On=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Fn=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Dn=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Rn=e=>{return(t=e,n="#",je(t,n)?((e,t)=>e.substring(t))(t,n.length):t).toUpperCase();var t,n},Pn=e=>(e=>Fn.test(e)||Dn.test(e))(e)?v.some({value:Rn(e)}):v.none(),Mn=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},Bn=e=>(e=>({value:Rn(e)}))(Mn(e.red)+Mn(e.green)+Mn(e.blue)),jn=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,$n=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Ln=(e,t,n,o)=>({red:e,green:t,blue:n,alpha:o}),In=(e,t,n,o)=>{const r=parseInt(e,10),a=parseInt(t,10),s=parseInt(n,10),l=parseFloat(o);return Ln(r,a,s,l)},zn=e=>{if("transparent"===e)return v.some(Ln(0,0,0,0));const t=jn.exec(e);if(null!==t)return v.some(In(t[1],t[2],t[3],"1"));const n=$n.exec(e);return null!==n?v.some(In(n[1],n[2],n[3],n[4])):v.none()},qn=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},Wn=()=>(e=>{const t=qn(v.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(v.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(v.some(e))}}})((e=>e.unbind())),Un=(e,t,n)=>o=>{const r=Wn(),a=!Ie(n);const s=()=>{const s=En(e),l=o=>e.formatter.match(t,{value:n},o.dom,a);a?(o.setActive(!D(s,l)),r.set(e.formatter.formatChanged(t,(e=>o.setActive(!e)),!0))):(o.setActive(I(s,l)),r.set(e.formatter.formatChanged(t,o.setActive,!1,{value:n})))};return e.initialized?s():e.on("init",s),r.clear},Hn=e=>E(e,"menu"),Vn=e=>P(e,(e=>{const t=e.text||e.title||"";return Hn(e)?{text:t,items:Vn(e.menu)}:{text:t,value:e.value}})),Zn=(e,t,n,o)=>P(t,(t=>{const r=t.text||t.title;return Hn(t)?{type:"nestedmenuitem",text:r,getSubmenuItems:()=>Zn(e,t.menu,n,o)}:{text:r,type:"togglemenuitem",onAction:()=>o(t.value),onSetup:Un(e,n,t.value)}})),Kn=(e,t)=>n=>{e.execCommand("mceTableApplyCellStyle",!1,{[t]:n})},Gn=e=>L(e,(e=>Hn(e)?[{...e,menu:Gn(e.menu)}]:Ie(e.value)?[e]:[])),Jn=(e,t,n,o)=>r=>r(Zn(e,t,n,o)),Qn=(e,t,n)=>{const o=P(t,(e=>{return{text:e.title,value:"#"+(t=e.value,Pn(t).orThunk((()=>zn(t).map(Bn))).getOrThunk((()=>{const e=document.createElement("canvas");e.height=1,e.width=1;const n=e.getContext("2d");n.clearRect(0,0,e.width,e.height),n.fillStyle="#FFFFFF",n.fillStyle=t,n.fillRect(0,0,1,1);const o=n.getImageData(0,0,1,1).data,r=o[0],a=o[1],s=o[2],l=o[3];return Bn(Ln(r,a,s,l))}))).value,type:"choiceitem"};var t}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:o.length>0?o:void 0,allowCustomColors:!1},onAction:t=>{const o="remove"===t.value?"":t.value;e.execCommand("mceTableApplyCellStyle",!1,{[n]:o})}}]},Yn=e=>()=>{const t="header"===e.queryCommandValue("mceTableRowType")?"body":"header";e.execCommand("mceTableRowType",!1,{type:t})},Xn=e=>()=>{const t="th"===e.queryCommandValue("mceTableColType")?"td":"th";e.execCommand("mceTableColType",!1,{type:t})},eo=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:On}],to=e=>eo.concat((e=>{const t=Vn($t(e));return t.length>0?v.some({name:"class",type:"listbox",label:"Class",items:t}):v.none()})(e).toArray()),no=(e,t)=>{const n=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Vn(Ft(e)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:"cell"===t?[{name:"borderwidth",type:"input",label:"Border width"}].concat(n):n}},oo=(e,t)=>{const n=e.dom;return{setAttrib:(e,o)=>{n.setAttrib(t,e,o)},setStyle:(e,o)=>{n.setStyle(t,e,o)},setFormat:(n,o)=>{""===o?e.formatter.remove(n,{value:null},t,!0):e.formatter.apply(n,{value:o},t)}}},ro=oe("th"),ao=(e,t)=>e&&t?"sectionCells":e?"section":"cells",so=e=>{const t=B(e,(e=>ro(e.element)));return 0===t.length?v.some("td"):t.length===e.length?v.some("th"):v.none()},lo=e=>{const t=P(e,(e=>(e=>{const t="thead"===e.section,n=Me(so(e.cells),"th");return"tfoot"===e.section?{type:"footer"}:t||n?{type:"header",subType:ao(t,n)}:{type:"body"}})(e).type)),n=F(t,"header"),o=F(t,"footer");if(n||o){const e=F(t,"body");return!n||e||o?n||e||!o?v.none():v.some("footer"):v.some("header")}return v.some("body")},io=(e,t)=>q(e.all,(e=>$(e.cells,(e=>Z(t,e.element))))),co=(e,t,n)=>{const o=(e=>{const t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t})(P(t.selection,(t=>et(t).bind((t=>io(e,t))).filter(n))));return r=o.length>0,a=o,r?v.some(a):v.none();var r,a},uo=(e,t)=>co(e,t,y),mo=(e,t)=>I(t,(t=>((e,t)=>io(e,t).exists((e=>!e.isLocked)))(e,t))),po=(e,t)=>((e,t)=>t.mergable)(0,t).filter((t=>mo(e,t.cells))),go=(e,t)=>((e,t)=>t.unmergable)(0,t).filter((t=>mo(e,t))),ho=e=>{if(!r(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return M(e,((o,a)=>{const s=w(o);if(1!==s.length)throw new Error("one and only one name per case");const l=s[0],i=o[l];if(void 0!==n[l])throw new Error("duplicate key detected:"+l);if("cata"===l)throw new Error("cannot have a case named cata (sorry)");if(!r(i))throw new Error("case arguments must be an array");t.push(l),n[l]=(...n)=>{const o=n.length;if(o!==i.length)throw new Error("Wrong number of arguments to case "+l+". Expected "+i.length+" ("+i+"), got "+o);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[a].apply(null,n)},match:e=>{const o=w(e);if(t.length!==o.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));if(!I(t,(e=>F(o,e))))throw new Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[l].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:l,params:n})}}}})),n},bo=(ho([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),(e,t)=>{const n=ut(e);return uo(n,t).bind((e=>{const t=e[e.length-1],o=e[0].row,r=t.row+t.rowspan,a=n.all.slice(o,r);return lo(a)})).getOr("")}),fo=e=>{return je(e,"rgb")?zn(t=e).map(Bn).map((e=>"#"+e.value)).getOr(t):e;var t},yo=e=>{const t=U.fromDom(e);return{borderwidth:Ve(t,"border-width").getOr(""),borderstyle:Ve(t,"border-style").getOr(""),bordercolor:Ve(t,"border-color").map(fo).getOr(""),backgroundcolor:Ve(t,"background-color").map(fo).getOr("")}},vo=e=>{const t=e[0],n=e.slice(1);return M(n,(e=>{M(w(t),(n=>{S(e,((e,o)=>{const r=t[n];""!==r&&n===o&&r!==e&&(t[n]="")}))}))})),t},wo=(e,t,n,o)=>$(e,(e=>!s(n.formatter.matchNode(o,t+e)))).getOr(""),xo=h(wo,["left","center","right"],"align"),So=h(wo,["top","middle","bottom"],"valign"),ko=e=>tt(U.fromDom(e)).map((t=>{const n={selection:wn(e.cells)};return bo(t,n)})).getOr(""),Co=(e,t)=>{const n=ut(e),o=pt(n),r=B(o,(e=>D(t,(t=>Z(e.element,t)))));return P(r,(e=>({element:e.element.dom,column:gt(n,e.column).map((e=>e.element.dom))})))},To=(e,t,n,o)=>{const r=1===t.length;M(t,(t=>{const a=t.element,s=r?y:o,l=oo(e,a);((e,t,n,o)=>{o("scope")&&e.setAttrib("scope",n.scope),o("class")&&e.setAttrib("class",n.class),o("height")&&e.setStyle("height",Ce(n.height)),o("width")&&t.setStyle("width",Ce(n.width))})(l,t.column.map((t=>oo(e,t))).getOr(l),n,s),Dt(e)&&((e,t,n)=>{n("backgroundcolor")&&e.setFormat("tablecellbackgroundcolor",t.backgroundcolor),n("bordercolor")&&e.setFormat("tablecellbordercolor",t.bordercolor),n("borderstyle")&&e.setFormat("tablecellborderstyle",t.borderstyle),n("borderwidth")&&e.setFormat("tablecellborderwidth",Ce(t.borderwidth))})(l,n,s),o("halign")&&ft(e,a,n.halign),o("valign")&&((e,t,n)=>{ht.each("top middle bottom".split(" "),(o=>{o!==n&&e.formatter.remove("valign"+o,{},t)})),n&&e.formatter.apply("valign"+n,{},t)})(e,a,n.valign)}))},_o=(e,t,n,o)=>{const r=o.getData();o.close(),e.undoManager.transact((()=>{((e,t,n,o)=>{const r=k(o,((e,t)=>n[t]!==e));T(r)>0&&t.length>=1&&tt(t[0]).each((n=>{const a=Co(n,t),s=T(k(r,((e,t)=>"scope"!==t&&"celltype"!==t)))>0,l=A(r,"celltype");(s||A(r,"scope"))&&To(e,a,o,h(A,r)),l&&((e,t)=>{e.execCommand("mceTableCellType",!1,{type:t.celltype,no_events:!0})})(e,o),yt(e,n.dom,{structure:l,style:s})}))})(e,t,n,r),e.focus()}))},Ao=(e,t)=>{const n=tt(t[0]).map((n=>P(Co(n,t),(t=>((e,t,n,o)=>{const r=e.dom,a=(e,t)=>r.getStyle(e,t)||r.getAttrib(e,t);return{width:a(o.getOr(t),"width"),height:a(t,"height"),scope:r.getAttrib(t,"scope"),celltype:(s=t,s.nodeName.toLowerCase()),class:r.getAttrib(t,"class",""),halign:xo(e,t),valign:So(e,t),...n?yo(t):{}};var s})(e,t.element,Dt(e),t.column)))));return vo(n.getOrDie())},Eo=e=>{const t=En(e);if(0===t.length)return;const n=Ao(e,t),o={type:"tabpanel",tabs:[{title:"General",name:"general",items:to(e)},no(e,"cell")]},r={type:"panel",items:[{type:"grid",columns:2,items:to(e)}]};e.windowManager.open({title:"Cell Properties",size:"normal",body:Dt(e)?o:r,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:n,onSubmit:h(_o,e,t,n)})},No=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Oo=e=>No.concat((e=>{const t=Vn(Lt(e));return t.length>0?v.some({name:"class",type:"listbox",label:"Class",items:t}):v.none()})(e).toArray()),Fo=(e,t,n,o)=>{const r=1===t.length?y:o;M(t,(t=>{const a=oo(e,t);((e,t,n)=>{n("class")&&e.setAttrib("class",t.class),n("height")&&e.setStyle("height",Ce(t.height))})(a,n,r),Rt(e)&&((e,t,n)=>{n("backgroundcolor")&&e.setStyle("background-color",t.backgroundcolor),n("bordercolor")&&e.setStyle("border-color",t.bordercolor),n("borderstyle")&&e.setStyle("border-style",t.borderstyle)})(a,n,r),o("align")&&ft(e,t,n.align)}))},Do=(e,t,n,o)=>{const r=o.getData();o.close(),e.undoManager.transact((()=>{((e,t,n,o)=>{const r=k(o,((e,t)=>n[t]!==e));if(T(r)>0){const n=A(r,"type"),a=!n||T(r)>1;a&&Fo(e,t,o,h(A,r)),n&&((e,t)=>{e.execCommand("mceTableRowType",!1,{type:t.type,no_events:!0})})(e,o),tt(U.fromDom(t[0])).each((t=>yt(e,t.dom,{structure:n,style:a})))}})(e,t,n,r),e.focus()}))},Ro=e=>{const t=Nn(Te(e),Cn.selected);if(0===t.length)return;const n=P(t,(t=>((e,t,n)=>{const o=e.dom;return{height:o.getStyle(t,"height")||o.getAttrib(t,"height"),class:o.getAttrib(t,"class",""),type:ko(t),align:xo(e,t),...n?yo(t):{}}})(e,t.dom,Rt(e)))),o=vo(n),r={type:"tabpanel",tabs:[{title:"General",name:"general",items:Oo(e)},no(e,"row")]},a={type:"panel",items:[{type:"grid",columns:2,items:Oo(e)}]};e.windowManager.open({title:"Row Properties",size:"normal",body:Rt(e)?r:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onSubmit:h(Do,e,P(t,(e=>e.dom)),o)})},Po=(e,t,n)=>{const o=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],r=Mt(e)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],a=t.length>0?[{type:"listbox",name:"class",label:"Class",items:t}]:[];return o.concat([{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}]).concat(r).concat([{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]).concat(a)},Mo=(e,t,n,r)=>{if("TD"===t.tagName||"TH"===t.tagName)o(n)&&i(r)?e.setStyle(t,n,r):e.setStyles(t,n);else if(t.children)for(let o=0;o<t.children.length;o++)Mo(e,t.children[o],n,r)},Bo=(e,t,n,o)=>{const r=e.dom,a={},l={},i=jt(e),c=Pt(e);if(s(n.class)||(a.class=n.class),l.height=Ce(n.height),i?l.width=Ce(n.width):r.getAttrib(t,"width")&&(a.width=(e=>e?e.replace(/px$/,""):"")(n.width)),i?(l["border-width"]=Ce(n.border),l["border-spacing"]=Ce(n.cellspacing)):(a.border=n.border,a.cellpadding=n.cellpadding,a.cellspacing=n.cellspacing),i&&t.children){const e={};if(o.border&&(e["border-width"]=Ce(n.border)),o.cellpadding&&(e.padding=Ce(n.cellpadding)),c&&o.bordercolor&&(e["border-color"]=n.bordercolor),!(e=>{for(const t in e)if(x.call(e,t))return!1;return!0})(e))for(let n=0;n<t.children.length;n++)Mo(r,t.children[n],e)}if(c){const e=n;l["background-color"]=e.backgroundcolor,l["border-color"]=e.bordercolor,l["border-style"]=e.borderstyle}r.setStyles(t,{...Vt(e),...l}),r.setAttribs(t,{...Zt(e),...a})},jo=(e,t,n,o)=>{const r=e.dom,a=o.getData(),s=k(a,((e,t)=>n[t]!==e));o.close(),""===a.class&&delete a.class,e.undoManager.transact((()=>{if(!t){const n=ze(a.cols).getOr(1),o=ze(a.rows).getOr(1);e.execCommand("mceInsertTable",!1,{rows:o,columns:n}),t=An(Te(e),ke(e)).bind((t=>tt(t,ke(e)))).map((e=>e.dom)).getOrDie()}if(T(s)>0){const n={border:A(s,"border"),bordercolor:A(s,"bordercolor"),cellpadding:A(s,"cellpadding")};Bo(e,t,a,n);const o=r.select("caption",t)[0];(o&&!a.caption||!o&&a.caption)&&e.execCommand("mceTableToggleCaption"),ft(e,t,a.align)}if(e.focus(),e.addVisual(),T(s)>0){const n=A(s,"caption"),o=!n||T(s)>1;yt(e,t,{structure:n,style:o})}}))},$o=(e,t)=>{const n=e.dom;let o,r=((e,t)=>{const n=Vt(e),o=Zt(e),r=t?{borderstyle:_(n,"border-style").getOr(""),bordercolor:fo(_(n,"border-color").getOr("")),backgroundcolor:fo(_(n,"background-color").getOr(""))}:{};return{height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:"",...n,...o,...r,...(()=>{const t=n["border-width"];return jt(e)&&t?{border:t}:_(o,"border").fold((()=>({})),(e=>({border:e})))})(),...{..._(n,"border-spacing").or(_(o,"cellspacing")).fold((()=>({})),(e=>({cellspacing:e}))),..._(n,"border-padding").or(_(o,"cellpadding")).fold((()=>({})),(e=>({cellpadding:e})))}}})(e,Pt(e));t?(r.cols="1",r.rows="1",Pt(e)&&(r.borderstyle="",r.bordercolor="",r.backgroundcolor="")):(o=n.getParent(e.selection.getStart(),"table",e.getBody()),o?r=((e,t,n)=>{const o=e.dom,r=jt(e)?o.getStyle(t,"border-spacing")||o.getAttrib(t,"cellspacing"):o.getAttrib(t,"cellspacing")||o.getStyle(t,"border-spacing"),a=jt(e)?bt(o,t,"padding")||o.getAttrib(t,"cellpadding"):o.getAttrib(t,"cellpadding")||bt(o,t,"padding");return{width:o.getStyle(t,"width")||o.getAttrib(t,"width"),height:o.getStyle(t,"height")||o.getAttrib(t,"height"),cellspacing:null!=r?r:"",cellpadding:null!=a?a:"",border:((t,n)=>{const o=Ve(U.fromDom(n),"border-width");return jt(e)&&o.isSome()?o.getOr(""):t.getAttrib(n,"border")||bt(e.dom,n,"border-width")||bt(e.dom,n,"border")||""})(o,t),caption:!!o.select("caption",t)[0],class:o.getAttrib(t,"class",""),align:xo(e,t),...n?yo(t):{}}})(e,o,Pt(e)):Pt(e)&&(r.borderstyle="",r.bordercolor="",r.backgroundcolor=""));const a=Vn(It(e));a.length>0&&r.class&&(r.class=r.class.replace(/\s*mce\-item\-table\s*/g,""));const s={type:"grid",columns:2,items:Po(e,a,t)},l=Pt(e)?{type:"tabpanel",tabs:[{title:"General",name:"general",items:[s]},no(e,"table")]}:{type:"panel",items:[s]};e.windowManager.open({title:"Table Properties",size:"normal",body:l,onSubmit:h(jo,e,o,r),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r})},Lo=e=>{S({mceTableProps:h($o,e,!1),mceTableRowProps:h(Ro,e),mceTableCellProps:h(Eo,e),mceInsertTableDialog:h($o,e,!0)},((t,n)=>e.addCommand(n,(()=>{return n=t,void(_e(Te(e))&&n());var n}))))},Io=p,zo=e=>{const t=(e,t)=>Re(e,t).exists((e=>parseInt(e,10)>1));return e.length>0&&I(e,(e=>t(e,"rowspan")||t(e,"colspan")))?v.some(e):v.none()},qo=(e,t,n)=>t.length<=1?v.none():vn(e,n.firstSelectedSelector,n.lastSelectedSelector).map((e=>({bounds:e,cells:t}))),Wo=e=>{const t=qn(v.none()),n=qn([]);let o=v.none();const r=oe("caption"),a=e=>o.forall((t=>!t[e])),s=()=>_n((e=>U.fromDom(e.selection.getEnd()))(e),ke(e)),l=()=>_n(Te(e),ke(e)).bind((t=>{return n=Be(tt(t),s().bind(tt),((n,o)=>Z(n,o)?r(t)?v.some((e=>({element:e,mergable:v.none(),unmergable:v.none(),selection:[e]}))(t)):v.some(((e,t,n)=>({element:n,mergable:qo(t,e,Cn),unmergable:zo(e),selection:Io(e)}))(En(e),n,t)):v.none())),n.bind(p);var n})),i=e=>tt(e.element).map((t=>{const n=ut(t),o=uo(n,e).getOr([]),r=j(o,((e,t)=>(t.isLocked&&(e.onAny=!0,0===t.column?e.onFirst=!0:t.column+t.colspan>=n.grid.columns&&(e.onLast=!0)),e)),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:po(n,e).isSome(),unmergeable:go(n,e).isSome(),locked:r}})),c=()=>{t.set((e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)})(l)()),o=t.get().bind(i),M(n.get(),b)},u=e=>(e(),n.set(n.get().concat([e])),()=>{n.set(B(n.get(),(t=>t!==e)))}),d=(n,o)=>u((()=>t.get().fold((()=>{n.setEnabled(!1)}),(t=>{n.setEnabled(!o(t)&&e.selection.isEditable())})))),m=(n,o,r)=>u((()=>t.get().fold((()=>{n.setEnabled(!1),n.setActive(!1)}),(t=>{n.setEnabled(!o(t)&&e.selection.isEditable()),n.setActive(r(t))})))),g=e=>o.exists((t=>t.locked[e])),h=(t,n)=>o=>m(o,(e=>r(e.element)),(()=>e.queryCommandValue(t)===n)),y=h("mceTableRowType","header"),w=h("mceTableColType","th");return e.on("NodeChange ExecCommand TableSelectorChange",c),{onSetupTable:e=>d(e,(e=>!1)),onSetupCellOrRow:e=>d(e,(e=>r(e.element))),onSetupColumn:e=>t=>d(t,(t=>r(t.element)||g(e))),onSetupPasteable:e=>t=>d(t,(t=>r(t.element)||e().isNone())),onSetupPasteableColumn:(e,t)=>n=>d(n,(n=>r(n.element)||e().isNone()||g(t))),onSetupMergeable:e=>d(e,(e=>a("mergeable"))),onSetupUnmergeable:e=>d(e,(e=>a("unmergeable"))),resetTargets:c,onSetupTableWithCaption:t=>m(t,f,(t=>tt(t.element,ke(e)).exists((e=>ye(e,"caption").isSome())))),onSetupTableRowHeaders:y,onSetupTableColumnHeaders:w,targets:t.get}};var Uo=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Ho="x-tinymce/dom-table-",Vo=Ho+"rows",Zo=Ho+"columns",Ko=e=>{var t;const n=null!==(t=Uo.read())&&void 0!==t?t:[];return q(n,(t=>v.from(t.getType(e))))},Go=()=>Ko(Vo),Jo=()=>Ko(Zo),Qo=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}},Yo=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}},Xo=e=>{const t=Wo(e);(e=>{const t=e.options.register;t("table_border_widths",{processor:"object[]",default:Ct}),t("table_border_styles",{processor:"object[]",default:Tt}),t("table_cell_advtab",{processor:"boolean",default:!0}),t("table_row_advtab",{processor:"boolean",default:!0}),t("table_advtab",{processor:"boolean",default:!0}),t("table_appearance_options",{processor:"boolean",default:!0}),t("table_grid",{processor:"boolean",default:!kt.deviceType.isTouch()}),t("table_cell_class_list",{processor:"object[]",default:[]}),t("table_row_class_list",{processor:"object[]",default:[]}),t("table_class_list",{processor:"object[]",default:[]}),t("table_toolbar",{processor:"string",default:"tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"}),t("table_background_color_map",{processor:"object[]",default:[]}),t("table_border_color_map",{processor:"object[]",default:[]})})(e),Lo(e),((e,t)=>{const n=t=>()=>e.execCommand(t),o=(t,o)=>!!e.queryCommandSupported(o.command)&&(e.ui.registry.addMenuItem(t,{...o,onAction:c(o.onAction)?o.onAction:n(o.command)}),!0),r=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addToggleMenuItem(t,{...o,onAction:c(o.onAction)?o.onAction:n(o.command)})},a=t=>{e.execCommand("mceInsertTable",!1,{rows:t.numRows,columns:t.numColumns})},s=[o("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:t.onSetupCellOrRow}),o("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:t.onSetupCellOrRow}),o("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:t.onSetupCellOrRow}),o("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:t.onSetupCellOrRow}),o("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:t.onSetupCellOrRow}),o("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:t.onSetupCellOrRow}),o("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:t.onSetupPasteable(Go)}),o("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:t.onSetupPasteable(Go)})],l=[o("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:t.onSetupColumn("onFirst")}),o("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:t.onSetupColumn("onLast")}),o("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:t.onSetupColumn("onAny")}),o("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:t.onSetupColumn("onAny")}),o("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:t.onSetupColumn("onAny")}),o("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:t.onSetupPasteableColumn(Jo,"onFirst")}),o("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:t.onSetupPasteableColumn(Jo,"onLast")})],i=[o("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:t.onSetupCellOrRow}),o("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:t.onSetupMergeable}),o("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:t.onSetupUnmergeable})];Bt(e)?e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:a}],onSetup:Yo(e)}):e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:n("mceInsertTableDialog"),onSetup:Yo(e)}),e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:n("mceInsertTableDialog"),onSetup:Yo(e)}),o("tableprops",{text:"Table properties",onSetup:t.onSetupTable,command:"mceTableProps"}),o("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:t.onSetupTable,command:"mceTableDelete"}),F(s,!0)&&e.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:m("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),F(l,!0)&&e.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:m("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),F(i,!0)&&e.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:m("tablecellprops tablemergecells tablesplitcells")}),e.ui.registry.addContextMenu("table",{update:()=>(t.resetTargets(),t.targets().fold(m(""),(e=>"caption"===G(e.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable")))});const u=Gn(It(e));0!==u.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Zn(e,u,"tableclass",(t=>e.execCommand("mceTableToggleClass",!1,t))),onSetup:t.onSetupTable});const d=Gn($t(e));0!==d.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Zn(e,d,"tablecellclass",(t=>e.execCommand("mceTableCellToggleClass",!1,t))),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Zn(e,On,"tablecellverticalalign",Kn(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Zn(e,Ot(e),"tablecellborderwidth",Kn(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Zn(e,Ft(e),"tablecellborderstyle",Kn(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Qn(e,qt(e),"background-color"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Qn(e,Wt(e),"border-color"),onSetup:t.onSetupCellOrRow})),r("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),r("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Yn(e),onSetup:t.onSetupTableRowHeaders}),r("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Xn(e),onSetup:t.onSetupTableRowHeaders})})(e,t),((e,t)=>{e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:Qo(e),fetch:e=>e("inserttable | cell row column | advtablesort | tableprops deletetable")});const n=t=>()=>e.execCommand(t),o=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addButton(t,{...o,onAction:c(o.onAction)?o.onAction:n(o.command)})},r=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addToggleButton(t,{...o,onAction:c(o.onAction)?o.onAction:n(o.command)})};o("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:t.onSetupTable}),o("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:t.onSetupTable}),o("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:t.onSetupCellOrRow}),o("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:t.onSetupMergeable}),o("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:t.onSetupUnmergeable}),o("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:t.onSetupCellOrRow}),o("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:t.onSetupCellOrRow}),o("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:t.onSetupCellOrRow}),o("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:t.onSetupCellOrRow}),o("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:t.onSetupColumn("onFirst")}),o("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:t.onSetupColumn("onLast")}),o("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:t.onSetupColumn("onAny")}),o("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:t.onSetupCellOrRow}),o("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:t.onSetupCellOrRow}),o("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:t.onSetupPasteable(Go)}),o("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:t.onSetupPasteable(Go)}),o("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:t.onSetupColumn("onAny")}),o("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:t.onSetupColumn("onAny")}),o("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:t.onSetupPasteableColumn(Jo,"onFirst")}),o("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:t.onSetupPasteableColumn(Jo,"onLast")}),o("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:Qo(e)});const a=Gn(It(e));0!==a.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Jn(e,a,"tableclass",(t=>e.execCommand("mceTableToggleClass",!1,t))),onSetup:t.onSetupTable});const s=Gn($t(e));0!==s.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Jn(e,s,"tablecellclass",(t=>e.execCommand("mceTableCellToggleClass",!1,t))),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Jn(e,On,"tablecellverticalalign",Kn(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Jn(e,Ot(e),"tablecellborderwidth",Kn(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Jn(e,Ft(e),"tablecellborderstyle",Kn(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:t=>t(Qn(e,qt(e),"background-color")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:t=>t(Qn(e,Wt(e),"border-color")),onSetup:t.onSetupCellOrRow})),r("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),r("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Yn(e),onSetup:t.onSetupTableRowHeaders}),r("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Xn(e),onSetup:t.onSetupTableColumnHeaders})})(e,t),(e=>{const t=t=>e.dom.is(t,"table")&&e.getBody().contains(t)&&e.dom.isEditable(t.parentNode),n=zt(e);n.length>0&&e.ui.registry.addContextToolbar("table",{predicate:t,items:n,scope:"node",position:"node"})})(e)};e.add("table",Xo)}()},14234:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||(null===(a=o.constructor)||void 0===a?void 0:a.name)===r.name)?"string":t;var n,o,r,a})(t)===e,n=e=>t=>typeof t===e,o=t("string"),r=t("array"),a=n("boolean"),s=e=>void 0===e,l=e=>!(e=>null==e)(e),i=n("function"),c=n("number"),u=()=>{},d=e=>()=>e,m=e=>e,p=(e,t)=>e===t;function g(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const h=e=>{e()},b=d(!1),f=d(!0);class y{constructor(e,t){this.tag=e,this.value=t}static some(e){return new y(!0,e)}static none(){return y.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?y.some(e(this.value)):y.none()}bind(e){return this.tag?e(this.value):y.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:y.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return l(e)?y.some(e):y.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}y.singletonNone=new y(!1);const v=Object.keys,w=Object.hasOwnProperty,x=(e,t)=>{const n=v(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},S=(e,t)=>{const n={};var o;return((e,t,n,o)=>{x(e,((e,r)=>{(t(e,r)?n:o)(e,r)}))})(e,t,(o=n,(e,t)=>{o[t]=e}),u),n},k=e=>v(e).length,C=(e,t)=>T(e,t)?y.from(e[t]):y.none(),T=(e,t)=>w.call(e,t),_=(e,t)=>T(e,t)&&void 0!==e[t]&&null!==e[t],A=Array.prototype.indexOf,E=Array.prototype.push,N=(e,t)=>((e,t)=>A.call(e,t))(e,t)>-1,O=(e,t)=>{for(let n=0,o=e.length;n<o;n++)if(t(e[n],n))return!0;return!1},F=(e,t)=>{const n=[];for(let o=0;o<e;o++)n.push(t(o));return n},D=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},R=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},P=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},M=(e,t,n)=>(R(e,((e,o)=>{n=t(n,e,o)})),n),B=(e,t)=>((e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return y.some(r);if(n(r,o))break}return y.none()})(e,t,b),j=(e,t)=>(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!r(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);E.apply(t,e[n])}return t})(D(e,t)),$=(e,t)=>{for(let n=0,o=e.length;n<o;++n)if(!0!==t(e[n],n))return!1;return!0},L=(e,t)=>t>=0&&t<e.length?y.some(e[t]):y.none(),I=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return y.none()},z=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},q={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return z(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return z(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return z(n)},fromDom:z,fromPoint:(e,t,n)=>y.from(e.dom.elementFromPoint(t,n)).map(z)},W=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},U=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,H=(e,t)=>e.dom===t.dom,V=W;"undefined"!=typeof window?window:Function("return this;")();const Z=e=>e.dom.nodeName.toLowerCase(),K=e=>e.dom.nodeType,G=e=>t=>K(t)===e,J=G(1),Q=G(3),Y=G(9),X=G(11),ee=e=>t=>J(t)&&Z(t)===e,te=e=>Y(e)?e:q.fromDom(e.dom.ownerDocument),ne=e=>y.from(e.dom.parentNode).map(q.fromDom),oe=e=>y.from(e.dom.nextSibling).map(q.fromDom),re=e=>D(e.dom.childNodes,q.fromDom),ae=i(Element.prototype.attachShadow)&&i(Node.prototype.getRootNode)?e=>q.fromDom(e.dom.getRootNode()):te,se=e=>q.fromDom(e.dom.host),le=e=>{const t=Q(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return(e=>{const t=ae(e);return X(n=t)&&l(n.dom.host)?y.some(t):y.none();var n})(q.fromDom(t)).fold((()=>n.body.contains(t)),(o=le,r=se,e=>o(r(e))));var o,r};var ie=(e,t,n,o,r)=>e(n,o)?y.some(n):i(r)&&r(n)?y.none():t(n,o,r);const ce=(e,t,n)=>{let o=e.dom;const r=i(n)?n:b;for(;o.parentNode;){o=o.parentNode;const e=q.fromDom(o);if(t(e))return y.some(e);if(r(e))break}return y.none()},ue=(e,t,n)=>ce(e,(e=>W(e,t)),n),de=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return U(n)?y.none():y.from(n.querySelector(e)).map(q.fromDom)})(t,e),me=(e,t,n)=>ie(((e,t)=>W(e,t)),ue,e,t,n),pe=(e,t=!1)=>{return le(e)?e.dom.isContentEditable:(n=e,me(n,"[contenteditable]")).fold(d(t),(e=>"true"===ge(e)));var n},ge=e=>e.dom.contentEditable,he=e=>t=>H(t,(e=>q.fromDom(e.getBody()))(e)),be=e=>/^\d+(\.\d+)?$/.test(e)?e+"px":e,fe=e=>q.fromDom(e.selection.getStart()),ye=(e,t)=>{let n=[];return R(re(e),(e=>{t(e)&&(n=n.concat([e])),n=n.concat(ye(e,t))})),n},ve=(e,t)=>((e,n)=>P(re(e),(e=>W(e,t))))(e),we=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return U(n)?[]:D(n.querySelectorAll(e),q.fromDom)})(t,e),xe=(e,t,n)=>{if(!(o(n)||a(n)||c(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Se=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},ke=(e,t)=>y.from(Se(e,t)),Ce=(e,t)=>{e.dom.removeAttribute(t)},Te=(e,t,n=p)=>e.exists((e=>n(e,t))),_e=(e,t,n)=>e.isSome()&&t.isSome()?y.some(n(e.getOrDie(),t.getOrDie())):y.none(),Ae=(e,t)=>((e,t,n)=>""===t||e.length>=t.length&&e.substr(0,0+t.length)===t)(e,t),Ee=(Ne=/^\s+|\s+$/g,e=>e.replace(Ne,""));var Ne;const Oe=e=>e.length>0,Fe=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?y.none():y.some(n)},De=e=>void 0!==e.style&&i(e.style.getPropertyValue),Re=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||le(e)?o:Pe(n,t)},Pe=(e,t)=>De(e)?e.style.getPropertyValue(t):"",Me=(e,t)=>{const n=e.dom,o=Pe(n,t);return y.from(o).filter((e=>e.length>0))},Be=(e,t,n=0)=>ke(e,t).map((e=>parseInt(e,10))).getOr(n),je=(e,t)=>$e(e,t,f),$e=(e,t,n)=>j(re(e),(e=>W(e,t)?n(e)?[e]:[]:$e(e,t,n))),Le=["tfoot","thead","tbody","colgroup"],Ie=(e,t,n)=>({element:e,rowspan:t,colspan:n}),ze=(e,t,n)=>({element:e,cells:t,section:n}),qe=(e,t)=>me(e,"table",t),We=e=>je(e,"tr"),Ue=e=>qe(e).fold(d([]),(e=>ve(e,"colgroup"))),He=e=>ne(e).map((e=>{const t=Z(e);return(e=>N(Le,e))(t)?t:"tbody"})).getOr("tbody"),Ve=e=>ke(e,"data-snooker-locked-cols").bind((e=>y.from(e.match(/\d+/g)))).map((e=>((e,t)=>{const n={};for(let o=0,r=e.length;o<r;o++){const r=e[o];n[String(r)]=t(r,o)}return n})(e,f))),Ze=(e,t)=>e+","+t,Ke=e=>{const t=(e=>{const t=We(e);return((e,t)=>D(e,(e=>{if("colgroup"===Z(e)){const t=D((e=>W(e,"colgroup")?ve(e,"col"):j(Ue(e),(e=>ve(e,"col"))))(e),(e=>{const t=Be(e,"span",1);return Ie(e,1,t)}));return ze(e,t,"colgroup")}{const n=D((e=>je(e,"th,td"))(e),(e=>{const t=Be(e,"rowspan",1),n=Be(e,"colspan",1);return Ie(e,t,n)}));return ze(e,n,t(e))}})))([...Ue(e),...t],He)})(e);return(e=>{const t={},n=[];var o;const r=(o=e,L(o,0)).map((e=>e.element)).bind(qe).bind(Ve).getOr({});let a=0,s=0,l=0;const{pass:i,fail:c}=((e,t)=>{const n=[],o=[];for(let t=0,a=e.length;t<a;t++){const a=e[t];(r=a,"colgroup"===r.section?n:o).push(a)}var r;return{pass:n,fail:o}})(e);R(c,(e=>{const o=[];R(e.cells,(e=>{let n=0;for(;void 0!==t[Ze(l,n)];)n++;const a=_(r,n.toString()),i=((e,t,n,o,r,a)=>({element:e,rowspan:t,colspan:n,row:o,column:r,isLocked:a}))(e.element,e.rowspan,e.colspan,l,n,a);for(let o=0;o<e.colspan;o++)for(let r=0;r<e.rowspan;r++){const e=n+o,a=Ze(l+r,e);t[a]=i,s=Math.max(s,e+1)}o.push(i)})),a++,n.push(ze(e.element,o,e.section)),l++}));const{columns:u,colgroups:d}=(e=>L(e,e.length-1))(i).map((e=>{const t=(e=>{const t={};let n=0;return R(e.cells,(e=>{const o=e.colspan;F(o,(r=>{const a=n+r;t[a]=((e,t,n)=>({element:e,colspan:t,column:n}))(e.element,o,a)})),n+=o})),t})(e),n=((e,t)=>({element:e,columns:t}))(e.element,((e,t)=>{const n=[];return x(e,((e,o)=>{n.push(t(e,o))})),n})(t,m));return{colgroups:[n],columns:t}})).getOrThunk((()=>({colgroups:[],columns:{}}))),p=((e,t)=>({rows:e,columns:t}))(a,s);return{grid:p,access:t,all:n,columns:u,colgroups:d}})(t)},Ge=(e,t,n)=>y.from(e.access[Ze(t,n)]),Je=(e,t,n)=>{const o=((e,t)=>{const n=j(e.all,(e=>e.cells));return P(n,t)})(e,(e=>n(t,e.element)));return o.length>0?y.some(o[0]):y.none()},Qe=(e,t)=>y.from(e.columns[t]);var Ye=tinymce.util.Tools.resolve("tinymce.util.Tools");const Xe=(e,t,n)=>{const o=e.select("td,th",t);let r;for(let t=0;t<o.length;t++){const a=e.getStyle(o[t],n);if(s(r)&&(r=a),r!==a)return""}return r},et=(e,t,n)=>{Ye.each("left center right".split(" "),(o=>{o!==n&&e.formatter.remove("align"+o,{},t)})),n&&e.formatter.apply("align"+n,{},t)},tt=(e,t,n)=>{e.dispatch("TableModified",{...n,table:t})},nt=(e,t,n)=>((e,t)=>(e=>{const t=parseFloat(e);return isNaN(t)?y.none():y.some(t)})(e).getOr(t))(Re(e,t),n);var ot=tinymce.util.Tools.resolve("tinymce.Env");const rt=F(5,(e=>{const t=`${e+1}px`;return{title:t,value:t}})),at=D(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],(e=>({title:e,value:e.toLowerCase()}))),st="100%",lt=e=>{var t;const n=e.dom,o=null!==(t=n.getParent(e.selection.getStart(),n.isBlock))&&void 0!==t?t:e.getBody();return(e=>((e,t)=>{const n=e.dom;return((e,t,n,o)=>t-nt(e,`padding-${n}`,0)-nt(e,`padding-${o}`,0)-nt(e,`border-${n}-width`,0)-nt(e,`border-${o}-width`,0))(e,n.getBoundingClientRect().width||n.offsetWidth,"left","right")})(e))(q.fromDom(o))+"px"},it=e=>t=>t.options.get(e),ct=it("table_sizing_mode"),ut=it("table_border_widths"),dt=it("table_border_styles"),mt=it("table_cell_advtab"),pt=it("table_row_advtab"),gt=it("table_advtab"),ht=it("table_appearance_options"),bt=it("table_grid"),ft=it("table_style_by_css"),yt=it("table_cell_class_list"),vt=it("table_row_class_list"),wt=it("table_class_list"),xt=it("table_toolbar"),St=it("table_background_color_map"),kt=it("table_border_color_map"),Ct=e=>"fixed"===ct(e),Tt=e=>"responsive"===ct(e),_t=e=>{const t=e.options,n=t.get("table_default_styles");return t.isSet("table_default_styles")?n:((e,t)=>Tt(e)||!ft(e)?t:Ct(e)?{...t,width:lt(e)}:{...t,width:st})(e,n)},At=e=>{const t=e.options,n=t.get("table_default_attributes");return t.isSet("table_default_attributes")?n:((e,t)=>Tt(e)||ft(e)?t:Ct(e)?{...t,width:lt(e)}:{...t,width:st})(e,n)},Et=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,Nt=Ke,Ot=(e,t)=>{ne(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},Ft=(e,t)=>{oe(e).fold((()=>{ne(e).each((e=>{Dt(e,t)}))}),(e=>{Ot(e,t)}))},Dt=(e,t)=>{e.dom.appendChild(t.dom)},Rt=(e,t)=>{R(t,((n,o)=>{const r=0===o?e:t[o-1];Ft(r,n)}))},Pt=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Mt=((e,t)=>{const n=t=>e(t)?y.from(t.dom.nodeValue):y.none();return{get:t=>{if(!e(t))throw new Error("Can only get text value of a text node");return n(t).getOr("")},getOption:n,set:(t,n)=>{if(!e(t))throw new Error("Can only set raw text value of a text node");t.dom.nodeValue=n}}})(Q);var Bt=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];const jt=(e,t,n,o)=>{const r=t(e,n);return a=(n,o)=>{const r=t(e,o);return $t(e,n,r)},s=r,((e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)})(o,((e,t)=>{s=a(s,e)})),s;var a,s},$t=(e,t,n)=>t.bind((t=>n.filter(g(e.eq,t)))),Lt={up:d({selector:ue,closest:me,predicate:ce,all:(e,t)=>{const n=i(t)?t:b;let o=e.dom;const r=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){const e=o.parentNode,t=q.fromDom(e);if(r.push(t),!0===n(t))break;o=e}return r}}),down:d({selector:we,predicate:ye}),styles:d({get:Re,getRaw:Me,set:(e,t,n)=>{((e,t,n)=>{if(!o(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);De(e)&&e.style.setProperty(t,n)})(e.dom,t,n)},remove:(e,t)=>{((e,t)=>{De(e)&&e.style.removeProperty(t)})(e.dom,t),Te(ke(e,"style").map(Ee),"")&&Ce(e,"style")}}),attrs:d({get:Se,set:(e,t,n)=>{xe(e.dom,t,n)},remove:Ce,copyTo:(e,t)=>{((e,t)=>{const n=e.dom;x(t,((e,t)=>{xe(n,t,e)}))})(t,M(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}))}}),insert:d({before:Ot,after:Ft,afterAll:Rt,append:Dt,appendAll:(e,t)=>{R(t,(t=>{Dt(e,t)}))},prepend:(e,t)=>{(e=>((e,t)=>{const n=e.dom.childNodes;return y.from(n[0]).map(q.fromDom)})(e))(e).fold((()=>{Dt(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},wrap:(e,t)=>{Ot(e,t),Dt(t,e)}}),remove:d({unwrap:e=>{const t=re(e);t.length>0&&Rt(e,t),Pt(e)},remove:Pt}),create:d({nu:q.fromTag,clone:e=>q.fromDom(e.dom.cloneNode(!1)),text:q.fromText}),query:d({comparePosition:(e,t)=>e.dom.compareDocumentPosition(t.dom),prevSibling:e=>y.from(e.dom.previousSibling).map(q.fromDom),nextSibling:oe}),property:d({children:re,name:Z,parent:ne,document:e=>te(e).dom,isText:Q,isComment:e=>8===K(e)||"#comment"===Z(e),isElement:J,isSpecial:e=>{const t=Z(e);return N(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)},getLanguage:e=>J(e)?ke(e,"lang"):y.none(),getText:e=>Mt.get(e),setText:(e,t)=>Mt.set(e,t),isBoundary:e=>!!J(e)&&("body"===Z(e)||N(Bt,Z(e))),isEmptyTag:e=>!!J(e)&&N(["br","img","hr","input"],Z(e)),isNonEditable:e=>J(e)&&"false"===Se(e,"contenteditable")}),eq:H,is:V},It=e=>ue(e,"table"),zt=e=>D(e,q.fromDom),qt="data-mce-selected",Wt="data-mce-first-selected",Ut="data-mce-last-selected",Ht={selected:qt,selectedSelector:"td["+qt+"],th["+qt+"]",firstSelected:Wt,firstSelectedSelector:"td["+Wt+"],th["+Wt+"]",lastSelected:Ut,lastSelectedSelector:"td["+Ut+"],th["+Ut+"]"},Vt=e=>(t,n)=>{const o=Z(t),r="col"===o||"colgroup"===o?qe(a=t).bind((e=>((e,t)=>((e,t)=>{const n=we(e,t);return n.length>0?y.some(n):y.none()})(e,t))(e,Ht.firstSelectedSelector))).fold(d(a),(e=>e[0])):t;var a;return me(r,e,n)},Zt=Vt("th,td,caption"),Kt=Vt("th,td"),Gt=e=>zt(e.model.table.getSelectedCells()),Jt=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Qt=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Yt=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Xt=e=>{return(t=e,Ae(t,"#")?((e,t)=>e.substring(1))(t):t).toUpperCase();var t},en=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},tn=e=>{return t=en(e.red)+en(e.green)+en(e.blue),{value:Xt(t)};var t},nn=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,on=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,rn=(e,t,n,o)=>({red:e,green:t,blue:n,alpha:o}),an=(e,t,n,o)=>{const r=parseInt(e,10),a=parseInt(t,10),s=parseInt(n,10),l=parseFloat(o);return rn(r,a,s,l)},sn=e=>{if("transparent"===e)return y.some(rn(0,0,0,0));const t=nn.exec(e);if(null!==t)return y.some(an(t[1],t[2],t[3],"1"));const n=on.exec(e);return null!==n?y.some(an(n[1],n[2],n[3],n[4])):y.none()},ln=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},cn=(e,t,n)=>o=>{const r=(e=>{const t=ln(y.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(y.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(y.some(e))}}})((e=>e.unbind())),a=!Oe(n),s=()=>{const s=Gt(e),l=o=>e.formatter.match(t,{value:n},o.dom,a);a?(o.setActive(!O(s,l)),r.set(e.formatter.formatChanged(t,(e=>o.setActive(!e)),!0))):(o.setActive($(s,l)),r.set(e.formatter.formatChanged(t,o.setActive,!1,{value:n})))};return e.initialized?s():e.on("init",s),r.clear},un=e=>_(e,"menu"),dn=e=>D(e,(e=>{const t=e.text||e.title||"";return un(e)?{text:t,items:dn(e.menu)}:{text:t,value:e.value}})),mn=(e,t,n,o)=>D(t,(t=>{const r=t.text||t.title;return un(t)?{type:"nestedmenuitem",text:r,getSubmenuItems:()=>mn(e,t.menu,n,o)}:{text:r,type:"togglemenuitem",onAction:()=>o(t.value),onSetup:cn(e,n,t.value)}})),pn=(e,t)=>n=>{e.execCommand("mceTableApplyCellStyle",!1,{[t]:n})},gn=e=>j(e,(e=>un(e)?[{...e,menu:gn(e.menu)}]:Oe(e.value)?[e]:[])),hn=(e,t,n,o)=>r=>r(mn(e,t,n,o)),bn=(e,t,n)=>{const o=D(t,(e=>{return{text:e.title,value:"#"+(n=e.value,(t=n,(e=>Qt.test(e)||Yt.test(e))(t)?y.some({value:Xt(t)}):y.none()).orThunk((()=>sn(n).map(tn))).getOrThunk((()=>{const e=document.createElement("canvas");e.height=1,e.width=1;const t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),t.fillStyle="#FFFFFF",t.fillStyle=n,t.fillRect(0,0,1,1);const o=t.getImageData(0,0,1,1).data,r=o[0],a=o[1],s=o[2],l=o[3];return tn(rn(r,a,s,l))}))).value,type:"choiceitem"};var t,n}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:o.length>0?o:void 0,allowCustomColors:!1},onAction:t=>{const o="remove"===t.value?"":t.value;e.execCommand("mceTableApplyCellStyle",!1,{[n]:o})}}]},fn=e=>()=>{const t="header"===e.queryCommandValue("mceTableRowType")?"body":"header";e.execCommand("mceTableRowType",!1,{type:t})},yn=e=>()=>{const t="th"===e.queryCommandValue("mceTableColType")?"td":"th";e.execCommand("mceTableColType",!1,{type:t})},vn=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Jt}],wn=e=>vn.concat((e=>{const t=dn(yt(e));return t.length>0?y.some({name:"class",type:"listbox",label:"Class",items:t}):y.none()})(e).toArray()),xn=(e,t)=>{const n=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(dn(dt(e)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:"cell"===t?[{name:"borderwidth",type:"input",label:"Border width"}].concat(n):n}},Sn=(e,t)=>{const n=e.dom;return{setAttrib:(e,o)=>{n.setAttrib(t,e,o)},setStyle:(e,o)=>{n.setStyle(t,e,o)},setFormat:(n,o)=>{""===o?e.formatter.remove(n,{value:null},t,!0):e.formatter.apply(n,{value:o},t)}}},kn=ee("th"),Cn=(e,t)=>e&&t?"sectionCells":e?"section":"cells",Tn=(e,t)=>I(e.all,(e=>B(e.cells,(e=>H(t,e.element))))),_n=(e,t)=>((e,t,n)=>{const o=(e=>{const t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t})(D(t.selection,(t=>{return(o=t,((e,t,n=b)=>n(t)?y.none():N(e,Z(t))?y.some(t):ue(t,e.join(","),(e=>W(e,"table")||n(e))))(["td","th"],o,void 0)).bind((t=>Tn(e,t))).filter(n);var o})));return r=o,o.length>0?y.some(r):y.none();var r})(e,t,f),An=(e,t)=>$(t,(t=>((e,t)=>Tn(e,t).exists((e=>!e.isLocked)))(e,t))),En=(e,t)=>((e,t)=>t.mergable)(0,t).filter((t=>An(e,t.cells))),Nn=(e,t)=>((e,t)=>t.unmergable)(0,t).filter((t=>An(e,t))),On=((e=>{if(!r(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};R(e,((o,a)=>{const s=v(o);if(1!==s.length)throw new Error("one and only one name per case");const l=s[0],i=o[l];if(void 0!==n[l])throw new Error("duplicate key detected:"+l);if("cata"===l)throw new Error("cannot have a case named cata (sorry)");if(!r(i))throw new Error("case arguments must be an array");t.push(l),n[l]=(...n)=>{const o=n.length;if(o!==i.length)throw new Error("Wrong number of arguments to case "+l+". Expected "+i.length+" ("+i+"), got "+o);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[a].apply(null,n)},match:e=>{const o=v(e);if(t.length!==o.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));if(!$(t,(e=>N(o,e))))throw new Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[l].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:l,params:n})}}}}))})([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),(e,t)=>{const n=Ke(e);return _n(n,t).bind((e=>{const t=e[e.length-1],o=e[0].row,r=t.row+t.rowspan;return(e=>{const t=D(e,(e=>(e=>{const t="thead"===e.section,n=Te((e=>{const t=P(e,(e=>kn(e.element)));return 0===t.length?y.some("td"):t.length===e.length?y.some("th"):y.none()})(e.cells),"th");return"tfoot"===e.section?{type:"footer"}:t||n?{type:"header",subType:Cn(t,n)}:{type:"body"}})(e).type)),n=N(t,"header"),o=N(t,"footer");if(n||o){const e=N(t,"body");return!n||e||o?n||e||!o?y.none():y.some("footer"):y.some("header")}return y.some("body")})(n.all.slice(o,r))})).getOr("")}),Fn=e=>{return Ae(e,"rgb")?sn(t=e).map(tn).map((e=>"#"+e.value)).getOr(t):e;var t},Dn=e=>{const t=q.fromDom(e);return{borderwidth:Me(t,"border-width").getOr(""),borderstyle:Me(t,"border-style").getOr(""),bordercolor:Me(t,"border-color").map(Fn).getOr(""),backgroundcolor:Me(t,"background-color").map(Fn).getOr("")}},Rn=e=>{const t=e[0],n=e.slice(1);return R(n,(e=>{R(v(t),(n=>{x(e,((e,o)=>{const r=t[n];""!==r&&n===o&&r!==e&&(t[n]="")}))}))})),t},Pn=(e,t,n,o)=>B(e,(e=>!s(n.formatter.matchNode(o,t+e)))).getOr(""),Mn=g(Pn,["left","center","right"],"align"),Bn=g(Pn,["top","middle","bottom"],"valign"),jn=e=>qe(q.fromDom(e)).map((t=>{const n={selection:zt(e.cells)};return On(t,n)})).getOr(""),$n=(e,t)=>{const n=Ke(e),o=(e=>j(e.all,(e=>e.cells)))(n),r=P(o,(e=>O(t,(t=>H(e.element,t)))));return D(r,(e=>({element:e.element.dom,column:Qe(n,e.column).map((e=>e.element.dom))})))},Ln=(e,t,n,o)=>{const r=o.getData();o.close(),e.undoManager.transact((()=>{((e,t,n,o)=>{const r=S(o,((e,t)=>n[t]!==e));k(r)>0&&t.length>=1&&qe(t[0]).each((n=>{const a=$n(n,t),s=k(S(r,((e,t)=>"scope"!==t&&"celltype"!==t)))>0,l=T(r,"celltype");(s||T(r,"scope"))&&((e,t,n,o)=>{const r=1===t.length;R(t,(t=>{const a=t.element,s=r?f:o,l=Sn(e,a);((e,t,n,o)=>{o("scope")&&e.setAttrib("scope",n.scope),o("class")&&e.setAttrib("class",n.class),o("height")&&e.setStyle("height",be(n.height)),o("width")&&t.setStyle("width",be(n.width))})(l,t.column.map((t=>Sn(e,t))).getOr(l),n,s),mt(e)&&((e,t,n)=>{n("backgroundcolor")&&e.setFormat("tablecellbackgroundcolor",t.backgroundcolor),n("bordercolor")&&e.setFormat("tablecellbordercolor",t.bordercolor),n("borderstyle")&&e.setFormat("tablecellborderstyle",t.borderstyle),n("borderwidth")&&e.setFormat("tablecellborderwidth",be(t.borderwidth))})(l,n,s),o("halign")&&et(e,a,n.halign),o("valign")&&((e,t,n)=>{Ye.each("top middle bottom".split(" "),(o=>{o!==n&&e.formatter.remove("valign"+o,{},t)})),n&&e.formatter.apply("valign"+n,{},t)})(e,a,n.valign)}))})(e,a,o,g(T,r)),l&&((e,t)=>{e.execCommand("mceTableCellType",!1,{type:t.celltype,no_events:!0})})(e,o),tt(e,n.dom,{structure:l,style:s})}))})(e,t,n,r),e.focus()}))},In=e=>{const t=Gt(e);if(0===t.length)return;const n=((e,t)=>{const n=qe(t[0]).map((n=>D($n(n,t),(t=>((e,t,n,o)=>{const r=e.dom,a=(e,t)=>r.getStyle(e,t)||r.getAttrib(e,t);return{width:a(o.getOr(t),"width"),height:a(t,"height"),scope:r.getAttrib(t,"scope"),celltype:(s=t,s.nodeName.toLowerCase()),class:r.getAttrib(t,"class",""),halign:Mn(e,t),valign:Bn(e,t),...n?Dn(t):{}};var s})(e,t.element,mt(e),t.column)))));return Rn(n.getOrDie())})(e,t),o={type:"tabpanel",tabs:[{title:"General",name:"general",items:wn(e)},xn(e,"cell")]},r={type:"panel",items:[{type:"grid",columns:2,items:wn(e)}]};e.windowManager.open({title:"Cell Properties",size:"normal",body:mt(e)?o:r,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:n,onSubmit:g(Ln,e,t,n)})},zn=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],qn=e=>zn.concat((e=>{const t=dn(vt(e));return t.length>0?y.some({name:"class",type:"listbox",label:"Class",items:t}):y.none()})(e).toArray()),Wn=(e,t,n,o)=>{const r=o.getData();o.close(),e.undoManager.transact((()=>{((e,t,n,o)=>{const r=S(o,((e,t)=>n[t]!==e));if(k(r)>0){const n=T(r,"type"),a=!n||k(r)>1;a&&((e,t,n,o)=>{const r=1===t.length?f:o;R(t,(t=>{const a=Sn(e,t);((e,t,n)=>{n("class")&&e.setAttrib("class",t.class),n("height")&&e.setStyle("height",be(t.height))})(a,n,r),pt(e)&&((e,t,n)=>{n("backgroundcolor")&&e.setStyle("background-color",t.backgroundcolor),n("bordercolor")&&e.setStyle("border-color",t.bordercolor),n("borderstyle")&&e.setStyle("border-style",t.borderstyle)})(a,n,r),o("align")&&et(e,t,n.align)}))})(e,t,o,g(T,r)),n&&((e,t)=>{e.execCommand("mceTableRowType",!1,{type:t.type,no_events:!0})})(e,o),qe(q.fromDom(t[0])).each((t=>tt(e,t.dom,{structure:n,style:a})))}})(e,t,n,r),e.focus()}))},Un=e=>{const t=((e,t)=>{const n=Kt(e),o=n.bind((e=>qe(e))).map((e=>We(e)));return _e(n,o,((e,n)=>P(n,(n=>O(zt(n.dom.cells),(n=>"1"===Se(n,t)||H(n,e))))))).getOr([])})(fe(e),Ht.selected);if(0===t.length)return;const n=D(t,(t=>((e,t,n)=>{const o=e.dom;return{height:o.getStyle(t,"height")||o.getAttrib(t,"height"),class:o.getAttrib(t,"class",""),type:jn(t),align:Mn(e,t),...n?Dn(t):{}}})(e,t.dom,pt(e)))),o=Rn(n),r={type:"tabpanel",tabs:[{title:"General",name:"general",items:qn(e)},xn(e,"row")]},a={type:"panel",items:[{type:"grid",columns:2,items:qn(e)}]};e.windowManager.open({title:"Row Properties",size:"normal",body:pt(e)?r:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onSubmit:g(Wn,e,D(t,(e=>e.dom)),o)})},Hn=(e,t,n)=>{const o=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],r=ht(e)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],a=t.length>0?[{type:"listbox",name:"class",label:"Class",items:t}]:[];return o.concat([{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}]).concat(r).concat([{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]).concat(a)},Vn=(e,t,n,r)=>{if("TD"===t.tagName||"TH"===t.tagName)o(n)&&l(r)?e.setStyle(t,n,r):e.setStyles(t,n);else if(t.children)for(let o=0;o<t.children.length;o++)Vn(e,t.children[o],n,r)},Zn=(e,t,n,o)=>{const r=e.dom,a=o.getData(),l=S(a,((e,t)=>n[t]!==e));o.close(),""===a.class&&delete a.class,e.undoManager.transact((()=>{if(!t){const n=Fe(a.cols).getOr(1),o=Fe(a.rows).getOr(1);e.execCommand("mceInsertTable",!1,{rows:o,columns:n}),t=Kt(fe(e),he(e)).bind((t=>qe(t,he(e)))).map((e=>e.dom)).getOrDie()}if(k(l)>0){const n={border:T(l,"border"),bordercolor:T(l,"bordercolor"),cellpadding:T(l,"cellpadding")};((e,t,n,o)=>{const r=e.dom,a={},l={},i=ft(e),c=gt(e);if(s(n.class)||(a.class=n.class),l.height=be(n.height),i?l.width=be(n.width):r.getAttrib(t,"width")&&(a.width=(e=>e?e.replace(/px$/,""):"")(n.width)),i?(l["border-width"]=be(n.border),l["border-spacing"]=be(n.cellspacing)):(a.border=n.border,a.cellpadding=n.cellpadding,a.cellspacing=n.cellspacing),i&&t.children){const e={};if(o.border&&(e["border-width"]=be(n.border)),o.cellpadding&&(e.padding=be(n.cellpadding)),c&&o.bordercolor&&(e["border-color"]=n.bordercolor),!(e=>{for(const t in e)if(w.call(e,t))return!1;return!0})(e))for(let n=0;n<t.children.length;n++)Vn(r,t.children[n],e)}if(c){const e=n;l["background-color"]=e.backgroundcolor,l["border-color"]=e.bordercolor,l["border-style"]=e.borderstyle}r.setStyles(t,{..._t(e),...l}),r.setAttribs(t,{...At(e),...a})})(e,t,a,n);const o=r.select("caption",t)[0];(o&&!a.caption||!o&&a.caption)&&e.execCommand("mceTableToggleCaption"),et(e,t,a.align)}if(e.focus(),e.addVisual(),k(l)>0){const n=T(l,"caption"),o=!n||k(l)>1;tt(e,t,{structure:n,style:o})}}))},Kn=(e,t)=>{const n=e.dom;let o,r=((e,t)=>{const n=_t(e),o=At(e),r=t?{borderstyle:C(n,"border-style").getOr(""),bordercolor:Fn(C(n,"border-color").getOr("")),backgroundcolor:Fn(C(n,"background-color").getOr(""))}:{};return{height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:"",...n,...o,...r,...(()=>{const t=n["border-width"];return ft(e)&&t?{border:t}:C(o,"border").fold((()=>({})),(e=>({border:e})))})(),...{...C(n,"border-spacing").or(C(o,"cellspacing")).fold((()=>({})),(e=>({cellspacing:e}))),...C(n,"border-padding").or(C(o,"cellpadding")).fold((()=>({})),(e=>({cellpadding:e})))}}})(e,gt(e));t?(r.cols="1",r.rows="1",gt(e)&&(r.borderstyle="",r.bordercolor="",r.backgroundcolor="")):(o=n.getParent(e.selection.getStart(),"table",e.getBody()),o?r=((e,t,n)=>{const o=e.dom,r=ft(e)?o.getStyle(t,"border-spacing")||o.getAttrib(t,"cellspacing"):o.getAttrib(t,"cellspacing")||o.getStyle(t,"border-spacing"),a=ft(e)?Xe(o,t,"padding")||o.getAttrib(t,"cellpadding"):o.getAttrib(t,"cellpadding")||Xe(o,t,"padding");return{width:o.getStyle(t,"width")||o.getAttrib(t,"width"),height:o.getStyle(t,"height")||o.getAttrib(t,"height"),cellspacing:null!=r?r:"",cellpadding:null!=a?a:"",border:((t,n)=>{const o=Me(q.fromDom(n),"border-width");return ft(e)&&o.isSome()?o.getOr(""):t.getAttrib(n,"border")||Xe(e.dom,n,"border-width")||Xe(e.dom,n,"border")||""})(o,t),caption:!!o.select("caption",t)[0],class:o.getAttrib(t,"class",""),align:Mn(e,t),...n?Dn(t):{}}})(e,o,gt(e)):gt(e)&&(r.borderstyle="",r.bordercolor="",r.backgroundcolor=""));const a=dn(wt(e));a.length>0&&r.class&&(r.class=r.class.replace(/\s*mce\-item\-table\s*/g,""));const s={type:"grid",columns:2,items:Hn(e,a,t)},l=gt(e)?{type:"tabpanel",tabs:[{title:"General",name:"general",items:[s]},xn(e,"table")]}:{type:"panel",items:[s]};e.windowManager.open({title:"Table Properties",size:"normal",body:l,onSubmit:g(Zn,e,o,r),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r})},Gn=m,Jn=e=>{const t=(e,t)=>ke(e,t).exists((e=>parseInt(e,10)>1));return e.length>0&&$(e,(e=>t(e,"rowspan")||t(e,"colspan")))?y.some(e):y.none()},Qn=(e,t,n)=>{return t.length<=1?y.none():(o=e,r=n.firstSelectedSelector,a=n.lastSelectedSelector,((e,t,n)=>de(e,t).bind((t=>de(e,n).bind((e=>{return(n=It,o=[t,e],((e,t,n)=>n.length>0?((e,t,n,o)=>o(e,t,n[0],n.slice(1)))(e,t,n,jt):y.none())(Lt,((e,t)=>n(t)),o)).map((n=>({first:t,last:e,table:n})));var n,o})))))(o,r,a).bind((e=>{const t=e=>H(o,e),n="thead,tfoot,tbody,table",r=ue(e.first,n,t),a=ue(e.last,n,t);return r.bind((t=>a.bind((n=>H(t,n)?((e,t,n)=>((e,t,n)=>((e,t,n)=>{const o=Je(e,t,H),r=Je(e,n,H);return o.bind((e=>r.map((t=>{return n=e,o=t,{startRow:Math.min(n.row,o.row),startCol:Math.min(n.column,o.column),finishRow:Math.max(n.row+n.rowspan-1,o.row+o.rowspan-1),finishCol:Math.max(n.column+n.colspan-1,o.column+o.colspan-1)};var n,o}))))})(e,t,n).bind((t=>((e,t)=>{let n=!0;const o=g(Et,t);for(let r=t.startRow;r<=t.finishRow;r++)for(let a=t.startCol;a<=t.finishCol;a++)n=n&&Ge(e,r,a).exists(o);return n?y.some(t):y.none()})(e,t))))(Nt(e),t,n))(e.table,e.first,e.last):y.none()))))}))).map((e=>({bounds:e,cells:t})));var o,r,a},Yn=e=>{const t=ln(y.none()),n=ln([]);let o=y.none();const r=ee("caption"),a=e=>o.forall((t=>!t[e])),s=()=>Zt(fe(e),he(e)).bind((t=>{return n=_e(qe(t),Zt((e=>q.fromDom(e.selection.getEnd()))(e),he(e)).bind(qe),((n,o)=>H(n,o)?r(t)?y.some((e=>({element:e,mergable:y.none(),unmergable:y.none(),selection:[e]}))(t)):y.some(((e,t,n)=>({element:n,mergable:Qn(t,e,Ht),unmergable:Jn(e),selection:Gn(e)}))(Gt(e),n,t)):y.none())),n.bind(m);var n})),l=e=>qe(e.element).map((t=>{const n=Ke(t),o=_n(n,e).getOr([]),r=M(o,((e,t)=>(t.isLocked&&(e.onAny=!0,0===t.column?e.onFirst=!0:t.column+t.colspan>=n.grid.columns&&(e.onLast=!0)),e)),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:En(n,e).isSome(),unmergeable:Nn(n,e).isSome(),locked:r}})),i=()=>{t.set((e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)})(s)()),o=t.get().bind(l),R(n.get(),h)},c=e=>(e(),n.set(n.get().concat([e])),()=>{n.set(P(n.get(),(t=>t!==e)))}),u=(n,o)=>c((()=>t.get().fold((()=>{n.setEnabled(!1)}),(t=>{n.setEnabled(!o(t)&&e.selection.isEditable())})))),d=(n,o,r)=>c((()=>t.get().fold((()=>{n.setEnabled(!1),n.setActive(!1)}),(t=>{n.setEnabled(!o(t)&&e.selection.isEditable()),n.setActive(r(t))})))),p=e=>o.exists((t=>t.locked[e])),g=(t,n)=>o=>d(o,(e=>r(e.element)),(()=>e.queryCommandValue(t)===n)),f=g("mceTableRowType","header"),v=g("mceTableColType","th");return e.on("NodeChange ExecCommand TableSelectorChange",i),{onSetupTable:e=>u(e,(e=>!1)),onSetupCellOrRow:e=>u(e,(e=>r(e.element))),onSetupColumn:e=>t=>u(t,(t=>r(t.element)||p(e))),onSetupPasteable:e=>t=>u(t,(t=>r(t.element)||e().isNone())),onSetupPasteableColumn:(e,t)=>n=>u(n,(n=>r(n.element)||e().isNone()||p(t))),onSetupMergeable:e=>u(e,(e=>a("mergeable"))),onSetupUnmergeable:e=>u(e,(e=>a("unmergeable"))),resetTargets:i,onSetupTableWithCaption:t=>d(t,b,(t=>qe(t.element,he(e)).exists((e=>((e,t)=>((e,n)=>B(e.dom.childNodes,(e=>{return n=q.fromDom(e),W(n,t);var n})).map(q.fromDom))(e))(e,"caption").isSome())))),onSetupTableRowHeaders:f,onSetupTableColumnHeaders:v,targets:t.get}};var Xn=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const eo="x-tinymce/dom-table-",to=eo+"rows",no=eo+"columns",oo=e=>{var t;const n=null!==(t=Xn.read())&&void 0!==t?t:[];return I(n,(t=>y.from(t.getType(e))))},ro=()=>oo(to),ao=()=>oo(no),so=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}},lo=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("table",(e=>{const t=Yn(e);(e=>{const t=e.options.register;t("table_border_widths",{processor:"object[]",default:rt}),t("table_border_styles",{processor:"object[]",default:at}),t("table_cell_advtab",{processor:"boolean",default:!0}),t("table_row_advtab",{processor:"boolean",default:!0}),t("table_advtab",{processor:"boolean",default:!0}),t("table_appearance_options",{processor:"boolean",default:!0}),t("table_grid",{processor:"boolean",default:!ot.deviceType.isTouch()}),t("table_cell_class_list",{processor:"object[]",default:[]}),t("table_row_class_list",{processor:"object[]",default:[]}),t("table_class_list",{processor:"object[]",default:[]}),t("table_toolbar",{processor:"string",default:"tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"}),t("table_background_color_map",{processor:"object[]",default:[]}),t("table_border_color_map",{processor:"object[]",default:[]})})(e),(e=>{x({mceTableProps:g(Kn,e,!1),mceTableRowProps:g(Un,e),mceTableCellProps:g(In,e),mceInsertTableDialog:g(Kn,e,!0)},((t,n)=>e.addCommand(n,(()=>{return n=t,void((e=>{return(t=e,n=ee("table"),ie(((e,t)=>t(e)),ce,t,n,void 0)).forall(pe);var t,n})(fe(e))&&n());var n}))))})(e),((e,t)=>{const n=t=>()=>e.execCommand(t),o=(t,o)=>!!e.queryCommandSupported(o.command)&&(e.ui.registry.addMenuItem(t,{...o,onAction:i(o.onAction)?o.onAction:n(o.command)}),!0),r=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addToggleMenuItem(t,{...o,onAction:i(o.onAction)?o.onAction:n(o.command)})},a=t=>{e.execCommand("mceInsertTable",!1,{rows:t.numRows,columns:t.numColumns})},s=[o("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:t.onSetupCellOrRow}),o("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:t.onSetupCellOrRow}),o("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:t.onSetupCellOrRow}),o("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:t.onSetupCellOrRow}),o("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:t.onSetupCellOrRow}),o("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:t.onSetupCellOrRow}),o("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:t.onSetupPasteable(ro)}),o("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:t.onSetupPasteable(ro)})],l=[o("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:t.onSetupColumn("onFirst")}),o("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:t.onSetupColumn("onLast")}),o("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:t.onSetupColumn("onAny")}),o("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:t.onSetupColumn("onAny")}),o("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:t.onSetupColumn("onAny")}),o("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:t.onSetupPasteableColumn(ao,"onFirst")}),o("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:t.onSetupPasteableColumn(ao,"onLast")})],c=[o("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:t.onSetupCellOrRow}),o("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:t.onSetupMergeable}),o("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:t.onSetupUnmergeable})];bt(e)?e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:a}],onSetup:lo(e)}):e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:n("mceInsertTableDialog"),onSetup:lo(e)}),e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:n("mceInsertTableDialog"),onSetup:lo(e)}),o("tableprops",{text:"Table properties",onSetup:t.onSetupTable,command:"mceTableProps"}),o("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:t.onSetupTable,command:"mceTableDelete"}),N(s,!0)&&e.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:d("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),N(l,!0)&&e.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:d("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),N(c,!0)&&e.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:d("tablecellprops tablemergecells tablesplitcells")}),e.ui.registry.addContextMenu("table",{update:()=>(t.resetTargets(),t.targets().fold(d(""),(e=>"caption"===Z(e.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable")))});const u=gn(wt(e));0!==u.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>mn(e,u,"tableclass",(t=>e.execCommand("mceTableToggleClass",!1,t))),onSetup:t.onSetupTable});const m=gn(yt(e));0!==m.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>mn(e,m,"tablecellclass",(t=>e.execCommand("mceTableCellToggleClass",!1,t))),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>mn(e,Jt,"tablecellverticalalign",pn(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>mn(e,ut(e),"tablecellborderwidth",pn(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>mn(e,dt(e),"tablecellborderstyle",pn(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>bn(e,St(e),"background-color"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>bn(e,kt(e),"border-color"),onSetup:t.onSetupCellOrRow})),r("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),r("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:fn(e),onSetup:t.onSetupTableRowHeaders}),r("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:yn(e),onSetup:t.onSetupTableRowHeaders})})(e,t),((e,t)=>{e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:so(e),fetch:e=>e("inserttable | cell row column | advtablesort | tableprops deletetable")});const n=t=>()=>e.execCommand(t),o=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addButton(t,{...o,onAction:i(o.onAction)?o.onAction:n(o.command)})},r=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addToggleButton(t,{...o,onAction:i(o.onAction)?o.onAction:n(o.command)})};o("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:t.onSetupTable}),o("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:t.onSetupTable}),o("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:t.onSetupCellOrRow}),o("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:t.onSetupMergeable}),o("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:t.onSetupUnmergeable}),o("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:t.onSetupCellOrRow}),o("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:t.onSetupCellOrRow}),o("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:t.onSetupCellOrRow}),o("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:t.onSetupCellOrRow}),o("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:t.onSetupColumn("onFirst")}),o("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:t.onSetupColumn("onLast")}),o("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:t.onSetupColumn("onAny")}),o("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:t.onSetupCellOrRow}),o("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:t.onSetupCellOrRow}),o("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:t.onSetupPasteable(ro)}),o("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:t.onSetupPasteable(ro)}),o("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:t.onSetupColumn("onAny")}),o("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:t.onSetupColumn("onAny")}),o("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:t.onSetupPasteableColumn(ao,"onFirst")}),o("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:t.onSetupPasteableColumn(ao,"onLast")}),o("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:so(e)});const a=gn(wt(e));0!==a.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:hn(e,a,"tableclass",(t=>e.execCommand("mceTableToggleClass",!1,t))),onSetup:t.onSetupTable});const s=gn(yt(e));0!==s.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:hn(e,s,"tablecellclass",(t=>e.execCommand("mceTableCellToggleClass",!1,t))),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:hn(e,Jt,"tablecellverticalalign",pn(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:hn(e,ut(e),"tablecellborderwidth",pn(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:hn(e,dt(e),"tablecellborderstyle",pn(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:t=>t(bn(e,St(e),"background-color")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:t=>t(bn(e,kt(e),"border-color")),onSetup:t.onSetupCellOrRow})),r("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),r("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:fn(e),onSetup:t.onSetupTableRowHeaders}),r("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:yn(e),onSetup:t.onSetupTableColumnHeaders})})(e,t),(e=>{const t=xt(e);t.length>0&&e.ui.registry.addContextToolbar("table",{predicate:t=>e.dom.is(t,"table")&&e.getBody().contains(t)&&e.dom.isEditable(t.parentNode),items:t,scope:"node",position:"node"})})(e)}))}()},73106:function(e,t,n){n(41943)},41943:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(a=String).prototype,o.isPrototypeOf(n)||(null===(s=r.constructor)||void 0===s?void 0:s.name)===a.name)?"string":t;var n,o;var r,a,s})(t)===e,n=e=>t=>typeof t===e,o=t("string"),r=t("object"),a=(s=null,e=>s===e);var s;const l=n("boolean"),i=n("number");class c{constructor(e,t){this.tag=e,this.value=t}static some(e){return new c(!0,e)}static none(){return c.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?c.some(e(this.value)):c.none()}bind(e){return this.tag?e(this.value):c.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:c.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return(e=>null==e)(e)?c.none():c.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}c.singletonNone=new c(!1);const u=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},d=Object.keys,m=(e,t)=>{const n=d(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},p="undefined"!=typeof window?window:Function("return this;")(),g=(e,t)=>((e,t)=>{let n=null!=t?t:p;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),h=(e,t)=>{const n=((e,t)=>g(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n},b=Object.getPrototypeOf,f=e=>{const t=g("ownerDocument.defaultView",e);return r(e)&&((e=>h("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(b(e).constructor.name))},y=e=>e.dom.nodeValue,v=e=>t=>(e=>e.dom.nodeType)(t)===e,w=e=>x(e)&&f(e.dom),x=v(1),S=v(3),k=(e,t,n)=>{((e,t,n)=>{if(!(o(n)||l(n)||i(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(e.dom,t,n)},C=(e,t)=>{e.dom.removeAttribute(t)},T=(e,t)=>{const n=((e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n})(e,t);return void 0===n||""===n?[]:n.split(" ")},_=e=>void 0!==e.dom.classList,A=(e,t)=>((e,t,n)=>{const o=T(e,t).concat([n]);return k(e,t,o.join(" ")),!0})(e,"class",t),E=(e,t)=>((e,t,n)=>{const o=((e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n})(T(e,t),(e=>e!==n));return o.length>0?k(e,t,o.join(" ")):C(e,t),!1})(e,"class",t),N=e=>{const t=_(e)?e.dom.classList:(e=>T(e,"class"))(e);0===t.length&&C(e,"class")},O=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},F={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return O(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return O(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return O(n)},fromDom:O,fromPoint:(e,t,n)=>c.from(e.dom.elementFromPoint(t,n)).map(O)},D={"":"nbsp","":"shy"},R=(e,t)=>{let n="";return m(e,((e,t)=>{n+=t})),new RegExp("["+n+"]",t?"g":"")},P=R(D),M=R(D,!0),B=(e=>{let t="";return m(e,(e=>{t&&(t+=","),t+="span.mce-"+e})),t})(D),j="mce-nbsp",$=e=>e.dom.contentEditable,L=e=>'<span data-mce-bogus="1" class="mce-'+D[e]+'">'+e+"</span>",I=e=>"span"===e.nodeName.toLowerCase()&&e.classList.contains("mce-nbsp-wrap"),z=e=>{const t=y(e);return S(e)&&o(t)&&P.test(t)},q=(e,t,n)=>{let o=[];const r=((e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o})(e.dom.childNodes,F.fromDom),a=e=>I(e.dom)||!(e=>w(e)&&"false"===$(e))(e);return u(r,(e=>{n&&a(e)&&t(e)&&(o=o.concat([e])),o=o.concat(q(e,t,((e,t)=>{if(w(e)&&!I(e.dom)){const t=$(e);if("true"===t)return!0;if("false"===t)return!1}return t})(e,n)))})),o},W=(e,t)=>{const n=e.dom,o=q(F.fromDom(t),z,e.dom.isEditable(t));u(o,(t=>{var o;const r=t.dom.parentNode;if(I(r))a=F.fromDom(r),s=j,_(a)?a.dom.classList.add(s):A(a,s);else{const r=n.encode(null!==(o=y(t))&&void 0!==o?o:"").replace(M,L),a=n.create("div",{},r);let s;for(;s=a.lastChild;)n.insertAfter(s,t.dom);e.dom.remove(t.dom)}var a,s}))},U=(e,t)=>{const n=e.dom.select(B,t);u(n,(t=>{I(t)?((e,t)=>{_(e)?e.dom.classList.remove(t):E(e,t);N(e)})(F.fromDom(t),j):e.dom.remove(t,!0)}))},H=e=>{const t=e.getBody(),n=e.selection.getBookmark();let o=((e,t)=>{for(;e.parentNode;){if(e.parentNode===t)return t;e=e.parentNode}})(e.selection.getNode(),t);o=void 0!==o?o:t,U(e,o),W(e,o),e.selection.moveToBookmark(n)},V=(e,t)=>{((e,t)=>{e.dispatch("VisualChars",{state:t})})(e,t.get());const n=e.getBody();!0===t.get()?W(e,n):U(e,n)},Z=(e,t)=>{e.addCommand("mceVisualChars",(()=>{((e,t)=>{t.set(!t.get());const n=e.selection.getBookmark();V(e,t),e.selection.moveToBookmark(n)})(e,t)}))},K=(G="visualchars_default_state",e=>e.options.get(G));var G;const J=(e,t)=>{const n=((e,t)=>{let n=null;return{cancel:()=>{a(n)||(clearTimeout(n),n=null)},throttle:(...o)=>{a(n)&&(n=setTimeout((()=>{n=null,e.apply(null,o)}),t))}}})((()=>{H(e)}),300);e.on("keydown",(o=>{!0===t.get()&&(13===o.keyCode?H(e):n.throttle())})),e.on("remove",n.cancel)},Q=(e,t)=>n=>{n.setActive(t.get());const o=e=>n.setActive(e.state);return e.on("VisualChars",o),()=>e.off("VisualChars",o)};e.add("visualchars",(e=>{(e=>{(0,e.options.register)("visualchars_default_state",{processor:"boolean",default:!1})})(e);const t=(e=>{let t=e;return{get:()=>t,set:e=>{t=e}}})(K(e));return Z(e,t),((e,t)=>{const n=()=>e.execCommand("mceVisualChars");e.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:n,onSetup:Q(e,t)}),e.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:n,onSetup:Q(e,t)})})(e,t),J(e,t),((e,t)=>{e.on("init",(()=>{V(e,t)}))})(e,t),(e=>({isEnabled:()=>e.get()}))(t)}))}()},25234:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||(null===(a=o.constructor)||void 0===a?void 0:a.name)===r.name)?"string":t;var n,o,r,a})(t)===e,n=e=>t=>typeof t===e,o=t("string"),r=t("object"),a=e=>null===e,s=n("boolean"),l=n("number");class i{constructor(e,t){this.tag=e,this.value=t}static some(e){return new i(!0,e)}static none(){return i.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?i.some(e(this.value)):i.none()}bind(e){return this.tag?e(this.value):i.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:i.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return null==e?i.none():i.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}i.singletonNone=new i(!1);const c=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},u=Object.keys,d=(e,t)=>{const n=u(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},m="undefined"!=typeof window?window:Function("return this;")(),p=(e,t)=>((e,t)=>{let n=null!=t?t:m;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),g=Object.getPrototypeOf,h=e=>e.dom.nodeValue,b=e=>t=>(e=>e.dom.nodeType)(t)===e,f=e=>y(e)&&(e=>{const t=p("ownerDocument.defaultView",e);return r(e)&&((e=>((e,t)=>{const n=((e,t)=>p(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n})("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(g(e).constructor.name))})(e.dom),y=b(1),v=b(3),w=(e,t,n)=>{((e,t,n)=>{if(!(o(n)||s(n)||l(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(e.dom,t,n)},x=(e,t)=>{e.dom.removeAttribute(t)},S=(e,t)=>{const n=((e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n})(e,t);return void 0===n||""===n?[]:n.split(" ")},k=e=>void 0!==e.dom.classList,C=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},T={"":"nbsp","":"shy"},_=(e,t)=>{let n="";return d(e,((e,t)=>{n+=t})),new RegExp("["+n+"]",t?"g":"")},A=_(T),E=_(T,!0),N=(e=>{let t="";return d(e,(e=>{t&&(t+=","),t+="span.mce-"+e})),t})(T),O="mce-nbsp",F=e=>e.dom.contentEditable,D=e=>'<span data-mce-bogus="1" class="mce-'+T[e]+'">'+e+"</span>",R=e=>"span"===e.nodeName.toLowerCase()&&e.classList.contains("mce-nbsp-wrap"),P=e=>{const t=h(e);return v(e)&&o(t)&&A.test(t)},M=(e,t,n)=>{let o=[];const r=((e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o})(e.dom.childNodes,C);return c(r,(e=>{var r;n&&(R((r=e).dom)||!(e=>f(e)&&"false"===F(e))(r))&&t(e)&&(o=o.concat([e])),o=o.concat(M(e,t,((e,t)=>{if(f(e)&&!R(e.dom)){const t=F(e);if("true"===t)return!0;if("false"===t)return!1}return t})(e,n)))})),o},B=(e,t)=>{const n=e.dom,o=M(C(t),P,e.dom.isEditable(t));c(o,(t=>{var o;const r=t.dom.parentNode;if(R(r))a=C(r),s=O,k(a)?a.dom.classList.add(s):((e,t)=>{((e,t,n)=>{const o=S(e,t).concat([n]);w(e,t,o.join(" "))})(e,"class",t)})(a,s);else{const r=n.encode(null!==(o=h(t))&&void 0!==o?o:"").replace(E,D),a=n.create("div",{},r);let s;for(;s=a.lastChild;)n.insertAfter(s,t.dom);e.dom.remove(t.dom)}var a,s}))},j=(e,t)=>{const n=e.dom.select(N,t);c(n,(t=>{var n,o;R(t)?(n=C(t),o=O,k(n)?n.dom.classList.remove(o):((e,t)=>{((e,t,n)=>{const o=((e,t)=>{const o=[];for(let t=0,r=e.length;t<r;t++){const r=e[t];r!==n&&o.push(r)}return o})(S(e,t));o.length>0?w(e,t,o.join(" ")):x(e,t)})(e,"class",t)})(n,o),(e=>{const t=k(e)?e.dom.classList:(e=>S(e,"class"))(e);0===t.length&&x(e,"class")})(n)):e.dom.remove(t,!0)}))},$=e=>{const t=e.getBody(),n=e.selection.getBookmark();let o=((e,t)=>{for(;e.parentNode;){if(e.parentNode===t)return t;e=e.parentNode}})(e.selection.getNode(),t);o=void 0!==o?o:t,j(e,o),B(e,o),e.selection.moveToBookmark(n)},L=(e,t)=>{((e,t)=>{e.dispatch("VisualChars",{state:t})})(e,t.get());const n=e.getBody();!0===t.get()?B(e,n):j(e,n)},I=e=>e.options.get("visualchars_default_state"),z=(e,t)=>n=>{n.setActive(t.get());const o=e=>n.setActive(e.state);return e.on("VisualChars",o),()=>e.off("VisualChars",o)};e.add("visualchars",(e=>{(e=>{(0,e.options.register)("visualchars_default_state",{processor:"boolean",default:!1})})(e);const t=(e=>{let t=e;return{get:()=>t,set:e=>{t=e}}})(I(e));return((e,t)=>{e.addCommand("mceVisualChars",(()=>{((e,t)=>{t.set(!t.get());const n=e.selection.getBookmark();L(e,t),e.selection.moveToBookmark(n)})(e,t)}))})(e,t),((e,t)=>{const n=()=>e.execCommand("mceVisualChars");e.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:n,onSetup:z(e,t)}),e.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:n,onSetup:z(e,t)})})(e,t),((e,t)=>{const n=((e,t)=>{let n=null;return{cancel:()=>{a(n)||(clearTimeout(n),n=null)},throttle:(...t)=>{a(n)&&(n=setTimeout((()=>{n=null,e.apply(null,t)}),300))}}})((()=>{$(e)}));e.on("keydown",(o=>{!0===t.get()&&(13===o.keyCode?$(e):n.throttle())})),e.on("remove",n.cancel)})(e,t),((e,t)=>{e.on("init",(()=>{L(e,t)}))})(e,t),(e=>({isEnabled:()=>e.get()}))(t)}))}()},43356:function(e,t,n){n(43562)},43562:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(n=null,e=>n===e);var n;const o=e=>e,r=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},a={aletter:"[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]",midnumlet:"[-'\\.]",midletter:"[:]",midnum:"[+*/,;;]",numeric:"[0-9---------------------------------]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[------------------------------------------------------------------------------------------------------]",format:"[----\ufeff-]",katakana:"[-------]",extendnumlet:"[=_--<>]",punctuation:"[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]"},s=0,l=1,i=2,c=3,u=4,d=5,m=6,p=7,g=8,h=9,b=10,f=11,y=12,v=13,w=[new RegExp(a.aletter),new RegExp(a.midnumlet),new RegExp(a.midletter),new RegExp(a.midnum),new RegExp(a.numeric),new RegExp(a.cr),new RegExp(a.lf),new RegExp(a.newline),new RegExp(a.extend),new RegExp(a.format),new RegExp(a.katakana),new RegExp(a.extendnumlet),new RegExp("@")],x=new RegExp("^"+a.punctuation+"$"),S=w,k=v,C=e=>{let t=k;const n=S.length;for(let o=0;o<n;++o){const n=S[o];if(n&&n.test(e)){t=o;break}}return t},T=(e,t)=>{const n=e[t],o=e[t+1];if(t<0||t>e.length-1&&0!==t)return!1;if(n===s&&o===s)return!1;const r=e[t+2];if(n===s&&(o===i||o===l||o===y)&&r===s)return!1;const a=e[t-1];return(n!==i&&n!==l&&o!==y||o!==s||a!==s)&&((n!==u&&n!==s||o!==u&&o!==s)&&((n!==c&&n!==l||o!==u||a!==u)&&((n!==u||o!==c&&o!==l||r!==u)&&((n!==g&&n!==h||o!==s&&o!==u&&o!==b&&o!==g&&o!==h)&&(o!==g&&(o!==h||r!==s&&r!==u&&r!==b&&r!==g&&r!==h)||n!==s&&n!==u&&n!==b&&n!==g&&n!==h)&&((n!==d||o!==m)&&(n===p||n===d||n===m||(o===p||o===d||o===m||(n!==b||o!==b)&&((o!==f||n!==s&&n!==u&&n!==b&&n!==f)&&((n!==f||o!==s&&o!==u&&o!==b)&&n!==y)))))))))},_=/^\s+$/,A=x,E=e=>"http"===e||"https"===e,N=(e,t)=>{const n=((e,t)=>{let n;for(n=t;n<e.length&&!_.test(e[n]);n++);return n})(e,t+1);return"://"===e.slice(t+1,n).join("").substr(0,3)?n:t},O=(e,t,n)=>{n={includeWhitespace:!1,includePunctuation:!1,...n};const o=r(e,t);return((e,t,n,o)=>{const r=[],a=[];let s=[];for(let l=0;l<n.length;++l)if(s.push(e[l]),T(n,l)){const n=t[l];if((o.includeWhitespace||!_.test(n))&&(o.includePunctuation||!A.test(n))){const n=l-s.length+1,o=l+1,i=t.slice(n,o).join("");if(E(i)){const n=N(t,l),r=e.slice(o,n);Array.prototype.push.apply(s,r),l=n}r.push(s),a.push({start:n,end:o})}s=[]}return{words:r,indices:a}})(e,o,(e=>{const t=(e=>{const t={};return n=>{if(t[n])return t[n];{const o=e(n);return t[n]=o,o}}})(C);return r(e,t)})(o),n)},F=(e,t,n)=>O(e,t,n).words;var D=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const R=(e,t)=>{const n=t.getBlockElements(),o=t.getVoidElements(),r=e=>n[e.nodeName]||o[e.nodeName],a=[];let s="";const l=new D(e,e);let i;for(;i=l.next();)3===i.nodeType?s+=i.data.replace(/\uFEFF/g,""):r(i)&&s.length&&(a.push(s),s="");return s.length&&a.push(s),a},P=e=>e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,M=(e,t)=>{const n=(e=>e.replace(/\u200B/g,""))(R(e,t).join("\n"));return F(n.split(""),o).length},B=(e,t)=>{const n=R(e,t).join("");return P(n)},j=(e,t)=>{const n=R(e,t).join("").replace(/\s/g,"");return P(n)},$=(e,t)=>()=>t(e.getBody(),e.schema),L=(e,t)=>()=>t(e.selection.getRng().cloneContents(),e.schema),I=e=>$(e,M),z=(e,t)=>{e.addCommand("mceWordCount",(()=>((e,t)=>{e.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(t.body.getWordCount()),String(t.selection.getWordCount())],["Characters (no spaces)",String(t.body.getCharacterCountWithoutSpaces()),String(t.selection.getCharacterCountWithoutSpaces())],["Characters",String(t.body.getCharacterCount()),String(t.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})})(e,t)))};var q=tinymce.util.Tools.resolve("tinymce.util.Delay");const W=(e,t)=>{((e,t)=>{e.dispatch("wordCountUpdate",{wordCount:{words:t.body.getWordCount(),characters:t.body.getCharacterCount(),charactersWithoutSpaces:t.body.getCharacterCountWithoutSpaces()}})})(e,t)},U=(e,n,o)=>{const r=((e,n)=>{let o=null;return{cancel:()=>{t(o)||(clearTimeout(o),o=null)},throttle:(...r)=>{t(o)&&(o=setTimeout((()=>{o=null,e.apply(null,r)}),n))}}})((()=>W(e,n)),o);e.on("init",(()=>{W(e,n),q.setEditorTimeout(e,(()=>{e.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",r.throttle)}),0),e.on("remove",r.cancel)}))};((t=300)=>{e.add("wordcount",(e=>{const n=(e=>({body:{getWordCount:I(e),getCharacterCount:$(e,B),getCharacterCountWithoutSpaces:$(e,j)},selection:{getWordCount:L(e,M),getCharacterCount:L(e,B),getCharacterCountWithoutSpaces:L(e,j)},getCount:I(e)}))(e);return z(e,n),(e=>{const t=()=>e.execCommand("mceWordCount");e.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:t}),e.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:t})})(e),U(e,n,t),n}))})()}()},79339:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>null===e,n=e=>e,o=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},r=10,a=[new RegExp("[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]"),new RegExp("[-'\\.]"),new RegExp("[:]"),new RegExp("[+*/,;;]"),new RegExp("[0-9---------------------------------]"),new RegExp("\\r"),new RegExp("\\n"),new RegExp("[\v\f\u2028\u2029]"),new RegExp("[------------------------------------------------------------------------------------------------------]"),new RegExp("[----\ufeff-]"),new RegExp("[-------]"),new RegExp("[=_--<>]"),new RegExp("@")],s=new RegExp("^[~|!-*+-\\/:;?@\\[-`{};----------------------------------------------]$"),l=a,i=e=>{let t=13;const n=l.length;for(let o=0;o<n;++o){const n=l[o];if(n&&n.test(e)){t=o;break}}return t},c=(e,t)=>{const n=e[t],o=e[t+1];if(t<0||t>e.length-1&&0!==t)return!1;if(0===n&&0===o)return!1;const a=e[t+2];if(0===n&&(2===o||1===o||12===o)&&0===a)return!1;const s=e[t-1];return(2!==n&&1!==n&&12!==o||0!==o||0!==s)&&(4!==n&&0!==n||4!==o&&0!==o)&&(3!==n&&1!==n||4!==o||4!==s)&&(4!==n||3!==o&&1!==o||4!==a)&&(8!==n&&9!==n||0!==o&&4!==o&&o!==r&&8!==o&&9!==o)&&(8!==o&&(9!==o||0!==a&&4!==a&&a!==r&&8!==a&&9!==a)||0!==n&&4!==n&&n!==r&&8!==n&&9!==n)&&(5!==n||6!==o)&&(7===n||5===n||6===n||7===o||5===o||6===o||(n!==r||o!==r)&&(11!==o||0!==n&&4!==n&&n!==r&&11!==n)&&(11!==n||0!==o&&4!==o&&o!==r)&&12!==n)},u=/^\s+$/,d=s,m=e=>"http"===e||"https"===e,p=(e,t)=>{const n=((e,t)=>{let n;for(n=t;n<e.length&&!u.test(e[n]);n++);return n})(e,t+1);return"://"===e.slice(t+1,n).join("").substr(0,3)?n:t},g=(e,t,n)=>((e,t,n)=>{n={includeWhitespace:!1,includePunctuation:!1,...n};const r=o(e,t);return((e,t,n,o)=>{const r=[],a=[];let s=[];for(let l=0;l<n.length;++l)if(s.push(e[l]),c(n,l)){const n=t[l];if((o.includeWhitespace||!u.test(n))&&(o.includePunctuation||!d.test(n))){const n=l-s.length+1,o=l+1,i=t.slice(n,o).join("");if(m(i)){const n=p(t,l),r=e.slice(o,n);Array.prototype.push.apply(s,r),l=n}r.push(s),a.push({start:n,end:o})}s=[]}return{words:r,indices:a}})(e,r,(e=>{const t=(e=>{const t={};return n=>{if(t[n])return t[n];{const o=e(n);return t[n]=o,o}}})(i);return o(e,t)})(r),n)})(e,t,n).words;var h=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const b=(e,t)=>{const n=t.getBlockElements(),o=t.getVoidElements(),r=e=>n[e.nodeName]||o[e.nodeName],a=[];let s="";const l=new h(e,e);let i;for(;i=l.next();)3===i.nodeType?s+=i.data.replace(/\uFEFF/g,""):r(i)&&s.length&&(a.push(s),s="");return s.length&&a.push(s),a},f=e=>e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,y=(e,t)=>{const o=(e=>e.replace(/\u200B/g,""))(b(e,t).join("\n"));return g(o.split(""),n).length},v=(e,t)=>{const n=b(e,t).join("");return f(n)},w=(e,t)=>{const n=b(e,t).join("").replace(/\s/g,"");return f(n)},x=(e,t)=>()=>t(e.getBody(),e.schema),S=(e,t)=>()=>t(e.selection.getRng().cloneContents(),e.schema),k=e=>x(e,y);var C=tinymce.util.Tools.resolve("tinymce.util.Delay");const T=(e,t)=>{((e,t)=>{e.dispatch("wordCountUpdate",{wordCount:{words:t.body.getWordCount(),characters:t.body.getCharacterCount(),charactersWithoutSpaces:t.body.getCharacterCountWithoutSpaces()}})})(e,t)},_=(e,n,o)=>{const r=((e,n)=>{let o=null;return{cancel:()=>{t(o)||(clearTimeout(o),o=null)},throttle:(...r)=>{t(o)&&(o=setTimeout((()=>{o=null,e.apply(null,r)}),n))}}})((()=>T(e,n)),o);e.on("init",(()=>{T(e,n),C.setEditorTimeout(e,(()=>{e.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",r.throttle)}),0),e.on("remove",r.cancel)}))};((t=300)=>{e.add("wordcount",(e=>{const n=(e=>({body:{getWordCount:k(e),getCharacterCount:x(e,v),getCharacterCountWithoutSpaces:x(e,w)},selection:{getWordCount:S(e,y),getCharacterCount:S(e,v),getCharacterCountWithoutSpaces:S(e,w)},getCount:k(e)}))(e);return((e,t)=>{e.addCommand("mceWordCount",(()=>((e,t)=>{e.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(t.body.getWordCount()),String(t.selection.getWordCount())],["Characters (no spaces)",String(t.body.getCharacterCountWithoutSpaces()),String(t.selection.getCharacterCountWithoutSpaces())],["Characters",String(t.body.getCharacterCount()),String(t.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})})(e,t)))})(e,n),(e=>{const t=()=>e.execCommand("mceWordCount");e.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:t}),e.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:t})})(e),_(e,n,t),n}))})()}()}}]);
//# sourceMappingURL=tinymce_plugins.d03988a41dc681a68c55.min.js.map