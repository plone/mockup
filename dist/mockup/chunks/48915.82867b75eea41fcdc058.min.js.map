{"version":3,"file":"chunks/48915.82867b75eea41fcdc058.min.js","mappings":"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","sources":["webpack://@plone/mockup/./node_modules/@patternslib/patternslib/src/pat/validation/validation.js","webpack://@plone/mockup/./node_modules/@patternslib/patternslib/src/core/utils.js","webpack://@plone/mockup/./node_modules/@patternslib/patternslib/src/pat/depends/depends.js","webpack://@plone/mockup/./node_modules/bootstrap/js/dist/tab.js","webpack://@plone/mockup/./node_modules/@patternslib/patternslib/src/core/logging.js","webpack://@plone/mockup/./node_modules/@patternslib/patternslib/src/pat/datetime-picker/datetime-picker.js","webpack://@plone/mockup/./node_modules/@patternslib/patternslib/src/core/basepattern.js","webpack://@plone/mockup/./node_modules/@patternslib/patternslib/src/core/parser.js","webpack://@plone/mockup/./node_modules/@patternslib/patternslib/src/pat/ajax/ajax.js","webpack://@plone/mockup/./node_modules/@patternslib/patternslib/src/pat/inject/inject.js","webpack://@plone/mockup/./node_modules/bootstrap/js/dist/util/index.js","webpack://@plone/mockup/./node_modules/@patternslib/patternslib/src/core/events.js","webpack://@plone/mockup/./node_modules/bootstrap/js/dist/dom/data.js","webpack://@plone/mockup/./node_modules/@patternslib/patternslib/src/core/jquery-ext.js","webpack://@plone/mockup/./node_modules/@patternslib/patternslib/src/pat/checklist/checklist.js","webpack://@plone/mockup/./node_modules/bootstrap/js/dist/base-component.js","webpack://@plone/mockup/./node_modules/@patternslib/patternslib/src/core/registry.js","webpack://@plone/mockup/./node_modules/@patternslib/patternslib/src/core/dom.js","webpack://@plone/mockup/./node_modules/@patternslib/patternslib/src/core/mockup-parser.js","webpack://@plone/mockup/./node_modules/@patternslib/patternslib/src/core/base.js","webpack://@plone/mockup/./node_modules/bootstrap/js/dist/util/config.js","webpack://@plone/mockup/./node_modules/@patternslib/pat-code-editor/src/code-editor.js","webpack://@plone/mockup/./node_modules/bootstrap/js/dist/dom/event-handler.js","webpack://@plone/mockup/./node_modules/bootstrap/js/dist/dom/manipulator.js","webpack://@plone/mockup/./node_modules/bootstrap/js/dist/dom/selector-engine.js","webpack://@plone/mockup/./node_modules/@patternslib/patternslib/src/core/uuid.js","webpack://@plone/mockup/./node_modules/@patternslib/patternslib/src/core/polyfills.js","webpack://@plone/mockup/./node_modules/@patternslib/patternslib/src/pat/display-time/display-time.js","webpack://@plone/mockup/./node_modules/@patternslib/patternslib/src/pat/close-panel/close-panel.js","webpack://@plone/mockup/./node_modules/@patternslib/patternslib/src/pat/tooltip/tooltip.js","webpack://@plone/mockup/./node_modules/@patternslib/patternslib/src/core/store.js","webpack://@plone/mockup/./node_modules/@patternslib/patternslib/src/pat/date-picker/date-picker.js"],"sourcesContent":["// Patterns validate - Form vlidation\nimport \"../../core/polyfills\"; // SubmitEvent.submitter for Safari < 15.4 and jsDOM\nimport $ from \"jquery\";\nimport { BasePattern } from \"../../core/basepattern\";\nimport Parser from \"../../core/parser\";\nimport dom from \"../../core/dom\";\nimport events from \"../../core/events\";\nimport logging from \"../../core/logging\";\nimport utils from \"../../core/utils\";\nimport registry from \"../../core/registry\";\n\nconst logger = logging.getLogger(\"pat-validation\");\n//logger.setLevel(logging.Level.DEBUG);\n\nexport const parser = new Parser(\"validation\");\nparser.addArgument(\"disable-selector\", \"[type=submit], button:not([type=button])\"); // Elements which must be disabled if there are errors\nparser.addArgument(\"message-date\", \"\"); // \"This value must be a valid date\");\nparser.addArgument(\"message-datetime\", \"\"); // \"This value must be a valid date and time\");\nparser.addArgument(\"message-email\", \"\"); // \"This value must be a valid email address\");\nparser.addArgument(\"message-max\", \"\"); // \"This value must be less than or equal to %{count}\");\nparser.addArgument(\"message-min\", \"\"); // \"This value must be greater than or equal to %{count}\"); // prettier-ignore\nparser.addArgument(\"message-number\", \"\"); // \"This value must be a number\");\nparser.addArgument(\"message-required\", \"\"); // \"This field is required\");\nparser.addArgument(\"message-equality\", \"is not equal to %{attribute}.\");\nparser.addArgument(\"not-after\", null);\nparser.addArgument(\"not-before\", null);\nparser.addArgument(\"equality\", null);\nparser.addArgument(\"delay\", 100); // Delay before validation is done to avoid validating while typing.\n\n// BBB\n// TODO: deprecated. Will be removed with next major version.\nparser.addAlias(\"message-integer\", \"message-number\");\nparser.addArgument(\"error-template\");\n\nconst KEY_ERROR_EL = \"__patternslib__input__error__el\";\nconst KEY_ERROR_MSG = \"__patternslib__input__error__msg\";\n\nclass Pattern extends BasePattern {\n    static name = \"validation\";\n    static trigger = \"form.pat-validation\";\n    static parser = parser;\n\n    init() {\n        events.add_event_listener(\n            this.el,\n            \"submit\",\n            `pat-validation--submit--validator`,\n            (e) => {\n                // On submit, check all.\n                // Immediate, non-debounced check with submit. Otherwise submit\n                // is not cancelable.\n                for (const input of this.inputs) {\n                    logger.debug(\"Checking input for submit\", input, e);\n                    this.check_input({ input: input, event: e });\n                }\n            },\n            // Make sure this event handler is run early, in the capturing\n            // phase in order to be able to cancel later non-capturing submit\n            // events.\n            { capture: true }\n        );\n\n        this.initialize_inputs();\n        $(this.el).on(\"pat-update\", () => {\n            this.initialize_inputs();\n        });\n\n        // Set ``novalidate`` attribute to disable the browser's validation\n        // bubbles but not disable the validation API.\n        this.el.setAttribute(\"novalidate\", \"\");\n    }\n\n    initialize_inputs() {\n        this.inputs = [\n            ...this.el.querySelectorAll(\"input[name], select[name], textarea[name]\"),\n        ];\n        this.disabled_elements = [\n            ...this.el.querySelectorAll(this.options.disableSelector),\n        ];\n\n        for (const [cnt, input] of this.inputs.entries()) {\n            // Cancelable debouncer.\n            const debouncer = utils.debounce((e) => {\n                logger.debug(\"Checking input for event\", input, e);\n                this.check_input({ input: input, event: e });\n            }, this.options.delay);\n\n            events.add_event_listener(\n                input,\n                \"input\",\n                `pat-validation--input-${input.name}--${cnt}--validator`,\n                (e) => debouncer(e)\n            );\n            events.add_event_listener(\n                input,\n                \"change\",\n                `pat-validation--change-${input.name}--${cnt}--validator`,\n                (e) => debouncer(e)\n            );\n            events.add_event_listener(\n                input,\n                \"blur\",\n                `pat-validation--blur-${input.name}--${cnt}--validator`,\n                (e) => debouncer(e)\n            );\n        }\n    }\n\n    check_input({ input, event, stop = false }) {\n        if (input.disabled) {\n            // No need to check disabled inputs.\n            return;\n        }\n\n        // In any case, clear the custom validity first.\n        this.set_error({ input: input, msg: \"\", skip_event: true });\n        const validity_state = input.validity;\n\n        if (event?.submitter?.hasAttribute(\"formnovalidate\")) {\n            // Do not check when a button with ``formnovalidate`` was used.\n            return;\n        }\n\n        logger.debug(`\n            validity_state.badInput ${validity_state.badInput}\n            validity_state.customError ${validity_state.customError}\n            validity_state.patternMismatch ${validity_state.patternMismatch}\n            validity_state.rangeOverflow ${validity_state.rangeOverflow}\n            validity_state.rangeUnderflow ${validity_state.rangeUnderflow}\n            validity_state.stepMismatch ${validity_state.stepMismatch}\n            validity_state.tooLong ${validity_state.tooLong}\n            validity_state.tooShort ${validity_state.tooShort}\n            validity_state.typeMismatch ${validity_state.typeMismatch}\n            validity_state.valid ${validity_state.valid}\n            validity_state.valueMissing ${validity_state.valueMissing}\n        `);\n\n        const input_options = parser.parse(input);\n\n        if (validity_state.valid) {\n            // Custom error cases or no invalid state.\n\n            if (\n                input_options.equality &&\n                this.el.querySelector(`[name=${input_options.equality}]`)?.value !==\n                    input.value\n            ) {\n                const message =\n                    input_options.message.equality ||\n                    `The value is not equal to %{attribute}`;\n                this.set_error({\n                    input: input,\n                    msg: message,\n                    attribute: input_options.equality,\n                });\n            } else if (input_options.not.after || input_options.not.before) {\n                const msg = input_options.message.date || input_options.message.datetime;\n                const msg_default_not_before = \"The date must be after %{attribute}\";\n                const msg_default_not_after = \"The date must be before %{attribute}\";\n\n                let not_after;\n                let not_after_el;\n                if (input_options.not.after) {\n                    if (utils.is_iso_date_time(input_options.not.after, true)) {\n                        not_after = new Date(input_options.not.after);\n                    } else {\n                        // Handle value as selector\n                        not_after_el = document.querySelector(input_options.not.after);\n                        not_after = not_after_el?.value\n                            ? new Date(not_after_el?.value)\n                            : undefined;\n                    }\n\n                    // Use null if no valid date.\n                    not_after = isNaN(not_after) ? null : not_after;\n                }\n\n                let not_before;\n                let not_before_el;\n                if (input_options.not.before) {\n                    if (utils.is_iso_date_time(input_options.not.before, true)) {\n                        not_before = new Date(input_options.not.before);\n                    } else {\n                        // Handle value as selector\n                        not_before_el = document.querySelector(input_options.not.before);\n                        not_before = not_before_el?.value\n                            ? new Date(not_before_el?.value)\n                            : undefined;\n                    }\n\n                    // Use null if no valid date.\n                    not_before = isNaN(not_before) ? null : not_before;\n                }\n\n                if (\n                    input.value &&\n                    utils.is_iso_date_time(input.value, true) &&\n                    !isNaN(new Date(input.value))\n                ) {\n                    // That's 1 valid date!\n                    const date = new Date(input.value);\n\n                    if (not_after && date > not_after) {\n                        let msg_attr;\n                        // Try to construct a meaningfull error message\n                        if (!not_after_el && input_options.not.after) {\n                            // fixed date case\n                            msg_attr = input_options.not.after;\n                        } else {\n                            // Get the label + other text content within the\n                            // label and replace all whitespace and newlines\n                            // with a single space.\n                            msg_attr = not_after_el?.labels?.[0]?.textContent.replace(\n                                /\\s\\s+/g, // replace all whitespace\n                                \" \" // with a single space\n                            );\n                            msg_attr = msg_attr || not_after_el.name;\n                        }\n                        this.set_error({\n                            input: input,\n                            msg: msg || msg_default_not_after,\n                            attribute: msg_attr.trim(),\n                        });\n                    } else if (not_before && date < not_before) {\n                        let msg_attr;\n                        // Try to construct a meaningfull error message\n                        if (!not_before_el && input_options.not.before) {\n                            // fixed date case\n                            msg_attr = input_options.not.before;\n                        } else {\n                            // Get the label + other text content within the\n                            // label and replace all whitespace and newlines\n                            // with a single space.\n                            msg_attr = not_before_el?.labels?.[0]?.textContent.replace(\n                                /\\s\\s+/g, // replace all whitespace\n                                \" \" // with a single space\n                            );\n                            msg_attr = msg_attr || not_before_el.name;\n                        }\n                        this.set_error({\n                            input: input,\n                            msg: msg || msg_default_not_before,\n                            attribute: msg_attr.trim(),\n                        });\n                    }\n                }\n\n                // always check the other input to clear/set errors\n                // do not re-check when stop is set to avoid infinite loops\n                if (!stop && not_after_el) {\n                    logger.debug(\"Check `not-after` input.\", not_after_el);\n                    this.check_input({ input: not_after_el, stop: true });\n                }\n                if (!stop && not_before_el) {\n                    logger.debug(\"Check `no-before` input.\", not_after_el);\n                    this.check_input({ input: not_before_el, stop: true });\n                }\n            }\n\n            if (!validity_state.customError) {\n                // No error to handle. Return.\n                this.remove_error(input, true);\n                return;\n            }\n        } else {\n            // Default error cases with custom messages.\n\n            if (validity_state.valueMissing && input_options.message.required) {\n                this.set_error({ input: input, msg: input_options.message.required });\n            } else if (validity_state.rangeUnderflow && input_options.message.min) {\n                this.set_error({\n                    input: input,\n                    msg: input_options.message.min,\n                    min: input.getAttribute(\"min\"),\n                });\n            } else if (validity_state.rangeOverflow && input_options.message.max) {\n                this.set_error({\n                    input: input,\n                    msg: input_options.message.max,\n                    max: input.getAttribute(\"max\"),\n                });\n            } else if (\n                (validity_state.badInput || validity_state.stepMismatch) &&\n                input.type === \"number\" &&\n                input_options.message.number\n            ) {\n                this.set_error({ input: input, msg: input_options.message.number });\n            } else if (\n                validity_state.typeMismatch &&\n                input.type === \"email\" &&\n                input_options.message.email\n            ) {\n                this.set_error({ input: input, msg: input_options.message.email });\n            } else if (\n                validity_state.rangeUnderflow &&\n                input.type === \"date\" &&\n                input_options.message.date\n            ) {\n                this.set_error({ input: input, msg: input_options.message.date });\n            } else if (\n                validity_state.rangeOverflow &&\n                input.type === \"date\" &&\n                input_options.message.date\n            ) {\n                this.set_error({ input: input, msg: input_options.message.date });\n            } else if (\n                validity_state.rangeUnderflow &&\n                input.type === \"datetime\" &&\n                input_options.message.datetime\n            ) {\n                this.set_error({ input: input, msg: input_options.message.datetime });\n            } else if (\n                validity_state.rangeOverflow &&\n                input.type === \"datetime\" &&\n                input_options.message.datetime\n            ) {\n                this.set_error({ input: input, msg: input_options.message.datetime });\n            } else {\n                // Still an error, but without customized messages.\n                // Call `emit_update` separately\n                this.emit_update(\"invalid\");\n            }\n\n        }\n\n        if (event?.type === \"submit\") {\n            // Do not submit in error case and prevent other handlers to take action.\n            event.preventDefault();\n            event.stopPropagation();\n            event.stopImmediatePropagation();\n        }\n        this.set_error_message(input);\n    }\n\n    set_error({ input, msg, attribute = null, min = null, max = null, skip_event = false }) {\n        // Replace some variables, as like validate.js\n        if (attribute) {\n            msg = msg.replace(/%{attribute}/g, attribute);\n        }\n        if (min) {\n            msg = msg.replace(/%{count}/g, min);\n        }\n        if (max) {\n            msg = msg.replace(/%{count}/g, max);\n        }\n        msg = msg.replace(/%{value}/g, JSON.stringify(input.value));\n\n        input.setCustomValidity(msg);\n        // Store the error message on the input.\n        // Hidden inputs do not participate in validation but we need this\n        // (e.g. styled date input).\n        input[KEY_ERROR_MSG] = msg;\n\n        if (!skip_event) {\n            this.emit_update(\"invalid\");\n        }\n    }\n\n    remove_error(input, all_of_group = false, skip_event = false) {\n        // Remove error message and related referencesfrom input.\n\n        let inputs = [input];\n        if (all_of_group) {\n            // Get all inputs with the same name - e.g. radio buttons, checkboxes.\n            inputs = this.inputs.filter((it) => it.name === input.name);\n        }\n        for (const it of inputs) {\n            const error_node = it[KEY_ERROR_EL];\n            it[KEY_ERROR_EL] = null;\n            error_node?.remove();\n        }\n\n        // disable selector\n        if (this.el.checkValidity()) {\n            for (const it of this.disabled_elements) {\n                if (it.disabled) {\n                    it.removeAttribute(\"disabled\");\n                    it.classList.remove(\"disabled\");\n                }\n            }\n        }\n\n        if (!skip_event) {\n            this.emit_update(\"valid\");\n        }\n    }\n\n    set_error_message(input) {\n        // First, remove the old error message.\n        this.remove_error(input, false, true);\n\n        // Do not set a error message for a input group like radio buttons or\n        // checkboxes where one has already been set.\n        const inputs = this.inputs.filter((it) => it.name === input.name);\n        if (inputs.length > 1 && inputs.some((it) => !!it[KEY_ERROR_EL])) {\n            // error message for input group already set.\n            return;\n        }\n\n        // Create the validation error DOM node from the template\n        const validation_message = input.validationMessage || input[KEY_ERROR_MSG];\n        const error_node = dom.create_from_string(\n            this.error_template(validation_message)\n        ).firstChild;\n\n        let fieldset;\n        if (input.type === \"radio\" || input.type === \"checkbox\") {\n            fieldset = input.closest(\"fieldset.pat-checklist\");\n        }\n        if (fieldset) {\n            fieldset.append(error_node);\n        } else {\n            input.after(error_node);\n        }\n        input[KEY_ERROR_EL] = error_node;\n\n        let did_disable = false;\n        for (const it of this.disabled_elements) {\n            // Disable for melements if they are not already disabled and which\n            // do not have set the `formnovalidate` attribute, e.g.\n            // `<button formnovalidate>cancel</button>`.\n            if (!it.disabled && !it.formNoValidate) {\n                did_disable = true;\n                it.setAttribute(\"disabled\", \"disabled\");\n                it.classList.add(\"disabled\");\n                logger.debug(\"Disable element\", it);\n            }\n        }\n\n        // Do an initial check of the whole form when a form element (e.g. the\n        // submit button) was disabled. We want to show the user all possible\n        // errors at once and after the submit button is disabled there is no\n        // way to check the whole form at once. ... well we also do not want to\n        // check the whole form when one input was changed....\n        if (did_disable) {\n            logger.debug(\"Checking whole form after element was disabled.\");\n            for (const _input of this.inputs.filter((it) => it !== input)) {\n                this.check_input({ input: _input, stop: true });\n            }\n        }\n    }\n\n    error_template(message) {\n        // Template for the validation message\n        return `<em class=\"validation warning message\">${message}</em>`;\n    }\n}\n\nregistry.register(Pattern);\n\nexport default Pattern;\nexport { Pattern };\n","import $ from \"jquery\";\nimport dom from \"./dom\";\n\nconst _MS_PER_DAY = 1000 * 60 * 60 * 24; // Milliseconds per day.\n\n$.fn.safeClone = function () {\n    var $clone = this.clone();\n    return $clone;\n};\n\n// Production steps of ECMA-262, Edition 5, 15.4.4.18\n// Reference: http://es5.github.io/#x15.4.4.18\nif (!Array.prototype.forEach) {\n    Array.prototype.forEach = function (callback, thisArg) {\n        var T, k;\n        if (this === null) {\n            throw new TypeError(\" this is null or not defined\");\n        }\n        // 1. Let O be the result of calling ToObject passing the |this| value as the argument.\n        var O = Object(this);\n        // 2. Let lenValue be the result of calling the Get internal method of O with the argument \"length\".\n        // 3. Let len be ToUint32(lenValue).\n        var len = O.length >>> 0;\n        // 4. If IsCallable(callback) is false, throw a TypeError exception.\n        // See: http://es5.github.com/#x9.11\n        if (typeof callback !== \"function\") {\n            throw new TypeError(callback + \" is not a function\");\n        }\n        // 5. If thisArg was supplied, let T be thisArg; else let T be undefined.\n        if (arguments.length > 1) {\n            T = thisArg;\n        }\n        // 6. Let k be 0\n        k = 0;\n        // 7. Repeat, while k < len\n        while (k < len) {\n            var kValue;\n            // a. Let Pk be ToString(k).\n            //   This is implicit for LHS operands of the in operator\n            // b. Let kPresent be the result of calling the HasProperty internal method of O with argument Pk.\n            //   This step can be combined with c\n            // c. If kPresent is true, then\n            if (k in O) {\n                // i. Let kValue be the result of calling the Get internal method of O with argument Pk.\n                kValue = O[k];\n                // ii. Call the Call internal method of callback with T as the this value and\n                // argument list containing kValue, k, and O.\n                callback.call(T, kValue, k, O);\n            }\n            // d. Increase k by 1.\n            k++;\n        }\n        // 8. return undefined\n    };\n}\n\nvar singleBoundJQueryPlugin = function (pattern, method, options) {\n    /* This is a jQuery plugin for patterns which are invoked ONCE FOR EACH\n     * matched element in the DOM.\n     *\n     * This is how the Mockup-type patterns behave. They are constructor\n     * functions which need to be invoked once per jQuery-wrapped DOM node\n     * for all DOM nodes on which the pattern applies.\n     */\n    var $this = this;\n    $this.each(function () {\n        var pat,\n            $el = $(this);\n        pat = pattern.init($el, options);\n        if (method) {\n            if (pat[method] === undefined) {\n                $.error(\n                    \"Method \" + method + \" does not exist on jQuery.\" + pattern.name\n                );\n                return false;\n            }\n            if (method.charAt(0) === \"_\") {\n                $.error(\"Method \" + method + \" is private on jQuery.\" + pattern.name);\n                return false;\n            }\n            pat[method].apply(pat, [options]);\n        }\n    });\n    return $this;\n};\n\nvar pluralBoundJQueryPlugin = function (pattern, method, options) {\n    /* This is a jQuery plugin for patterns which are invoked ONCE FOR ALL\n     * matched elements in the DOM.\n     *\n     * This is how the vanilla Patternslib-type patterns behave. They are\n     * simple objects with an init method and this method gets called once\n     * with a list of jQuery-wrapped DOM nodes on which the pattern\n     * applies.\n     */\n    var $this = this;\n    if (method) {\n        if (pattern[method]) {\n            return pattern[method].apply($this, [$this].concat([options]));\n        } else {\n            $.error(\"Method \" + method + \" does not exist on jQuery.\" + pattern.name);\n        }\n    } else {\n        pattern.init.apply($this, [$this].concat([options]));\n    }\n    return $this;\n};\n\nvar jqueryPlugin = function (pattern) {\n    return function (method, options) {\n        var $this = this;\n        if ($this.length === 0) {\n            return $this;\n        }\n        if (typeof method === \"object\") {\n            options = method;\n            method = undefined;\n        }\n        if (typeof pattern === \"function\") {\n            return singleBoundJQueryPlugin.call(this, pattern, method, options);\n        } else {\n            return pluralBoundJQueryPlugin.call(this, pattern, method, options);\n        }\n    };\n};\n\n// Is a given variable an object?\nfunction isObject(obj) {\n    var type = typeof obj;\n    return type === \"function\" || (type === \"object\" && !!obj);\n}\n\n// Extend a given object with all the properties in passed-in object(s).\nfunction extend(obj) {\n    if (!isObject(obj)) return obj;\n    var source, prop;\n    for (var i = 1, length = arguments.length; i < length; i++) {\n        source = arguments[i];\n        for (prop in source) {\n            if (hasOwnProperty.call(source, prop)) {\n                obj[prop] = source[prop];\n            }\n        }\n    }\n    return obj;\n}\n// END: Taken from Underscore.js until here.\n\nfunction findLabel(input) {\n    var $label;\n    for (\n        var label = input.parentNode;\n        label && label.nodeType !== 11;\n        label = label.parentNode\n    ) {\n        if (label.tagName === \"LABEL\") {\n            return label;\n        }\n    }\n    if (input.id) {\n        $label = $('label[for=\"' + input.id + '\"]');\n    }\n    if ($label && $label.length === 0 && input.form) {\n        $label = $('label[for=\"' + input.name + '\"]', input.form);\n    }\n    if ($label && $label.length) {\n        return $label[0];\n    } else {\n        return null;\n    }\n}\n\n// Taken from http://stackoverflow.com/questions/3446170/escape-string-for-use-in-javascript-regex\nfunction escapeRegExp(str) {\n    return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n}\n\n/**\n * Create a RegExp object of a wildcard search string.\n *\n * @param {string} wildcard: A search string which can contain wildcards \"*\".\n *                           The wildcard \"*\" can be anywhere in the string and\n *                           can also be used multiple times. If no wildcard is\n *                           present the search string is used for an exact match.\n\n * @returns {RegExp}: A RegExp object which can be used to match strings.\n */\nfunction regexp_from_wildcard(wildcard) {\n    let regexp = wildcard.replace(/[\\-\\[\\]{}()+?.,\\\\\\^$|#\\s]/g, \"\\\\$&\");\n    regexp = regexp.replace(/[*]/g, \".*\");\n    regexp = new RegExp(`^${regexp}$`);\n    return regexp;\n}\n\n/**\n * Remove classes from a list of targets if they match a specific pattern.\n *\n * @param {Node, NodeList} targets: Dom Node or NodeList where the classes should be removed.\n * @param {string} classes: String matching classes to be removed.\n *                          You can add a \"*\" as wildcard to search for classes to be removed.\n *                          E.g. \"icon-*-alert\" to remove any of \"icon-1-alert icon-2-alert\".\n *\n * @returns {undefined}: This method directly operates on the targets.\n */\nfunction removeWildcardClass(targets, classes) {\n    targets = utils.ensureArray(targets);\n\n    if (classes.indexOf(\"*\") === -1) {\n        for (const target of targets) {\n            target.classList.remove(classes);\n        }\n    } else {\n        const matcher = regexp_from_wildcard(classes);\n        for (const target of targets) {\n            const class_list = (target.getAttribute(\"class\") || \"\").split(/\\s+/);\n            if (!class_list.length) {\n                continue;\n            }\n            const ok = class_list.filter((it) => !matcher.test(it));\n            if (ok.length) {\n                target.setAttribute(\"class\", ok.join(\" \"));\n            } else {\n                target.removeAttribute(\"class\");\n            }\n        }\n    }\n}\n\nfunction hasValue(el) {\n    if (el.tagName === \"INPUT\") {\n        if (el.type === \"checkbox\" || el.type === \"radio\") {\n            return el.checked;\n        }\n        return el.value !== \"\";\n    }\n    if (el.tagName === \"SELECT\") {\n        return el.selectedIndex !== -1;\n    }\n    if (el.tagName === \"TEXTAREA\") {\n        return el.value !== \"\";\n    }\n    return false;\n}\n\nconst hideOrShow = (nodes, visible, options, pattern_name) => {\n    nodes = dom.toNodeArray(nodes);\n\n    const transitions = {\n        none: { hide: \"hide\", show: \"show\" },\n        fade: { hide: \"fadeOut\", show: \"fadeIn\" },\n        slide: { hide: \"slideUp\", show: \"slideDown\" },\n    };\n\n    const duration =\n        options.transition === \"css\" || options.transition === \"none\"\n            ? null\n            : options.effect.duration;\n\n    const on_complete = (el) => {\n        el.classList.remove(\"in-progress\");\n        el.classList.add(visible ? \"visible\" : \"hidden\");\n        $(el).trigger(\"pat-update\", {\n            pattern: pattern_name,\n            action: \"attribute-changed\",\n            dom: el,\n            transition: \"complete\",\n        });\n    };\n\n    for (const el of nodes) {\n        el.classList.remove(\"visible\");\n        el.classList.remove(\"hidden\");\n        el.classList.remove(\"in-progress\");\n\n        if (duration) {\n            const t = transitions[options.transition];\n            el.classList.add(\"in-progress\");\n            $(el).trigger(\"pat-update\", {\n                pattern: pattern_name,\n                action: \"attribute-changed\",\n                dom: el,\n                transition: \"start\",\n            });\n            $(el)[visible ? t.show : t.hide]({\n                duration: duration,\n                easing: options.effect.easing,\n                complete: () => on_complete(el),\n            });\n        } else {\n            if (options.transition !== \"css\") {\n                dom[visible ? \"show\" : \"hide\"](el);\n            }\n            on_complete(el);\n        }\n    }\n};\n\nfunction addURLQueryParameter(fullURL, param, value) {\n    /* Using a positive lookahead (?=\\=) to find the given parameter,\n     * preceded by a ? or &, and followed by a = with a value after\n     * than (using a non-greedy selector) and then followed by\n     * a & or the end of the string.\n     *\n     * Taken from http://stackoverflow.com/questions/7640270/adding-modify-query-string-get-variables-in-a-url-with-javascript\n     */\n    var val = new RegExp(\"(\\\\?|\\\\&)\" + param + \"=.*?(?=(&|$))\"),\n        parts = fullURL.toString().split(\"#\"),\n        url = parts[0],\n        hash = parts[1],\n        qstring = /\\?.+$/,\n        newURL = url;\n    // Check if the parameter exists\n    if (val.test(url)) {\n        // if it does, replace it, using the captured group\n        // to determine & or ? at the beginning\n        newURL = url.replace(val, \"$1\" + param + \"=\" + value);\n    } else if (qstring.test(url)) {\n        // otherwise, if there is a query string at all\n        // add the param to the end of it\n        newURL = url + \"&\" + param + \"=\" + value;\n    } else {\n        // if there's no query string, add one\n        newURL = url + \"?\" + param + \"=\" + value;\n    }\n    if (hash) {\n        newURL += \"#\" + hash;\n    }\n    return newURL;\n}\n\nfunction removeDuplicateObjects(objs) {\n    /* Given an array of objects, remove any duplicate objects which might\n     * be present.\n     */\n    const comparator = function (k, v) {\n        return this[k] === v;\n    };\n\n    return objs.reduce(function (list, next_obj) {\n        let is_duplicate = false;\n        for (const obj of list) {\n            is_duplicate =\n                Object.keys(obj).length === Object.keys(next_obj).length &&\n                Object.entries(obj).filter(\n                    (it) => !comparator.bind(next_obj)(it[0], it[1])\n                ).length === 0;\n        }\n        if (!is_duplicate) {\n            list.push(next_obj);\n        }\n        return list;\n    }, []);\n}\n\nfunction mergeStack(stack, length) {\n    /* Given a list of lists of objects (which for brevity we call a stack),\n     * return a list of objects where each object is the merge of all the\n     * corresponding original objects at that particular index.\n     *\n     * If a certain sub-list doesn't have an object at that particular\n     * index, the last object in that list is merged.\n     */\n    const results = [];\n    for (let i = 0; i < length; i++) {\n        results.push({});\n    }\n    for (const frame of stack) {\n        const frame_length = frame.length - 1;\n        for (let x = 0; x < length; x++) {\n            results[x] = $.extend(\n                results[x] || {},\n                frame[x > frame_length ? frame_length : x]\n            );\n        }\n    }\n    return results;\n}\n\nfunction isElementInViewport(el, partial = false, offset = 0) {\n    /* returns true if element is visible to the user ie. is in the viewport.\n     * Setting partial parameter to true, will only check if a part of the element is visible\n     * in the viewport, specifically that some part of that element is touching the top part\n     * of the viewport. This only applies to the vertical direction, ie. doesnt check partial\n     * visibility for horizontal scrolling\n     * some code taken from:\n     * http://stackoverflow.com/questions/123999/how-to-tell-if-a-dom-element-is-visible-in-the-current-viewport/7557433#7557433\n     */\n    if (el instanceof $) {\n        el = el[0];\n    }\n\n    const rec = el.getBoundingClientRect();\n    const rec_values = [rec.top, rec.bottom, rec.left, rec.right];\n\n    if (rec_values.every((val) => val === 0)) {\n        // if every property of rec is 0, the element is invisible;\n        return false;\n    } else if (partial) {\n        // when using getBoundingClientRect() (in the vertical case)\n        // negative means above top of viewport, positive means below top of viewport\n        // therefore for part of the element to be touching or crossing the top of the viewport\n        // rec.top must <= 0 and rec.bottom must >= 0\n        // an optional tolerance offset can be added for when the desired element is not exactly\n        // toucing the top of the viewport but needs to be considered as touching.\n        return (\n            rec.top <= 0 + offset && rec.bottom >= 0 + offset\n            //(rec.top >= 0+offset && rec.top <= window.innerHeight) // this checks if the element\n            // touches bottom part of viewport\n            // XXX do we want to include a check for the padding of an element?\n            // using window.getComputedStyle(target).paddingTop\n        );\n    } else {\n        // this will return true if the entire element is completely in the viewport\n        return (\n            rec.top >= 0 &&\n            rec.left >= 0 &&\n            rec.bottom <=\n                (window.innerHeight || document.documentElement.clientHeight) &&\n            rec.right <= (window.innerWidth || document.documentElement.clientWidth)\n        );\n    }\n}\n\n/* parseTime - Parse a duration from a string and return the parsed time in milliseconds.\n *\n * @param {String} time - A duration/time string like ``1ms``, ``1s`` or ``1m``.\n *\n * @returns {Number} - A integer which represents the parsed time in milliseconds.\n */\nfunction parseTime(time) {\n    var m = /^(\\d+(?:\\.\\d+)?)\\s*(\\w*)/.exec(time);\n    if (!m) {\n        throw new Error(\"Invalid time\");\n    }\n    var amount = parseFloat(m[1]);\n    switch (m[2]) {\n        case \"s\":\n            return Math.round(amount * 1000);\n        case \"m\":\n            return Math.round(amount * 1000 * 60);\n        case \"ms\":\n        default:\n            return Math.round(amount);\n    }\n}\n\n/*\n\n * parseLength - Parse a length from a string and return the parsed length in\n * pixels.\n\n * @param {String} length - A length string like `1px` or `25%`. Lengths without a unit are treated as pixels.\n * @param {Number} reference_length - The reference length to use for percentage lengths.\n *\n * @returns {Number} - A integer which represents the parsed length in pixels.\n *\n * @throws {Error} - If the length string is invalid.\n *\n * @example\n * parseLength(\"1px\"); // 1\n * parseLength(\"10%\", 100); // 10\n *\n */\nfunction parseLength(length, reference_length = null) {\n    const m = /^(\\d+(?:\\.\\d+)?)\\s*(\\%?\\w*)/.exec(length);\n    if (!m) {\n        throw new Error(\"Invalid length\");\n    }\n    const amount = parseFloat(m[1]);\n    switch (m[2]) {\n        case \"px\":\n            return Math.round(amount);\n        case \"%\":\n            if (!reference_length) {\n                return 0;\n            }\n            return (reference_length / 100) * Math.round(amount);\n        case \"vw\":\n            return Math.round((amount * window.innerWidth) / 100);\n        case \"vh\":\n            return Math.round((amount * window.innerHeight) / 100);\n        case \"vmin\":\n            return Math.round(\n                (amount * Math.min(window.innerWidth, window.innerHeight)) / 100\n            );\n        case \"vmax\":\n            return Math.round(\n                (amount * Math.max(window.innerWidth, window.innerHeight)) / 100\n            );\n        default:\n            return Math.round(amount);\n    }\n}\n\n// Return a jQuery object with elements related to an input element.\nfunction findRelatives(el) {\n    var $el = $(el),\n        $relatives = $(el),\n        $label = $();\n\n    $relatives = $relatives.add($el.closest(\"label\"));\n    $relatives = $relatives.add($el.closest(\"fieldset\"));\n\n    if (el.id) $label = $(\"label[for='\" + el.id + \"']\");\n    if (!$label.length) {\n        var $form = $el.closest(\"form\");\n        if (!$form.length) $form = $(document.body);\n        $label = $form.find(\"label[for='\" + el.name + \"']\");\n    }\n    $relatives = $relatives.add($label);\n    return $relatives;\n}\n\nfunction get_bounds(el) {\n    // Return bounds of an element with it's values rounded and converted to ints.\n    const bounds = el.getBoundingClientRect();\n    return {\n        x: parseInt(Math.round(bounds.x), 10) || 0,\n        y: parseInt(Math.round(bounds.y), 10) || 0,\n        top: parseInt(Math.round(bounds.top), 10) || 0,\n        bottom: parseInt(Math.round(bounds.bottom), 10) || 0,\n        left: parseInt(Math.round(bounds.left), 10) || 0,\n        right: parseInt(Math.round(bounds.right), 10) || 0,\n        width: parseInt(Math.round(bounds.width), 10) || 0,\n        height: parseInt(Math.round(bounds.height), 10) || 0,\n    };\n}\n\nfunction checkInputSupport(type, invalid_value) {\n    /* Check input type support.\n     *  See: https://stackoverflow.com/a/10199306/1337474\n     */\n    let support = false;\n    const input = document.createElement(\"input\");\n    input.setAttribute(\"type\", type);\n    support = input.type == type;\n\n    if (invalid_value !== undefined) {\n        // Check for input type UI support\n        input.setAttribute(\"value\", invalid_value);\n        support = input.value !== invalid_value;\n    }\n    return support;\n}\n\nconst checkCSSFeature = (attribute, value, tag = \"div\") => {\n    /* Check for browser support of specific CSS feature.\n     */\n    tag = document.createElement(tag);\n    let supported = tag.style[attribute] !== undefined;\n    if (supported && value !== undefined) {\n        tag.style[attribute] = value;\n        supported = tag.style[attribute] === value;\n    }\n    return supported;\n};\n\nconst animation_frame = () => {\n    // Return promise to await next repaint cycle\n    // Use it in your async function like so: ``await utils.animation_frame()``\n    // From: http://www.albertlobo.com/fractals/async-await-requestanimationframe-buddhabrot\n    return new Promise(window.requestAnimationFrame);\n};\n\nconst timeout = (ms) => {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n};\n\n/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds.\n * From: https://underscorejs.org/#debounce\n *\n * @param {Function} func - The function to debounce.\n * @param {Number} ms - The time in milliseconds to debounce.\n * @param {Object} timer - A module-global timer as an object.\n * @param {Boolean} [postpone=true] - If true, the function will only be called\n * at the end, after it stops being called for N milliseconds. If false, the\n * function will be called no more than each [ms] milliseconds, ensuring that\n * the function isn't postponed for for too long.\n *\n * @returns {Function} - The debounced function.\n */\nconst debounce = (func, ms, timer = { timer: null }, postpone = true) => {\n    // Returns a function, that, as long as it continues to be invoked, will not\n    // be triggered. The function will be called after it stops being called for\n    // N milliseconds.\n    // From: https://underscorejs.org/#debounce\n    //\n    // Make sure to initialize ``debounce`` only once per to-be-debounced\n    // function to not reinitialize the timer each time and debounce not being\n    // able to cancel previouse runs.\n    //\n    // Pass a module-global timer as an object ``{ timer: null }`` if you want\n    // to also cancel debounced functions from other pattern-invocations.\n    timer.last_run = 0;\n    return function () {\n        const args = arguments;\n        if (!postpone && timer.timer && Date.now() - timer.last_run <= ms) {\n            return;\n        }\n        clearTimeout(timer.timer);\n        timer.last_run = Date.now();\n        timer.timer = setTimeout(() => {\n            func.apply(this, args);\n        }, ms);\n    };\n};\n\n// TODO: Remove in next major release.\nconst isIE = () => {\n    // See: https://stackoverflow.com/a/9851769/1337474\n    // Internet Explorer 6-11\n    // eslint-disable-next-line no-constant-binary-expression\n    return /*@cc_on!@*/false || !!document.documentMode;\n};\n\nconst jqToNode = (el) => {\n    // Return a DOM node if a jQuery node was passed.\n    if (el.jquery) {\n        el = el[0];\n    }\n    return el;\n};\n\n/**\n * Always return an iterable object.\n *\n * @param {any} it: The object which needs to be wrapped in an array or returned as is if it is iterable.\n * @param {boolean} force_array: If the object is iterable but not an Array, convert it to an array (e.g. For jQuery items or NodeList objects).\n *\n * @returns {Array}: Returns the object wrapped in an Array, expanded to an Array or as-is if it is already iterable.\n */\nconst ensureArray = (it, force_array) => {\n    // Ensure to return always an array\n    const array_like = !!(\n        NodeList.prototype.isPrototypeOf(it) || // eslint-disable-line no-prototype-builtins\n        Array.isArray(it) ||\n        it.jquery\n    );\n    return array_like ? (force_array ? [...it] : it) : [it];\n};\n\nconst localized_isodate = (date) => {\n    // Return a iso date (date only) in the current timezone instead of a\n    // UTC ISO 8601 date+time component which toISOString returns.\n\n    const day = date.getDate().toString().padStart(2, \"0\");\n    const month = (date.getMonth() + 1).toString().padStart(2, \"0\");\n    const year = date.getFullYear().toString();\n\n    return `${year}-${month}-${day}`;\n};\n\n/**\n * Replace HTML reserved characters with html entities to add HTML for user\n * editing to e.g. a textarea or a contenteditable.\n *\n * See:\n *  https://stackoverflow.com/a/22706073/1337474\n *  https://developer.mozilla.org/en-US/docs/Glossary/Entity#reserved_characters\n *\n * @param {string} html - The HTML string to encode.\n *\n * @returns {string} - Returns the escaped html string:\n *                     ``&`` will be replaced with ``&amp;``.\n *                     ``<`` will be repalced with ``&lt;``,\n *                     ``>`` will be replaced with ``&gt;``,\n *                     ``\"`` will be replaced with ``&quot;``.\n */\nconst escape_html = (html) => {\n    if (!html) {\n        return \"\";\n    }\n    const el = document.createElement(\"div\");\n    el.appendChild(document.createTextNode(html));\n    // Return escaped html and also replace quotes.\n    return el.innerHTML.replace(/\"/g, \"&quot;\");\n};\n\n/**\n * Return unescaped, raw HTML from an escaped HTML  string.\n *\n * See:\n *  https://stackoverflow.com/a/34064434/1337474\n *  https://developer.mozilla.org/en-US/docs/Glossary/Entity#reserved_characters\n *\n * @param {string} escaped_html - The HTML string to decode.\n *\n * @returns {string} - Returns the escaped html string:\n *                     ``&amp;`` will be replaced with ``&``,\n *                     ``&lt;`` will be repalced with ``<``,\n *                     ``&gt;`` will be replaced with ``>``,\n *                     ``&quot;`` will be replaced with ``\"``.\n */\nconst unescape_html = (escaped_html) => {\n    if (!escaped_html) {\n        return \"\";\n    }\n    const doc = new DOMParser().parseFromString(escaped_html, \"text/html\");\n    // Return unescaped html and also unescape quote named entities.\n    return doc.documentElement.textContent.replace(/&quot;/g, '\"');\n};\n\n/**\n * Return true, if the given value is a valid ISO 8601 date/time string with or without an optional time component.\n *\n * @param {String} value - The date/time value to be checked.\n * @param {Boolean} [optional_time=false] - True, if time component is optional.\n * @return {Boolean} - True, if the given value is a valid Date string. False if not.\n */\nconst is_iso_date_time = (value, optional_time = false) => {\n    const re_date_time = optional_time\n        ? /^\\d{4}-[01]\\d-[0-3]\\d(T[0-2]\\d:[0-5]\\d)?$/\n        : /^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d$/;\n    return re_date_time.test(value);\n};\n\n/**\n * Return true, if the given value is a valid ISO 8601 date string and without a time component.\n *\n * @param {String} value - The date value to be checked.\n * @return {Boolean} - True, if the given value is a valid ISO 8601 date string without a time component. False if not.\n */\nconst is_iso_date = (value) => {\n    const re_date_time = /^\\d{4}-[01]\\d-[0-3]\\d$/;\n    return re_date_time.test(value);\n};\n\n/**\n * Return the number of days between two dates.\n * Based on: https://stackoverflow.com/a/15289883/1337474\n *\n * @param {Date} date_1 - First date to compare. We will substract date_2 from date_1.\n * @param {Date} date_2 - Second date to compare.\n * @return {Number} - The number of days between the two dates.\n */\nconst date_diff = (date_1, date_2) => {\n    // Discard the time and time-zone information.\n    const utc_1 = Date.UTC(date_1.getFullYear(), date_1.getMonth(), date_1.getDate());\n    const utc_2 = Date.UTC(date_2.getFullYear(), date_2.getMonth(), date_2.getDate());\n\n    return Math.floor((utc_1 - utc_2) / _MS_PER_DAY);\n};\n\n/**\n * Build intersection observer threshold list.\n *\n * See: https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API#building_the_array_of_threshold_ratios\n *\n * @param {Number} num_steps - The number of steps to use.\n *\n * @returns {Array} - Returns the threshold list.\n */\nconst threshold_list = (num_steps = 0) => {\n    let thresholds = [];\n\n    for (let i = 1.0; i <= num_steps; i++) {\n        thresholds.push(i / num_steps);\n    }\n    thresholds.push(0);\n    return thresholds.sort();\n};\n\n/**\n * is_option_truthy - Check if an Pattern option is set.\n *\n * An option is set if it is not one of:\n * - undefined\n * - null\n * - \"none\"\n * - \"\"\n *\n * @param {String} option - The option to check.\n *\n * @returns {Boolean} - Returns true if the option is set, false otherwise.\n *\n * @example\n *\n * is_option_truthy() // false\n * is_option_truthy(undefined) // false\n * is_option_truthy(null) // false\n * is_option_truthy(\"\") // false\n * is_option_truthy(\"none\") // false\n * is_option_truthy(\"false\") // false\n * is_option_truthy(\"foo\") // true\n * is_option_truthy(true) // true\n * is_option_truthy(0) // true\n *\n */\nconst is_option_truthy = (option) => {\n    return ![undefined, null, \"none\", false, \"false\", \"\"].includes(option);\n};\n\nvar utils = {\n    jqueryPlugin: jqueryPlugin,\n    escapeRegExp: escapeRegExp,\n    isObject: isObject,\n    extend: extend,\n    findLabel: findLabel,\n    regexp_from_wildcard: regexp_from_wildcard,\n    removeWildcardClass: removeWildcardClass,\n    hideOrShow: hideOrShow,\n    addURLQueryParameter: addURLQueryParameter,\n    removeDuplicateObjects: removeDuplicateObjects,\n    mergeStack: mergeStack,\n    isElementInViewport: isElementInViewport,\n    hasValue: hasValue,\n    parseTime: parseTime,\n    parseLength: parseLength,\n    findRelatives: findRelatives,\n    get_bounds: get_bounds,\n    checkInputSupport: checkInputSupport,\n    checkCSSFeature: checkCSSFeature,\n    animation_frame: animation_frame,\n    timeout: timeout,\n    debounce: debounce,\n    isIE: isIE,\n    jqToNode: jqToNode,\n    ensureArray: ensureArray,\n    localized_isodate: localized_isodate,\n    escape_html: escape_html,\n    unescape_html: unescape_html,\n    is_iso_date_time: is_iso_date_time,\n    is_iso_date: is_iso_date,\n    date_diff: date_diff,\n    threshold_list: threshold_list,\n    is_option_truthy: is_option_truthy,\n    //getCSSValue: dom.get_css_value, // BBB: moved to dom. TODO: Remove in upcoming version.\n    elementInViewport: (el) => {\n        // BBB: Remove with next major version.\n        console.warn(\"Deprecated. Use utils.isElementInViewport\");\n        return isElementInViewport(el);\n    },\n};\n\nexport default utils;\n","import $ from \"jquery\";\nimport { BasePattern } from \"@patternslib/patternslib/src/core/basepattern\";\nimport events from \"../../core/events\";\nimport dom from \"../../core/dom\";\nimport logging from \"../../core/logging\";\nimport Parser from \"@patternslib/patternslib/src/core/parser\";\nimport registry from \"@patternslib/patternslib/src/core/registry\";\nimport utils from \"../../core/utils\";\n\nconst log = logging.getLogger(\"depends\");\n\nexport const parser = new Parser(\"depends\");\nparser.addArgument(\"condition\");\nparser.addArgument(\"action\", \"show\", [\"show\", \"enable\", \"both\"]);\nparser.addArgument(\"transition\", \"none\", [\"none\", \"css\", \"fade\", \"slide\"]);\nparser.addArgument(\"effect-duration\", \"fast\");\nparser.addArgument(\"effect-easing\", \"swing\");\n\n\n// A custom input event which differs from the one in `core/events` in that it\n// accepts a `detail` object to pass arbitrary information around.\n// TODO: The events in `core/events` should be refactored to accept a `detail`\n// object.\nconst input_event = (detail = {}) => {\n    return new CustomEvent(\"input\", {\n        bubbles: true,\n        cancelable: false,\n        detail: detail,\n    });\n};\n\n\nclass Pattern extends BasePattern {\n    static name = \"depends\";\n    static trigger = \".pat-depends\";\n    static parser = parser;\n\n    async init() {\n        this.$el = $(this.el);\n        const DependsHandler = (await import(\"../../lib/dependshandler\")).default; // prettier-ignore\n\n        try {\n            this.handler = new DependsHandler(this.el, this.options.condition);\n        } catch (e) {\n            log.error(\"Invalid condition: \" + e.message, this.el);\n            return;\n        }\n\n        // Initialize\n        this.set_state();\n\n        for (const input of this.handler.getAllInputs()) {\n            // Note: One input can be a dependency for multiple other dependent\n            // elements. Therefore we need to bind the events not uniquely and\n            // add a uuid to the event bindings id.\n\n            events.add_event_listener(\n                input,\n                \"input\",\n                `pat-depends--input--${this.uuid}`,\n                (e) => {\n                    if (e?.detail?.pattern_uuid === this.uuid) {\n                        // Ignore input events invoked from this pattern\n                        // instance to avoid infinite loops.\n                        return;\n                    }\n                    this.set_state();\n                }\n            );\n\n            if (input.form) {\n                events.add_event_listener(\n                    input.form,\n                    \"reset\",\n                    `pat-depends--reset--${this.uuid}`,\n                    async () => {\n                        // TODO: note sure, what this timeout is for.\n                        await utils.timeout(50);\n                        this.set_state.bind(this);\n                    }\n                );\n            }\n        }\n    }\n\n    update_modal() {\n        const modal = this.el.closest(\".pat-modal\");\n\n        // If we're in a modal, make sure that it gets resized.\n        if (modal) {\n            $(document).trigger(\"pat-update\", { pattern: \"depends\" });\n        }\n    }\n\n    enable() {\n        const inputs = dom.find_inputs(this.el);\n        for (const input of inputs) {\n            if (input.disabled === false) {\n                // Do not re-enable an already enabled input.\n                continue;\n            }\n\n            // Now, enable the input element.\n            input.disabled = false;\n\n            if (input === this.el) {\n                // Do not re-trigger this pattern on it's own element to avoid\n                // infinite loops.\n                continue;\n            }\n\n            if (dom.is_button(input)) {\n                // Do not trigger the input event on buttons as they do not\n                // support it.\n                continue;\n            }\n\n            // Trigger the input after enabling so that any other bound\n            // actions can react on that.\n            input.dispatchEvent(input_event({ pattern_uuid: this.uuid }));\n        }\n\n        // Restore the original click behavior for anchor elements.\n        if (this.el.tagName === \"A\") {\n            events.remove_event_listener(this.el, \"pat-depends--click\");\n        }\n\n        // Remove the disabled class from the element.\n        this.el.classList.remove(\"disabled\");\n\n        // Trigger the pat-update event to notify other patterns about enabling.\n        this.$el.trigger(\"pat-update\", {\n            pattern: \"depends\",\n            action: \"attribute-changed\",\n            dom: this.el,\n            enabled: true,\n        });\n    }\n\n    disable() {\n        const inputs = dom.find_inputs(this.el);\n        for (const input of inputs) {\n            if (input.disabled === true) {\n                // Do not re-disable an already disabled input.\n                continue;\n            }\n\n            // Now, disable the input element.\n            input.disabled = true;\n\n            if (input === this.el) {\n                // Do not re-trigger this pattern on it's own element to avoid\n                // infinite loops.\n                continue;\n            }\n\n            if (dom.is_button(input)) {\n                // Do not trigger the input event on buttons as they do not\n                // support it.\n                continue;\n            }\n\n            // Trigger the input after disabling so that any other bound\n            // actions can react on that.\n            input.dispatchEvent(input_event({ pattern_uuid: this.uuid }));\n        }\n\n        // Prevent the default click behavior for anchor elements.\n        if (this.el.tagName === \"A\") {\n            events.add_event_listener(this.el, \"click\", \"pat-depends--click\", (e) =>\n                e.preventDefault()\n            );\n        }\n\n        // Add the disabled class to the element.\n        this.el.classList.add(\"disabled\");\n\n        // Trigger the pat-update event to notify other patterns about disabling.\n        this.$el.trigger(\"pat-update\", {\n            pattern: \"depends\",\n            action: \"attribute-changed\",\n            dom: this.el,\n            enabled: false,\n        });\n    }\n\n    set_state() {\n        const state = this.handler.evaluate();\n        switch (this.options.action) {\n            case \"show\":\n                utils.hideOrShow(this.el, state, this.options, this.name);\n                this.update_modal();\n                break;\n            case \"enable\":\n                if (state) {\n                    this.enable();\n                } else {\n                    this.disable();\n                }\n                break;\n            case \"both\":\n                utils.hideOrShow(this.el, state, this.options, this.name);\n                this.update_modal();\n                if (state) {\n                    this.enable();\n                } else {\n                    this.disable();\n                }\n                break;\n        }\n    }\n}\n\n// Register Pattern class in the global pattern registry\nregistry.register(Pattern);\n\n// Make it available\nexport default Pattern;\n","/*!\n  * Bootstrap tab.js v5.3.7 (https://getbootstrap.com/)\n  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)\n  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n  */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('./base-component.js'), require('./dom/event-handler.js'), require('./dom/selector-engine.js'), require('./util/index.js')) :\n  typeof define === 'function' && define.amd ? define(['./base-component', './dom/event-handler', './dom/selector-engine', './util/index'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Tab = factory(global.BaseComponent, global.EventHandler, global.SelectorEngine, global.Index));\n})(this, (function (BaseComponent, EventHandler, SelectorEngine, index_js) { 'use strict';\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap tab.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n\n  /**\n   * Constants\n   */\n\n  const NAME = 'tab';\n  const DATA_KEY = 'bs.tab';\n  const EVENT_KEY = `.${DATA_KEY}`;\n  const EVENT_HIDE = `hide${EVENT_KEY}`;\n  const EVENT_HIDDEN = `hidden${EVENT_KEY}`;\n  const EVENT_SHOW = `show${EVENT_KEY}`;\n  const EVENT_SHOWN = `shown${EVENT_KEY}`;\n  const EVENT_CLICK_DATA_API = `click${EVENT_KEY}`;\n  const EVENT_KEYDOWN = `keydown${EVENT_KEY}`;\n  const EVENT_LOAD_DATA_API = `load${EVENT_KEY}`;\n  const ARROW_LEFT_KEY = 'ArrowLeft';\n  const ARROW_RIGHT_KEY = 'ArrowRight';\n  const ARROW_UP_KEY = 'ArrowUp';\n  const ARROW_DOWN_KEY = 'ArrowDown';\n  const HOME_KEY = 'Home';\n  const END_KEY = 'End';\n  const CLASS_NAME_ACTIVE = 'active';\n  const CLASS_NAME_FADE = 'fade';\n  const CLASS_NAME_SHOW = 'show';\n  const CLASS_DROPDOWN = 'dropdown';\n  const SELECTOR_DROPDOWN_TOGGLE = '.dropdown-toggle';\n  const SELECTOR_DROPDOWN_MENU = '.dropdown-menu';\n  const NOT_SELECTOR_DROPDOWN_TOGGLE = `:not(${SELECTOR_DROPDOWN_TOGGLE})`;\n  const SELECTOR_TAB_PANEL = '.list-group, .nav, [role=\"tablist\"]';\n  const SELECTOR_OUTER = '.nav-item, .list-group-item';\n  const SELECTOR_INNER = `.nav-link${NOT_SELECTOR_DROPDOWN_TOGGLE}, .list-group-item${NOT_SELECTOR_DROPDOWN_TOGGLE}, [role=\"tab\"]${NOT_SELECTOR_DROPDOWN_TOGGLE}`;\n  const SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"tab\"], [data-bs-toggle=\"pill\"], [data-bs-toggle=\"list\"]'; // TODO: could only be `tab` in v6\n  const SELECTOR_INNER_ELEM = `${SELECTOR_INNER}, ${SELECTOR_DATA_TOGGLE}`;\n  const SELECTOR_DATA_TOGGLE_ACTIVE = `.${CLASS_NAME_ACTIVE}[data-bs-toggle=\"tab\"], .${CLASS_NAME_ACTIVE}[data-bs-toggle=\"pill\"], .${CLASS_NAME_ACTIVE}[data-bs-toggle=\"list\"]`;\n\n  /**\n   * Class definition\n   */\n\n  class Tab extends BaseComponent {\n    constructor(element) {\n      super(element);\n      this._parent = this._element.closest(SELECTOR_TAB_PANEL);\n      if (!this._parent) {\n        return;\n        // TODO: should throw exception in v6\n        // throw new TypeError(`${element.outerHTML} has not a valid parent ${SELECTOR_INNER_ELEM}`)\n      }\n\n      // Set up initial aria attributes\n      this._setInitialAttributes(this._parent, this._getChildren());\n      EventHandler.on(this._element, EVENT_KEYDOWN, event => this._keydown(event));\n    }\n\n    // Getters\n    static get NAME() {\n      return NAME;\n    }\n\n    // Public\n    show() {\n      // Shows this elem and deactivate the active sibling if exists\n      const innerElem = this._element;\n      if (this._elemIsActive(innerElem)) {\n        return;\n      }\n\n      // Search for active tab on same parent to deactivate it\n      const active = this._getActiveElem();\n      const hideEvent = active ? EventHandler.trigger(active, EVENT_HIDE, {\n        relatedTarget: innerElem\n      }) : null;\n      const showEvent = EventHandler.trigger(innerElem, EVENT_SHOW, {\n        relatedTarget: active\n      });\n      if (showEvent.defaultPrevented || hideEvent && hideEvent.defaultPrevented) {\n        return;\n      }\n      this._deactivate(active, innerElem);\n      this._activate(innerElem, active);\n    }\n\n    // Private\n    _activate(element, relatedElem) {\n      if (!element) {\n        return;\n      }\n      element.classList.add(CLASS_NAME_ACTIVE);\n      this._activate(SelectorEngine.getElementFromSelector(element)); // Search and activate/show the proper section\n\n      const complete = () => {\n        if (element.getAttribute('role') !== 'tab') {\n          element.classList.add(CLASS_NAME_SHOW);\n          return;\n        }\n        element.removeAttribute('tabindex');\n        element.setAttribute('aria-selected', true);\n        this._toggleDropDown(element, true);\n        EventHandler.trigger(element, EVENT_SHOWN, {\n          relatedTarget: relatedElem\n        });\n      };\n      this._queueCallback(complete, element, element.classList.contains(CLASS_NAME_FADE));\n    }\n    _deactivate(element, relatedElem) {\n      if (!element) {\n        return;\n      }\n      element.classList.remove(CLASS_NAME_ACTIVE);\n      element.blur();\n      this._deactivate(SelectorEngine.getElementFromSelector(element)); // Search and deactivate the shown section too\n\n      const complete = () => {\n        if (element.getAttribute('role') !== 'tab') {\n          element.classList.remove(CLASS_NAME_SHOW);\n          return;\n        }\n        element.setAttribute('aria-selected', false);\n        element.setAttribute('tabindex', '-1');\n        this._toggleDropDown(element, false);\n        EventHandler.trigger(element, EVENT_HIDDEN, {\n          relatedTarget: relatedElem\n        });\n      };\n      this._queueCallback(complete, element, element.classList.contains(CLASS_NAME_FADE));\n    }\n    _keydown(event) {\n      if (![ARROW_LEFT_KEY, ARROW_RIGHT_KEY, ARROW_UP_KEY, ARROW_DOWN_KEY, HOME_KEY, END_KEY].includes(event.key)) {\n        return;\n      }\n      event.stopPropagation(); // stopPropagation/preventDefault both added to support up/down keys without scrolling the page\n      event.preventDefault();\n      const children = this._getChildren().filter(element => !index_js.isDisabled(element));\n      let nextActiveElement;\n      if ([HOME_KEY, END_KEY].includes(event.key)) {\n        nextActiveElement = children[event.key === HOME_KEY ? 0 : children.length - 1];\n      } else {\n        const isNext = [ARROW_RIGHT_KEY, ARROW_DOWN_KEY].includes(event.key);\n        nextActiveElement = index_js.getNextActiveElement(children, event.target, isNext, true);\n      }\n      if (nextActiveElement) {\n        nextActiveElement.focus({\n          preventScroll: true\n        });\n        Tab.getOrCreateInstance(nextActiveElement).show();\n      }\n    }\n    _getChildren() {\n      // collection of inner elements\n      return SelectorEngine.find(SELECTOR_INNER_ELEM, this._parent);\n    }\n    _getActiveElem() {\n      return this._getChildren().find(child => this._elemIsActive(child)) || null;\n    }\n    _setInitialAttributes(parent, children) {\n      this._setAttributeIfNotExists(parent, 'role', 'tablist');\n      for (const child of children) {\n        this._setInitialAttributesOnChild(child);\n      }\n    }\n    _setInitialAttributesOnChild(child) {\n      child = this._getInnerElement(child);\n      const isActive = this._elemIsActive(child);\n      const outerElem = this._getOuterElement(child);\n      child.setAttribute('aria-selected', isActive);\n      if (outerElem !== child) {\n        this._setAttributeIfNotExists(outerElem, 'role', 'presentation');\n      }\n      if (!isActive) {\n        child.setAttribute('tabindex', '-1');\n      }\n      this._setAttributeIfNotExists(child, 'role', 'tab');\n\n      // set attributes to the related panel too\n      this._setInitialAttributesOnTargetPanel(child);\n    }\n    _setInitialAttributesOnTargetPanel(child) {\n      const target = SelectorEngine.getElementFromSelector(child);\n      if (!target) {\n        return;\n      }\n      this._setAttributeIfNotExists(target, 'role', 'tabpanel');\n      if (child.id) {\n        this._setAttributeIfNotExists(target, 'aria-labelledby', `${child.id}`);\n      }\n    }\n    _toggleDropDown(element, open) {\n      const outerElem = this._getOuterElement(element);\n      if (!outerElem.classList.contains(CLASS_DROPDOWN)) {\n        return;\n      }\n      const toggle = (selector, className) => {\n        const element = SelectorEngine.findOne(selector, outerElem);\n        if (element) {\n          element.classList.toggle(className, open);\n        }\n      };\n      toggle(SELECTOR_DROPDOWN_TOGGLE, CLASS_NAME_ACTIVE);\n      toggle(SELECTOR_DROPDOWN_MENU, CLASS_NAME_SHOW);\n      outerElem.setAttribute('aria-expanded', open);\n    }\n    _setAttributeIfNotExists(element, attribute, value) {\n      if (!element.hasAttribute(attribute)) {\n        element.setAttribute(attribute, value);\n      }\n    }\n    _elemIsActive(elem) {\n      return elem.classList.contains(CLASS_NAME_ACTIVE);\n    }\n\n    // Try to get the inner element (usually the .nav-link)\n    _getInnerElement(elem) {\n      return elem.matches(SELECTOR_INNER_ELEM) ? elem : SelectorEngine.findOne(SELECTOR_INNER_ELEM, elem);\n    }\n\n    // Try to get the outer element (usually the .nav-item)\n    _getOuterElement(elem) {\n      return elem.closest(SELECTOR_OUTER) || elem;\n    }\n\n    // Static\n    static jQueryInterface(config) {\n      return this.each(function () {\n        const data = Tab.getOrCreateInstance(this);\n        if (typeof config !== 'string') {\n          return;\n        }\n        if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n          throw new TypeError(`No method named \"${config}\"`);\n        }\n        data[config]();\n      });\n    }\n  }\n\n  /**\n   * Data API implementation\n   */\n\n  EventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n    if (['A', 'AREA'].includes(this.tagName)) {\n      event.preventDefault();\n    }\n    if (index_js.isDisabled(this)) {\n      return;\n    }\n    Tab.getOrCreateInstance(this).show();\n  });\n\n  /**\n   * Initialize on focus\n   */\n  EventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n    for (const element of SelectorEngine.find(SELECTOR_DATA_TOGGLE_ACTIVE)) {\n      Tab.getOrCreateInstance(element);\n    }\n  });\n  /**\n   * jQuery\n   */\n\n  index_js.defineJQueryPlugin(Tab);\n\n  return Tab;\n\n}));\n//# sourceMappingURL=tab.js.map\n","/**\n * Patterns logging - minimal logging framework\n *\n * Copyright 2012 Simplon B.V.\n */\n\n// source: https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/bind\nif (!Function.prototype.bind) {\n    Function.prototype.bind = function (oThis) {\n        if (typeof this !== \"function\") {\n            // closest thing possible to the ECMAScript 5 internal IsCallable function\n            throw new TypeError(\n                \"Function.prototype.bind - what is trying to be bound is not callable\"\n            );\n        }\n\n        var aArgs = Array.prototype.slice.call(arguments, 1),\n            fToBind = this,\n            fNOP = function () {},\n            fBound = function () {\n                return fToBind.apply(\n                    this instanceof fNOP && oThis ? this : oThis,\n                    aArgs.concat(Array.prototype.slice.call(arguments))\n                );\n            };\n        fNOP.prototype = this.prototype;\n        fBound.prototype = new fNOP();\n\n        return fBound;\n    };\n}\n\nvar root, // root logger instance\n    writer; // writer instance, used to output log entries\n\nvar Level = {\n    DEBUG: 10,\n    INFO: 20,\n    WARN: 30,\n    ERROR: 40,\n    FATAL: 50,\n};\n\nfunction ConsoleWriter() {}\n\nConsoleWriter.prototype = {\n    output: function (log_name, level, messages) {\n        if (log_name) messages.unshift(log_name + \":\");\n        if (level <= Level.DEBUG) console.debug.apply(console, messages);\n        else if (level <= Level.INFO) console.info.apply(console, messages);\n        else if (level <= Level.WARN) console.warn.apply(console, messages);\n        else console.error.apply(console, messages);\n    },\n};\n\nfunction Logger(name, parent) {\n    this._loggers = {};\n    this.name = name || \"\";\n    this._parent = parent || null;\n    if (!parent) {\n        this._enabled = true;\n        this._level = Level.WARN;\n    }\n}\n\nLogger.prototype = {\n    getLogger: function (name) {\n        var path = name.split(\".\"),\n            root = this,\n            route = this.name ? [this.name] : [];\n        while (path.length) {\n            var entry = path.shift();\n            route.push(entry);\n            if (!(entry in root._loggers))\n                root._loggers[entry] = new Logger(route.join(\".\"), root);\n            root = root._loggers[entry];\n        }\n        return root;\n    },\n\n    _getFlag: function (flag) {\n        var context = this;\n        flag = \"_\" + flag;\n        while (context !== null) {\n            if (context[flag] !== undefined) return context[flag];\n            context = context._parent;\n        }\n        return null;\n    },\n\n    setEnabled: function (state) {\n        this._enabled = !!state;\n    },\n\n    isEnabled: function () {\n        this._getFlag(\"enabled\");\n    },\n\n    setLevel: function (level) {\n        if (typeof level === \"number\") this._level = level;\n        else if (typeof level === \"string\") {\n            level = level.toUpperCase();\n            if (level in Level) this._level = Level[level];\n        }\n    },\n\n    getLevel: function () {\n        return this._getFlag(\"level\");\n    },\n\n    log: function (level, messages) {\n        if (\n            !messages.length ||\n            !this._getFlag(\"enabled\") ||\n            level < this._getFlag(\"level\")\n        )\n            return;\n        messages = Array.prototype.slice.call(messages);\n        writer.output(this.name, level, messages);\n    },\n\n    debug: function () {\n        this.log(Level.DEBUG, arguments);\n    },\n\n    info: function () {\n        this.log(Level.INFO, arguments);\n    },\n\n    warn: function () {\n        this.log(Level.WARN, arguments);\n    },\n\n    error: function () {\n        this.log(Level.ERROR, arguments);\n    },\n\n    fatal: function () {\n        this.log(Level.FATAL, arguments);\n    },\n};\n\nfunction getWriter() {\n    return writer;\n}\n\nfunction setWriter(w) {\n    writer = w;\n}\n\nsetWriter(new ConsoleWriter());\n\nroot = new Logger();\n\nvar logconfig = /loglevel(|-[^=]+)=([^&]+)/g,\n    match;\n\nwhile ((match = logconfig.exec(window.location.search)) !== null) {\n    var logger = match[1] === \"\" ? root : root.getLogger(match[1].slice(1));\n    logger.setLevel(match[2].toUpperCase());\n}\n\nvar api = {\n    Level: Level,\n    getLogger: root.getLogger.bind(root),\n    setEnabled: root.setEnabled.bind(root),\n    isEnabled: root.isEnabled.bind(root),\n    setLevel: root.setLevel.bind(root),\n    getLevel: root.getLevel.bind(root),\n    debug: root.debug.bind(root),\n    info: root.info.bind(root),\n    warn: root.warn.bind(root),\n    error: root.error.bind(root),\n    fatal: root.fatal.bind(root),\n    getWriter: getWriter,\n    setWriter: setWriter,\n};\n\nexport default api;\n","/* pat-datetime-picker  - Polyfill for input type=datetime-local */\nimport Base from \"../../core/base\";\nimport Parser from \"../../core/parser\";\nimport utils from \"../../core/utils\";\nimport dom from \"../../core/dom\";\n\nexport const parser = new Parser(\"datetime-picker\");\nparser.addArgument(\"format\", \"YYYY-MM-DD\");\nparser.addArgument(\"week-numbers\", [], [\"show\", \"hide\"]);\nparser.addArgument(\"i18n\"); // URL pointing to JSON resource with i18n values\nparser.addArgument(\"today\", \"Today\");\nparser.addArgument(\"clear\", \"Clear\");\nparser.addArgument(\"first-day\", 0);\n\nexport default Base.extend({\n    name: \"datetime-picker\",\n    trigger: \".pat-datetime-picker\",\n    parser: parser,\n    el_date: null,\n    el_time: null,\n\n    async init() {\n        const el = this.el;\n        this.options = parser.parse(this.el, this.options);\n\n        if (utils.checkInputSupport(\"datetime-local\", \"invalid date\")) {\n            return;\n        }\n\n        if (window.__patternslib_import_styles) {\n            import(\"./_datetime-picker.scss\");\n        }\n        const DatePicker = (await import(\"../date-picker/date-picker\")).default;\n\n        const value = this.el.value.split(\"T\");\n        const date_value = value[0] || \"\";\n        const time_value = value[1] || \"\";\n\n        const el_wrapper = document.createElement(\"div\");\n        el_wrapper.setAttribute(\"class\", \"pat-datetime-picker__wrapper\");\n\n        dom.hide(el);\n\n        // let the buttons be of type button otherwise they are submit buttons\n        const html_btn_now = `\n            <button type=\"button\" class=\"_btn _now\" title=\"${this.options.today}\">\n                <span class=\"_icon\"/>\n                <span class=\"_text\">${this.options.today}</span>\n            </button>`;\n        const html_btn_clear = `\n            <button type=\"button\" class=\"_btn _clear\" title=\"${this.options.clear}\">\n                <span class=\"_icon\"/>\n                <span class=\"_text\">${this.options.clear}</span>\n            </button>`;\n\n        el_wrapper.innerHTML = `\n            <input type=\"date\" placeholder=\"YYYY-MM-DD\" value=\"${date_value}\" />\n            <input type=\"time\" placeholder=\"hh:mm\" value=\"${time_value}\" />\n            ${this.options.today ? html_btn_now : \"\"}\n            ${this.options.clear ? html_btn_clear : \"\"}\n        `;\n\n        this.el_time = el_wrapper.querySelector(\"input[type=time]\");\n        this.el_time.addEventListener(\"change\", () => this.update());\n\n        this.el_date = el_wrapper.querySelector(\"input[type=date]\");\n        this.el_date.addEventListener(\"change\", () => {\n            if (!this.el_time.value) {\n                // Set time on date change, if time was empty.\n                this.el_time.value = this.isotime();\n            }\n            this.update();\n        });\n\n        const date_options = {\n            behavior: \"native\",\n            format: this.options.format,\n            weekNumbers: this.options.weekNumbers,\n            firstDay: this.options.firstDay,\n        };\n        await DatePicker.init(this.el_date, date_options);\n\n        if (this.options.today) {\n            const btn_now = el_wrapper.querySelector(\"._btn._now\");\n            btn_now.addEventListener(\"click\", (e) => {\n                e.preventDefault();\n                this.el_date.value = this.isodate();\n                this.el_time.value = this.isotime();\n                this.update();\n            });\n        }\n\n        if (this.options.clear) {\n            const btn_clear = el_wrapper.querySelector(\"._btn._clear\");\n            btn_clear.addEventListener(\"click\", (e) => {\n                e.preventDefault();\n                this.el_date.value = \"\";\n                this.el_time.value = \"\";\n                this.update();\n            });\n        }\n\n        // TODO: timezone\n        el.parentNode.insertBefore(el_wrapper, el);\n    },\n\n    update() {\n        if (this.el_date.value && this.el_time.value) {\n            this.el.value = `${this.el_date.value}T${this.el_time.value}`;\n        } else {\n            this.el.value = \"\";\n        }\n        this.el.dispatchEvent(new Event(\"change\", { bubbles: true, cancelable: true }));\n    },\n\n    isodate() {\n        const now = new Date();\n        return now.toISOString().substr(0, 10);\n    },\n\n    isotime() {\n        const now = new Date();\n        return now.toTimeString().substr(0, 5);\n    },\n});\n","/**\n * A Base pattern for creating scoped patterns.\n *\n * Each instance of a pattern has its own local scope.\n * A new instance is created for each DOM element on which a pattern applies.\n *\n * For usage, see basepattern.md\n */\nimport events from \"./events\";\nimport logging from \"./logging\";\nimport create_uuid from \"./uuid\";\n\nconst log = logging.getLogger(\"basepattern\");\n\nclass BasePattern {\n    static name; // name of pattern used in Registry.\n    static trigger; // A CSS selector to match elements that should trigger the pattern instantiation.\n    static parser; // Options parser.\n\n    // Parser options\n    parser_group_options = true;\n    parser_multiple = undefined;\n    parser_inherit = true;\n\n    constructor(el, options = {}) {\n        // Make static variables available on instance.\n        this.name = this.constructor.name;\n        this.trigger = this.constructor.trigger;\n        this.parser = this.constructor.parser;\n\n        if (!el) {\n            log.warn(`No element given to pattern ${this.name}.`);\n            return;\n        }\n        if (el.jquery) {\n            el = el[0];\n        }\n        this.el = el;\n        this.uuid = create_uuid();\n\n        // Notify pre-init\n        this.el.dispatchEvent(\n            new Event(`pre-init.${this.name}.patterns`, {\n                bubbles: true,\n                cancelable: true,\n            })\n        );\n\n        // Initialize asynchronously.\n        //\n        // 1) We need to call the concrete implementation of ``init``, but the\n        //    inheritance chain is not yet set up and ``init`` not available.\n        //\n        // 2) We want to wait for the init() to successfuly finish and fire an\n        //    event then.\n        //    But the constructer cannot not return a Promise, thus not be\n        //    asynchronous but only return itself.\n        //\n        // Both limitations are gone in next tick.\n        //\n        window.setTimeout(async () => {\n            if (typeof this.el[`pattern-${this.name}`] !== \"undefined\") {\n                // Do not reinstantiate\n                log.debug(`Not reinstatiating the pattern ${this.name}.`, this.el);\n\n                // Notify that not instantiated\n                this.el.dispatchEvent(\n                    new Event(`not-init.${this.name}.patterns`, {\n                        bubbles: true,\n                        cancelable: false,\n                    })\n                );\n                return;\n            }\n\n            // Create the options object by parsing the element and using the\n            // optional options as default.\n            this.options =\n                this.parser?.parse(\n                    this.el,\n                    options,\n                    this.parser_multiple,\n                    this.parser_inherit,\n                    this.parser_group_options\n                ) ?? options;\n\n            // Store pattern instance on element\n            this.el[`pattern-${this.name}`] = this;\n\n            // Initialize the pattern\n            await this.init();\n\n            // Notify that now ready\n            this.el.dispatchEvent(\n                new Event(`init.${this.name}.patterns`, {\n                    bubbles: true,\n                    cancelable: true,\n                })\n            );\n        }, 0);\n    }\n\n    async init() {\n        // Extend this method in your pattern.\n    }\n\n    emit_update(action = undefined, options = {}) {\n        options = {\n            pattern: this.name,\n            dom: this.el,\n            action: action,\n            ...options,\n        }\n        this.el.dispatchEvent(events.update_event(options));\n    }\n\n    /**\n     * Listen to an event on the element only once.\n     *\n     * @param {string} event_name - Name of the event to listen to.\n     * @param {function} callback - Callback to call when the event is thrown.\n     */\n    one(event_name, event_callback) {\n        events.add_event_listener(\n            this.el,\n            `${event_name}.${this.name}.patterns`,\n            `basepattern-one--${event_name}.${this.name}.patterns`,\n            event_callback,\n            {\n                once: true,\n            }\n        );\n    }\n\n    /**\n     * Destroy/remove/unload the pattern from the element.\n     */\n    destroy() {\n        delete this.el[`pattern-${this.name}`];\n    }\n}\n\nexport default BasePattern;\nexport { BasePattern };\n","// Patterns argument parser\nimport $ from \"jquery\";\nimport utils from \"./utils.js\";\nimport logging from \"./logging\";\n\nclass ArgumentParser {\n    constructor(name) {\n        this.order = [];\n        this.parameters = {};\n        this.attribute = \"data-pat-\" + name;\n        this.enum_values = {};\n        this.enum_conflicts = [];\n        this.groups = {};\n        this.possible_groups = {};\n        this.log = logging.getLogger(name + \".parser\");\n\n        this.group_pattern = /([a-z][a-z0-9]*)-([A-Z][a-z0-0\\-]*)/i;\n        this.json_param_pattern = /^\\s*\\[?\\s*{/i;\n        this.named_param_pattern = /^\\s*([a-z][a-z0-9\\-]*)\\s*:(.*)/is;\n        this.token_pattern = /(([\"']).*?(?!\\\\)\\2)|\\s*(\\S+)\\s*/g;\n    }\n\n    _camelCase(str) {\n        return str.replace(/\\-([a-z])/g, (__, p1) => p1.toUpperCase());\n    }\n\n    addAlias(alias, original) {\n        /* Add an alias for a previously added parser argument.\n         *\n         * Useful when you want to support both US and UK english argument\n         * names.\n         */\n        if (this.parameters[original]) {\n            this.parameters[original].alias = alias;\n        } else {\n            throw `Attempted to add an alias \"${alias}\" for a non-existing parser argument \"${original}\".`;\n        }\n    }\n\n    addGroupToSpec(spec) {\n        /* Determine wether an argument being parsed can be grouped and\n         * update its specifications object accordingly.\n         *\n         * Internal method used by addArgument and addJSONArgument\n         */\n        const m = spec.name.match(this.group_pattern);\n        if (m) {\n            const group = m[1];\n            const field = m[2];\n            if (group in this.possible_groups) {\n                const first_spec = this.possible_groups[group];\n                const first_name = first_spec.name.match(this.group_pattern)[2];\n                first_spec.group = group;\n                first_spec.dest = first_name;\n                this.groups[group] = new ArgumentParser();\n                this.groups[group].addArgument(\n                    first_name,\n                    first_spec.value,\n                    first_spec.choices,\n                    first_spec.multiple\n                );\n                delete this.possible_groups[group];\n            }\n            if (group in this.groups) {\n                this.groups[group].addArgument(\n                    field,\n                    spec.value,\n                    spec.choices,\n                    spec.multiple\n                );\n                spec.group = group;\n                spec.dest = field;\n            } else {\n                this.possible_groups[group] = spec;\n                spec.dest = this._camelCase(spec.name);\n            }\n        }\n        return spec;\n    }\n\n    addJSONArgument(name, default_value) {\n        /* Add an argument where the value is provided in JSON format.\n         *\n         * This is a different usecase than specifying all arguments to\n         * the data-pat-... attributes in JSON format, and instead is part\n         * of the normal notation except that a value is in JSON instead of\n         * for example a string.\n         */\n        this.order.push(name);\n        this.parameters[name] = this.addGroupToSpec({\n            name: name,\n            value: default_value,\n            dest: name,\n            group: null,\n            type: \"json\",\n        });\n    }\n\n    addArgument(name, default_value, choices, multiple) {\n        const spec = {\n            name: name,\n            value:\n                multiple && !Array.isArray(default_value)\n                    ? [default_value]\n                    : default_value,\n            multiple: multiple,\n            dest: name,\n            group: null,\n        };\n        if (choices && Array.isArray(choices) && choices.length) {\n            spec.choices = choices;\n            spec.type = this._typeof(choices[0]);\n            for (const choice of choices) {\n                if (this.enum_conflicts.indexOf(choice) !== -1) {\n                    continue;\n                } else if (choice in this.enum_values) {\n                    this.enum_conflicts.push(choice);\n                    delete this.enum_values[choice];\n                } else {\n                    this.enum_values[choice] = name;\n                }\n            }\n        } else if (typeof spec.value === \"string\" && spec.value.slice(0, 1) === \"$\") {\n            spec.type = this.parameters[spec.value.slice(1)].type;\n        } else {\n            // Note that this will get reset by _defaults if default_value is a function.\n            spec.type = this._typeof(multiple ? spec.value[0] : spec.value);\n        }\n        this.order.push(name);\n        this.parameters[name] = this.addGroupToSpec(spec);\n    }\n\n    _typeof(obj) {\n        if (obj === null) {\n            return \"null\";\n        }\n        return typeof obj;\n    }\n\n    _coerce(name, value) {\n        const spec = this.parameters[name];\n        if (typeof value !== spec.type)\n            try {\n                switch (spec.type) {\n                    case \"json\":\n                        value = JSON.parse(value);\n                        break;\n                    case \"boolean\":\n                        if (typeof value === \"string\") {\n                            value = value.toLowerCase();\n                            const num = parseInt(value, 10);\n                            if (!isNaN(num)) value = !!num;\n                            else\n                                value =\n                                    value === \"true\" ||\n                                    value === \"y\" ||\n                                    value === \"yes\" ||\n                                    value === \"y\" ||\n                                    value === \"on\";\n                        } else if (typeof value === \"number\") {\n                            value = !!value;\n                        } else {\n                            throw `Cannot convert value for ${name} to boolean.`;\n                        }\n                        break;\n                    case \"number\":\n                        if (typeof value === \"string\") {\n                            value = parseInt(value, 10);\n                            if (isNaN(value)) {\n                                throw `Cannot convert value for ${name} to number.`;\n                            }\n                        } else if (typeof value === \"boolean\") {\n                            value = value + 0;\n                        } else {\n                            throw `Cannot convert value for ${name} to number.`;\n                        }\n                        break;\n                    case \"string\":\n                        value = value.toString();\n                        break;\n                    case \"null\": // Missing default values\n                    case \"undefined\":\n                        break;\n                    default:\n                        throw `Do not know how to convert value for ${name} of type ${typeof value} to ${\n                            spec.type\n                        }.`;\n                }\n            } catch (e) {\n                this.log.warn(e);\n                return null;\n            }\n\n        if (spec.choices && spec.choices.indexOf(value) === -1) {\n            this.log.warn(`Illegal value for ${name}: ${value}.`);\n            return null;\n        }\n        return value;\n    }\n\n    _set(opts, name, value) {\n        if (!(name in this.parameters)) {\n            this.log.debug(`Ignoring value for unknown argument: ${name}.`);\n            return;\n        }\n        const spec = this.parameters[name];\n        let parts;\n        if (spec.multiple) {\n            if (typeof value === \"string\") {\n                parts = value.split(/,+/);\n            } else {\n                parts = value;\n            }\n            value = [];\n            for (const part of parts) {\n                const v = this._coerce(name, part.trim());\n                if (v !== null) {\n                    value.push(v);\n                }\n            }\n        } else {\n            value = this._coerce(name, value);\n            if (value === null) {\n                return;\n            }\n        }\n        opts[name] = value;\n    }\n\n    _split(text) {\n        const tokens = [];\n        text.replace(this.token_pattern, (match, quoted, __, simple) => {\n            if (quoted) {\n                tokens.push(quoted);\n            } else if (simple) {\n                tokens.push(simple);\n            }\n        });\n        return tokens;\n    }\n\n    _parseExtendedNotation(argstring) {\n        const opts = {};\n        const parts = argstring\n            .replace(/;;/g, \"\\0x1f\")\n            .replace(/&amp;/g, \"&amp\\0x1f\")\n            .split(/;/)\n            .map((el) => el.replace(new RegExp(\"\\0x1f\", \"g\"), \";\"));\n        for (const part of parts) {\n            if (!part) {\n                continue;\n            }\n            const matches = part.match(this.named_param_pattern);\n            if (!matches) {\n                this.log.warn(`Invalid parameter: ${part}: ${argstring}.`);\n                continue;\n            }\n            const name = matches[1];\n            const value = matches[2].trim();\n            const arg = Object.values(this.parameters).filter((it) => it.alias === name);\n\n            const is_alias = arg.length === 1;\n\n            if (is_alias) {\n                this._set(opts, arg[0].name, value);\n            } else if (name in this.parameters) {\n                this._set(opts, name, value);\n            } else if (name in this.groups) {\n                const subopt = this.groups[name]._parseShorthandNotation(value);\n                for (const field in subopt) {\n                    this._set(opts, name + \"-\" + field, subopt[field]);\n                }\n            } else {\n                this.log.warn(`Unknown named parameter: ${matches[1]}.`);\n                continue;\n            }\n        }\n        return opts;\n    }\n\n    _parseShorthandNotation(parameter) {\n        const parts = this._split(parameter);\n        const opts = {};\n        let i = 0;\n\n        while (parts.length) {\n            const part = parts.shift().trim();\n            let sense;\n            let flag;\n            let positional = true;\n            if (part.slice(0, 3) === \"no-\") {\n                sense = false;\n                flag = part.slice(3);\n            } else {\n                sense = true;\n                flag = part;\n            }\n            if (flag in this.parameters && this.parameters[flag].type === \"boolean\") {\n                positional = false;\n                this._set(opts, flag, sense);\n            } else if (flag in this.enum_values) {\n                positional = false;\n                this._set(opts, this.enum_values[flag], flag);\n            } else if (positional) this._set(opts, this.order[i], part);\n            else {\n                parts.unshift(part);\n                break;\n            }\n            i++;\n            if (i >= this.order.length) {\n                break;\n            }\n        }\n        if (parts.length) this.log.warn(`Ignore extra arguments: ${parts.join(\" \")}.`);\n        return opts;\n    }\n\n    _parse(parameter) {\n        if (!parameter) {\n            return {};\n        }\n        if (parameter.match(this.json_param_pattern)) {\n            try {\n                return JSON.parse(parameter);\n            } catch {\n                this.log.warn(`Invalid JSON argument found: ${parameter}.`);\n            }\n        }\n        if (parameter.match(this.named_param_pattern)) {\n            return this._parseExtendedNotation(parameter);\n        }\n        const sep = parameter.indexOf(\";\");\n        if (sep === -1) {\n            return this._parseShorthandNotation(parameter);\n        }\n        const opts = this._parseShorthandNotation(parameter.slice(0, sep));\n        const extended = this._parseExtendedNotation(parameter.slice(sep + 1));\n        for (const name in extended) {\n            opts[name] = extended[name];\n        }\n        return opts;\n    }\n\n    _defaults($el) {\n        const result = {};\n        for (const name in this.parameters) {\n            if (typeof this.parameters[name].value === \"function\") {\n                try {\n                    result[name] = this.parameters[name].value($el, name);\n                    this.parameters[name].type = typeof result[name];\n                } catch {\n                    this.log.error(`Default function for ${name} failed.`);\n                }\n            } else {\n                result[name] = this.parameters[name].value;\n            }\n        }\n        return result;\n    }\n\n    _cleanupOptions(options, group_options = true) {\n        // Resolve references\n        for (const name of Object.keys(options)) {\n            const spec = this.parameters[name];\n            if (spec === undefined) {\n                continue;\n            }\n\n            if (\n                options[name] === spec.value &&\n                typeof spec.value === \"string\" &&\n                spec.value.slice(0, 1) === \"$\"\n            ) {\n                options[name] = options[spec.value.slice(1)];\n            }\n        }\n        if (group_options) {\n            // Move options into groups and do renames\n            for (const name of Object.keys(options)) {\n                const spec = this.parameters[name];\n                let target;\n                if (spec === undefined) {\n                    continue;\n                }\n\n                if (spec.group) {\n                    if (typeof options[spec.group] !== \"object\") {\n                        options[spec.group] = {};\n                    }\n                    target = options[spec.group];\n                } else {\n                    target = options;\n                }\n\n                if (spec.dest !== name) {\n                    target[spec.dest] = options[name];\n                    delete options[name];\n                }\n            }\n        }\n        return options;\n    }\n\n    parse($el, options, multiple, inherit = true, group_options = true) {\n        if (!$el.jquery) {\n            $el = $($el);\n        }\n        if (typeof options === \"boolean\" && multiple === undefined) {\n            // Fix argument order: ``multiple`` passed instead of ``options``.\n            multiple = options;\n            options = {};\n        }\n        const stack = inherit ? [[this._defaults($el)]] : [[{}]];\n        let $possible_config_providers;\n        let final_length = 1;\n        /*\n         * XXX this is a workaround for:\n         * - https://github.com/Patternslib/Patterns/issues/393\n         *\n         * Prevents the parser to pollute the pat-modal configuration\n         * with data-pat-inject elements define in a `.pat-modal` parent element.\n         *\n         *  Probably this function should be completely revisited, see:\n         * - https://github.com/Patternslib/Patterns/issues/627\n         *\n         */\n        if (\n            !inherit ||\n            ($el.hasClass(\"pat-modal\") && this.attribute === \"data-pat-inject\")\n        ) {\n            $possible_config_providers = $el;\n        } else {\n            $possible_config_providers = $el.parents(`[${this.attribute}]`).addBack();\n        }\n\n        for (const provider of $possible_config_providers) {\n            let frame;\n            const data = ($(provider).attr(this.attribute) || \"\").trim();\n            if (!data) {\n                continue;\n            }\n            const _parse = this._parse.bind(this);\n            if (data.match(/&&/)) {\n                frame = data.split(/\\s*&&\\s*/).map(_parse);\n            } else {\n                frame = _parse(data);\n            }\n            if (!Array.isArray(frame)) {\n                frame = [frame];\n            }\n            final_length = Math.max(frame.length, final_length);\n            stack.push(frame);\n        }\n\n        if (typeof options === \"object\") {\n            if (Array.isArray(options)) {\n                stack.push(options);\n                final_length = Math.max(options.length, final_length);\n            } else {\n                stack.push([options]);\n            }\n        }\n        if (!multiple) {\n            final_length = 1;\n        }\n        const results = utils\n            .removeDuplicateObjects(utils.mergeStack(stack, final_length))\n            .map((current_value) => this._cleanupOptions(current_value, group_options));\n        return multiple ? results : results[0];\n    }\n}\n\n// BBB\nArgumentParser.prototype.add_argument = ArgumentParser.prototype.addArgument;\n\nexport default ArgumentParser;\n","/**\n * Patterns ajax - AJAX injection for forms and anchors\n *\n * Copyright 2012-2013 Florian Friesdorf\n * Copyright 2012-2013 Marko Durkovic\n */\nimport \"../../core/polyfills\"; // SubmitEvent.submitter for Safari < 15.4 and jsDOM\nimport $ from \"jquery\";\nimport logging from \"../../core/logging\";\nimport Parser from \"../../core/parser\";\nimport registry from \"../../core/registry\";\n\nconst log = logging.getLogger(\"pat.ajax\");\n\nexport const parser = new Parser(\"ajax\");\nparser.addArgument(\"accept\", \"text/html\");\nparser.addArgument(\"url\", function ($el) {\n    const el = $el[0];\n    const value =\n        el.tagName === \"A\"\n            ? el.getAttribute(\"href\")\n            : el.tagName === \"FORM\"\n            ? el.getAttribute(\"action\")\n            : \"\";\n    return (value || \"\").split(\"#\")[0];\n});\nparser.addArgument(\"browser-cache\", \"no-cache\", [\"cache\", \"no-cache\"]); // Cache ajax requests\n\nconst xhrCount = {};\nxhrCount.get = function (a) {\n    return this[a] !== undefined ? this[a] : 0;\n};\nxhrCount.inc = function (a) {\n    this[a] = this.get(a) + 1;\n    return this.get(a);\n};\n\nconst _ = {\n    name: \"ajax\",\n    trigger: \".pat-ajax\",\n    parser: parser,\n\n    init($el) {\n        $el.off(\".pat-ajax\");\n        $el.filter(\"a\").on(\"click.pat-ajax\", _.onTriggerEvents);\n        $el.filter(\"form\")\n            .on(\"submit.pat-ajax\", _.onTriggerEvents)\n            .on(\"click.pat-ajax\", \"[type=submit]\", _.onClickSubmit);\n        $el.filter(\":not(form,a)\").each(function () {\n            log.warn(\"Unsupported element:\", this);\n        });\n        return $el;\n    },\n\n    destroy($el) {\n        $el.off(\".pat-ajax\");\n    },\n\n    onClickSubmit(event) {\n        const el = event.submitter || event.target;\n        const form = el.form;\n        const data = {};\n        if (el.name) {\n            data[el.name] = el.value;\n        }\n        $(form).data(\"pat-ajax.clicked-data\", data);\n    },\n\n    onTriggerEvents(event) {\n        if (event) {\n            event.preventDefault();\n        }\n        _.request($(this));\n    },\n\n    request($el, opts) {\n        return $el.each(function () {\n            _._request($(this), opts);\n        });\n    },\n\n    _request($el, opts) {\n        const cfg = _.parser.parse($el, opts);\n        const onError = function (jqxhr, status, error) {\n            // error can also stem from a javascript\n            // exception, not only errors described in the\n            // jqxhr.\n            log.error(\"load error for \" + cfg.url + \":\", error, jqxhr);\n            $el.trigger({\n                type: \"pat-ajax-error\",\n                jqxhr: jqxhr,\n            });\n        };\n        const seqNumber = xhrCount.inc(cfg.url);\n        const onSuccess = function (data, status, jqxhr) {\n            log.debug(\"success: jqxhr:\", jqxhr);\n            if (seqNumber === xhrCount.get(cfg.url)) {\n                // if this url is requested multiple time, only return the last result\n                $el.trigger({\n                    type: \"pat-ajax-success\",\n                    jqxhr: {\"url\": cfg.url, ...jqxhr},\n                });\n            } else {\n                // ignore\n            }\n        };\n        const temp = $el.data(\"pat-ajax.clicked-data\");\n        const clickedData = temp ? $.param(temp) : \"\";\n        const args = {\n            context: $el,\n            data: [$el.serialize(), clickedData].filter(Boolean).join(\"&\"),\n            headers: {},\n            url: cfg.url,\n            method: $el.attr(\"method\") ? $el.attr(\"method\") : \"GET\",\n            cache: cfg.browserCache === \"cache\" ? true : false,\n        };\n\n        if (cfg.accept) {\n            args.headers.Accept = cfg.accept;\n        }\n\n        if (\n            $el.is(\"form\") &&\n            $el.attr(\"method\") &&\n            $el.attr(\"method\").toUpperCase() == \"POST\"\n        ) {\n            const formdata = new FormData($el[0]);\n            for (const key in temp) {\n                formdata.append(key, temp[key]);\n            }\n            args[\"method\"] = \"POST\";\n            args[\"data\"] = formdata;\n            args[\"cache\"] = false;\n            args[\"contentType\"] = false;\n            args[\"processData\"] = false;\n            args[\"type\"] = \"POST\";\n        }\n\n        $el.removeData(\"pat-ajax.clicked-data\");\n        log.debug(\"request:\", args, $el[0]);\n\n        // Make it happen\n        const ajax_deferred = $.ajax(args);\n\n        if (ajax_deferred) ajax_deferred.done(onSuccess).fail(onError);\n    },\n};\n\nregistry.register(_);\n\nexport default _;\n","import \"../../core/polyfills\"; // SubmitEvent.submitter for Safari < 15.4 and jsDOM\nimport $ from \"jquery\";\nimport ajax from \"../ajax/ajax\";\nimport dom from \"../../core/dom\";\nimport events from \"../../core/events\";\nimport logging from \"../../core/logging\";\nimport Parser from \"../../core/parser\";\nimport registry from \"../../core/registry\";\nimport create_uuid from \"../../core/uuid\";\nimport utils from \"../../core/utils\";\n\nconst log = logging.getLogger(\"pat.inject\");\n//log.setLevel(logging.Level.DEBUG);\n\nconst TEXT_NODE = 3;\nconst COMMENT_NODE = 8;\n\nexport const parser = new Parser(\"inject\");\nparser.addArgument(\"default-selector\");\nparser.addArgument(\"target\");\nparser.addArgument(\"data-type\", \"html\");\nparser.addArgument(\"next-href\");\nparser.addArgument(\"source\");\nparser.addArgument(\"trigger\", \"default\", [\n    \"default\",\n    \"autoload\",\n    \"autoload-visible\",\n    \"idle\",\n]);\nparser.addArgument(\"delay\"); // only used in autoload\nparser.addArgument(\"browser-cache\", \"no-cache\", [\"cache\", \"no-cache\"]); // Cache ajax requests. Pass to pat-ajax.\nparser.addArgument(\"confirm\", \"class\", [\"never\", \"always\", \"form-data\", \"class\"]);\nparser.addArgument(\"confirm-message\", \"Are you sure you want to leave this page?\");\nparser.addArgument(\"loading-class\", \"injecting\"); // Add a class to the target while content is still loading.\nparser.addArgument(\"executing-class\", \"executing\"); // Add a class to the element while content is still loading.\nparser.addArgument(\"executed-class\", \"executed\"); // Add a class to the element when content is loaded.\nparser.addArgument(\"class\"); // Add a class to the injected content.\nparser.addArgument(\"history\", \"none\", [\"none\", \"record\"]);\nparser.addArgument(\"push-marker\");\nparser.addArgument(\"scroll\");\n\n// Note: this should not be here but the parser would bail on unknown\n// parameters and expand/collapsible need to pass the url to us.\nparser.addArgument(\"url\");\n\nconst inject = {\n    name: \"inject\",\n    trigger: \"a.pat-inject, form.pat-inject, .pat-subform.pat-inject\",\n    parser: parser,\n\n    async init($el, opts) {\n        // We need to wait a tick. Modern BasePattern based patterns like\n        // pat-validation do always wait a tick before initializing. The\n        // patterns registry always initializes pat-validation first but since\n        // it is waiting a tick the event handlers are registerd after the ones\n        // from pat-inject. Waiting a tick in pat-inject solves this -\n        // pat-validation's event handlers are initialized first.\n        await utils.timeout(1);\n\n        const el = utils.jqToNode($el);\n\n        const cfgs = this.extractConfig($el, opts);\n        if (cfgs.some((e) => e.history === \"record\") && !(\"pushState\" in history)) {\n            // if the injection shall add a history entry and HTML5 pushState\n            // is missing, then don't initialize the injection.\n            log.warn(\"HTML5 pushState is missing, aborting\");\n            return $el;\n        }\n        $el.data(\"pat-inject\", cfgs);\n\n        if (cfgs[0].nextHref && cfgs[0].nextHref.indexOf(\"#\") === 0) {\n            // In case the next href is an anchor, and it already\n            // exists in the page, we do not activate the injection\n            // but instead just change the anchors href.\n\n            // Note: This is used in only one project for linked fullcalendars,\n            // it's sanity is wonky and we should probably solve it differently.\n            if (el.nodeName === \"A\" && $(cfgs[0].nextHref).length > 0) {\n                log.debug(\n                    \"Skipping as next href is anchor, which already exists\",\n                    cfgs[0].nextHref\n                );\n                // TODO: reconsider how the injection enters exhausted state\n                el.setAttribute(\n                    \"href\",\n                    (window.location.href.split(\"#\")[0] || \"\") + cfgs[0].nextHref\n                );\n                return $el;\n            }\n        }\n        if (cfgs[0].pushMarker) {\n            $(\"body\").on(\"push\", (event, data) => {\n                log.debug(\"received push message: \" + data);\n                if (data == cfgs[0].pushMarker) {\n                    log.debug(\"re-injecting \" + data);\n                    this.onTrigger({ currentTarget: el });\n                }\n            });\n        }\n        if (cfgs[0].idleTrigger) {\n            this._initIdleTrigger($el, cfgs[0].idleTrigger);\n        } else {\n            switch (cfgs[0].trigger) {\n                case \"default\":\n                    for (const cfg of cfgs) {\n                        if (cfg.delay) {\n                            cfg.processDelay = cfg.delay;\n                        }\n                    }\n                    // setup event handlers\n                    if (el?.nodeName === \"FORM\") {\n                        log.debug(\"Initializing form with injection on\", el);\n                        events.add_event_listener(\n                            el,\n                            \"submit\",\n                            \"pat-inject--form-submit\",\n                            (e) => {\n                                if (\n                                    e.submitter?.matches(\n                                        \"[type=submit], button:not([type=button]), [type=image]\"\n                                    )\n                                ) {\n                                    // make sure the submitting button is sent\n                                    // with the form\n                                    ajax.onClickSubmit(e);\n                                }\n                                this.onTrigger(e);\n                            }\n                        );\n                    } else if (el?.matches(\".pat-subform\")) {\n                        log.debug(\"Initializing subform with injection\");\n                    } else {\n                        $el.on(\"click.pat-inject\", this.onTrigger.bind(this));\n                    }\n                    break;\n                case \"autoload\":\n                    if (!cfgs[0].delay) {\n                        this.onTrigger({ currentTarget: el });\n                    } else {\n                        // generate UUID\n                        const uuid = create_uuid();\n                        el.setAttribute(\"data-pat-inject-uuid\", uuid);\n\n                        // function to trigger the autoload and mark as triggered\n                        const delayed_trigger = (uuid_) => {\n                            // Check if the element has been removed from the dom\n                            const still_there = document.querySelector(\n                                `[data-pat-inject-uuid=\"${uuid_}\"]`\n                            );\n                            if (!still_there) {\n                                return false;\n                            }\n\n                            $el.data(\"pat-inject-autoloaded\", true);\n                            this.onTrigger({ currentTarget: el });\n                            // Cleanup again.\n                            still_there.removeAttribute(\"data-pat-inject-uuid\");\n                            return true;\n                        };\n                        window.setTimeout(\n                            delayed_trigger.bind(null, uuid),\n                            cfgs[0].delay\n                        );\n                    }\n                    break;\n                case \"autoload-visible\":\n                    this._initAutoloadVisible($el, cfgs);\n                    break;\n                case \"idle\":\n                    this._initIdleTrigger($el, cfgs[0].delay);\n                    break;\n            }\n        }\n\n        log.debug(\"initialised:\", el);\n        return $el;\n    },\n\n    destroy($el) {\n        $el.off(\".pat-inject\");\n        $el.data(\"pat-inject\", null);\n        return $el;\n    },\n\n    onTrigger(e) {\n        /* Injection has been triggered, either via form submission or a\n         * link has been clicked.\n         */\n\n        // Prevent the original event from doing it's work.\n        // We want an AJAX request instead.\n        e.preventDefault && e.preventDefault();\n\n        const el = e.currentTarget;\n        const $el = $(el);\n        let cfgs = $el.data(\"pat-inject\");\n        if (el.nodeName === \"FORM\" && e.type === \"submit\") {\n            const form = el;\n            const submitter = e.submitter;\n\n            // Do not submit invalid forms, if validation is active.\n            // Works with native form validation and with pat-validation.\n            if (\n                !submitter?.matches(\"[formnovalidate]\") &&\n                !form.matches(\"[novalidate]\") &&\n                form.matches(\":invalid\")\n            ) {\n                log.debug(\"Form is invalid, aborting\");\n                return;\n            }\n\n            const formaction = submitter?.getAttribute(\"formaction\");\n            if (formaction) {\n                const opts = {\n                    url: formaction,\n                };\n\n                // Support custom data-pat-inject on formaction buttons.\n                const cfg_node = submitter.closest(\"[data-pat-inject]\");\n                cfgs = this.extractConfig($(cfg_node), opts);\n            }\n\n            // store the params of the form in the config, to be used by history\n            for (const cfg of cfgs) {\n                cfg.params = $.param($el.serializeArray());\n            }\n        }\n\n        $el.trigger(\"patterns-inject-triggered\");\n        this.execute(cfgs, $el);\n    },\n\n    submitSubform($sub) {\n        /* This method is called from pat-subform\n         */\n        const $el = $($sub[0].closest(\"form\"));\n        const cfgs = $sub.data(\"pat-inject\");\n\n        // store the params of the subform in the config, to be used by history\n        for (const cfg of cfgs) {\n            cfg.params = $.param($sub.serializeArray());\n        }\n\n        try {\n            $el.trigger(\"patterns-inject-triggered\");\n        } catch (e) {\n            log.error(\"patterns-inject-triggered\", e);\n        }\n        this.execute(cfgs, $el);\n    },\n\n    extractConfig($el, options = {}) {\n        const el = utils.jqToNode($el);\n        options = Object.assign({}, options); // copy\n\n        const cfgs = parser.parse($el, options, true);\n        for (const cfg of cfgs) {\n            cfg.$context = $el;\n            // options and cfg have priority, fall back to href/action\n            cfg.url =\n                options.url ||\n                cfg.url ||\n                el?.getAttribute(\"href\") ||\n                el?.getAttribute(\"action\") ||\n                el?.closest(\"form\")?.getAttribute(\"action\") ||\n                \"\";\n\n            // separate selector from url\n            const urlparts = cfg.url.split(\"#\");\n            cfg.url = urlparts[0];\n\n            if (urlparts.length > 2) {\n                log.warn(\"Ignoring additional source ids:\", urlparts.slice(2));\n            }\n\n            if (!cfg.defaultSelector) {\n                // if no selector, check for selector as part of original url\n                cfg.defaultSelector = (urlparts[1] && \"#\" + urlparts[1]) || \"body\";\n            }\n            if (cfg.delay) {\n                try {\n                    cfg.delay = utils.parseTime(cfg.delay);\n                } catch {\n                    log.warn(\"Invalid delay value: \", cfg.delay);\n                    cfg.delay = null;\n                }\n            }\n            cfg.processDelay = 0;\n        }\n        return cfgs;\n    },\n\n    elementIsDirty(m) {\n        /* Check whether the passed in form element contains a value.\n         */\n        const data = $.map(m.find(\":input:not(select)\"), (i) => {\n            const val = $(i).val();\n            return Boolean(val) && val !== $(i).attr(\"placeholder\");\n        });\n        return $.inArray(true, data) !== -1;\n    },\n\n    askForConfirmation(cfgs) {\n        /* If configured to do so, show a confirmation dialog to the user.\n         * This is done before attempting to perform injection.\n         */\n        let should_confirm = false;\n        let message;\n\n        for (const cfg of cfgs) {\n            let _confirm = false;\n            if (cfg.confirm == \"always\") {\n                _confirm = true;\n            } else if (\n                cfg.confirm === \"form-data\" &&\n                cfg.target &&\n                cfg.target !== \"none\"\n            ) {\n                _confirm = this.elementIsDirty(cfg.$target);\n            } else if (cfg.confirm === \"class\" && cfg.target && cfg.target !== \"none\") {\n                _confirm = cfg.$target.hasClass(\"is-dirty\");\n            }\n            if (_confirm) {\n                should_confirm = true;\n                message = cfg.confirmMessage;\n            }\n        }\n        if (should_confirm) {\n            if (!window.confirm(message)) {\n                return false;\n            }\n        }\n        return true;\n    },\n\n    ensureTarget(cfg) {\n        /* Make sure that a target element exists and that it's assigned to\n         * cfg.$target.\n         */\n        // make sure target exist\n        if (cfg.target === \"none\") {\n            // special case, we don't want to inject anything\n            return true;\n        }\n        cfg.$target =\n            cfg.$target || (cfg.target === \"self\" ? cfg.$context : $(cfg.target));\n        if (cfg.$target.length === 0) {\n            if (!cfg.target) {\n                log.error(\"Need target selector\", cfg);\n                return false;\n            }\n            cfg.$target = this.createTarget(cfg.target);\n            cfg.$created_target = cfg.$target;\n        }\n        return true;\n    },\n\n    verifySingleConfig(url, cfg) {\n        /* Verify one of potentially multiple configs (i.e. argument lists).\n         *\n         * Extract modifiers such as ::element or ::after.\n         * Ensure that a target element exists.\n         */\n        if (cfg.url !== url) {\n            // in case of multi-injection, all injections need to use\n            // the same url\n            log.error(\"Unsupported different urls for multi-inject\");\n            return false;\n        }\n        // defaults\n        cfg.source = cfg.source || cfg.defaultSelector;\n        cfg.target = cfg.target || cfg.defaultSelector;\n\n        if (!this.extractModifiers(cfg)) {\n            return false;\n        }\n        if (!this.ensureTarget(cfg)) {\n            return false;\n        }\n        this.listenForFormReset(cfg);\n        return true;\n    },\n\n    verifyConfig(cfgs) {\n        /* Verify and post-process all the configurations.\n         * Each \"config\" is an arguments list separated by the &&\n         * combination operator.\n         *\n         * In case of multi-injection, only one URL is allowed, which\n         * should be specified in the first config (i.e. arguments list).\n         *\n         * Verification for each cfg in the array needs to succeed.\n         */\n        return cfgs.every((cfg) => this.verifySingleConfig(cfgs[0].url, cfg));\n    },\n\n    listenForFormReset(cfg) {\n        /* if pat-inject is used to populate target in some form and when\n         * Cancel button is pressed (this triggers reset event on the\n         * form) you would expect to populate with initial placeholder\n         */\n        if (cfg.target === \"none\") {\n            // Special case, we don't want to display any return value.\n            return;\n        }\n        const $form = cfg.$target.parents(\"form\");\n        if ($form.length !== 0 && cfg.$target.data(\"initial-value\") === undefined) {\n            cfg.$target.data(\"initial-value\", cfg.$target.html());\n            $form.on(\"reset\", () => {\n                cfg.$target.html(cfg.$target.data(\"initial-value\"));\n            });\n        }\n    },\n\n    extractModifiers(cfg) {\n        /* The user can add modifiers to the source and target arguments.\n         * Modifiers such as ::element, ::before and ::after.\n         * We identifiy and extract these modifiers here.\n         */\n        const source_re = /^(.*?)(::element)?$/;\n        const target_re = /^(.*?)(::element)?(::after|::before)?$/;\n        const source_match = source_re.exec(cfg.source);\n        const target_match = target_re.exec(cfg.target);\n\n        cfg.source = source_match[1];\n        cfg.sourceMod = source_match[2] ? \"element\" : \"content\";\n        cfg.target = target_match[1];\n        const targetMod = target_match[2] ? \"element\" : \"content\";\n        const targetPosition = (target_match[3] || \"::\").slice(2); // position relative to target\n\n        if (cfg.loadingClass) {\n            cfg.loadingClass += \" \" + cfg.loadingClass + \"-\" + targetMod;\n            if (targetPosition && cfg.loadingClass) {\n                cfg.loadingClass += \" \" + cfg.loadingClass + \"-\" + targetPosition;\n            }\n        }\n        cfg.action = targetMod + targetPosition;\n        // Once we start detecting illegal combinations, we'll\n        // return false in case of error\n        return true;\n    },\n\n    createTarget(selector) {\n        /* create a target that matches the selector\n         *\n         * Note: so far we only support #target and create a div with that id\n         * appended to the body.\n         */\n        if (selector.slice(0, 1) !== \"#\") {\n            log.error(\"only id supported for non-existing target\");\n            return null;\n        }\n        const $target = $(\"<div />\").attr({ id: selector.slice(1) });\n        $(\"body\").append($target);\n        return $target;\n    },\n\n    _performInjection(target, $el, $sources, cfg, trigger, $title) {\n        /* Called after the XHR has succeeded and we have a new $sources\n         * element to inject.\n         */\n        const wrapper = document.createElement(\"template\");\n        if ($sources.length > 0) {\n            const method = cfg.sourceMod === \"content\" ? \"innerHTML\" : \"outerHTML\";\n            // There might be multiple sources, so we need to loop over them.\n            // Access them with \"innerHTML\" or \"outerHTML\" depending on the sourceMod.\n            const sources_string = [...$sources].map(source => source[method]).join(\"\\n\");\n            wrapper.innerHTML = sources_string;\n\n            for (const img of wrapper.content.querySelectorAll(\"img\")) {\n                events.add_event_listener(\n                    img,\n                    \"load\",\n                    \"inject_img_load\",\n                    (e) => {\n                        $(e.currentTarget).trigger(\"pat-inject-content-loaded\");\n                    },\n                    { once: true }\n                );\n            }\n        }\n\n        // Copy, because after insertion wrapper.children is empty.\n        const source_nodes = [...wrapper.content.childNodes];\n\n        // Now the injection actually happens.\n        if (this._inject(trigger, source_nodes, target, cfg)) {\n            // Update history\n            this._update_history(cfg, trigger, $title);\n            // Post-injection\n            this._afterInjection($el, cfg.$created_target || $(source_nodes), cfg);\n        }\n    },\n\n    _update_history(cfg, trigger, $title) {\n        // History support. if subform is submitted, append form params\n        if (cfg.history !== \"record\" || !history?.pushState) {\n            return;\n        }\n        let url = cfg.url;\n        if (cfg.params) {\n            const glue = url.indexOf(\"?\") > -1 ? \"&\" : \"?\";\n            url = `${url}${glue}${cfg.params}`;\n        }\n        history.pushState({ url: url }, \"\", url);\n        // Also inject title element if we have one\n        if ($title?.length) {\n            const title_el = document.querySelector(\"title\");\n            if (title_el) {\n                this._inject(trigger, $title, title_el, {\n                    action: \"element\",\n                });\n            }\n        }\n    },\n\n    _afterInjection($el, $injected, cfg) {\n        /* Set a class on the injected elements and fire the\n         * patterns-injected event.\n         */\n        const el = utils.jqToNode($el);\n        $injected\n            .filter((idx, el_) => {\n                return el_.nodeType !== TEXT_NODE;\n            })\n            .data(\"pat-injected\", { origin: cfg.url });\n\n        if ($injected.length === 1 && $injected[0].nodeType == TEXT_NODE) {\n            // Only one element injected, and it was a text node.\n            // So we trigger \"patterns-injected\" on the parent.\n            // The event handler should check whether the\n            // injected element and the triggered element are\n            // the same.\n            $injected.parent().trigger(\"patterns-injected\", [cfg, el, $injected[0]]);\n        } else {\n            $injected.each((idx, el_) => {\n                // patterns-injected event will be triggered for each injected (non-text) element.\n                if (el_.nodeType !== TEXT_NODE) {\n                    $(el_)\n                        .addClass(cfg[\"class\"])\n                        .trigger(\"patterns-injected\", [cfg, el, el_]);\n                }\n            });\n        }\n\n        if (cfg.scroll && cfg.scroll !== \"none\") {\n            // Get the scroll target for\n            // 1) finding the scroll container\n            // 2) getting the element to scroll to (if not \"top\")\n            const scroll_target = [\"top\", \"target\"].includes(cfg.scroll)\n                ? cfg.$target[0]\n                : dom.querySelectorAllAndMe($injected[0], cfg.scroll);\n\n            const scroll_container = dom.find_scroll_container(\n                scroll_target,\n                null,\n                window\n            );\n\n            if (cfg.scroll === \"top\") {\n                dom.scroll_to_top(scroll_container);\n            } else if (scroll_target) {\n                dom.scroll_to_element(scroll_target, scroll_container);\n            }\n        }\n\n        el.dispatchEvent(\n            new Event(\"pat-inject-success\", { bubbles: true, cancelable: true })\n        );\n    },\n\n    async _onInjectSuccess($el, cfgs, ev) {\n        let data = ev?.jqxhr?.responseText;\n        if (!data) {\n            log.warn(\"No response content, aborting\", ev);\n            return;\n        }\n        if (cfgs[0].source === \"none\") {\n            // Special case, we want to call something, but we don't want to inject anything\n            data = \"\";\n        }\n        const sources$ = await this.callTypeHandler(cfgs[0].dataType, \"sources\", $el, [\n            cfgs,\n            data,\n            ev,\n        ]);\n        /* pick the title source for dedicated handling later\n          Title - if present - is always appended at the end. */\n        let $title;\n        if (\n            sources$ &&\n            sources$[sources$.length - 1] &&\n            sources$[sources$.length - 1][0] &&\n            sources$[sources$.length - 1][0].nodeName === \"TITLE\"\n        ) {\n            $title = sources$[sources$.length - 1];\n        }\n        cfgs.forEach((cfg, idx1) => {\n            const perform_inject = () => {\n                if (cfg.target !== \"none\") {\n                    for (const target of cfg.$target) {\n                        this._performInjection(\n                            target,\n                            $el,\n                            sources$[idx1],\n                            cfg,\n                            ev.target,\n                            $title\n                        );\n                    }\n                }\n            };\n            if (cfg.processDelay) {\n                setTimeout(() => perform_inject(), cfg.processDelay);\n            } else {\n                perform_inject();\n            }\n        });\n        if (cfgs[0].nextHref && $el.is(\"a\")) {\n            // In case next-href is specified the anchor's href will\n            // be set to it after the injection is triggered.\n            $el.attr({ href: cfgs[0].nextHref.replace(/&amp;/g, \"&\") });\n            this.destroy($el);\n        }\n        $el.off(\"pat-ajax-success.pat-inject\");\n        $el.off(\"pat-ajax-error.pat-inject\");\n    },\n\n    async _onInjectError($el, cfgs, event) {\n        let explanation = \"\";\n        const status = event.jqxhr.status;\n        const timestamp = new Date();\n        if (status % 100 == 4) {\n            explanation =\n                \"Sorry! We couldn't find the page to load. Please make a screenshot and send it to support. Thank you!\";\n        } else if (status % 100 == 5) {\n            explanation =\n                \"I am very sorry! There was an error at the server. Please make a screenshot and contact support. Thank you!\";\n        } else if (status == 0) {\n            explanation =\n                \"It seems, the server is down. Please make a screenshot and contact support. Thank you!\";\n        }\n\n        let error_page;\n        let error_page_fragment;\n        const url_params = new URLSearchParams(window.location.search);\n        if (url_params.get(\"pat-inject-errorhandler.off\") === null) {\n            // Prepare a error page to be injected into the document.\n\n            // Try to get a suitable error message from pre-configured error pages.\n            const error_page_url = document\n                ?.querySelector(`meta[name^=pat-inject-status-${status}]`)\n                ?.getAttribute(\"content\", false);\n            error_page_fragment = error_page_url?.split(\"#\")[1];\n            error_page_fragment = error_page_fragment ? `#${error_page_fragment}` : null;\n\n            if (error_page_fragment) {\n                error_page = document.createElement(\"html\");\n                error_page.innerHTML = event.jqxhr.responseText;\n                error_page = error_page.querySelector(error_page_fragment);\n            }\n\n            if (!error_page && error_page_url) {\n                try {\n                    const error_page_response = await fetch(error_page_url, {\n                        method: \"GET\",\n                    });\n                    error_page = document.createElement(\"html\");\n                    error_page.innerHTML = await error_page_response.text();\n                    error_page = error_page.querySelector(error_page_fragment || \"body\");\n                } catch {\n                    // fall back to standard error message and ignore.\n                }\n            }\n        }\n\n        // clean up\n        for (const cfg of cfgs) {\n            if (\"$created_target\" in cfg) {\n                cfg.$created_target.remove();\n            }\n            cfg.$target.removeClass(cfg.loadingClass);\n            $el.removeClass(cfg.executingClass);\n        }\n        $el.off(\"pat-ajax-success.pat-inject\");\n        $el.off(\"pat-ajax-error.pat-inject\");\n\n        if (error_page) {\n            const error_zone = document.querySelector(error_page_fragment || \"body\");\n            error_zone.innerHTML = error_page.innerHTML;\n            registry.scan(error_zone); // initialize any patterns in error page\n        } else {\n            const msg_attr = `${explanation} Status is ${status} ${event.jqxhr.statusText}, time was ${timestamp}. You can click to close this.`;\n            $(\"body\").attr(\"data-error-message\", msg_attr);\n            $(\"body\").on(\"click\", () => {\n                $(\"body\").removeAttr(\"data-error-message\");\n                window.location.href = window.location.href; // reload\n            });\n        }\n    },\n\n    execute(cfgs, $el) {\n        /* Actually execute the injection.\n         *\n         * Either by making an ajax request or by spoofing an ajax\n         * request when the content is readily available in the current page.\n         */\n        const el = utils.jqToNode($el);\n        // get a kinda deep copy, we scribble on it\n        cfgs = cfgs.map((cfg) => $.extend({}, cfg));\n        if (!this.verifyConfig(cfgs)) {\n            return;\n        }\n        if (!this.askForConfirmation(cfgs)) {\n            return;\n        }\n        if ($el.data(\"pat-inject-triggered\")) {\n            // Prevent double triggers;\n            return;\n        }\n        $el.data(\"pat-inject-triggered\", true);\n\n        for (const cfg of cfgs) {\n            // Add a execute class on the pat-inject element.\n            if (cfg?.executingClass) {\n                el.classList.add(cfg.executingClass);\n            }\n            // Add a loading class to the target.\n            // Can be used for loading-spinners.\n            if (cfg?.loadingClass && cfg?.target !== \"none\") {\n                cfg.$target.addClass(cfg.loadingClass);\n            }\n        }\n\n        $el.on(\"pat-ajax-success.pat-inject\", async (e) => {\n            this._onInjectSuccess($el, cfgs, e);\n\n            // Wait for the next tick to ensure that the close-panel listener\n            // is called before this one, even for non-async local injects.\n            await utils.timeout(1);\n            // Remove the close-panel event listener.\n            events.remove_event_listener(el, \"pat-inject--close-panel\");\n            // Only close the panel if a close-panel event was catched previously.\n            if (do_close_panel) {\n                do_close_panel = false;\n                // Re-trigger close-panel event if it was caught while injection was in progress.\n                el.dispatchEvent(\n                    new Event(\"close-panel\", { bubbles: true, cancelable: true })\n                );\n            }\n        });\n        $el.on(\"pat-ajax-error.pat-inject\", this._onInjectError.bind(this, $el, cfgs));\n        $el.on(\"pat-ajax-success.pat-inject pat-ajax-error.pat-inject\", () =>\n            $el.removeData(\"pat-inject-triggered\")\n        );\n\n        // Prevent closing the panel while injection is in progress.\n        let do_close_panel = false;\n        events.add_event_listener(el, \"close-panel\", \"pat-inject--close-panel\", (e) => {\n            e.stopPropagation();\n            e.stopImmediatePropagation();\n            do_close_panel = true;\n        });\n\n        if (cfgs[0].url.length) {\n            ajax.request($el, {\n                \"url\": cfgs[0].url,\n                \"browser-cache\": cfgs[0].browserCache,\n            });\n        } else {\n            // If there is no url specified, then content is being fetched\n            // from the same page.\n            // No need to do an ajax request for this, so we spoof the ajax\n            // event.\n            $el.trigger({\n                type: \"pat-ajax-success\",\n                jqxhr: {\n                    responseText: $(\"body\").html(),\n                },\n            });\n        }\n    },\n\n    _inject(trigger, source_nodes, target, cfg) {\n        if (cfg.source === \"none\") {\n            // Special case. Clear the target after ajax call.\n            target.replaceWith(\"\");\n            return true;\n        }\n        if (source_nodes.length === 0) {\n            log.warn(\"Aborting injection, source not found:\", source_nodes);\n            $(trigger).trigger(\"pat-inject-missingSource\", {\n                url: cfg.url,\n                selector: cfg.source,\n            });\n            return false;\n        }\n        if (cfg.target === \"none\") {\n            // Special case. Don't do anything, we don't want any result\n            return true;\n        }\n        if (!target) {\n            log.warn(\"Aborting injection, target not found:\", target);\n            $(trigger).trigger(\"pat-inject-missingTarget\", {\n                selector: cfg.target,\n            });\n            return false;\n        }\n\n        // cfg.action to DOM method mapping\n        const method = {\n            content: \"replaceChildren\",\n            contentafter: \"append\",\n            contentbefore: \"prepend\",\n            element: \"replaceWith\",\n            elementafter: \"after\",\n            elementbefore: \"before\",\n        }[cfg.action];\n\n        // Inject the content HERE!\n        target[method](...source_nodes);\n\n        return true;\n    },\n\n    _sourcesFromHtml(html, url, sources) {\n        const $html = this._parseRawHtml(html, url);\n        return sources.map((source) => {\n            if (source === \"body\") {\n                source = \"#__original_body\";\n            }\n            if (source === \"none\") {\n                return $(\"<!-- -->\");\n            }\n            const $source = $html.find(source);\n\n            if ($source.length === 0) {\n                if (source != \"title\") {\n                    log.warn(\"No source elements for selector:\", source, $html);\n                }\n            }\n\n            $source.find('a[href^=\"#\"]').each((idx, el_) => {\n                const href = el_.getAttribute(\"href\");\n                if (href.indexOf(\"#{1}\") !== -1) {\n                    // We ignore hrefs containing #{1} because they're not\n                    // valid and only applicable in the context of\n                    // pat-clone.\n                    return;\n                }\n                // Skip in-document links pointing to an id that is inside\n                // this fragment.\n                if (href.length === 1) {\n                    // Special case for top-of-page links\n                    el_.href = url;\n                } else if (!$source.find(href).length) {\n                    el_.href = url + href;\n                }\n            });\n            return $source;\n        });\n    },\n\n    _rebaseAttrs: {\n        a: \"href\",\n        form: \"action\",\n        img: \"src\",\n        object: \"data\",\n        source: \"src\",\n        video: \"src\",\n    },\n\n    _rebaseOptions: {\n        \"calendar\": [\"url\", \"event-sources\"],\n        \"collapsible\": [\"load-content\"],\n        \"date-picker\": [\"i18n\"],\n        \"datetime-picker\": [\"i18n\"],\n        \"inject\": [\"url\"],\n    },\n\n    _rebaseURL(base, url) {\n        if (url.indexOf(\"://\") !== -1 || url[0] === \"/\" || url.indexOf(\"data:\") === 0) {\n            return url;\n        }\n        base = new URL(base, window.location).href; // If base is relative make it absolute.\n        return base.slice(0, base.lastIndexOf(\"/\") + 1) + url;\n    },\n\n    _rebaseHTML(base, html) {\n        if (html === \"\") {\n            // Special case, source is none\n            return \"\";\n        }\n\n        // Parse the html string into a DOM tree.\n        const page = document.createElement(\"div\");\n        page.innerHTML = html;\n\n        // Create efficient selector for any tag with it's corresponding\n        // attribute from _rebaseAttrs. Note: the current data structure allows\n        // only for one attribute to be rebased per tag.\n        const rebase_selector = Object.entries(this._rebaseAttrs)\n            .map(([tag, attr]) => `${tag}[${attr}]`)\n            .join(\", \");\n        for (const el_ of page.querySelectorAll(rebase_selector)) {\n            const attr = this._rebaseAttrs[el_.nodeName.toLowerCase()];\n            let value = el_.getAttribute(attr);\n\n            if (\n                value &&\n                value.slice(0, 2) !== \"@@\" &&\n                value[0] !== \"#\" &&\n                value.slice(0, 7) !== \"mailto:\" &&\n                value.slice(0, 4) !== \"tel:\" &&\n                value.slice(0, 4) !== \"fax:\" &&\n                value.slice(0, 7) !== \"callto:\" &&\n                value.slice(0, 10) !== \"ts3server:\" &&\n                value.slice(0, 6) !== \"teams:\" &&\n                value.slice(0, 11) !== \"javascript:\"\n            ) {\n                value = this._rebaseURL(base, value);\n                el_.setAttribute(attr, value);\n            }\n        }\n\n        for (const [pattern_name, opts] of Object.entries(this._rebaseOptions)) {\n            for (const el_ of dom.querySelectorAllAndMe(\n                page,\n                `[data-pat-${pattern_name}]`\n            )) {\n                const pattern = registry.patterns?.[pattern_name];\n                const pattern_parser = pattern?.parser;\n                if (!pattern_parser) {\n                    continue;\n                }\n                // parse: no default options, possibly multiple configs, no grouping.\n                const options = pattern_parser.parse(el_, {}, true, false, false);\n                let changed = false;\n                for (const config of options) {\n                    for (const opt of opts) {\n                        const val = config[opt];\n                        if (!val) {\n                            continue;\n                        }\n                        changed = true;\n                        if (Array.isArray(val)) {\n                            config[opt] = val.map((it) => this._rebaseURL(base, it));\n                        } else {\n                            config[opt] = this._rebaseURL(base, val);\n                        }\n                    }\n                }\n                if (changed) {\n                    el_.setAttribute(\n                        `data-pat-${pattern_name}`,\n                        JSON.stringify(options.length === 1 ? options[0] : options)\n                    );\n                }\n            }\n        }\n\n        return page.innerHTML.trim();\n    },\n\n    _parseRawHtml(html, url = \"\") {\n        // remove script tags and head and replace body by a div\n        const title = html.match(/\\<title\\>(.*)\\<\\/title\\>/);\n        let clean_html = html\n            .replace(/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi, \"\")\n            .replace(/<head\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/head>/gi, \"\")\n            .replace(/<html([^>]*?)>/gi, \"\")\n            .replace(/<\\/html([^>]*?)>/gi, \"\")\n            .replace(/<body([^>]*?)>/gi, '<div id=\"__original_body\">')\n            .replace(/<\\/body([^>]*?)>/gi, \"</div>\");\n\n        if (title && title.length == 2) {\n            clean_html = title[0] + clean_html;\n        }\n        try {\n            clean_html = this._rebaseHTML(url, clean_html);\n        } catch (e) {\n            log.error(\"Error rebasing urls\", e);\n        }\n        const $html = $(\"<div/>\").html(clean_html);\n        if ($html.children().length === 0) {\n            log.warn(\"Parsing html resulted in empty jquery object:\", clean_html);\n        }\n        return $html;\n    },\n\n    _initAutoloadVisible($el, cfgs) {\n        if ($el.data(\"pat-inject-autoloaded\")) {\n            // ignore executed autoloads\n            return false;\n        }\n\n        const el = utils.jqToNode($el);\n\n        // delay: default is 200ms to allow scrolling over and past autoload-visible elements without loading them.\n        const delay = cfgs[0].delay || 200;\n        log.debug(`Delay time: ${delay}`);\n\n        // function to trigger the autoload and mark as triggered\n        const trigger = (event) => {\n            if ($el.data(\"pat-inject-autoloaded\")) {\n                log.debug(`autoload-visible trigger skipped ${el}`);\n                return false;\n            }\n            $el.data(\"pat-inject-autoloaded\", true);\n            this.onTrigger({ currentTarget: el });\n            event && event.preventDefault();\n            log.debug(`autoload-visible trigger run ${el}`);\n            return true;\n        };\n\n        // Config see: https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API\n        const intersection_observer_config = {\n            threshold: 0, // If even one pixel is visible, the callback will be run.\n            root: null, // Root is browser viewport. If the element is visible to the user, the callback will be run.\n            margin: \"0px\", // No margins. The element is not preloaded.\n        };\n\n        let timeout_id = null;\n        const observer = new IntersectionObserver((entries) => {\n            for (const entry of entries) {\n                if (entry.isIntersecting) {\n                    // Run the callback after 200ms to prevent loading all\n                    // visible elements when scrolling over.\n                    timeout_id = window.setTimeout(() => {\n                        observer.disconnect(); // Stop observing loaded elements.\n                        trigger();\n                    }, delay);\n                    log.debug(`autoload-visible intersecting ${el}`);\n                } else {\n                    window.clearTimeout(timeout_id);\n                    log.debug(`autoload-visible not intersecting ${el}`);\n                }\n            }\n        }, intersection_observer_config);\n        observer.observe(el);\n    },\n\n    _initIdleTrigger($el, delay) {\n        // TODO: handle item removed from DOM\n        const timeout = parseInt(delay, 10);\n        let timer;\n\n        const el = utils.jqToNode($el);\n\n        const onTimeout = () => {\n            this.onTrigger({ currentTarget: el });\n            unsub();\n            clearTimeout(timer);\n        };\n\n        const onInteraction = utils.debounce(() => {\n            if (!document.body.contains(el)) {\n                unsub();\n                return;\n            }\n            clearTimeout(timer);\n            timer = setTimeout(onTimeout, timeout);\n        }, timeout);\n\n        const unsub = () => {\n            for (const event of [\"scroll\", \"resize\"]) {\n                window.removeEventListener(event, onInteraction);\n            }\n            for (const event of [\n                \"click\",\n                \"keypress\",\n                \"keyup\",\n                \"mousemove\",\n                \"touchstart\",\n                \"touchend\",\n            ]) {\n                document.removeEventListener(event, onInteraction);\n            }\n        };\n\n        onInteraction();\n\n        for (const event of [\"scroll\", \"resize\"]) {\n            window.addEventListener(event, onInteraction);\n        }\n        for (const event of [\n            \"click\",\n            \"keypress\",\n            \"keyup\",\n            \"mousemove\",\n            \"touchstart\",\n            \"touchend\",\n        ]) {\n            document.addEventListener(event, onInteraction);\n        }\n    },\n\n    registerTypeHandler(type, handler) {\n        this.handlers[type] = handler;\n    },\n\n    async callTypeHandler(type, fn, context, params) {\n        type = type || \"html\";\n        if (this.handlers[type] && $.isFunction(this.handlers[type][fn])) {\n            return await this.handlers[type][fn].bind(this)(...params);\n        } else {\n            return null;\n        }\n    },\n\n    handlers: {\n        html: {\n            sources(cfgs, data) {\n                const sources = cfgs.map((cfg) => cfg.source);\n                sources.push(\"title\");\n                const result = this._sourcesFromHtml(data, cfgs[0].url, sources);\n                return result;\n            },\n        },\n    },\n};\n\n$(document).on(\"patterns-injected.inject\", async (ev, cfg, trigger, injected) => {\n    /* Listen for the patterns-injected event.\n     *\n     * Remove the \"loading-class\" classes from all injection targets and\n     * then scan the injected content for new patterns.\n     */\n    if (cfg?.skipPatInjectHandler) {\n        // Allow skipping this handler but still have other handlers in other\n        // patterns listen to ``patterns-injected``.\n        return;\n    }\n    if (cfg) {\n        cfg.$target.removeClass(cfg.loadingClass);\n        // Remove the executing class, add the executed class to the element with pat.inject on it.\n        $(trigger).removeClass(cfg.executingClass).addClass(cfg.executedClass);\n    }\n    if (injected.nodeType !== TEXT_NODE && injected.nodeType !== COMMENT_NODE) {\n        registry.scan(injected, null, { type: \"injection\", element: trigger });\n        $(injected).trigger(\"patterns-injected-scanned\");\n\n        await utils.timeout(10); // Wait a bit before dispatching next event.\n        injected.dispatchEvent(\n            new CustomEvent(\"patterns-injected-delayed\", {\n                bubbles: true,\n                cancelable: true,\n                detail: {\n                    injected: injected,\n                },\n            })\n        );\n    }\n});\n\n$(window).on(\"popstate\", (event) => {\n    // popstate also triggers on traditional anchors\n    if (!event.originalEvent.state && \"replaceState\" in history) {\n        try {\n            history.replaceState(\"anchor\", \"\", document.location.href);\n        } catch (e) {\n            log.debug(e);\n        }\n        return;\n    }\n    // Not only change the URL, also reload the page.\n    window.location.reload();\n});\n\n// this entry ensures that the initally loaded page can be reached with\n// the back button\nif (\"replaceState\" in history) {\n    try {\n        history.replaceState(\"pageload\", \"\", document.location.href);\n    } catch (e) {\n        log.debug(e);\n    }\n}\n\nregistry.register(inject);\nexport default inject;\n","/*!\n  * Bootstrap index.js v5.3.7 (https://getbootstrap.com/)\n  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)\n  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n  */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.Index = {}));\n})(this, (function (exports) { 'use strict';\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap util/index.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n  const MAX_UID = 1000000;\n  const MILLISECONDS_MULTIPLIER = 1000;\n  const TRANSITION_END = 'transitionend';\n\n  /**\n   * Properly escape IDs selectors to handle weird IDs\n   * @param {string} selector\n   * @returns {string}\n   */\n  const parseSelector = selector => {\n    if (selector && window.CSS && window.CSS.escape) {\n      // document.querySelector needs escaping to handle IDs (html5+) containing for instance /\n      selector = selector.replace(/#([^\\s\"#']+)/g, (match, id) => `#${CSS.escape(id)}`);\n    }\n    return selector;\n  };\n\n  // Shout-out Angus Croll (https://goo.gl/pxwQGp)\n  const toType = object => {\n    if (object === null || object === undefined) {\n      return `${object}`;\n    }\n    return Object.prototype.toString.call(object).match(/\\s([a-z]+)/i)[1].toLowerCase();\n  };\n\n  /**\n   * Public Util API\n   */\n\n  const getUID = prefix => {\n    do {\n      prefix += Math.floor(Math.random() * MAX_UID);\n    } while (document.getElementById(prefix));\n    return prefix;\n  };\n  const getTransitionDurationFromElement = element => {\n    if (!element) {\n      return 0;\n    }\n\n    // Get transition-duration of the element\n    let {\n      transitionDuration,\n      transitionDelay\n    } = window.getComputedStyle(element);\n    const floatTransitionDuration = Number.parseFloat(transitionDuration);\n    const floatTransitionDelay = Number.parseFloat(transitionDelay);\n\n    // Return 0 if element or transition duration is not found\n    if (!floatTransitionDuration && !floatTransitionDelay) {\n      return 0;\n    }\n\n    // If multiple durations are defined, take the first\n    transitionDuration = transitionDuration.split(',')[0];\n    transitionDelay = transitionDelay.split(',')[0];\n    return (Number.parseFloat(transitionDuration) + Number.parseFloat(transitionDelay)) * MILLISECONDS_MULTIPLIER;\n  };\n  const triggerTransitionEnd = element => {\n    element.dispatchEvent(new Event(TRANSITION_END));\n  };\n  const isElement = object => {\n    if (!object || typeof object !== 'object') {\n      return false;\n    }\n    if (typeof object.jquery !== 'undefined') {\n      object = object[0];\n    }\n    return typeof object.nodeType !== 'undefined';\n  };\n  const getElement = object => {\n    // it's a jQuery object or a node element\n    if (isElement(object)) {\n      return object.jquery ? object[0] : object;\n    }\n    if (typeof object === 'string' && object.length > 0) {\n      return document.querySelector(parseSelector(object));\n    }\n    return null;\n  };\n  const isVisible = element => {\n    if (!isElement(element) || element.getClientRects().length === 0) {\n      return false;\n    }\n    const elementIsVisible = getComputedStyle(element).getPropertyValue('visibility') === 'visible';\n    // Handle `details` element as its content may falsie appear visible when it is closed\n    const closedDetails = element.closest('details:not([open])');\n    if (!closedDetails) {\n      return elementIsVisible;\n    }\n    if (closedDetails !== element) {\n      const summary = element.closest('summary');\n      if (summary && summary.parentNode !== closedDetails) {\n        return false;\n      }\n      if (summary === null) {\n        return false;\n      }\n    }\n    return elementIsVisible;\n  };\n  const isDisabled = element => {\n    if (!element || element.nodeType !== Node.ELEMENT_NODE) {\n      return true;\n    }\n    if (element.classList.contains('disabled')) {\n      return true;\n    }\n    if (typeof element.disabled !== 'undefined') {\n      return element.disabled;\n    }\n    return element.hasAttribute('disabled') && element.getAttribute('disabled') !== 'false';\n  };\n  const findShadowRoot = element => {\n    if (!document.documentElement.attachShadow) {\n      return null;\n    }\n\n    // Can find the shadow root otherwise it'll return the document\n    if (typeof element.getRootNode === 'function') {\n      const root = element.getRootNode();\n      return root instanceof ShadowRoot ? root : null;\n    }\n    if (element instanceof ShadowRoot) {\n      return element;\n    }\n\n    // when we don't find a shadow root\n    if (!element.parentNode) {\n      return null;\n    }\n    return findShadowRoot(element.parentNode);\n  };\n  const noop = () => {};\n\n  /**\n   * Trick to restart an element's animation\n   *\n   * @param {HTMLElement} element\n   * @return void\n   *\n   * @see https://www.harrytheo.com/blog/2021/02/restart-a-css-animation-with-javascript/#restarting-a-css-animation\n   */\n  const reflow = element => {\n    element.offsetHeight; // eslint-disable-line no-unused-expressions\n  };\n  const getjQuery = () => {\n    if (window.jQuery && !document.body.hasAttribute('data-bs-no-jquery')) {\n      return window.jQuery;\n    }\n    return null;\n  };\n  const DOMContentLoadedCallbacks = [];\n  const onDOMContentLoaded = callback => {\n    if (document.readyState === 'loading') {\n      // add listener on the first call when the document is in loading state\n      if (!DOMContentLoadedCallbacks.length) {\n        document.addEventListener('DOMContentLoaded', () => {\n          for (const callback of DOMContentLoadedCallbacks) {\n            callback();\n          }\n        });\n      }\n      DOMContentLoadedCallbacks.push(callback);\n    } else {\n      callback();\n    }\n  };\n  const isRTL = () => document.documentElement.dir === 'rtl';\n  const defineJQueryPlugin = plugin => {\n    onDOMContentLoaded(() => {\n      const $ = getjQuery();\n      /* istanbul ignore if */\n      if ($) {\n        const name = plugin.NAME;\n        const JQUERY_NO_CONFLICT = $.fn[name];\n        $.fn[name] = plugin.jQueryInterface;\n        $.fn[name].Constructor = plugin;\n        $.fn[name].noConflict = () => {\n          $.fn[name] = JQUERY_NO_CONFLICT;\n          return plugin.jQueryInterface;\n        };\n      }\n    });\n  };\n  const execute = (possibleCallback, args = [], defaultValue = possibleCallback) => {\n    return typeof possibleCallback === 'function' ? possibleCallback.call(...args) : defaultValue;\n  };\n  const executeAfterTransition = (callback, transitionElement, waitForTransition = true) => {\n    if (!waitForTransition) {\n      execute(callback);\n      return;\n    }\n    const durationPadding = 5;\n    const emulatedDuration = getTransitionDurationFromElement(transitionElement) + durationPadding;\n    let called = false;\n    const handler = ({\n      target\n    }) => {\n      if (target !== transitionElement) {\n        return;\n      }\n      called = true;\n      transitionElement.removeEventListener(TRANSITION_END, handler);\n      execute(callback);\n    };\n    transitionElement.addEventListener(TRANSITION_END, handler);\n    setTimeout(() => {\n      if (!called) {\n        triggerTransitionEnd(transitionElement);\n      }\n    }, emulatedDuration);\n  };\n\n  /**\n   * Return the previous/next element of a list.\n   *\n   * @param {array} list    The list of elements\n   * @param activeElement   The active element\n   * @param shouldGetNext   Choose to get next or previous element\n   * @param isCycleAllowed\n   * @return {Element|elem} The proper element\n   */\n  const getNextActiveElement = (list, activeElement, shouldGetNext, isCycleAllowed) => {\n    const listLength = list.length;\n    let index = list.indexOf(activeElement);\n\n    // if the element does not exist in the list return an element\n    // depending on the direction and if cycle is allowed\n    if (index === -1) {\n      return !shouldGetNext && isCycleAllowed ? list[listLength - 1] : list[0];\n    }\n    index += shouldGetNext ? 1 : -1;\n    if (isCycleAllowed) {\n      index = (index + listLength) % listLength;\n    }\n    return list[Math.max(0, Math.min(index, listLength - 1))];\n  };\n\n  exports.defineJQueryPlugin = defineJQueryPlugin;\n  exports.execute = execute;\n  exports.executeAfterTransition = executeAfterTransition;\n  exports.findShadowRoot = findShadowRoot;\n  exports.getElement = getElement;\n  exports.getNextActiveElement = getNextActiveElement;\n  exports.getTransitionDurationFromElement = getTransitionDurationFromElement;\n  exports.getUID = getUID;\n  exports.getjQuery = getjQuery;\n  exports.isDisabled = isDisabled;\n  exports.isElement = isElement;\n  exports.isRTL = isRTL;\n  exports.isVisible = isVisible;\n  exports.noop = noop;\n  exports.onDOMContentLoaded = onDOMContentLoaded;\n  exports.parseSelector = parseSelector;\n  exports.reflow = reflow;\n  exports.toType = toType;\n  exports.triggerTransitionEnd = triggerTransitionEnd;\n\n  Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\n}));\n//# sourceMappingURL=index.js.map\n","import utils from \"./utils\";\n\n// Event related methods and event factories\n\n// Event listener registration for easy-to-remove event listeners.\n// once Safari supports the ``signal`` option for addEventListener we can abort\n// event handlers by calling AbortController.abort().\nexport const event_listener_map = new Map();\n\n/**\n * Add an event listener to a DOM element under a unique id.\n * If a event is registered under the same id for the same element, the old handler is removed first.\n *\n * @param {DOM Node} el - The element to register the event for.\n * @param {string} event_type - The event type to listen for.\n * @param {string} id - A unique id under which the event is registered.\n * @param {function} cb - The event handler / callback function.\n * @param {Object} opts - Options for the addEventListener API.\n *\n */\nconst add_event_listener = (el, event_type, id, cb, opts = {}) => {\n    if (!el?.addEventListener) {\n        return; // nothing to do.\n    }\n    remove_event_listener(el, id); // do not register one listener twice.\n\n    // Create event_listener_map entry if not existent.\n    if (!event_listener_map.has(el)) {\n        event_listener_map.set(el, new Map());\n    }\n    let _cb = cb;\n    if (opts?.once === true) {\n        // For `once` events, also remove the entry from the event_listener_map.\n        _cb = (e) => {\n            event_listener_map.get(el)?.delete(id);\n            cb(e);\n        };\n    }\n    // Only `capture` option is necessary for `removeEventListener`.\n    event_listener_map\n        .get(el)\n        .set(id, [event_type, _cb, opts.capture ? opts : undefined]);\n    el.addEventListener(event_type, _cb, opts);\n};\n\n/**\n * Remove an event listener from a DOM element under a unique id.\n *\n * If an element and id are given, the event listeners for the given element matching the id are removed.\n * If an element but no id is given, all event listeners for that element are removed.\n * If an id but no element is given, all event listeners for any element matching the id are removed.\n * If no element and no id are given, all event listeners are removed.\n *\n * The id can be a wildcard string, e.g. `test-*-event`, which would match any\n * event which starts with \"test-\" and ends with \"-event\". The wildcard \"*\" can\n * be anywhere in the string and also be used multiple times. If no wildcard is\n * present the search string is used for an exact match.\n *\n * @param {DOM Node} [el] - The element to register the event for.\n * @param {string} [id] - A unique id under which the event is registered.\n *                        Can be a wildcard string.\n *\n */\nconst remove_event_listener = (el, id) => {\n    const els = el ? [el] : event_listener_map.keys();\n    for (const el of els) {\n        if (!el?.removeEventListener) {\n            return; // nothing to do.\n        }\n        const el_events = event_listener_map.get(el);\n        if (!el_events) {\n            return;\n        }\n        let entries;\n        if (id) {\n            // remove event listener with matching id\n            entries = [...el_events.entries()].filter((entry) =>\n                utils.regexp_from_wildcard(id).test(entry[0])\n            );\n        } else {\n            // remove all event listeners of element\n            entries = el_events.entries();\n        }\n        for (const entry of entries || []) {\n            // Remove event listener\n            el.removeEventListener(entry[1][0], entry[1][1], entry[1][2]);\n            // Delete entry from event_listener_map\n            event_listener_map.get(el).delete(entry[0]);\n            // Delete element from event_listener_map if no more events are registered.\n            if (!event_listener_map.get(el).size) {\n                event_listener_map.delete(el);\n            }\n        }\n    }\n};\n\n/**\n * Await an event to be thrown.\n *\n * Usage:\n *     await events.await_event(button, \"click\");\n *\n * @param {DOM Node} el - The element to listen on.\n * @param {String} event_name - The event name to listen for.\n *\n * @returns {Promise} - Returns a Promise which can be used for ``await`` and which will be resolved when the event is throwm.\n *\n */\nconst await_event = (el, event_name) => {\n    // See: https://stackoverflow.com/a/44746691/1337474\n    return new Promise((resolve) =>\n        el.addEventListener(event_name, resolve, { once: true })\n    );\n};\n\n/**\n * Await pattern init.\n *\n * Usage:\n *     await events.await_pattern_init(PATTERN);\n *\n * @param {Pattern instance} pattern - The pattern instance.\n *\n * @returns {Promise} - Returns a Promise which can be used for ``await`` and which will be resolved when the event is throwm.\n *\n */\nconst await_pattern_init = (pattern) => {\n    // See: https://stackoverflow.com/a/44746691/1337474\n    return new Promise((resolve, reject) => {\n        // Case initialized\n        pattern.one(\"init\", (e) => {\n            if (e.target !== pattern.el) {\n                // Don't handle bubbling init events from child elements. We\n                // want to check on init events coming directly from this\n                // Pattern's element.\n                return;\n            }\n            // Resolve promise and unregister the not-init event handler.\n            remove_event_listener(\n                pattern.el,\n                `basepattern-one--not-init.${pattern.name}.patterns`\n            );\n            resolve();\n        });\n\n        // Case not initialized\n        pattern.one(\"not-init\", (e) => {\n            if (e.target !== pattern.el) {\n                // Don't handle bubbling not-init events from child elements.\n                // We want to check on not-init events coming directly from\n                // this Pattern's element.\n                return;\n            }\n            // Reject promise and unregister the init event handler.\n            remove_event_listener(\n                pattern.el,\n                `basepattern-one--init.${pattern.name}.patterns`\n            );\n            reject();\n        });\n    }).catch(() => {\n        throw new Error(`Pattern \"${pattern.name}\" not initialized.`);\n    });\n};\n\n/**\n * Event factories\n */\n\n/** Generic event factory.\n *\n * A event factory for a bubbling and cancelable generic event.\n *\n * @param {string} name - The event name.\n * @returns {Event} - Returns a blur event.\n */\nconst generic_event = (name) => {\n    return new Event(name, {\n        bubbles: true,\n        cancelable: true,\n    });\n};\n\n\n/** Patternslib specifc event factories\n */\n\nclass UpdateEvent extends CustomEvent {\n    constructor(options) {\n        super(\"pat-update\", {\n            bubbles: true,\n            cancelable: true,\n            detail: options\n        });\n    }\n}\n\nconst update_event = (options) => {\n    return new UpdateEvent(options);\n}\n\n\n/** Web API event factories\n */\n\nconst blur_event = () => {\n    return new Event(\"blur\", {\n        bubbles: false,\n        cancelable: false,\n    });\n};\n\nconst click_event = () => {\n    return new Event(\"click\", {\n        bubbles: true,\n        cancelable: true,\n    });\n};\n\nconst change_event = () => {\n    return new Event(\"change\", {\n        bubbles: true,\n        cancelable: false,\n    });\n};\n\nconst focus_event = () => {\n    return new Event(\"focus\", {\n        bubbles: false,\n        cancelable: false,\n    });\n};\n\nconst input_event = () => {\n    return new Event(\"input\", {\n        bubbles: true,\n        cancelable: false,\n    });\n};\n\nconst mousedown_event = () => {\n    return new Event(\"mousedown\", {\n        bubbles: true,\n        cancelable: true,\n    });\n};\n\nconst mouseup_event = () => {\n    return new Event(\"mouseup\", {\n        bubbles: true,\n        cancelable: true,\n    });\n};\n\nconst scroll_event = () => {\n    return new Event(\"scroll\", {\n        bubbles: true,\n        cancelable: false,\n    });\n};\n\nconst submit_event = ({ submitter } = { submitter: undefined }) => {\n    const event = new Event(\"submit\", {\n        bubbles: true,\n        cancelable: true,\n    });\n    event.submitter = submitter; // undefined or the submitting element\n    return event;\n};\n\nconst dragstart_event = () => {\n    return new Event(\"dragstart\", {\n        bubbles: true,\n        cancelable: true,\n    });\n};\n\nconst dragend_event = () => {\n    return new Event(\"dragend\", {\n        bubbles: true,\n        cancelable: true,\n    });\n};\n\nexport default {\n    add_event_listener: add_event_listener,\n    remove_event_listener: remove_event_listener,\n    await_event: await_event,\n    await_pattern_init: await_pattern_init,\n    generic_event: generic_event,\n    update_event: update_event,\n    blur_event: blur_event,\n    click_event: click_event,\n    change_event: change_event,\n    focus_event: focus_event,\n    input_event: input_event,\n    mousedown_event: mousedown_event,\n    mouseup_event: mouseup_event,\n    scroll_event: scroll_event,\n    submit_event: submit_event,\n    dragstart_event: dragstart_event,\n    dragend_event: dragend_event,\n};\n","/*!\n  * Bootstrap data.js v5.3.7 (https://getbootstrap.com/)\n  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)\n  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n  */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Data = factory());\n})(this, (function () { 'use strict';\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap dom/data.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n  /**\n   * Constants\n   */\n\n  const elementMap = new Map();\n  const data = {\n    set(element, key, instance) {\n      if (!elementMap.has(element)) {\n        elementMap.set(element, new Map());\n      }\n      const instanceMap = elementMap.get(element);\n\n      // make it clear we only want one instance per element\n      // can be removed later when multiple key/instances are fine to be used\n      if (!instanceMap.has(key) && instanceMap.size !== 0) {\n        // eslint-disable-next-line no-console\n        console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(instanceMap.keys())[0]}.`);\n        return;\n      }\n      instanceMap.set(key, instance);\n    },\n    get(element, key) {\n      if (elementMap.has(element)) {\n        return elementMap.get(element).get(key) || null;\n      }\n      return null;\n    },\n    remove(element, key) {\n      if (!elementMap.has(element)) {\n        return;\n      }\n      const instanceMap = elementMap.get(element);\n      instanceMap.delete(key);\n\n      // free up element references if there are no instances left for an element\n      if (instanceMap.size === 0) {\n        elementMap.delete(element);\n      }\n    }\n  };\n\n  return data;\n\n}));\n//# sourceMappingURL=data.js.map\n","/**\n * @license\n * Patterns @VERSION@ jquery-ext - various jQuery extensions\n *\n * Copyright 2011 Humberto Sermeo\n */\n\nimport $ from \"jquery\";\n\nvar methods = {\n    init: function (options) {\n        var settings = {\n            time: 3 /* time it will wait before moving to \"timeout\" after a move event */,\n            initialTime: 8 /* time it will wait before first adding the \"timeout\" class */,\n            exceptionAreas: [] /* IDs of elements that, if the mouse is over them, will reset the timer */,\n        };\n        return this.each(function () {\n            var $this = $(this),\n                data = $this.data(\"timeout\");\n\n            if (!data) {\n                if (options) {\n                    $.extend(settings, options);\n                }\n                $this.data(\"timeout\", {\n                    lastEvent: new Date(),\n                    trueTime: settings.time,\n                    time: settings.initialTime,\n                    untouched: true,\n                    inExceptionArea: false,\n                });\n\n                $this.on(\"mouseover.timeout\", methods.mouseMoved);\n                $this.on(\"mouseenter.timeout\", methods.mouseMoved);\n\n                $(settings.exceptionAreas).each(function () {\n                    $this\n                        .find(this)\n                        .live(\n                            \"mouseover.timeout\",\n                            { parent: $this },\n                            methods.enteredException\n                        )\n                        .live(\n                            \"mouseleave.timeout\",\n                            { parent: $this },\n                            methods.leftException\n                        );\n                });\n\n                if (settings.initialTime > 0) $this.timeout(\"startTimer\");\n                else $this.addClass(\"timeout\");\n            }\n        });\n    },\n\n    enteredException: function (event) {\n        var data = event.data.parent.data(\"timeout\");\n        data.inExceptionArea = true;\n        event.data.parent.data(\"timeout\", data);\n        event.data.parent.trigger(\"mouseover\");\n    },\n\n    leftException: function (event) {\n        var data = event.data.parent.data(\"timeout\");\n        data.inExceptionArea = false;\n        event.data.parent.data(\"timeout\", data);\n    },\n\n    destroy: function () {\n        return this.each(function () {\n            var $this = $(this),\n                data = $this.data(\"timeout\");\n\n            $(window).off(\".timeout\");\n            data.timeout.remove();\n            $this.removeData(\"timeout\");\n        });\n    },\n\n    mouseMoved: function () {\n        var $this = $(this),\n            data = $this.data(\"timeout\");\n\n        if ($this.hasClass(\"timeout\")) {\n            $this.removeClass(\"timeout\");\n            $this.timeout(\"startTimer\");\n        } else if (data.untouched) {\n            data.untouched = false;\n            data.time = data.trueTime;\n        }\n\n        data.lastEvent = new Date();\n        $this.data(\"timeout\", data);\n    },\n\n    startTimer: function () {\n        var $this = $(this),\n            data = $this.data(\"timeout\");\n        var fn = function () {\n            var data = $this.data(\"timeout\");\n            if (data && data.lastEvent) {\n                if (data.inExceptionArea) {\n                    setTimeout(fn, Math.floor(data.time * 1000));\n                } else {\n                    var now = new Date();\n                    var diff = Math.floor(data.time * 1000) - (now - data.lastEvent);\n                    if (diff > 0) {\n                        // the timeout has not ocurred, so set the timeout again\n                        setTimeout(fn, diff + 100);\n                    } else {\n                        // timeout ocurred, so set the class\n                        $this.addClass(\"timeout\");\n                    }\n                }\n            }\n        };\n\n        setTimeout(fn, Math.floor(data.time * 1000));\n    },\n};\n\n$.fn.timeout = function (method) {\n    if (methods[method]) {\n        return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));\n    } else if (typeof method === \"object\" || !method) {\n        return methods.init.apply(this, arguments);\n    } else {\n        $.error(\"Method \" + method + \" does not exist on jQuery.timeout\");\n    }\n};\n\n// Custom jQuery selector to find elements with scrollbars\n$.extend($.expr[\":\"], {\n    scrollable: function (element) {\n        var vertically_scrollable, horizontally_scrollable;\n        if (\n            $(element).css(\"overflow\") === \"scroll\" ||\n            $(element).css(\"overflowX\") === \"scroll\" ||\n            $(element).css(\"overflowY\") === \"scroll\"\n        )\n            return true;\n\n        vertically_scrollable =\n            element.clientHeight < element.scrollHeight &&\n            ($.inArray($(element).css(\"overflowY\"), [\"scroll\", \"auto\"]) !== -1 ||\n                $.inArray($(element).css(\"overflow\"), [\"scroll\", \"auto\"]) !== -1);\n\n        if (vertically_scrollable) return true;\n\n        horizontally_scrollable =\n            element.clientWidth < element.scrollWidth &&\n            ($.inArray($(element).css(\"overflowX\"), [\"scroll\", \"auto\"]) !== -1 ||\n                $.inArray($(element).css(\"overflow\"), [\"scroll\", \"auto\"]) !== -1);\n        return horizontally_scrollable;\n    },\n});\n\n// Make Visible in scroll\n$.fn.makeVisibleInScroll = function (parent_id) {\n    var absoluteParent = null;\n    if (typeof parent_id === \"string\") {\n        absoluteParent = $(\"#\" + parent_id);\n    } else if (parent_id) {\n        absoluteParent = $(parent_id);\n    }\n\n    return this.each(function () {\n        var $this = $(this),\n            parent;\n        if (!absoluteParent) {\n            parent = $this.parents(\":scrollable\");\n            if (parent.length > 0) {\n                parent = $(parent[0]);\n            } else {\n                parent = $(window);\n            }\n        } else {\n            parent = absoluteParent;\n        }\n\n        var elemTop = $this.position().top;\n        var elemBottom = $this.height() + elemTop;\n\n        var viewTop = parent.scrollTop();\n        var viewBottom = parent.height() + viewTop;\n\n        if (elemTop < viewTop) {\n            parent.scrollTop(elemTop);\n        } else if (elemBottom > viewBottom - parent.height() / 2) {\n            parent.scrollTop(elemTop - (parent.height() - $this.height()) / 2);\n        }\n    });\n};\n\n//Work around warning for jQuery 3.x:\n//JQMIGRATE: jQuery.fn.offset() requires an element connected to a document\n$.fn.safeOffset = function () {\n    var docElem,\n        elem = this[0],\n        origin = { top: 0, left: 0 };\n\n    if (!elem || !elem.nodeType) {\n        return origin;\n    }\n\n    docElem = (elem.ownerDocument || document).documentElement;\n    if (!$.contains(docElem, elem)) {\n        return origin;\n    }\n\n    return $.fn.offset.apply(this, arguments);\n};\n\n//Make absolute location\n$.fn.setPositionAbsolute = function (element, offsettop, offsetleft) {\n    return this.each(function () {\n        // set absolute location for based on the element passed\n        // dynamically since every browser has different settings\n        var $this = $(this);\n        var thiswidth = $(this).width();\n        var pos = element.safeOffset();\n        var width = element.width();\n        var height = element.height();\n        var setleft = pos.left + width - thiswidth + offsetleft;\n        var settop = pos.top + height + offsettop;\n        $this.css({\n            \"z-index\": 1,\n            \"position\": \"absolute\",\n            \"marginLeft\": 0,\n            \"marginTop\": 0,\n            \"left\": setleft + \"px\",\n            \"top\": settop + \"px\",\n            \"width\": thiswidth,\n        });\n        $this.remove().appendTo(\"body\").show();\n    });\n};\n\n$.fn.positionAncestor = function (selector) {\n    var left = 0;\n    var top = 0;\n    this.each(function () {\n        // check if current element has an ancestor matching a selector\n        // and that ancestor is positioned\n        var $ancestor = $(this).closest(selector);\n        if ($ancestor.length && $ancestor.css(\"position\") !== \"static\") {\n            var $child = $(this);\n            var childMarginEdgeLeft =\n                $child.safeOffset().left - parseInt($child.css(\"marginLeft\"), 10);\n            var childMarginEdgeTop =\n                $child.safeOffset().top - parseInt($child.css(\"marginTop\"), 10);\n            var ancestorPaddingEdgeLeft =\n                $ancestor.safeOffset().left +\n                parseInt($ancestor.css(\"borderLeftWidth\"), 10);\n            var ancestorPaddingEdgeTop =\n                $ancestor.safeOffset().top +\n                parseInt($ancestor.css(\"borderTopWidth\"), 10);\n            left = childMarginEdgeLeft - ancestorPaddingEdgeLeft;\n            top = childMarginEdgeTop - ancestorPaddingEdgeTop;\n            // we have found the ancestor and computed the position\n            // stop iterating\n            return false;\n        }\n    });\n    return {\n        left: left,\n        top: top,\n    };\n};\n\n$.fn.findInclusive = function (selector) {\n    return this.find(\"*\").addBack().filter(selector);\n};\n\n$.fn.slideIn = function (speed, easing, callback) {\n    return this.animate({ width: \"show\" }, speed, easing, callback);\n};\n\n$.fn.slideOut = function (speed, easing, callback) {\n    return this.animate({ width: \"hide\" }, speed, easing, callback);\n};\n\n// case-insensitive :contains\n$.expr[\":\"].Contains = function (a, i, m) {\n    return $(a).text().toUpperCase().indexOf(m[3].toUpperCase()) >= 0;\n};\n\n$.fn.scopedFind = function (selector) {\n    /*  If the selector starts with an object id do a global search,\n     *  otherwise do a local search.\n     */\n    if (selector.indexOf(\"#\") === 0) {\n        return $(selector);\n    } else {\n        return this.find(selector);\n    }\n};\n\nexport default undefined;\n","import Base from \"../../core/base\";\nimport Parser from \"../../core/parser\";\nimport dom from \"../../core/dom\";\nimport events from \"../../core/events\";\nimport utils from \"../../core/utils\";\nimport \"../../core/jquery-ext\";\n\nexport const parser = new Parser(\"checklist\");\nparser.addArgument(\"select\", \".select-all\");\nparser.addArgument(\"deselect\", \".deselect-all\");\nparser.addArgument(\"toggle\", \".toggle-all\");\n\nexport default Base.extend({\n    name: \"checklist\",\n    trigger: \".pat-checklist\",\n    jquery_plugin: true,\n    all_selects: [],\n    all_deselects: [],\n    all_toggles: [],\n    all_checkboxes: [],\n    all_radios: [],\n\n    init() {\n        this.options = parser.parse(this.el, this.options, false);\n        this.$el.on(\"patterns-injected\", this._init.bind(this));\n\n        this.change_handler = utils.debounce(() => {\n            this.change_buttons_and_toggles();\n            this.change_checked();\n        }, 50);\n\n        this._init();\n    },\n\n    _init() {\n        this.all_checkboxes = this.el.querySelectorAll(`input[type=checkbox]`);\n        this.all_radios = this.el.querySelectorAll(\"input[type=radio]\");\n\n        this.all_selects = dom.find_scoped(this.el, this.options.select);\n        for (const btn of this.all_selects) {\n            events.add_event_listener(\n                btn,\n                \"click\",\n                \"pat-checklist--select-all--click\",\n                this.select_all.bind(this)\n            );\n        }\n\n        this.all_deselects = dom.find_scoped(this.el, this.options.deselect);\n        for (const btn of this.all_deselects) {\n            events.add_event_listener(\n                btn,\n                \"click\",\n                \"pat-checklist--deselect-all--click\",\n                this.deselect_all.bind(this)\n            );\n        }\n\n        this.all_toggles = dom.find_scoped(this.el, this.options.toggle);\n        for (const btn of this.all_toggles) {\n            events.add_event_listener(\n                btn,\n                \"click\",\n                \"pat-checklist--toggle-all--click\",\n                this.toggle_all.bind(this)\n            );\n        }\n\n        // update select/deselect button status\n        this.change_buttons_and_toggles();\n        this.change_checked();\n        events.add_event_listener(\n            this.el,\n            \"change\",\n            \"pat-checklist--change-handler--change\",\n            this.change_handler.bind(this)\n        );\n    },\n\n    destroy() {\n        for (const it of this.all_selects) {\n            events.remove_event_listener(it, \"pat-checklist--select-all--click\");\n        }\n        for (const it of this.all_deselects) {\n            events.remove_event_listener(it, \"pat-checklist--deselect-all--click\");\n        }\n        for (const it of this.all_toggles) {\n            events.remove_event_listener(it, \"pat-checklist--toggle-all--click\");\n        }\n        events.remove_event_listener(this.el, \"pat-checklist--change-handler--change\");\n        this.$el.off(\"patterns_injected\");\n    },\n\n    find_siblings(el, sel) {\n        // Looks for the closest elements within the `el` tree that match the\n        // `sel` selector\n        let res;\n        let parent = el.parentNode;\n        while (parent) {\n            res = parent.querySelectorAll(`${sel}:not(${this.options.toggle})`);\n            if (res.length || parent === this.el) {\n                // return if results were found or we reached the pattern top\n                return res;\n            }\n            parent = parent.parentNode;\n        }\n    },\n\n    find_checkboxes(ref_el, sel) {\n        let chkbxs = [];\n        if (this.options.select.indexOf(\"#\") === 0) {\n            chkbxs = this.el.querySelectorAll(sel);\n        } else {\n            chkbxs = this.find_siblings(ref_el, sel);\n        }\n        return chkbxs;\n    },\n\n    change_buttons_and_toggles() {\n        let chkbxs;\n        for (const btn of this.all_selects) {\n            chkbxs = this.find_checkboxes(btn, \"input[type=checkbox]\");\n            btn.disabled = [...chkbxs]\n                .map((el) => el.matches(\":checked\"))\n                .every((it) => it === true);\n        }\n        for (const btn of this.all_deselects) {\n            chkbxs = this.find_checkboxes(btn, \"input[type=checkbox]\");\n            btn.disabled = [...chkbxs]\n                .map((el) => el.matches(\":checked\"))\n                .every((it) => it === false);\n        }\n        for (const tgl of this.all_toggles) {\n            chkbxs = this.find_checkboxes(tgl, \"input[type=checkbox]\");\n            tgl.checked = [...chkbxs]\n                .map((el) => el.matches(\":checked\"))\n                .every((it) => it === true);\n        }\n    },\n\n    select_all(e) {\n        e.preventDefault();\n        const chkbxs = this.find_checkboxes(\n            e.target,\n            \"input[type=checkbox]:not(:checked)\"\n        );\n        for (const box of chkbxs) {\n            box.checked = true;\n            box.dispatchEvent(events.change_event());\n            box.dispatchEvent(events.input_event());\n        }\n    },\n\n    deselect_all(e) {\n        e.preventDefault();\n        const chkbxs = this.find_checkboxes(e.target, \"input[type=checkbox]:checked\");\n        for (const box of chkbxs) {\n            box.checked = false;\n            box.dispatchEvent(events.change_event());\n            box.dispatchEvent(events.input_event());\n        }\n    },\n\n    toggle_all(e) {\n        e.preventDefault();\n        const checked = e.target.checked;\n        const chkbxs = this.find_checkboxes(e.target, \"input[type=checkbox]\");\n        for (const box of chkbxs) {\n            box.checked = checked;\n            box.dispatchEvent(events.change_event());\n            box.dispatchEvent(events.input_event());\n        }\n    },\n\n    change_checked() {\n        for (const it of [...this.all_checkboxes, ...this.all_radios]) {\n            for (const label of it.labels) {\n                label.classList.remove(\"checked\", \"unchecked\");\n                label.classList.add(it.checked ? \"checked\" : \"unchecked\");\n            }\n        }\n\n        for (const fieldset of dom.querySelectorAllAndMe(this.el, \"fieldset\")) {\n            if (\n                fieldset.querySelectorAll(\n                    `input[type=checkbox]:checked:not(${this.options.toggle}), input[type=radio]:checked`\n                ).length\n            ) {\n                fieldset.classList.remove(\"unchecked\");\n                fieldset.classList.add(\"checked\");\n            } else {\n                fieldset.classList.remove(\"checked\");\n                fieldset.classList.add(\"unchecked\");\n            }\n        }\n    },\n});\n","/*!\n  * Bootstrap base-component.js v5.3.7 (https://getbootstrap.com/)\n  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)\n  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n  */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('./dom/data.js'), require('./dom/event-handler.js'), require('./util/config.js'), require('./util/index.js')) :\n  typeof define === 'function' && define.amd ? define(['./dom/data', './dom/event-handler', './util/config', './util/index'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.BaseComponent = factory(global.Data, global.EventHandler, global.Config, global.Index));\n})(this, (function (Data, EventHandler, Config, index_js) { 'use strict';\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap base-component.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n\n  /**\n   * Constants\n   */\n\n  const VERSION = '5.3.7';\n\n  /**\n   * Class definition\n   */\n\n  class BaseComponent extends Config {\n    constructor(element, config) {\n      super();\n      element = index_js.getElement(element);\n      if (!element) {\n        return;\n      }\n      this._element = element;\n      this._config = this._getConfig(config);\n      Data.set(this._element, this.constructor.DATA_KEY, this);\n    }\n\n    // Public\n    dispose() {\n      Data.remove(this._element, this.constructor.DATA_KEY);\n      EventHandler.off(this._element, this.constructor.EVENT_KEY);\n      for (const propertyName of Object.getOwnPropertyNames(this)) {\n        this[propertyName] = null;\n      }\n    }\n\n    // Private\n    _queueCallback(callback, element, isAnimated = true) {\n      index_js.executeAfterTransition(callback, element, isAnimated);\n    }\n    _getConfig(config) {\n      config = this._mergeConfigObj(config, this._element);\n      config = this._configAfterMerge(config);\n      this._typeCheckConfig(config);\n      return config;\n    }\n\n    // Static\n    static getInstance(element) {\n      return Data.get(index_js.getElement(element), this.DATA_KEY);\n    }\n    static getOrCreateInstance(element, config = {}) {\n      return this.getInstance(element) || new this(element, typeof config === 'object' ? config : null);\n    }\n    static get VERSION() {\n      return VERSION;\n    }\n    static get DATA_KEY() {\n      return `bs.${this.NAME}`;\n    }\n    static get EVENT_KEY() {\n      return `.${this.DATA_KEY}`;\n    }\n    static eventName(name) {\n      return `${name}${this.EVENT_KEY}`;\n    }\n  }\n\n  return BaseComponent;\n\n}));\n//# sourceMappingURL=base-component.js.map\n","/**\n * Patterns registry - Central registry and scan logic for patterns\n *\n * Copyright 2012-2013 Simplon B.V.\n * Copyright 2012-2013 Florian Friesdorf\n * Copyright 2013 Marko Durkovic\n * Copyright 2013 Rok Garbas\n * Copyright 2014-2015 Syslab.com GmBH, JC Brand\n */\n\n/*\n * changes to previous patterns.register/scan mechanism\n * - if you want initialised class, do it in init\n * - init returns set of elements actually initialised\n * - handle once within init\n * - no turnstile anymore\n * - set pattern.jquery_plugin if you want it\n */\nimport $ from \"jquery\";\nimport dom from \"./dom\";\nimport logging from \"./logging\";\nimport utils from \"./utils\";\n\nconst log = logging.getLogger(\"registry\");\nconst disable_re = /patterns-disable=([^&]+)/g;\nconst dont_catch_re = /patterns-dont-catch/g;\nconst disabled = {};\nlet dont_catch = false;\nlet match;\n\nwhile ((match = disable_re.exec(window.location.search)) !== null) {\n    disabled[match[1]] = true;\n    log.info(\"Pattern disabled via url config:\", match[1]);\n}\n\nwhile ((match = dont_catch_re.exec(window.location.search)) !== null) {\n    dont_catch = true;\n    log.info(\"I will not catch init exceptions\");\n}\n\n/**\n * Global pattern registry.\n *\n * This is a singleton and shared among any instance of the Patternslib\n * registry since Patternslib version 8.\n *\n * You normally don't need this as the registry handles it for you.\n */\nif (typeof window.__patternslib_registry === \"undefined\") {\n    window.__patternslib_registry = {};\n}\nexport const PATTERN_REGISTRY = window.__patternslib_registry;\nif (typeof window.__patternslib_registry_initialized === \"undefined\") {\n    window.__patternslib_registry_initialized = false;\n}\n\nconst registry = {\n    patterns: PATTERN_REGISTRY, // reference to global patterns registry\n    // as long as the registry is not initialized, pattern\n    // registration just registers a pattern. Once init is called,\n    // the DOM is scanned. After that registering a new pattern\n    // results in rescanning the DOM only for this pattern.\n    init() {\n        dom.document_ready(() => {\n            if (window.__patternslib_registry_initialized) {\n                // Do not reinitialize a already initialized registry.\n                return;\n            }\n            window.__patternslib_registry_initialized = true;\n            log.debug(\"Loaded: \" + Object.keys(registry.patterns).sort().join(\", \"));\n            registry.scan(document.body);\n            log.debug(\"Finished initial scan.\");\n        });\n    },\n\n    clear() {\n        // Removes all patterns from the registry. Currently only being\n        // used in tests.\n        for (const name in registry.patterns) {\n            delete registry.patterns[name];\n        }\n    },\n\n    transformPattern(name, content) {\n        /* Call the transform method on the pattern with the given name, if\n         * it exists.\n         */\n        if (disabled[name]) {\n            log.debug(`Skipping disabled pattern: ${name}.`);\n            return;\n        }\n\n        const pattern = registry.patterns[name];\n        const transform = pattern.transform || pattern.prototype?.transform;\n        if (transform) {\n            try {\n                transform($(content));\n            } catch (e) {\n                if (dont_catch) {\n                    throw e;\n                }\n                log.error(`Transform error for pattern ${name}.`, e);\n            }\n        }\n    },\n\n    initPattern(name, el, trigger) {\n        /* Initialize the pattern with the provided name and in the context\n         * of the passed in DOM element.\n         */\n        const $el = $(el);\n        const pattern = registry.patterns[name];\n        const plog = logging.getLogger(`pat.${name}`);\n        if (el.matches(pattern.trigger)) {\n            plog.debug(\"Initialising.\", el);\n            try {\n                if (pattern.init) {\n                    // old style initialisation\n                    pattern.init($el, null, trigger);\n                } else {\n                    // class based pattern initialisation\n                    new pattern($el, null, trigger);\n                }\n\n                plog.debug(\"done.\");\n            } catch (e) {\n                if (dont_catch) {\n                    throw e;\n                }\n                plog.error(\"Caught error:\", e);\n            }\n        }\n    },\n\n    orderPatterns(patterns) {\n        // Always add pat-validation as first pattern, so that it can prevent\n        // other patterns from reacting to submit events if form validation\n        // fails.\n        if (patterns.includes(\"validation\")) {\n            patterns.splice(patterns.indexOf(\"validation\"), 1);\n            patterns.unshift(\"validation\");\n        }\n        // Add clone-code to the very beginning - we want to copy the markup\n        // before any other patterns changed the markup.\n        if (patterns.includes(\"clone-code\")) {\n            patterns.splice(patterns.indexOf(\"clone-code\"), 1);\n            patterns.unshift(\"clone-code\");\n        }\n\n        return patterns;\n    },\n\n    scan(content, patterns, trigger) {\n        if (!content) {\n            return;\n        }\n\n        if (typeof content === \"string\") {\n            content = document.querySelector(content);\n        } else if (content instanceof Text) {\n            // No need to scan a TextNode.\n            return;\n        } else if (content.jquery) {\n            content = content[0];\n        }\n\n        const selectors = [];\n        patterns = this.orderPatterns(patterns || Object.keys(registry.patterns));\n        for (const name of patterns) {\n            this.transformPattern(name, content);\n            const pattern = registry.patterns[name];\n            if (pattern.trigger) {\n                selectors.unshift(pattern.trigger);\n            }\n        }\n\n        // Clean up selectors:\n        // - Remove whitespace,\n        // - Remove trailing commas,\n        // - Join to selecto string.\n        const selector_string = selectors.map(\n            (selector) => selector.trim().replace(/,$/, \"\")\n        ).join(\",\");\n\n        // Exit, if no selector.\n        if (!selector_string) {\n            return;\n        }\n\n        let matches = dom.querySelectorAllAndMe(\n            content,\n            selector_string\n        );\n        matches = matches.filter((el) => {\n            // Filter out patterns:\n            // - with class ``.disable-patterns`` or wrapped within.\n            // - wrapped in ``<pre>`` elements\n            // - wrapped in ``<template>`` elements (not reachable anyways)\n            return (\n                !el?.closest?.(\".disable-patterns\") &&\n                !el?.parentNode?.closest?.(\"pre\") &&\n                // BBB. TODO: Remove with next major version.\n                !el?.closest?.(\".cant-touch-this\")\n            );\n        });\n\n        // walk list backwards and initialize patterns inside-out.\n        for (const el of matches.reverse()) {\n            for (const name of patterns) {\n                this.initPattern(name, el, trigger);\n            }\n        }\n        document.body.classList.add(\"patterns-loaded\");\n    },\n\n    register(pattern, name) {\n        name = name || pattern.name;\n        if (!name) {\n            log.error(\"Pattern lacks a name.\", pattern);\n            return false;\n        }\n\n        // Do not register blacklisted patterns.\n        let BLACKLIST = window.__patternslib_patterns_blacklist;\n        if (!Array.isArray(BLACKLIST)) {\n            BLACKLIST = [];\n        }\n        if (BLACKLIST.includes(name)) {\n            log.warn(`Pattern name ${name} is blacklisted.`);\n            return false;\n        }\n\n        if (registry.patterns[name]) {\n            log.debug(`Already have a pattern called ${name}.`);\n            return false;\n        }\n        // register pattern to be used for scanning new content\n        registry.patterns[name] = pattern;\n\n        // register pattern as jquery plugin\n        if (pattern.jquery_plugin) {\n            const plugin_name = (\"pat-\" + name).replace(\n                /-([a-zA-Z])/g,\n                function (match, p1) {\n                    return p1.toUpperCase();\n                }\n            );\n            $.fn[plugin_name] = utils.jqueryPlugin(pattern);\n            // BBB 2012-12-10 and also for Mockup patterns.\n            $.fn[plugin_name.replace(/^pat/, \"pattern\")] = $.fn[plugin_name];\n        }\n        log.debug(`Registered pattern ${name}`, pattern);\n        if (window.__patternslib_registry_initialized) {\n            // Once the first initialization has been done, do only scan for\n            // newly registered patterns.\n            registry.scan(document.body, [name]);\n            log.debug(`Re-scanned dom with newly registered pattern ${name}.`);\n        }\n        return true;\n    },\n};\n\nexport default registry;\n","/* Utilities for DOM traversal or navigation */\nimport events from \"./events\";\nimport logging from \"./logging\";\nimport create_uuid from \"./uuid\";\n\nconst logger = logging.getLogger(\"core dom\");\n\nconst DATA_PREFIX = \"__patternslib__data_prefix__\";\nconst DATA_STYLE_DISPLAY = \"__patternslib__style__display\";\n\nconst INPUT_SELECTOR = \"input, select, textarea, button\";\n\n/**\n * Wait for the document to be ready.\n *\n * @param {Function} fn - The function to call when the document is ready.\n */\nconst document_ready = (fn) => {\n    const event_id = create_uuid();\n\n    const _ready = () => {\n        if (document.readyState !== \"loading\") {\n            // Remove the event listener for this callback.\n            events.remove_event_listener(document, event_id);\n            // call on next available tick\n            setTimeout(fn, 1);\n        }\n    };\n\n    // Listen for the document to be ready and call _ready() when it is.\n    events.add_event_listener(document, \"readystatechange\", event_id, _ready);\n\n    // Also check the ready state immediately in case we missed the event.\n    _ready();\n};\n\n/**\n * Return an array of DOM nodes.\n *\n * @param {Node|NodeList|jQuery} nodes - The DOM node to start the search from.\n *\n * @returns {Array} - An array of DOM nodes.\n */\nconst toNodeArray = (nodes) => {\n    if (nodes.jquery || nodes instanceof NodeList) {\n        // jQuery or document.querySelectorAll\n        nodes = [...nodes];\n    } else if (nodes instanceof Array === false) {\n        nodes = [nodes];\n    }\n    return nodes;\n};\n\n/**\n * Like querySelectorAll but including the element where it starts from.\n * Returns an Array, not a NodeList\n *\n * @param {Node} el - The DOM node to start the search from.\n *\n * @returns {Array} - The DOM nodes found.\n */\nconst querySelectorAllAndMe = (el, selector) => {\n    if (!el || !el.querySelectorAll) {\n        return [];\n    }\n\n    const all = [...el.querySelectorAll(selector)];\n    if (el.matches(selector)) {\n        all.unshift(el); // start element should be first.\n    }\n    return all;\n};\n\n/**\n * Wrap a element with a wrapper element.\n *\n * The element to be wrapped will be moved into the wrapper element and the\n * wrapper element is placed just before the old element was.\n *\n * @param {Node} el - The DOM node to wrap.\n * @param {Node} wrapper - The wrapper element.\n */\nconst wrap = (el, wrapper) => {\n    // See: https://stackoverflow.com/a/13169465/1337474\n    el.parentNode.insertBefore(wrapper, el);\n    wrapper.appendChild(el);\n};\n\n/**\n * Hides the element with ``display: none`` and stores the current display value.\n *\n * @param {Node} el - The DOM node to hide.\n */\nconst hide = (el) => {\n    if (el.style.display === \"none\") {\n        // Nothing to do.\n        return;\n    }\n    if (el.style.display) {\n        el[DATA_STYLE_DISPLAY] = el.style.display;\n    }\n    el.style.display = \"none\";\n};\n\n/**\n * Shows element by removing ``display: none`` and restoring the display value\n * to whatever it was before.\n *\n * @param {Node} el - The DOM node to show.\n */\nconst show = (el) => {\n    const val = el[DATA_STYLE_DISPLAY] || null;\n    el.style.display = val;\n    delete el[DATA_STYLE_DISPLAY];\n};\n\n/**\n * Test, if a element is visible or not.\n *\n * @param {Node} el - The DOM node to test.\n * @returns {Boolean} - True if the element is visible.\n */\nconst is_visible = (el) => {\n    // Check, if element is visible in DOM.\n    // https://stackoverflow.com/a/19808107/1337474\n    return el.offsetWidth > 0 && el.offsetHeight > 0;\n};\n\n/**\n * Test, if a element is a input-type element.\n *\n * This is taken from Sizzle/jQuery at:\n * https://github.com/jquery/sizzle/blob/f2a2412e5e8a5d9edf168ae3b6633ac8e6bd9f2e/src/sizzle.js#L139\n * https://github.com/jquery/sizzle/blob/f2a2412e5e8a5d9edf168ae3b6633ac8e6bd9f2e/src/sizzle.js#L1773\n *\n * @param {Node} el - The DOM node to test.\n * @returns {Boolean} - True if the element is a input-type element.\n */\nconst is_input = (el) => {\n    const re_input = /^(?:input|select|textarea|button)$/i;\n    return re_input.test(el.nodeName);\n};\n\n/**\n * Test, if a element is a button-like input type.\n *\n * @param {Node} el - The DOM node to test.\n * @returns {Boolean} - True if the element is a input-type element.\n */\nconst is_button = (el) => {\n    return el.matches(`\n        button,\n        input[type=image],\n        input[type=button],\n        input[type=reset],\n        input[type=submit]\n    `);\n};\n\n\n\n/**\n * Return all direct parents of ``el`` matching ``selector``.\n * This matches against all parents but not the element itself.\n * The order of elements is from the search starting point up to higher\n * DOM levels.\n *\n * @param {Node} el - The DOM node to start the search from.\n * @param {String} selector - CSS selector to match against.\n * @returns {Array} - List of matching DOM nodes.\n */\nconst find_parents = (el, selector) => {\n    const ret = [];\n    let parent = el;\n    while (parent) {\n        parent = parent.parentNode?.closest?.(selector);\n        if (parent) ret.push(parent);\n    }\n    return ret;\n};\n\n/**\n * Find an element in the whole DOM tree if the selector is an ID selector,\n * otherwise use the given element as the starting point.\n *\n * @param {Node} el - The DOM node to start the search from.\n * @param {String} selector - The CSS selector to search for.\n *\n * @returns {NodeList} - The DOM nodes found.\n *\n */\nconst find_scoped = (el, selector) => {\n    // If the selector starts with an object id do a global search,\n    // otherwise do a local search.\n    return (selector.indexOf(\"#\") === 0 ? document : el).querySelectorAll(selector);\n};\n\n/**\n * Return all HTMLElement parents of el, starting from the direct parent of el.\n * The document itself is excluded because it's not a real DOM node.\n *\n * @param {Node} el - The DOM node to start the search from.\n *\n * @returns {Array} - The DOM nodes found.\n */\nconst get_parents = (el) => {\n    // Return all HTMLElement parents of el, starting from the direct parent of el.\n    const parents = [];\n    let parent = el?.parentNode;\n    while (parent) {\n        parents.push(parent);\n        parent = parent?.parentNode;\n        parent = parent instanceof HTMLElement ? parent : null;\n    }\n    return parents;\n};\n\n/**\n * Return the value of the first attribute found in the list of parents.\n *\n * @param {Node} el - The DOM element to start the acquisition search for the given attribute.\n * @param {string} attribute - Name of the attribute to search for.\n * @param {Boolean} include_empty - Also return empty values.\n * @param {Boolean} include_all - Return a list of attribute values found in all parents.\n *\n * @returns {*} - Returns the value of the searched attribute or a list of all attributes.\n */\nconst acquire_attribute = (\n    el,\n    attribute,\n    include_empty = false,\n    include_all = false\n) => {\n    let _el = el;\n    const ret = []; // array for ``include_all`` mode.\n    while (_el) {\n        const val = _el.getAttribute(attribute);\n        if (val || (include_empty && val === \"\")) {\n            if (!include_all) {\n                return val;\n            }\n            ret.push(val);\n        }\n        _el = _el.parentElement;\n    }\n    if (include_all) {\n        return ret;\n    }\n};\n\n/**\n * Return a DocumentFragment from a given string.\n *\n * @param {String} string - The HTML structure as a string.\n *\n * @returns {DocumentFragment} - The DOM nodes as a DocumentFragment.\n */\nconst create_from_string = (string) => {\n    // See: https://davidwalsh.name/convert-html-stings-dom-nodes\n    return document.createRange().createContextualFragment(string.trim());\n};\n\n/**\n * Return a CSS property value for a given DOM node.\n * For length-values, relative values are converted to pixels.\n * Optionally parse as pixels, if applicable.\n *\n * Note: The element must be attached to the body to make CSS caluclations work.\n *\n * @param {Node} el - DOM node.\n * @param {String} property - CSS property to query on DOM node.\n * @param {Boolean} [as_pixels=false] - Convert value to pixels, if applicable.\n * @param {Boolean} [as_float=false] - Convert value to float, if applicable.\n *\n * @returns {(String|Number)} - The CSS value to return.\n */\nfunction get_css_value(el, property, as_pixels = false, as_float = false) {\n    let value = window.getComputedStyle(el).getPropertyValue(property);\n    if (as_pixels || as_float) {\n        value = parseFloat(value) || 0.0;\n    }\n    if (as_pixels && !as_float) {\n        value = parseInt(Math.round(value), 10);\n    }\n    return value;\n}\n\n/**\n * Find a scrollable element up in the DOM tree.\n *\n * Note: Setting the ``overflow`` shorthand property also sets the individual overflow-y and overflow-y properties.\n *\n * @param {Node} el - The DOM element to start the search on.\n * @param {String} [direction=] - Not given: Search for any scrollable element up in the DOM tree.\n *                                ``x``: Search for a horizontally scrollable element.\n *                                ``y``: Search for a vertically scrollable element.\n * @param {(Node|null)} [fallback=document.body] - Fallback, if no scroll container can be found.\n *                                                     The default is to use document.body.\n *\n * @returns {Node} - Return the first scrollable element.\n *                   If no other element could be found, document.body would be returned.\n */\nconst find_scroll_container = (el, direction, fallback = document.body) => {\n    while (el && el !== document.body) {\n        if (!direction || direction === \"y\") {\n            let overflow_y = get_css_value(el, \"overflow-y\");\n            if ([\"auto\", \"scroll\"].includes(overflow_y)) {\n                return el;\n            }\n        }\n        if (!direction || direction === \"x\") {\n            let overflow_x = get_css_value(el, \"overflow-x\");\n            if ([\"auto\", \"scroll\"].includes(overflow_x)) {\n                return el;\n            }\n        }\n        el = el.parentElement;\n    }\n    return fallback;\n};\n\n/**\n * Get the horizontal scroll position.\n *\n * @param {Node} scroll_reference - The element to get the scroll position from.\n *\n * @returns {number} The horizontal scroll position.\n */\nconst get_scroll_x = (scroll_reference) => {\n    // scroll_listener == window: window.scrollX\n    // scroll_listener == html: html.scrollLeft == window.scrollX\n    // scroll_listener == DOM node: node.scrollLeft\n    return typeof scroll_reference.scrollLeft !== \"undefined\"\n        ? scroll_reference.scrollLeft\n        : scroll_reference.scrollX;\n};\n\n/**\n * Get the vertical scroll position.\n *\n * @param {Node} scroll_reference - The element to get the scroll position from.\n *\n * @returns {number} The vertical scroll position.\n */\nconst get_scroll_y = (scroll_reference) => {\n    // scroll_listener == window: window.scrollY\n    // scroll_listener == html: html.scrollTop == window.scrollY\n    // scroll_listener == DOM node: node.scrollTop\n    return typeof scroll_reference.scrollTop !== \"undefined\"\n        ? scroll_reference.scrollTop\n        : scroll_reference.scrollY;\n};\n\n/**\n * Get the elements position relative to another element.\n *\n * @param {Node} el - The DOM element to get the position for.\n * @param {Node} [reference_el=document.body] - The DOM element to get the position relative to.\n *\n * @returns {{top: number, left: number}} - The position of the element relative to the other element.\n */\nconst get_relative_position = (el, reference_el = document.body) => {\n    // Get the reference element to which against we calculate\n    // the relative position of the target.\n    // In case of a scroll container of window, we do not have\n    // getBoundingClientRect method, so get the body instead.\n    if (reference_el === window) {\n        reference_el = document.body;\n    }\n\n    // Calculate absolute [] position difference between\n    // scroll_container and scroll_target.\n    // Substract the container's border from the scrolling\n    // value, as this one isn't respected by\n    // getBoundingClientRect [] and would lead to covered\n    // items [].\n    // ) so that it doesn't make a difference, if the element\n    // is below or above the scrolling container. We just need\n    // to know the absolute difference.\n    // ) Calculations are based from the viewport.\n    // ) See:\n    //      https://docs.microsoft.com/en-us/previous-versions//hh781509(v=vs.85)\n    //      https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect\n    const left = Math.abs(\n        el.getBoundingClientRect().left +\n            reference_el.scrollLeft -\n            reference_el.getBoundingClientRect().left -\n            dom.get_css_value(reference_el, \"border-left-width\", true)\n    );\n    const top = Math.abs(\n        el.getBoundingClientRect().top +\n            reference_el.scrollTop -\n            reference_el.getBoundingClientRect().top -\n            dom.get_css_value(reference_el, \"border-top-width\", true)\n    );\n\n    return { top, left };\n};\n\n/**\n * Scroll to a given element.\n * The element will be scrolled to the top of the scroll container.\n *\n * @param {Node} el - The element which should be scrolled to.\n * @param {Node} scroll_container - The element which is scrollable.\n * @param {number} [offset=0] - Optional offset in pixels to stop scrolling before the target position. Can also be a negative number.\n * @param {string} [direction=\"top\"] - The direction to scroll to. Can be either \"top\", \"left\" or \"both\".\n */\nconst scroll_to_element = (el, scroll_container, offset = 0, direction = \"top\") => {\n    // Get the position of the element relative to the scroll container.\n    const position = get_relative_position(el, scroll_container);\n\n    const options = { behavior: \"auto\" };\n    if (direction === \"top\" || direction === \"both\") {\n        options.top = position.top - offset;\n    }\n    if (direction === \"left\" || direction === \"both\") {\n        options.left = position.left - offset;\n    }\n\n    // Scroll to the target position.\n    scroll_container.scrollTo(options);\n};\n\n/**\n * Scroll to the top of a scrolling container.\n *\n * @param {Node} [scroll_container = document.body] - The element which is scrollable.\n * @param {number} [offset=0] - Optional offset in pixels to stop scrolling before the target position. Can also be a negative number.\n */\nconst scroll_to_top = (scroll_container = document.body, offset = 0) => {\n    // Just scroll up, period.\n    scroll_container.scrollTo({ top: 0 - offset, behavior: \"auto\" });\n};\n\n/**\n * Scroll to the bottom of a scrolling container.\n *\n * @param {Node} [scroll_container = document.body] - The element which is scrollable.\n * @param {number} [offset=0] - Optional offset in pixels to stop scrolling before the target position. Can also be a negative number.\n */\nconst scroll_to_bottom = (scroll_container = document.body, offset = 0) => {\n    // Just scroll up, period.\n    //\n    const top = (scroll_container === window ? document.body : scroll_container)\n        .scrollHeight;\n    scroll_container.scrollTo({ top: top - offset, behavior: \"auto\" });\n};\n\n/**\n * Get data stored directly on the node instance.\n * We are using a prefix to make sure the data doesn't collide with other attributes.\n *\n * @param el {Node} - The DOM node from which we want to retrieve the data.\n * @param name {String} - The name of the variable. Note - this is stored on\n *                        the DOM node prefixed with the DATA_PREFIX.\n * @param default_value {Any} - Optional default value.\n * @returns {Any} - The value which is stored on the DOM node.\n */\nconst get_data = (el, name, default_value) => {\n    return el[`${DATA_PREFIX}${name}`] || default_value;\n};\n\n/**\n * Set and store data directly on the node instance.\n * We are using a prefix to make sure the data doesn't collide with other attributes.\n *\n * @param el {Node} - The DOM node which we want to store the data on.\n * @param name {String} - The name of the variable. Note - this is stored on\n *                        the DOM node prefixed with the DATA_PREFIX.\n * @param value {Any} - The value we want to store on the DOM node.\n */\nconst set_data = (el, name, value) => {\n    el[`${DATA_PREFIX}${name}`] = value;\n};\n\n/**\n * Delete a variable from the node instance.\n * We are using a prefix to make sure the data doesn't collide with other attributes.\n *\n * @param el {Node} - The DOM node which we want to delete the variable from.\n * @param name {String} - The name of the variable. Note - this is stored on\n *                        the DOM node prefixed with the DATA_PREFIX.\n */\nconst delete_data = (el, name) => {\n    delete el[`${DATA_PREFIX}${name}`];\n};\n\n/**\n * Simple template engine, based on JS template literal\n *\n * NOTE: This uses eval and would break if Content-Security-Policy does not\n *       allow 'unsafe-eval'.\n *       Because of this CSR problem the use of this method is not recommended.\n *\n * Please note: You cannot pass a template literal as template_string.\n * JavaScript itself would try to expand it and would fail.\n *\n * See: https://stackoverflow.com/a/37217166/1337474\n *\n * @param {String} template_string - The template string as a JavaScript template literal.\n *                                   For each variable in the template you have to use ``this``.\n *                                   E.g. if you pass ``{message: \"ok\"}`` as template_variables, you can use it like so:\n *                                   `<h1>${this.message}</h1>`\n * @param {Object} template_variables - Object literal with all the variables which should be used in the template.\n *\n * @returns {String} - Returns the a string as template expanded with the template_variables.\n */\nconst template = (template_string, template_variables = {}) => {\n    logger.warn(\n        \"Using dom.template is not recommended due to a problem with Content-Security-Policy.\"\n    );\n    return new Function(\"return `\" + template_string + \"`;\").call(template_variables);\n};\n\n/**\n * Get the visible ratio of an element compared to container.\n * If no container is given, the viewport is used.\n *\n * Note: currently only vertical ratio is supported.\n *\n * @param {Node} el - The element to get the visible ratio from.\n * @param {Node} [container] - The container to compare the element to.\n * @returns {number} - The visible ratio of the element.\n *                    0 means the element is not visible.\n *                    1 means the element is fully visible.\n */\nconst get_visible_ratio = (el, container) => {\n    if (!el) {\n        return 0;\n    }\n\n    const rect = el.getBoundingClientRect();\n    const container_rect =\n        container !== window\n            ? container.getBoundingClientRect()\n            : {\n                  top: 0,\n                  bottom: window.innerHeight,\n              };\n\n    let visible_ratio = 0;\n    if (rect.top < container_rect.bottom && rect.bottom > container_rect.top) {\n        const rect_height = rect.bottom - rect.top;\n        const visible_height =\n            Math.min(rect.bottom, container_rect.bottom) -\n            Math.max(rect.top, container_rect.top);\n        visible_ratio = visible_height / rect_height;\n    }\n\n    return visible_ratio;\n};\n\n/**\n * Get an escaped CSS selector for a given id string.\n *\n * id selectors should - but don't have to - start with a letter.\n * If the id starts with a number or a dash, it should be escaped.\n * This method does that for you.\n *\n * Alse see:\n * - https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id\n * - https://developer.mozilla.org/en-US/docs/Web/API/CSS/escape\n *\n * @param {String} id - The id to escape.\n *\n * @returns {String} - The escaped CSS selector.\n *\n * @example\n * escape_css_id_selector(\"#123\"); // returns \"#\\\\31 23\"\"\n * escape_css_id_selector(\"#-123\"); // returns \"#-\\\\31 23\"\n */\nconst escape_css_id = (id) => {\n    return `#${CSS.escape(id.split(\"#\")[1])}`;\n};\n\n/**\n * Set and get a universally unique id (uuid) for a DOM element.\n *\n * This method returns a uuid for the given element. On the first call it will\n * generate a uuid and store it on the element.\n *\n * @param {Node} el - The DOM node to get the uuid for.\n * @returns {String} - The uuid.\n */\nconst element_uuid = (el) => {\n    if (!get_data(el, \"uuid\", false)) {\n        set_data(el, \"uuid\", create_uuid());\n    }\n    return get_data(el, \"uuid\");\n};\n\n/**\n * Find a related form element.\n *\n * @param {Node} el - The DOM node to start the search from.\n * @returns {Node} - The closest form element.\n *\n * @example\n * find_form(document.querySelector(\"input\"));\n */\nconst find_form = (el) => {\n    // Prefer input.form which allows for input outside form elements and fall\n    // back to search for a parent form.\n    const form =\n        el.closest(\".pat-subform\") || // Special Patternslib subform concept has precedence.\n        el.form ||\n        el.querySelector(INPUT_SELECTOR)?.form ||\n        el.closest(\"form\");\n    return form;\n};\n\n/**\n * Find any input type.\n */\nconst find_inputs = (el) => {\n    return querySelectorAllAndMe(el, INPUT_SELECTOR);\n};\n\nconst dom = {\n    document_ready: document_ready,\n    toNodeArray: toNodeArray,\n    querySelectorAllAndMe: querySelectorAllAndMe,\n    wrap: wrap,\n    hide: hide,\n    show: show,\n    find_inputs: find_inputs,\n    find_parents: find_parents,\n    find_scoped: find_scoped,\n    get_parents: get_parents,\n    acquire_attribute: acquire_attribute,\n    is_visible: is_visible,\n    is_input: is_input,\n    is_button: is_button,\n    create_from_string: create_from_string,\n    get_css_value: get_css_value,\n    find_scroll_container: find_scroll_container,\n    get_scroll_x: get_scroll_x,\n    get_scroll_y: get_scroll_y,\n    get_relative_position: get_relative_position,\n    scroll_to_element: scroll_to_element,\n    scroll_to_top: scroll_to_top,\n    scroll_to_bottom: scroll_to_bottom,\n    get_data: get_data,\n    set_data: set_data,\n    delete_data: delete_data,\n    template: template,\n    get_visible_ratio: get_visible_ratio,\n    escape_css_id: escape_css_id,\n    element_uuid: element_uuid,\n    find_form: find_form,\n};\n\nexport default dom;\n","import $ from \"jquery\";\n\nvar parser = {\n    getOptions($el, patternName, options) {\n        /* This is the Mockup parser. An alternative parser for Patternslib\n         * patterns.\n         *\n         * NOTE: Use of the Mockup parser is discouraged and is added here for\n         * legacy support for the Plone Mockup project.\n         *\n         * It parses a DOM element for pattern configuration options.\n         */\n        options = options || {};\n        // get options from parent element first, stop if element tag name is 'body'\n        if ($el.length !== 0 && !$.nodeName($el[0], \"body\")) {\n            options = this.getOptions($el.parent(), patternName, options);\n        }\n        // collect all options from element\n        let elOptions = {};\n        if ($el.length !== 0) {\n            elOptions = $el.data(\"pat-\" + patternName);\n            if (elOptions) {\n                // parse options if string\n                if (typeof elOptions === \"string\") {\n                    const tmpOptions = {};\n                    $.each(elOptions.split(\";\"), function (i, item) {\n                        item = item.split(\":\");\n                        item.reverse();\n                        let key = item.pop();\n                        key = key.replace(/^\\s+|\\s+$/g, \"\"); // trim\n                        item.reverse();\n                        let value = item.join(\":\");\n                        value = value.replace(/^\\s+|\\s+$/g, \"\"); // trim\n                        tmpOptions[key] = value;\n                    });\n                    elOptions = tmpOptions;\n                }\n            }\n        }\n        return $.extend(true, {}, options, elOptions);\n    },\n};\n\nexport default parser;\n","/**\n * A Base pattern for creating scoped patterns. It's similar to Backbone's\n * Model class. The advantage of this approach is that each instance of a\n * pattern has its own local scope (closure).\n *\n * A new instance is created for each DOM element on which a pattern applies.\n *\n * You can assign values, such as $el, to `this` for an instance and they\n * will remain unique to that instance.\n *\n * Older Patternslib patterns on the other hand have a single global scope for\n * all DOM elements.\n */\nimport $ from \"jquery\";\nimport Registry from \"./registry\";\nimport logging from \"./logging\";\nimport mockupParser from \"./mockup-parser\";\n\nconst log = logging.getLogger(\"Patternslib Base\");\n\nconst initBasePattern = function ($el, options, trigger) {\n    if (!$el.jquery) {\n        $el = $($el);\n    }\n    const name = this.prototype.name;\n    const plog = logging.getLogger(`pat.${name}`);\n    let pattern = $el.data(`pattern-${name}`);\n    if (pattern === undefined && Registry.patterns[name]) {\n        try {\n            // Immediately set the pattern instance to the temporary value\n            // ``initializing`` before the async Base constructor is setting\n            // the value later.\n            // This prevents re-init the pattern on this element on multiple\n            // initialization calls..\n            $el.data(`pattern-${name}`, \"initializing\");\n            options =\n                this.prototype.parser === \"mockup\"\n                    ? mockupParser.getOptions($el, name, options)\n                    : options;\n            pattern = new Registry.patterns[name]($el, options, trigger);\n        } catch (e) {\n            plog.error(`Failed while initializing ${name} pattern.`, e);\n        }\n    }\n    return pattern;\n};\n\nconst Base = async function ($el, options, trigger) {\n    if (($el?.jquery && $el.length === 0) || !$el) {\n        log.warn(\"No element given to pattern.\");\n        return;\n    }\n    if (!$el.jquery) {\n        $el = $($el);\n    }\n    this.$el = $el;\n    this.el = $el[0];\n    this.options = $.extend(true, {}, this.defaults || {}, options || {});\n\n    this.emit(\"pre-init\");\n\n    await this.init($el, options, trigger);\n\n    // Store pattern instance on element\n    this.$el.data(`pattern-${this.name}`, this);\n    this.el[`pattern-${this.name}`] = this;\n\n    this.emit(\"init\");\n};\n\nBase.prototype = {\n    constructor: Base,\n    on(eventName, eventCallback) {\n        this.$el.on(`${eventName}.${this.name}.patterns`, eventCallback);\n    },\n    one(eventName, eventCallback) {\n        this.$el.one(`${eventName}.${this.name}.patterns`, eventCallback);\n    },\n    emit(eventName, args) {\n        // args should be a list\n        if (args === undefined) {\n            args = [];\n        }\n        this.$el.trigger(`${eventName}.${this.name}.patterns`, args);\n    },\n};\n\nBase.extend = function (patternProps) {\n    /* Helper function to correctly set up the prototype chain for new patterns.\n     */\n    const parent = this;\n    let child;\n\n    // Check that the required configuration properties are given.\n    if (!patternProps) {\n        throw new Error(\n            \"Pattern configuration properties required when calling Base.extend\"\n        );\n    }\n\n    // The constructor function for the new subclass is either defined by you\n    // (the \"constructor\" property in your `extend` definition), or defaulted\n    // by us to simply call the parent's constructor.\n    if (Object.hasOwnProperty.call(patternProps, \"constructor\")) {\n        child = patternProps.constructor;\n    } else {\n        child = function () {\n            parent.apply(this, arguments);\n        };\n    }\n\n    // Allow patterns to be extended indefinitely\n    child.extend = Base.extend;\n\n    // Static properties required by the Patternslib registry\n    child.init = initBasePattern;\n    child.jquery_plugin = true;\n    child.trigger = patternProps.trigger;\n    child.parser = patternProps?.parser || null;\n\n    // Set the prototype chain to inherit from `parent`, without calling\n    // `parent`'s constructor function.\n    var Surrogate = function () {\n        this.constructor = child;\n    };\n    Surrogate.prototype = parent.prototype;\n    child.prototype = new Surrogate();\n\n    // Add pattern's configuration properties (instance properties) to the subclass,\n    $.extend(true, child.prototype, patternProps);\n\n    // Set a convenience property in case the parent's prototype is needed\n    // later.\n    child.__super__ = parent.prototype;\n\n    // Register the pattern in the Patternslib registry.\n    if (!patternProps.name) {\n        log.warn(\"This pattern without a name attribute will not be registered!\");\n    } else if (!patternProps.trigger) {\n        log.warn(\n            `The pattern ${patternProps.name} does not have a trigger attribute, it will not be registered.`\n        );\n    } else if (patternProps.autoregister !== false) {\n        Registry.register(child, patternProps.name);\n    }\n    return child;\n};\n\nexport default Base;\n","/*!\n  * Bootstrap config.js v5.3.7 (https://getbootstrap.com/)\n  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)\n  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n  */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('../dom/manipulator.js'), require('./index.js')) :\n  typeof define === 'function' && define.amd ? define(['../dom/manipulator', './index'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Config = factory(global.Manipulator, global.Index));\n})(this, (function (Manipulator, index_js) { 'use strict';\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap util/config.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n\n  /**\n   * Class definition\n   */\n\n  class Config {\n    // Getters\n    static get Default() {\n      return {};\n    }\n    static get DefaultType() {\n      return {};\n    }\n    static get NAME() {\n      throw new Error('You have to implement the static method \"NAME\", for each component!');\n    }\n    _getConfig(config) {\n      config = this._mergeConfigObj(config);\n      config = this._configAfterMerge(config);\n      this._typeCheckConfig(config);\n      return config;\n    }\n    _configAfterMerge(config) {\n      return config;\n    }\n    _mergeConfigObj(config, element) {\n      const jsonConfig = index_js.isElement(element) ? Manipulator.getDataAttribute(element, 'config') : {}; // try to parse\n\n      return {\n        ...this.constructor.Default,\n        ...(typeof jsonConfig === 'object' ? jsonConfig : {}),\n        ...(index_js.isElement(element) ? Manipulator.getDataAttributes(element) : {}),\n        ...(typeof config === 'object' ? config : {})\n      };\n    }\n    _typeCheckConfig(config, configTypes = this.constructor.DefaultType) {\n      for (const [property, expectedTypes] of Object.entries(configTypes)) {\n        const value = config[property];\n        const valueType = index_js.isElement(value) ? 'element' : index_js.toType(value);\n        if (!new RegExp(expectedTypes).test(valueType)) {\n          throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option \"${property}\" provided type \"${valueType}\" but expected type \"${expectedTypes}\".`);\n        }\n      }\n    }\n  }\n\n  return Config;\n\n}));\n//# sourceMappingURL=config.js.map\n","import { BasePattern } from \"@patternslib/patternslib/src/core/basepattern\";\nimport Parser from \"@patternslib/patternslib/src/core/parser\";\nimport events from \"@patternslib/patternslib/src/core/events\";\nimport registry from \"@patternslib/patternslib/src/core/registry\";\n\nexport const parser = new Parser(\"code-editor\");\nparser.addArgument(\"language\", null); // programming language to use.\nparser.addArgument(\"linenumbers\", false);\nparser.addArgument(\"theme\", \"dark\"); // dark or light or any other theme variant.\n\n// CodeJar options\nparser.addArgument(\"tab\", \"    \"); // The tab-string. \"\\t\" for real tabs.\nparser.addArgument(\"indent-on\", \"{$\");\nparser.addArgument(\"spellcheck\", false);\nparser.addArgument(\"catch-tab\", true);\nparser.addArgument(\"preserve-ident\", true);\nparser.addArgument(\"add-closing\", true);\nparser.addArgument(\"history\", true);\n\nconst language_mapping = {\n    atom: \"xml\",\n    html: \"xml\",\n    plist: \"xml\",\n    rss: \"xml\",\n    svg: \"xml\",\n    wsf: \"xml\",\n    xhtml: \"xml\",\n    xjb: \"xml\",\n    xsd: \"xml\",\n    xsl: \"xml\",\n};\n\nclass Pattern extends BasePattern {\n    static name = \"code-editor\";\n    static trigger = \".pat-code-editor\";\n    static parser = parser;\n\n    async init() {\n        const CodeJar = (await import(\"codejar\")).CodeJar;\n        const hljs = (await import(\"highlight.js/lib/core\")).default;\n        let el = this.el;\n\n        // Set and load the theme.\n        let theme;\n        if (this.options.theme === \"light\") {\n            theme = \"stackoverflow-light\";\n        } else if (this.options.theme === \"dark\" || this.options.theme === \"okaidia\") {\n            theme = \"stackoverflow-dark\";\n        } else {\n            theme = this.options.theme;\n        }\n\n        // Need to await the style import, otherwise theme might not be applied.\n        await import(`highlight.js/styles/${theme}.css`);\n        if (window.__patternslib_import_styles) {\n            await import(\"./_code-editor.scss\");\n        }\n\n        // Custom hightlighting function, as of:\n        // https://github.com/antonmedv/codejar/blob/master/index.html\n        const highlight = (editor) => {\n            // highlight.js does not trim old tags,\n            // let's do it by this hack.\n            editor.textContent = editor.textContent;\n            hljs.highlightElement(editor);\n        };\n        let highlight_wrapper = highlight;\n\n        // Optional line numbers.\n        if (this.options.linenumbers) {\n            const linenumbers = (await import(\"codejar/linenumbers\")).withLineNumbers;\n            highlight_wrapper = linenumbers(highlight, {\n                class: `codejar-linenumbers ${theme}`,\n            });\n        }\n\n        // Import and register the language.\n        let language = [...el.classList].filter((it) => it.startsWith(\"language-\"))[0];\n        language = language ? language.replace(\"language-\", \"\") : this.options.language;\n        language = language || \"plaintext\";\n        const hljs_language = (\n            await import(\n                `highlight.js/lib/languages/${language_mapping[language] || language}`\n            )\n        ).default;\n        hljs.registerLanguage(language, hljs_language);\n\n        // Create a editor element in case of an input element.\n        if ([\"textarea\", \"input\"].includes(this.el.nodeName.toLowerCase())) {\n            const pre_el = document.createElement(\"pre\");\n            pre_el.innerHTML = `<code contenteditable></code>`;\n            el = pre_el.querySelector(\"code\");\n            el.textContent = this.el.value; // value is already unescaped.\n            this.el.parentNode.insertBefore(pre_el, this.el);\n            this.el.setAttribute(\"hidden\", \"\");\n        }\n\n        // Add some classes to the editor element.\n        el.classList.add(\n            \"code-editor\",\n            `theme-${this.options.theme}`,\n            `language-${language}`\n        );\n\n        // Allow spaces within quotes to be added as tab argument.\n        // Replace escaped tab character with real tab.\n        const tab = this.options.tab\n            .replace(/'/g, \"\") // Allow spaces within quotes\n            .replace(/\"/g, \"\")\n            .replace(/\\\\t/g, \"\\t\"); // Replace double escaped tab character\n\n        // Create the editor.\n        const config = {\n            tab: tab,\n            indentOn: new RegExp(this.options.indentOn),\n            spellcheck: this.options.spellcheck,\n            catchTab: this.options.catchTab,\n            preserveIdent: this.options.preserveIdent,\n            addClosing: this.options.addClosing,\n            history: this.options.history,\n        };\n        this.codeeditor = CodeJar(el, highlight_wrapper, config);\n\n        // Update the input element.\n        if (el !== this.el) {\n            // Update <textarea> or <input>, if one of these were the\n            // initializing elements.\n            this.codeeditor.onUpdate((code) => {\n                this.el.value = code.trim();\n                this.el.dispatchEvent(events.input_event());\n            });\n        }\n    }\n}\n\nregistry.register(Pattern);\n\nexport default Pattern;\nexport { Pattern };\n","/*!\n  * Bootstrap event-handler.js v5.3.7 (https://getbootstrap.com/)\n  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)\n  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n  */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('../util/index.js')) :\n  typeof define === 'function' && define.amd ? define(['../util/index'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.EventHandler = factory(global.Index));\n})(this, (function (index_js) { 'use strict';\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap dom/event-handler.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n\n  /**\n   * Constants\n   */\n\n  const namespaceRegex = /[^.]*(?=\\..*)\\.|.*/;\n  const stripNameRegex = /\\..*/;\n  const stripUidRegex = /::\\d+$/;\n  const eventRegistry = {}; // Events storage\n  let uidEvent = 1;\n  const customEvents = {\n    mouseenter: 'mouseover',\n    mouseleave: 'mouseout'\n  };\n  const nativeEvents = new Set(['click', 'dblclick', 'mouseup', 'mousedown', 'contextmenu', 'mousewheel', 'DOMMouseScroll', 'mouseover', 'mouseout', 'mousemove', 'selectstart', 'selectend', 'keydown', 'keypress', 'keyup', 'orientationchange', 'touchstart', 'touchmove', 'touchend', 'touchcancel', 'pointerdown', 'pointermove', 'pointerup', 'pointerleave', 'pointercancel', 'gesturestart', 'gesturechange', 'gestureend', 'focus', 'blur', 'change', 'reset', 'select', 'submit', 'focusin', 'focusout', 'load', 'unload', 'beforeunload', 'resize', 'move', 'DOMContentLoaded', 'readystatechange', 'error', 'abort', 'scroll']);\n\n  /**\n   * Private methods\n   */\n\n  function makeEventUid(element, uid) {\n    return uid && `${uid}::${uidEvent++}` || element.uidEvent || uidEvent++;\n  }\n  function getElementEvents(element) {\n    const uid = makeEventUid(element);\n    element.uidEvent = uid;\n    eventRegistry[uid] = eventRegistry[uid] || {};\n    return eventRegistry[uid];\n  }\n  function bootstrapHandler(element, fn) {\n    return function handler(event) {\n      hydrateObj(event, {\n        delegateTarget: element\n      });\n      if (handler.oneOff) {\n        EventHandler.off(element, event.type, fn);\n      }\n      return fn.apply(element, [event]);\n    };\n  }\n  function bootstrapDelegationHandler(element, selector, fn) {\n    return function handler(event) {\n      const domElements = element.querySelectorAll(selector);\n      for (let {\n        target\n      } = event; target && target !== this; target = target.parentNode) {\n        for (const domElement of domElements) {\n          if (domElement !== target) {\n            continue;\n          }\n          hydrateObj(event, {\n            delegateTarget: target\n          });\n          if (handler.oneOff) {\n            EventHandler.off(element, event.type, selector, fn);\n          }\n          return fn.apply(target, [event]);\n        }\n      }\n    };\n  }\n  function findHandler(events, callable, delegationSelector = null) {\n    return Object.values(events).find(event => event.callable === callable && event.delegationSelector === delegationSelector);\n  }\n  function normalizeParameters(originalTypeEvent, handler, delegationFunction) {\n    const isDelegated = typeof handler === 'string';\n    // TODO: tooltip passes `false` instead of selector, so we need to check\n    const callable = isDelegated ? delegationFunction : handler || delegationFunction;\n    let typeEvent = getTypeEvent(originalTypeEvent);\n    if (!nativeEvents.has(typeEvent)) {\n      typeEvent = originalTypeEvent;\n    }\n    return [isDelegated, callable, typeEvent];\n  }\n  function addHandler(element, originalTypeEvent, handler, delegationFunction, oneOff) {\n    if (typeof originalTypeEvent !== 'string' || !element) {\n      return;\n    }\n    let [isDelegated, callable, typeEvent] = normalizeParameters(originalTypeEvent, handler, delegationFunction);\n\n    // in case of mouseenter or mouseleave wrap the handler within a function that checks for its DOM position\n    // this prevents the handler from being dispatched the same way as mouseover or mouseout does\n    if (originalTypeEvent in customEvents) {\n      const wrapFunction = fn => {\n        return function (event) {\n          if (!event.relatedTarget || event.relatedTarget !== event.delegateTarget && !event.delegateTarget.contains(event.relatedTarget)) {\n            return fn.call(this, event);\n          }\n        };\n      };\n      callable = wrapFunction(callable);\n    }\n    const events = getElementEvents(element);\n    const handlers = events[typeEvent] || (events[typeEvent] = {});\n    const previousFunction = findHandler(handlers, callable, isDelegated ? handler : null);\n    if (previousFunction) {\n      previousFunction.oneOff = previousFunction.oneOff && oneOff;\n      return;\n    }\n    const uid = makeEventUid(callable, originalTypeEvent.replace(namespaceRegex, ''));\n    const fn = isDelegated ? bootstrapDelegationHandler(element, handler, callable) : bootstrapHandler(element, callable);\n    fn.delegationSelector = isDelegated ? handler : null;\n    fn.callable = callable;\n    fn.oneOff = oneOff;\n    fn.uidEvent = uid;\n    handlers[uid] = fn;\n    element.addEventListener(typeEvent, fn, isDelegated);\n  }\n  function removeHandler(element, events, typeEvent, handler, delegationSelector) {\n    const fn = findHandler(events[typeEvent], handler, delegationSelector);\n    if (!fn) {\n      return;\n    }\n    element.removeEventListener(typeEvent, fn, Boolean(delegationSelector));\n    delete events[typeEvent][fn.uidEvent];\n  }\n  function removeNamespacedHandlers(element, events, typeEvent, namespace) {\n    const storeElementEvent = events[typeEvent] || {};\n    for (const [handlerKey, event] of Object.entries(storeElementEvent)) {\n      if (handlerKey.includes(namespace)) {\n        removeHandler(element, events, typeEvent, event.callable, event.delegationSelector);\n      }\n    }\n  }\n  function getTypeEvent(event) {\n    // allow to get the native events from namespaced events ('click.bs.button' --> 'click')\n    event = event.replace(stripNameRegex, '');\n    return customEvents[event] || event;\n  }\n  const EventHandler = {\n    on(element, event, handler, delegationFunction) {\n      addHandler(element, event, handler, delegationFunction, false);\n    },\n    one(element, event, handler, delegationFunction) {\n      addHandler(element, event, handler, delegationFunction, true);\n    },\n    off(element, originalTypeEvent, handler, delegationFunction) {\n      if (typeof originalTypeEvent !== 'string' || !element) {\n        return;\n      }\n      const [isDelegated, callable, typeEvent] = normalizeParameters(originalTypeEvent, handler, delegationFunction);\n      const inNamespace = typeEvent !== originalTypeEvent;\n      const events = getElementEvents(element);\n      const storeElementEvent = events[typeEvent] || {};\n      const isNamespace = originalTypeEvent.startsWith('.');\n      if (typeof callable !== 'undefined') {\n        // Simplest case: handler is passed, remove that listener ONLY.\n        if (!Object.keys(storeElementEvent).length) {\n          return;\n        }\n        removeHandler(element, events, typeEvent, callable, isDelegated ? handler : null);\n        return;\n      }\n      if (isNamespace) {\n        for (const elementEvent of Object.keys(events)) {\n          removeNamespacedHandlers(element, events, elementEvent, originalTypeEvent.slice(1));\n        }\n      }\n      for (const [keyHandlers, event] of Object.entries(storeElementEvent)) {\n        const handlerKey = keyHandlers.replace(stripUidRegex, '');\n        if (!inNamespace || originalTypeEvent.includes(handlerKey)) {\n          removeHandler(element, events, typeEvent, event.callable, event.delegationSelector);\n        }\n      }\n    },\n    trigger(element, event, args) {\n      if (typeof event !== 'string' || !element) {\n        return null;\n      }\n      const $ = index_js.getjQuery();\n      const typeEvent = getTypeEvent(event);\n      const inNamespace = event !== typeEvent;\n      let jQueryEvent = null;\n      let bubbles = true;\n      let nativeDispatch = true;\n      let defaultPrevented = false;\n      if (inNamespace && $) {\n        jQueryEvent = $.Event(event, args);\n        $(element).trigger(jQueryEvent);\n        bubbles = !jQueryEvent.isPropagationStopped();\n        nativeDispatch = !jQueryEvent.isImmediatePropagationStopped();\n        defaultPrevented = jQueryEvent.isDefaultPrevented();\n      }\n      const evt = hydrateObj(new Event(event, {\n        bubbles,\n        cancelable: true\n      }), args);\n      if (defaultPrevented) {\n        evt.preventDefault();\n      }\n      if (nativeDispatch) {\n        element.dispatchEvent(evt);\n      }\n      if (evt.defaultPrevented && jQueryEvent) {\n        jQueryEvent.preventDefault();\n      }\n      return evt;\n    }\n  };\n  function hydrateObj(obj, meta = {}) {\n    for (const [key, value] of Object.entries(meta)) {\n      try {\n        obj[key] = value;\n      } catch (_unused) {\n        Object.defineProperty(obj, key, {\n          configurable: true,\n          get() {\n            return value;\n          }\n        });\n      }\n    }\n    return obj;\n  }\n\n  return EventHandler;\n\n}));\n//# sourceMappingURL=event-handler.js.map\n","/*!\n  * Bootstrap manipulator.js v5.3.7 (https://getbootstrap.com/)\n  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)\n  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n  */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Manipulator = factory());\n})(this, (function () { 'use strict';\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap dom/manipulator.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n  function normalizeData(value) {\n    if (value === 'true') {\n      return true;\n    }\n    if (value === 'false') {\n      return false;\n    }\n    if (value === Number(value).toString()) {\n      return Number(value);\n    }\n    if (value === '' || value === 'null') {\n      return null;\n    }\n    if (typeof value !== 'string') {\n      return value;\n    }\n    try {\n      return JSON.parse(decodeURIComponent(value));\n    } catch (_unused) {\n      return value;\n    }\n  }\n  function normalizeDataKey(key) {\n    return key.replace(/[A-Z]/g, chr => `-${chr.toLowerCase()}`);\n  }\n  const Manipulator = {\n    setDataAttribute(element, key, value) {\n      element.setAttribute(`data-bs-${normalizeDataKey(key)}`, value);\n    },\n    removeDataAttribute(element, key) {\n      element.removeAttribute(`data-bs-${normalizeDataKey(key)}`);\n    },\n    getDataAttributes(element) {\n      if (!element) {\n        return {};\n      }\n      const attributes = {};\n      const bsKeys = Object.keys(element.dataset).filter(key => key.startsWith('bs') && !key.startsWith('bsConfig'));\n      for (const key of bsKeys) {\n        let pureKey = key.replace(/^bs/, '');\n        pureKey = pureKey.charAt(0).toLowerCase() + pureKey.slice(1);\n        attributes[pureKey] = normalizeData(element.dataset[key]);\n      }\n      return attributes;\n    },\n    getDataAttribute(element, key) {\n      return normalizeData(element.getAttribute(`data-bs-${normalizeDataKey(key)}`));\n    }\n  };\n\n  return Manipulator;\n\n}));\n//# sourceMappingURL=manipulator.js.map\n","/*!\n  * Bootstrap selector-engine.js v5.3.7 (https://getbootstrap.com/)\n  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)\n  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n  */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('../util/index.js')) :\n  typeof define === 'function' && define.amd ? define(['../util/index'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.SelectorEngine = factory(global.Index));\n})(this, (function (index_js) { 'use strict';\n\n  /**\n   * --------------------------------------------------------------------------\n   * Bootstrap dom/selector-engine.js\n   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n   * --------------------------------------------------------------------------\n   */\n\n  const getSelector = element => {\n    let selector = element.getAttribute('data-bs-target');\n    if (!selector || selector === '#') {\n      let hrefAttribute = element.getAttribute('href');\n\n      // The only valid content that could double as a selector are IDs or classes,\n      // so everything starting with `#` or `.`. If a \"real\" URL is used as the selector,\n      // `document.querySelector` will rightfully complain it is invalid.\n      // See https://github.com/twbs/bootstrap/issues/32273\n      if (!hrefAttribute || !hrefAttribute.includes('#') && !hrefAttribute.startsWith('.')) {\n        return null;\n      }\n\n      // Just in case some CMS puts out a full URL with the anchor appended\n      if (hrefAttribute.includes('#') && !hrefAttribute.startsWith('#')) {\n        hrefAttribute = `#${hrefAttribute.split('#')[1]}`;\n      }\n      selector = hrefAttribute && hrefAttribute !== '#' ? hrefAttribute.trim() : null;\n    }\n    return selector ? selector.split(',').map(sel => index_js.parseSelector(sel)).join(',') : null;\n  };\n  const SelectorEngine = {\n    find(selector, element = document.documentElement) {\n      return [].concat(...Element.prototype.querySelectorAll.call(element, selector));\n    },\n    findOne(selector, element = document.documentElement) {\n      return Element.prototype.querySelector.call(element, selector);\n    },\n    children(element, selector) {\n      return [].concat(...element.children).filter(child => child.matches(selector));\n    },\n    parents(element, selector) {\n      const parents = [];\n      let ancestor = element.parentNode.closest(selector);\n      while (ancestor) {\n        parents.push(ancestor);\n        ancestor = ancestor.parentNode.closest(selector);\n      }\n      return parents;\n    },\n    prev(element, selector) {\n      let previous = element.previousElementSibling;\n      while (previous) {\n        if (previous.matches(selector)) {\n          return [previous];\n        }\n        previous = previous.previousElementSibling;\n      }\n      return [];\n    },\n    // TODO: this is now unused; remove later along with prev()\n    next(element, selector) {\n      let next = element.nextElementSibling;\n      while (next) {\n        if (next.matches(selector)) {\n          return [next];\n        }\n        next = next.nextElementSibling;\n      }\n      return [];\n    },\n    focusableChildren(element) {\n      const focusables = ['a', 'button', 'input', 'textarea', 'select', 'details', '[tabindex]', '[contenteditable=\"true\"]'].map(selector => `${selector}:not([tabindex^=\"-\"])`).join(',');\n      return this.find(focusables, element).filter(el => !index_js.isDisabled(el) && index_js.isVisible(el));\n    },\n    getSelectorFromElement(element) {\n      const selector = getSelector(element);\n      if (selector) {\n        return SelectorEngine.findOne(selector) ? selector : null;\n      }\n      return null;\n    },\n    getElementFromSelector(element) {\n      const selector = getSelector(element);\n      return selector ? SelectorEngine.findOne(selector) : null;\n    },\n    getMultipleElementsFromSelector(element) {\n      const selector = getSelector(element);\n      return selector ? SelectorEngine.find(selector) : [];\n    }\n  };\n\n  return SelectorEngine;\n\n}));\n//# sourceMappingURL=selector-engine.js.map\n","/**\n * Get a universally unique id (uuid).\n *\n * @returns {String} - The uuid.\n */\nconst create_uuid = () => {\n    let uuid;\n    if (window.crypto.randomUUID) {\n        // Create a real UUID\n        // window.crypto.randomUUID does only exist in browsers with secure\n        // context.\n        // See: https://developer.mozilla.org/en-US/docs/Web/API/Crypto/randomUUID\n        uuid = window.crypto.randomUUID();\n    } else {\n        // Create a sufficiently unique ID\n        const array = new Uint32Array(4);\n        uuid = window.crypto.getRandomValues(array).join(\"\");\n    }\n    return uuid;\n};\nexport default create_uuid;\n","// Polyfills for modern browsers\n\n// SubmitEvent.submitter polyfill for Safari < 15.4 and jsDOM\n// Original code: https://stackoverflow.com/a/61110260/1337474\n// Also see: https://caniuse.com/?search=submitter\n// NOTE: the `submitter` property is now widely available except for ancient browsers and jsDOM.\n!(function () {\n    if (window.SubmitEvent && \"submitter\" in window.SubmitEvent.prototype) {\n        // `submitter` attribute is already supported.\n        return;\n    }\n\n    let last_btn = null;\n    const submitable_buttons = `button, input[type=\"button\"], input[type=\"submit\"], input[type=\"image\"]`;\n    document.addEventListener(\n        \"click\",\n        function (e) {\n            if (!e.target.closest) return;\n            last_btn = e.target.closest(submitable_buttons);\n        },\n        true\n    );\n    document.addEventListener(\n        \"submit\",\n        function (e) {\n            if (\"submitter\" in e) return;\n            const canditates = [document.activeElement, last_btn];\n            last_btn = null;\n            for (const candidate of canditates) {\n                if (!candidate) continue;\n                if (!candidate.form) continue;\n                if (!candidate.matches(submitable_buttons)) continue;\n                e.submitter = candidate;\n                return;\n            }\n            e.submitter = e.target.querySelector(submitable_buttons);\n        },\n        true\n    );\n})();\n\n// Navigation polyfill for Firefox and Safari, as of 2024-01-04\n// NOTE: this is a very basic polyfill, it only supports firing a `navigate`\n// event on location change and even that without interception support, etc.\n!(function () {\n    if (window.navigation == undefined) {\n\n        class NavigateEvent extends CustomEvent {\n            constructor() {\n                super(\"navigate\");\n                this.destination = { url: undefined };\n            }\n        }\n\n        // Create a navigation object on the window\n        // We create a DOM element for the navigation object so that we can\n        // attach events on it.\n        window.navigation = document.createElement(\"div\");\n\n        const create_event = (args) => {\n            const event = new NavigateEvent();\n            event.destination.url = args[2];\n            return event;\n        };\n\n        // Patch pushState to trigger an `navigate` event on the navigation\n        // object when the URL changes.\n        const pushState = window.history.pushState;\n        window.history.pushState = function () {\n            pushState.apply(window.history, arguments);\n            window.navigation.dispatchEvent(create_event(arguments));\n        };\n\n        // Same with replaceState\n        const replaceState = window.history.replaceState;\n        window.history.replaceState = function () {\n            replaceState.apply(window.history, arguments);\n            window.navigation.dispatchEvent(create_event(arguments));\n        };\n    }\n})();\n","import Base from \"../../core/base\";\nimport Parser from \"../../core/parser\";\nimport dom from \"../../core/dom\";\nimport logging from \"../../core/logging\";\nimport utils from \"../../core/utils\";\n\n// Lazy loading modules.\nlet Moment;\n\nconst log = logging.getLogger(\"pat-display-time\");\n\nexport const parser = new Parser(\"display-time\");\n// input datetime options\nparser.add_argument(\"format\", \"\");\nparser.add_argument(\"locale\", null);\nparser.add_argument(\"strict\", false);\n// output options\nparser.add_argument(\"from-now\", false);\nparser.add_argument(\"no-suffix\", false);\nparser.add_argument(\"output-format\", null);\n\nexport default Base.extend({\n    name: \"display-time\",\n    trigger: \".pat-display-time\",\n\n    async init() {\n        Moment = (await import(\"moment\")).default;\n\n        this.options = parser.parse(this.el, this.options);\n\n        let lang = this.options.locale || dom.acquire_attribute(this.el, \"lang\") || \"en\";\n        // we don't support any country-specific language variants, always use first 2 letters\n        lang = lang.substr(0, 2).toLowerCase();\n        try {\n            await import(`moment/locale/${lang}.js`);\n            Moment.locale(lang);\n            this.lang = lang;\n        } catch {\n            Moment.locale(\"en\");\n            this.lang = \"en\";\n        }\n        log.debug(`Moment.js language used: ${lang}.`);\n        this.format();\n    },\n\n    format() {\n        const datetime = this.el.getAttribute(\"datetime\");\n        let out = \"\";\n        if (datetime) {\n            const date = Moment(datetime, this.options.format, this.options.strict);\n            out = date;\n            if (this.options.fromNow === true) {\n                if (utils.is_iso_date(datetime)) {\n                    // date-only case.\n                    const rtf = new Intl.RelativeTimeFormat(this.lang, {\n                        numeric: \"auto\",\n                    });\n                    const date_diff = utils.date_diff(date.toDate(), new Date());\n                    out = date.calendar(null, {\n                        // when the date is closer, specify custom values\n                        lastWeek: `[${rtf.format(date_diff, \"day\")}]`, // translates to \"x days ago\"\n                        lastDay: `[${rtf.format(-1, \"day\")}]`, // translates to \"yesterday\"\n                        sameDay: `[${rtf.format(0, \"day\")}]`, // translates to \"today\"\n                        nextDay: `[${rtf.format(1, \"day\")}]`, // translates to \"tomorrow\"\n                        nextWeek: \"dddd\", // translates to week day name\n                        // otherwise, just use Intl.RelativeTimeFormat.\n                        sameElse: () => {\n                            return `[${rtf.format(date_diff, \"day\")}]`;\n                        },\n                    });\n                } else {\n                    // datetime case.\n                    out = date.fromNow(this.options.noSuffix);\n                }\n            } else if (this.options.outputFormat) {\n                out = date.format(this.options.outputFormat);\n            }\n        }\n        this.el.textContent = out;\n    },\n});\n","import Base from \"../../core/base\";\nimport events from \"../../core/events\";\nimport utils from \"../../core/utils\";\n\nexport default Base.extend({\n    name: \"close-panel\",\n    trigger: \".close-panel\",\n\n    init() {\n        // Close panel support for dialog panels\n        // Other modals are handled in pat-modal.\n        const dialog_panel = this.el.closest(\"dialog\");\n        if (dialog_panel) {\n            events.add_event_listener(\n                dialog_panel,\n                \"close-panel\",\n                \"close-panel--dialog\",\n                () => {\n                    dialog_panel.close();\n                }\n            );\n        }\n\n        this.el.addEventListener(\"click\", async (e) => {\n            await utils.timeout(0); // Wait for other patterns, like pat-validation.\n\n            if (\n                e.target.matches(\":not([formnovalidate])\") &&\n                e.target.matches(\"[type=submit], button:not([type=button])\") &&\n                this.el.closest(\"form\")?.checkValidity() === false\n            ) {\n                // Prevent closing an invalid form when submitting.\n                return;\n            }\n\n            this.el.dispatchEvent(\n                new Event(\"close-panel\", { bubbles: true, cancelable: true })\n            );\n        });\n    },\n});\n","import $ from \"jquery\";\nimport { BasePattern } from \"../../core/basepattern\";\nimport logging from \"../../core/logging\";\nimport Parser from \"../../core/parser\";\nimport events from \"../../core/events\";\nimport registry from \"../../core/registry\";\nimport utils from \"../../core/utils\";\n\n// Initialize close-panel functionality.\nimport \"../close-panel/close-panel\";\n\nconst log = logging.getLogger(\"pat-tooltip\");\n\nexport const parser = new Parser(\"tooltip\");\nconst all_positions = [\n    \"tl\",\n    \"tm\",\n    \"tr\",\n    \"rt\",\n    \"rm\",\n    \"rb\",\n    \"br\",\n    \"bm\",\n    \"bl\",\n    \"lb\",\n    \"lm\",\n    \"lt\",\n];\nparser.addArgument(\"position-list\", [], all_positions, true);\nparser.addArgument(\"position-policy\", \"auto\", [\"auto\", \"force\"]);\nparser.addArgument(\"trigger\", \"click\", [\"click\", \"hover\", \"none\"]);\nparser.addArgument(\"source\", \"title\", [\"ajax\", \"content\", \"title\"]);\nparser.addArgument(\"ajax-data-type\", \"html\", [\"html\", \"markdown\"]);\nparser.addArgument(\"closing\", \"auto\", [\"auto\", \"sticky\", \"close-button\"]);\nparser.addArgument(\"delay\");\nparser.addArgument(\"mark-inactive\", true);\nparser.addArgument(\"class\");\nparser.addArgument(\"target\", \"body\");\nparser.addArgument(\"arrow-padding\", null);\nparser.addArgument(\"url\", null);\n\n// Tippy Lifecycle-hooks\n// See: https://tippyjs.bootcss.com/lifecycle-hooks/\n// onCreate\n// onTrigger\n// onShow\n// onMount\n// onShown\n// onUntrigger\n// onHide\n// onHidden\n//\n// onBeforeUpdate\n// onAfterUpdate\n// onDestroy\n\nclass Pattern extends BasePattern {\n    static name = \"tooltip\";\n    static trigger = \".pat-tooltip, .pat-tooltip-ng\";\n    static parser = parser;\n\n    tippy = null;\n\n    active_class = \"tooltip-active-hover\";\n    inactive_class = \"tooltip-inactive\";\n\n    async init() {\n        const el = this.el;\n\n        if (window.__patternslib_import_styles) {\n            import(\"tippy.js/dist/tippy.css\");\n        }\n        const Tippy = (await import(\"tippy.js\")).default;\n        this.tippy_options = this.parseOptionsForTippy(this.options);\n\n        const defaultProps = {\n            animation: false,\n            arrow: true,\n            //'delay': [0, 1800],\n            //'duration': [325, 275],\n            hideOnClick: this.options.closing === \"close-button\" ? false : true,\n            ignoreAttributes: true,\n            interactive: true,\n            onHide: this._onHide.bind(this),\n            onShow: this._onShow.bind(this),\n            trigger: \"click\",\n        };\n\n        Tippy.setDefaultProps(defaultProps);\n        this.tippy = new Tippy(el, this.tippy_options);\n\n        if (this.options.source === \"title\") {\n            // Remove ``title`` attribute when source is set to ``title`` to\n            // disable the browser's built-in tooltip feature\n            el.removeAttribute(\"title\");\n        }\n\n        if (this.options.trigger === \"click\" && this.options.source === \"ajax\") {\n            // prevent default action for \"click\" and \"mouseenter click\"\n            events.add_event_listener(\n                el,\n                \"click\",\n                \"pat-tooltip--click-prevent-default\",\n                (event) => {\n                    event.preventDefault();\n                    event.stopPropagation();\n                }\n            );\n        }\n\n        if (this.options.trigger === \"click\") {\n            this.active_class = \"tooltip-active-click\";\n        }\n        if (this.options.markInactive) {\n            // Initially mark as inactive\n            el.classList.add(this.inactive_class);\n        }\n    }\n\n    show() {\n        // Show this tooltip\n        this.tippy.show();\n    }\n\n    async hide() {\n        // Hide this tooltip\n        await utils.timeout(1); // wait a tick for event being processed by other handlers.\n        this.tippy.hide();\n    }\n\n    destroy() {\n        // Remove this tooltip\n        super.destroy(); // Unregister\n        this.tippy.destroy();\n    }\n\n    parseOptionsForTippy(opts) {\n        const placement = (pos) => {\n            // note that Cornelis needs the positioning to be the placement of the thingy on the bubble\n            // tippy though refers to positioning as the placement of the bubble relatively to the reference element\n            // so we invert the meaning below. It's intentional.\n            const primary = (pos0) =>\n                ({\n                    t: \"bottom\",\n                    r: \"left\",\n                    b: \"top\",\n                    l: \"right\",\n                }[pos0]);\n\n            const secondary = (pos1) =>\n                ({\n                    l: \"-start\",\n                    r: \"-end\",\n                    m: \"\",\n                    t: \"-start\",\n                    b: \"-end\",\n                }[pos1]);\n\n            return `${primary(pos[0])}${secondary(pos[1])}`;\n        };\n\n        const tippy_options = { popperOptions: { modifiers: [] } };\n\n        if (opts.arrowPadding !== null) {\n            tippy_options.popperOptions.modifiers.push({\n                name: \"arrow\",\n                options: {\n                    padding: parseInt(opts.arrowPadding, 10),\n                },\n            });\n        }\n\n        const parsers = {\n            position: () => {\n                if (!opts.position?.list?.length) {\n                    return;\n                }\n                tippy_options.placement = placement(opts.position.list[0]); // main position\n\n                const flip_options = {\n                    name: \"flip\",\n                    enabled: true,\n                };\n\n                if (opts.position.policy === \"force\") {\n                    flip_options.enabled = false;\n                } else if (opts.position.length > 1) {\n                    const fallbacks = opts.position.list.slice(1).map(placement);\n                    flip_options.fallbackPlacements = fallbacks;\n                }\n\n                tippy_options.popperOptions.modifiers.push(flip_options);\n            },\n\n            trigger() {\n                if (opts.trigger === \"hover\") {\n                    tippy_options.trigger = \"mouseenter focus\";\n                } else if (opts.trigger === \"none\") {\n                    tippy_options.trigger = \"manual\";\n                    tippy_options.hideOnClick = false;\n                }\n            },\n\n            source: () => {\n                let content;\n                if (opts.source === \"title\") {\n                    // Tooltip content from title attribute\n                    content = this.el.getAttribute(\"title\");\n                } else if (opts.source === \"content\") {\n                    // Tooltip content from trigger childs.\n                    content = this.el.innerHTML;\n                    tippy_options.allowHTML = true;\n                } else if (opts.source === \"ajax\") {\n                    // Tooltiop content from AJAX request.\n                    content = document.createElement(\"progress\");\n                    tippy_options.allowHTML = true;\n                }\n                tippy_options.content = content;\n            },\n\n            delay() {\n                if (opts.delay) {\n                    tippy_options.delay = [utils.parseTime(opts.delay), 0];\n                }\n            },\n\n            target: () => {\n                if (!opts.target) {\n                    return;\n                }\n                if (opts.target === \"parent\") {\n                    tippy_options.appendTo = \"parent\";\n                } else if (opts.target === \"body\") {\n                    tippy_options.appendTo = document.body;\n                } else {\n                    tippy_options.appendTo = document.querySelector(opts.target);\n                }\n            },\n        };\n\n        for (let arg in opts) {\n            switch (arg) {\n                case \"ajax-data-type\":\n                    arg = \"ajaxDataType\";\n                    break;\n                case \"mark-inactive\":\n                    arg = \"markInactive\";\n                    break;\n            }\n            parsers[arg] && parsers[arg](arg);\n        }\n\n        return tippy_options;\n    }\n\n    _initialize_content() {\n        // Initialize any other patterns.\n        registry.scan(this.tippy.popper);\n    }\n\n    async _onShow() {\n        const tippy_classes = [];\n\n        // Group DOM manipulations\n\n        if (this.options.class) {\n            tippy_classes.push(...this.options.class.split(\" \"));\n        }\n\n        // Add a generic non-tippy related class to identify the tooltip container\n        tippy_classes.push(\"tooltip-container\");\n\n        if (this.options.closing === \"close-button\") {\n            // First, remove previously automatically added close buttons.\n            // Otherwise we would end up adding another close button with every\n            // click on it.\n            for (const close_button of this.tippy.popper.querySelectorAll(\n                \".pat-tooltip--close-button\"\n            )) {\n                close_button.remove();\n            }\n\n            const close_button = document.createElement(\"button\");\n            close_button.setAttribute(\"class\", \"close-panel pat-tooltip--close-button\");\n            const content = this.tippy.popper.querySelector(\".tippy-content\");\n            content.parentNode.insertBefore(close_button, content);\n        }\n\n        // Store reference to method for closing panels on the tooltip element instance.\n        events.add_event_listener(\n            this.tippy.popper,\n            \"close-panel\",\n            \"pat-tooltip--close-panel\",\n            () => this.hide()\n        );\n\n        this.tippy.popper.classList.add(...tippy_classes);\n\n        if (this.options.markInactive) {\n            this.el.classList.remove(this.inactive_class);\n            this.el.classList.add(this.active_class);\n        }\n\n        if (this.options.closing !== \"auto\" && this.options.trigger === \"hover\") {\n            // no auto-close when hovering when closing mode is \"sticky\" or \"close-button\".\n            this.tippy.setProps({ trigger: \"click\" });\n        }\n\n        if (this.options.source === \"ajax\") {\n            await this._get_content();\n        }\n\n        // Notify parent patterns about injected content.\n        // Do not call pat-inject's handler, because all necessary\n        // initialization after injection is done here.\n        $(this.tippy.popper).trigger(\"patterns-injected\", [\n            { skipPatInjectHandler: true },\n            this.el,\n            this.tippy.popper,\n        ]);\n\n        this._initialize_content();\n    }\n\n    _onHide() {\n        if (this.options.markInactive) {\n            this.el.classList.remove(this.active_class);\n            this.el.classList.add(this.inactive_class);\n        }\n\n        if (this.options.closing !== \"auto\" && this.options.trigger === \"hover\") {\n            // re-set hover behavior\n            this.tippy.setProps({ trigger: \"mouseenter focus\" });\n        }\n\n        if (this.options.source === \"ajax\") {\n            this.tippy.setContent(document.createElement(\"progress\"));\n        }\n    }\n\n    async _get_content(url = this.options.url) {\n        let selector;\n        ({ url, selector } = this.get_url_parts(url || this.el.getAttribute(\"href\")));\n        let content;\n        if (url) {\n            // Tooltip from remote page.\n            const handler = this.data_type_handlers[this.options.ajaxDataType];\n            try {\n                // TODO: use pat-inject, once it supports async\n                const response = await fetch(url, {\n                    headers: {\n                        Accept: \"text/html,application/xhtml+xml,application/xml\",\n                    },\n                });\n                const text = await response.text();\n                content = await handler(text, url, selector);\n            } catch {\n                log.error(\"Error on ajax request. ${e}\");\n            }\n        } else if (selector) {\n            // Tooltip content from current DOM tree.\n            content = document.querySelector(selector);\n            content = content?.innerHTML || undefined;\n        }\n        if (content) {\n            this.tippy.setContent(content);\n            await utils.timeout(1); // Wait a tick before forceUpdate. Might fail due to unset popperInstance.\n            this.tippy.popperInstance.forceUpdate(); // re-position tippy after content is known.\n        }\n    }\n\n    async get_content(url = this.options.url) {\n        // API method: _get_content + _initialize_content\n        await this._get_content(url);\n        this._initialize_content();\n    }\n\n    get_url_parts(href) {\n        // Return the URL and a CSS ID selector.\n        let url, selector, query;\n        if (!href) {\n            return { url, selector };\n        }\n        [url, selector] = href.split(\"#\");\n        if (selector) {\n            selector = `#${selector}`;\n            [selector, query] = selector.split(\"?\");\n        }\n        if (query) {\n            url = `${url}?${query}`;\n        }\n        return { url, selector };\n    }\n\n    static data_type_handlers = {\n        html(text, url, selector) {\n            let tmp = document.createElement(\"div\");\n            tmp.innerHTML = text;\n            if (selector) {\n                tmp = tmp.querySelector(selector);\n            }\n            return tmp?.innerHTML || \"\";\n        },\n\n        async markdown(text, url, selector) {\n            const Markdown = registry.patterns.markdown;\n            if (!Markdown) {\n                return text;\n            }\n\n            const instance = new Markdown($(\"<div/>\"));\n            await events.await_pattern_init(instance);\n\n            const cfg = { url };\n            if (selector) {\n                cfg.source = selector;\n            }\n\n            const ret = await instance.renderForInjection(cfg, text);\n            return ret[0];\n        },\n    };\n\n    static register_type_handler(type, handler) {\n        Pattern.data_type_handlers[type] = handler;\n    }\n\n    constructor(...args) {\n        super(...args);\n\n        this.register_type_handler = this.constructor.register_type_handler;\n        this.data_type_handlers = this.constructor.data_type_handlers;\n    }\n}\n\nregistry.register(Pattern);\nexport default Pattern;\nexport { Pattern };\n","/**\n * Patterns store - store pattern state locally in the browser\n *\n * Copyright 2008-2012 Simplon B.V.\n * Copyright 2011 Humberto Sermeo\n * Copyright 2011 Florian Friesdorf\n */\nimport logging from \"./logging\";\n\nconst log = logging.getLogger(\"Patternslib Store\");\n\nfunction Storage(backend, prefix) {\n    this.prefix = prefix;\n    this.backend = backend;\n}\n\nStorage.prototype._key = function Storage_key(name) {\n    return this.prefix + \":\" + name;\n};\n\nStorage.prototype._allKeys = function Storage_allKeys() {\n    var keys = [],\n        prefix = this.prefix + \":\",\n        prefix_length = prefix.length,\n        key,\n        i;\n\n    for (i = 0; i < this.backend.length; i++) {\n        key = this.backend.key(i);\n        if (key.slice(0, prefix_length) === prefix) keys.push(key);\n    }\n    return keys;\n};\n\nStorage.prototype.get = function Storage_get(name) {\n    var key = this._key(name),\n        value = this.backend.getItem(key);\n    if (value !== null) {\n        try {\n            value = JSON.parse(value);\n        } catch {\n            log.warn(`Cannot parse storage value for key ${key}`);\n            return;\n        }\n    }\n    return value;\n};\n\nStorage.prototype.set = function Storage_set(name, value) {\n    var key = this._key(name);\n    return this.backend.setItem(key, JSON.stringify(value));\n};\n\nStorage.prototype.remove = function Storage_remove(name) {\n    var key = this._key(name);\n    return this.backend.removeItem(key);\n};\n\nStorage.prototype.clear = function Storage_clear() {\n    var keys = this._allKeys();\n    for (var i = 0; i < keys.length; i++) this.backend.removeItem(keys[i]);\n};\n\nStorage.prototype.all = function Storage_all() {\n    var keys = this._allKeys(),\n        prefix_length = this.prefix.length + 1,\n        lk,\n        data = {};\n\n    for (var i = 0; i < keys.length; i++) {\n        lk = keys[i].slice(prefix_length);\n        data[lk] = JSON.parse(this.backend.getItem(keys[i]));\n    }\n    return data;\n};\n\nfunction ValueStorage(store, name) {\n    this.store = store;\n    this.name = name;\n}\n\nValueStorage.prototype.get = function ValueStorage_get() {\n    return this.store.get(this.name);\n};\n\nValueStorage.prototype.set = function ValueStorage_get(value) {\n    return this.store.set(this.name, value);\n};\n\nValueStorage.prototype.remove = function ValueStorage_remove() {\n    return this.store.remove(this.name);\n};\n\nvar store = {\n    supported: false,\n\n    local: function (name) {\n        return new Storage(window.localStorage, name);\n    },\n\n    session: function (name) {\n        return new Storage(window.sessionStorage, name);\n    },\n\n    ValueStorage: ValueStorage,\n\n    // Update storage options for a given element.\n    updateOptions: function store_updateOptions(trigger, options) {\n        if (options.store !== \"none\") {\n            if (!trigger.id) {\n                log.warn(\"state persistance requested, but element has no id\");\n                options.store = \"none\";\n            } else if (!store.supported) {\n                log.warn(\n                    \"state persistance requested, but browser does not support webstorage\"\n                );\n                options.store = \"none\";\n            }\n        }\n        return options;\n    },\n};\n\n// Perform the test separately since this may throw a SecurityError as\n// reported in #326\ntry {\n    store.supported = typeof window.sessionStorage !== \"undefined\";\n} catch {\n    // just ignore.\n}\n\nexport default store;\n","/* pat-date-picker  - Polyfill for input type=date */\nimport $ from \"jquery\";\nimport Base from \"../../core/base\";\nimport logging from \"../../core/logging\";\nimport Parser from \"../../core/parser\";\nimport dom from \"../../core/dom\";\nimport events from \"../../core/events\";\nimport store from \"../../core/store\";\nimport utils from \"../../core/utils\";\n\nconst log = logging.getLogger(\"date-picker\");\n\nexport const parser = new Parser(\"date-picker\");\nparser.addArgument(\"behavior\", \"styled\", [\"native\", \"styled\"]);\nparser.addArgument(\"week-numbers\", [], [\"show\", \"hide\"]);\nparser.addArgument(\"i18n\"); // URL pointing to JSON resource with i18n values\nparser.addArgument(\"first-day\", 0);\nparser.addArgument(\"after\");\nparser.addArgument(\"offset-days\", 0);\n\nparser.add_argument(\"output-format\", null);\nparser.add_argument(\"locale\", null);\n\nparser.addAlias(\"behaviour\", \"behavior\");\n\n/* JSON format for i18n\n * { \"previousMonth\": \"Previous Month\",\n *   \"nextMonth\"    : \"Next Month\",\n *   \"months\"       : [\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],\n *   \"weekdays\"     : [\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],\n *   \"weekdaysShort\": [\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"]\n * } */\n\nexport const storage = store.session(\"pat-date-picker\");\n\n\nexport default Base.extend({\n    name: \"date-picker\",\n    trigger: \".pat-date-picker\",\n    parser: parser,\n    format: \"YYYY-MM-DD\",\n\n    async init() {\n        const el = this.el;\n        const disabled = this.el.disabled;\n\n        //TODO: make parser with options extend missing options.\n        //this.options = parser.parse(el, opts);\n        this.options = $.extend(parser.parse(el), this.options);\n\n        if (!disabled && this.options.after) {\n            // Set the date depending on another date which must be ``offset-days``\n            // BEFORE this date. Only set it, if the other date is AFTER this\n            // date.\n            const befores = document.querySelectorAll(this.options.after);\n            for (const b_el of befores) {\n                b_el.addEventListener(\"change\", (e) => {\n                    let b_date = e.target.value; // the \"before-date\"\n                    b_date = b_date ? new Date(b_date) : null;\n                    if (!b_date) {\n                        return;\n                    }\n                    let a_date = this.el.value; // the \"after-date\"\n                    a_date = a_date ? new Date(a_date) : null;\n                    if (!a_date || a_date < b_date) {\n                        const offset = this.options.offsetDays || 0;\n                        b_date.setDate(b_date.getDate() + offset);\n                        this.el.value = b_date.toISOString().substring(0, 10);\n                        this.dispatch_change_event();\n                    }\n                });\n            }\n        }\n\n        let display_el;\n        if (this.options.behavior === \"styled\") {\n            dom.hide(el); // hide input, but keep active (e.g. for validation)\n\n            display_el = document.createElement(\"time\");\n            display_el.setAttribute(\"class\", \"output-field\");\n            display_el.setAttribute(\"datetime\", el.value);\n            if (disabled) {\n                display_el.classList.add(\"disabled\");\n            }\n            el.insertAdjacentElement(\"beforebegin\", display_el);\n\n            // Disable click on label, as this invokes a click on the invisible\n            // input field which opens the calendar in Firefox and masks a\n            // click on display_el on Chrome.\n            const label = display_el.closest(\"label\");\n            if (label) {\n                events.add_event_listener(\n                    label,\n                    \"click\",\n                    \"pat-date-picker--label\",\n                    (e) => {\n                        e.preventDefault();\n                    }\n                );\n            }\n\n            let pat_display_time;\n            if (this.options.outputFormat) {\n                const PatDisplayTime = (await import(\"../display-time/display-time\")).default; // prettier-ignore\n                const display_time_config = { format: this.format };\n                if (this.options.outputFormat) {\n                    display_time_config[\"output-format\"] = this.options.outputFormat;\n                }\n                if (this.options.locale) {\n                    display_time_config.locale = this.options.locale;\n                }\n                pat_display_time = new PatDisplayTime(display_el, display_time_config);\n            } else if (this.el.value) {\n                display_el.textContent = el.value;\n            }\n\n            // Add the additional elements \"clear button\" and placeholder to\n            // the `<time>` element.\n            const _add_additional = () => {\n                this.add_clear_button(display_el);\n                if (!this.el.value && this.el.placeholder) {\n                    display_el.innerHTML = `<span class=\"placeholder\">${this.el.placeholder}</span>`;\n                }\n            };\n            if (pat_display_time) {\n                // Add the additional elements after display time has\n                // eventually cleared the contents or done any other changes.\n                $(display_el).on(\"init.display-time.patterns\", () => {\n                    _add_additional();\n                });\n            } else {\n                // If no `pat-display-time` was used, add immediately.\n                _add_additional();\n            }\n\n            this.el.addEventListener(\"change\", () => {\n                display_el.setAttribute(\"datetime\", this.el.value);\n                if (pat_display_time && this.el.value) {\n                    pat_display_time.format();\n                } else {\n                    //} else if (this.el.value) {\n                    display_el.textContent = this.el.value;\n                }\n                _add_additional();\n            });\n\n            if (disabled) {\n                // nothing else to do here...\n                return;\n            }\n        } else if (disabled) {\n            return;\n        } else if (utils.checkInputSupport(\"date\", \"invalid date\")) {\n            // behavior native with native support.\n            return;\n        } else if (el.getAttribute(\"type\") === \"date\") {\n            // behavior native but no native support.\n            // Fallback JS date picker with a text input field.\n            el.setAttribute(\"type\", \"text\");\n        }\n\n        if (window.__patternslib_import_styles) {\n            import(\"./_date-picker.scss\");\n        }\n        const Pikaday = (await import(\"pikaday\")).default;\n\n        const config = {\n            field: el,\n            trigger: display_el || el,\n            format: this.format,\n            firstDay: this.options.firstDay,\n            showWeekNumber: this.options.weekNumbers === \"show\",\n            onSelect: () => this.dispatch_change_event(),\n            onClose: () => {\n                if (this.options.behavior === \"styled\" && !this.el.value) {\n                    // blur the input field so that pat-validate can kick in when\n                    // nothing was selected.\n                    el.dispatchEvent(events.blur_event());\n                }\n            },\n        };\n\n        if (el.getAttribute(\"min\")) {\n            config.minDate = new Date(el.getAttribute(\"min\"));\n        }\n        if (el.getAttribute(\"max\")) {\n            config.maxDate = new Date(el.getAttribute(\"max\"));\n        }\n\n        if (this.options.i18n) {\n            let i18n = storage.get(this.options.i18n);\n            if (!i18n) {\n                try {\n                    const response = await fetch(this.options.i18n);\n                    i18n = await response.json();\n                    storage.set(this.options.i18n, i18n);\n                } catch {\n                    log.error(`date-picker could not load i18n for ${this.options.i18n}`);\n                }\n            }\n            if (i18n) {\n                config.i18n = i18n;\n            }\n        }\n        this.pikaday = new Pikaday(config);\n    },\n\n    add_clear_button(el_append_to) {\n        if (!this.el.disabled && !this.el.required && this.el.value) {\n            // Add clear button\n            const clear_button = document.createElement(\"span\");\n            clear_button.setAttribute(\"class\", \"cancel-button\");\n            clear_button.addEventListener(\"click\", (e) => {\n                e.stopPropagation();\n                this.el.value = null;\n                this.dispatch_change_event();\n            });\n            el_append_to.appendChild(clear_button);\n        }\n    },\n\n    dispatch_change_event() {\n        const event = new Event(\"change\", {\n            bubbles: true,\n            cancelable: true,\n        });\n        // Set ``firedBy` to prevent pikaday to call it's own handler and land\n        // in an infinite loop.\n        event.firedBy = this.pikaday;\n        this.el.dispatchEvent(event);\n\n        // Also trigger input-change\n        $(this.el).trigger(\"input-change\");\n        $(this.el.form).trigger(\"input-change\");\n    },\n});\n"],"names":["logger","logging","getLogger","parser","Parser","addArgument","addAlias","KEY_ERROR_EL","KEY_ERROR_MSG","Pattern","BasePattern","static","init","events","add_event_listener","this","el","e","input","inputs","debug","check_input","event","capture","initialize_inputs","$","on","setAttribute","querySelectorAll","disabled_elements","options","disableSelector","cnt","entries","debouncer","utils","debounce","delay","name","stop","disabled","set_error","msg","skip_event","validity_state","validity","submitter","hasAttribute","badInput","customError","patternMismatch","rangeOverflow","rangeUnderflow","stepMismatch","tooLong","tooShort","typeMismatch","valid","valueMissing","input_options","parse","equality","querySelector","value","message","attribute","not","after","before","date","datetime","msg_default_not_before","msg_default_not_after","not_after","not_after_el","not_before","not_before_el","is_iso_date_time","Date","document","undefined","isNaN","msg_attr","labels","textContent","replace","trim","remove_error","required","min","getAttribute","max","type","number","email","emit_update","preventDefault","stopPropagation","stopImmediatePropagation","set_error_message","JSON","stringify","setCustomValidity","all_of_group","filter","it","error_node","remove","checkValidity","removeAttribute","classList","length","some","validation_message","validationMessage","dom","create_from_string","error_template","firstChild","fieldset","closest","append","did_disable","formNoValidate","add","_input","registry","register","safeClone","clone","Array","prototype","forEach","callback","thisArg","T","k","TypeError","O","Object","len","arguments","kValue","call","singleBoundJQueryPlugin","pattern","method","each","pat","$el","charAt","apply","pluralBoundJQueryPlugin","$this","concat","isObject","obj","regexp_from_wildcard","wildcard","regexp","RegExp","isElementInViewport","partial","offset","rec","getBoundingClientRect","top","bottom","left","right","every","val","window","innerHeight","documentElement","clientHeight","innerWidth","clientWidth","jqueryPlugin","escapeRegExp","str","extend","source","prop","i","hasOwnProperty","findLabel","$label","label","parentNode","nodeType","tagName","id","form","removeWildcardClass","targets","classes","ensureArray","indexOf","target","matcher","class_list","split","ok","test","join","hideOrShow","nodes","visible","pattern_name","toNodeArray","transitions","none","hide","show","fade","slide","duration","transition","effect","on_complete","trigger","action","t","easing","complete","addURLQueryParameter","fullURL","param","parts","toString","url","hash","newURL","removeDuplicateObjects","objs","comparator","v","reduce","list","next_obj","is_duplicate","keys","bind","push","mergeStack","stack","results","frame","frame_length","x","hasValue","checked","selectedIndex","parseTime","time","m","exec","Error","amount","parseFloat","Math","round","parseLength","reference_length","findRelatives","$relatives","$form","body","find","get_bounds","bounds","parseInt","y","width","height","checkInputSupport","invalid_value","support","createElement","checkCSSFeature","tag","supported","style","animation_frame","Promise","requestAnimationFrame","timeout","ms","resolve","setTimeout","func","timer","postpone","last_run","args","now","clearTimeout","isIE","documentMode","jqToNode","jquery","force_array","NodeList","isPrototypeOf","isArray","localized_isodate","day","getDate","padStart","month","getMonth","getFullYear","escape_html","html","appendChild","createTextNode","innerHTML","unescape_html","escaped_html","DOMParser","parseFromString","optional_time","is_iso_date","date_diff","date_1","date_2","utc_1","UTC","utc_2","floor","threshold_list","num_steps","thresholds","sort","is_option_truthy","option","includes","elementInViewport","console","warn","log","input_event","detail","CustomEvent","bubbles","cancelable","DependsHandler","default","handler","condition","error","set_state","getAllInputs","uuid","pattern_uuid","async","update_modal","enable","find_inputs","is_button","dispatchEvent","remove_event_listener","enabled","disable","state","evaluate","module","exports","BaseComponent","EventHandler","SelectorEngine","index_js","NAME","EVENT_KEY","EVENT_HIDE","EVENT_HIDDEN","EVENT_SHOW","EVENT_SHOWN","EVENT_CLICK_DATA_API","EVENT_KEYDOWN","EVENT_LOAD_DATA_API","ARROW_LEFT_KEY","ARROW_RIGHT_KEY","ARROW_UP_KEY","ARROW_DOWN_KEY","HOME_KEY","END_KEY","CLASS_NAME_ACTIVE","CLASS_NAME_FADE","CLASS_NAME_SHOW","CLASS_DROPDOWN","SELECTOR_DROPDOWN_TOGGLE","SELECTOR_DROPDOWN_MENU","NOT_SELECTOR_DROPDOWN_TOGGLE","SELECTOR_TAB_PANEL","SELECTOR_OUTER","SELECTOR_DATA_TOGGLE","SELECTOR_INNER_ELEM","SELECTOR_DATA_TOGGLE_ACTIVE","Tab","constructor","element","super","_parent","_element","_setInitialAttributes","_getChildren","_keydown","innerElem","_elemIsActive","active","_getActiveElem","hideEvent","relatedTarget","defaultPrevented","_deactivate","_activate","relatedElem","getElementFromSelector","_toggleDropDown","_queueCallback","contains","blur","key","children","isDisabled","nextActiveElement","isNext","getNextActiveElement","focus","preventScroll","getOrCreateInstance","child","parent","_setAttributeIfNotExists","_setInitialAttributesOnChild","_getInnerElement","isActive","outerElem","_getOuterElement","_setInitialAttributesOnTargetPanel","open","toggle","selector","className","findOne","elem","matches","jQueryInterface","config","data","startsWith","defineJQueryPlugin","factory","root","writer","Function","oThis","aArgs","slice","fToBind","fNOP","fBound","Level","DEBUG","INFO","WARN","ERROR","FATAL","ConsoleWriter","Logger","_loggers","_enabled","_level","setWriter","w","output","log_name","level","messages","unshift","info","path","route","entry","shift","_getFlag","flag","context","setEnabled","isEnabled","setLevel","toUpperCase","getLevel","fatal","match","logconfig","location","search","api","getWriter","Base","el_date","el_time","__patternslib_import_styles","DatePicker","date_value","time_value","el_wrapper","html_btn_now","today","html_btn_clear","clear","addEventListener","update","isotime","date_options","behavior","format","weekNumbers","firstDay","isodate","insertBefore","Event","toISOString","substr","toTimeString","parser_group_options","parser_multiple","parser_inherit","create_uuid","update_event","one","event_name","event_callback","once","destroy","ArgumentParser","order","parameters","enum_values","enum_conflicts","groups","possible_groups","group_pattern","json_param_pattern","named_param_pattern","token_pattern","_camelCase","__","p1","alias","original","addGroupToSpec","spec","group","field","first_spec","first_name","dest","choices","multiple","addJSONArgument","default_value","_typeof","choice","_coerce","toLowerCase","num","_set","opts","part","_split","text","tokens","quoted","simple","_parseExtendedNotation","argstring","map","arg","values","subopt","_parseShorthandNotation","parameter","sense","positional","_parse","sep","extended","_defaults","result","_cleanupOptions","group_options","inherit","$possible_config_providers","final_length","hasClass","parents","addBack","provider","attr","current_value","add_argument","xhrCount","a","get","_","off","onTriggerEvents","onClickSubmit","request","_request","cfg","seqNumber","inc","temp","clickedData","serialize","Boolean","headers","cache","browserCache","accept","Accept","is","formdata","FormData","removeData","ajax_deferred","done","status","jqxhr","fail","inject","cfgs","extractConfig","history","nextHref","nodeName","href","pushMarker","onTrigger","currentTarget","idleTrigger","_initIdleTrigger","processDelay","ajax","delayed_trigger","uuid_","still_there","_initAutoloadVisible","formaction","cfg_node","params","serializeArray","execute","submitSubform","$sub","assign","$context","urlparts","defaultSelector","elementIsDirty","askForConfirmation","should_confirm","_confirm","confirm","$target","confirmMessage","ensureTarget","createTarget","$created_target","verifySingleConfig","extractModifiers","listenForFormReset","verifyConfig","source_match","target_match","sourceMod","targetMod","targetPosition","loadingClass","_performInjection","$sources","$title","wrapper","sources_string","img","content","source_nodes","childNodes","_inject","_update_history","_afterInjection","pushState","glue","title_el","$injected","idx","el_","origin","addClass","scroll","scroll_target","querySelectorAllAndMe","scroll_container","find_scroll_container","scroll_to_top","scroll_to_element","_onInjectSuccess","ev","responseText","sources$","callTypeHandler","dataType","idx1","perform_inject","_onInjectError","explanation","timestamp","error_page","error_page_fragment","URLSearchParams","error_page_url","error_page_response","fetch","removeClass","executingClass","error_zone","scan","statusText","removeAttr","do_close_panel","replaceWith","contentafter","contentbefore","elementafter","elementbefore","_sourcesFromHtml","sources","$html","_parseRawHtml","$source","_rebaseAttrs","object","video","_rebaseOptions","_rebaseURL","base","URL","lastIndexOf","_rebaseHTML","page","rebase_selector","patterns","pattern_parser","changed","opt","title","clean_html","timeout_id","observer","IntersectionObserver","isIntersecting","disconnect","threshold","margin","observe","onTimeout","unsub","onInteraction","removeEventListener","registerTypeHandler","handlers","fn","injected","skipPatInjectHandler","executedClass","originalEvent","reload","replaceState","MAX_UID","MILLISECONDS_MULTIPLIER","TRANSITION_END","parseSelector","CSS","escape","toType","getUID","prefix","random","getElementById","getTransitionDurationFromElement","transitionDuration","transitionDelay","getComputedStyle","floatTransitionDuration","Number","floatTransitionDelay","triggerTransitionEnd","isElement","getElement","isVisible","getClientRects","elementIsVisible","getPropertyValue","closedDetails","summary","Node","ELEMENT_NODE","findShadowRoot","attachShadow","getRootNode","ShadowRoot","noop","reflow","offsetHeight","getjQuery","jQuery","DOMContentLoadedCallbacks","onDOMContentLoaded","readyState","isRTL","dir","plugin","JQUERY_NO_CONFLICT","Constructor","noConflict","possibleCallback","defaultValue","executeAfterTransition","transitionElement","waitForTransition","durationPadding","emulatedDuration","called","activeElement","shouldGetNext","isCycleAllowed","listLength","index","defineProperty","Symbol","toStringTag","event_listener_map","Map","els","el_events","delete","size","UpdateEvent","event_type","cb","has","set","_cb","await_event","await_pattern_init","reject","catch","generic_event","blur_event","click_event","change_event","focus_event","mousedown_event","mouseup_event","scroll_event","submit_event","dragstart_event","dragend_event","elementMap","instance","instanceMap","from","methods","settings","initialTime","exceptionAreas","lastEvent","trueTime","untouched","inExceptionArea","mouseMoved","live","enteredException","leftException","startTimer","diff","scrollable","css","scrollHeight","scrollWidth","makeVisibleInScroll","parent_id","absoluteParent","elemTop","position","elemBottom","viewTop","scrollTop","viewBottom","safeOffset","docElem","ownerDocument","setPositionAbsolute","offsettop","offsetleft","thiswidth","pos","setleft","settop","appendTo","positionAncestor","$ancestor","$child","childMarginEdgeLeft","childMarginEdgeTop","ancestorPaddingEdgeLeft","ancestorPaddingEdgeTop","findInclusive","slideIn","speed","animate","slideOut","Contains","scopedFind","jquery_plugin","all_selects","all_deselects","all_toggles","all_checkboxes","all_radios","_init","change_handler","change_buttons_and_toggles","change_checked","find_scoped","select","btn","select_all","deselect","deselect_all","toggle_all","find_siblings","sel","res","find_checkboxes","ref_el","chkbxs","tgl","box","Data","Config","VERSION","_config","_getConfig","DATA_KEY","dispose","propertyName","getOwnPropertyNames","isAnimated","_mergeConfigObj","_configAfterMerge","_typeCheckConfig","getInstance","eventName","disable_re","dont_catch_re","dont_catch","__patternslib_registry","PATTERN_REGISTRY","__patternslib_registry_initialized","document_ready","transformPattern","transform","initPattern","plog","orderPatterns","splice","Text","selectors","selector_string","reverse","BLACKLIST","__patternslib_patterns_blacklist","plugin_name","DATA_PREFIX","DATA_STYLE_DISPLAY","INPUT_SELECTOR","all","get_css_value","property","as_pixels","as_float","get_relative_position","reference_el","abs","scrollLeft","get_data","set_data","event_id","_ready","wrap","display","find_parents","ret","get_parents","HTMLElement","acquire_attribute","include_empty","include_all","_el","parentElement","is_visible","offsetWidth","is_input","string","createRange","createContextualFragment","direction","fallback","overflow_y","overflow_x","get_scroll_x","scroll_reference","scrollX","get_scroll_y","scrollY","scrollTo","scroll_to_bottom","delete_data","template","template_string","template_variables","get_visible_ratio","container","rect","container_rect","visible_ratio","rect_height","escape_css_id","element_uuid","find_form","getOptions","patternName","elOptions","tmpOptions","item","pop","initBasePattern","Registry","mockupParser","defaults","emit","eventCallback","patternProps","Surrogate","__super__","autoregister","Manipulator","Default","DefaultType","jsonConfig","getDataAttribute","getDataAttributes","configTypes","expectedTypes","valueType","language_mapping","atom","plist","rss","svg","wsf","xhtml","xjb","xsd","xsl","CodeJar","hljs","theme","highlight","editor","highlightElement","highlight_wrapper","linenumbers","withLineNumbers","class","language","hljs_language","registerLanguage","pre_el","tab","indentOn","spellcheck","catchTab","preserveIdent","addClosing","codeeditor","onUpdate","code","namespaceRegex","stripNameRegex","stripUidRegex","eventRegistry","uidEvent","customEvents","mouseenter","mouseleave","nativeEvents","Set","makeEventUid","uid","getElementEvents","bootstrapHandler","hydrateObj","delegateTarget","oneOff","bootstrapDelegationHandler","domElements","domElement","findHandler","callable","delegationSelector","normalizeParameters","originalTypeEvent","delegationFunction","isDelegated","typeEvent","getTypeEvent","addHandler","wrapFunction","previousFunction","removeHandler","removeNamespacedHandlers","namespace","storeElementEvent","handlerKey","inNamespace","isNamespace","elementEvent","keyHandlers","jQueryEvent","nativeDispatch","isPropagationStopped","isImmediatePropagationStopped","isDefaultPrevented","evt","meta","_unused","configurable","normalizeData","decodeURIComponent","normalizeDataKey","chr","setDataAttribute","removeDataAttribute","attributes","bsKeys","dataset","pureKey","getSelector","hrefAttribute","Element","ancestor","prev","previous","previousElementSibling","next","nextElementSibling","focusableChildren","focusables","getSelectorFromElement","getMultipleElementsFromSelector","crypto","randomUUID","array","Uint32Array","getRandomValues","SubmitEvent","last_btn","submitable_buttons","canditates","candidate","navigation","NavigateEvent","destination","create_event","Moment","lang","locale","out","strict","fromNow","rtf","Intl","RelativeTimeFormat","numeric","toDate","calendar","lastWeek","lastDay","sameDay","nextDay","nextWeek","sameElse","noSuffix","outputFormat","dialog_panel","close","tippy","active_class","inactive_class","Tippy","tippy_options","parseOptionsForTippy","defaultProps","animation","arrow","hideOnClick","closing","ignoreAttributes","interactive","onHide","_onHide","onShow","_onShow","setDefaultProps","markInactive","placement","pos0","r","b","l","pos1","popperOptions","modifiers","arrowPadding","padding","parsers","flip_options","policy","fallbacks","fallbackPlacements","allowHTML","_initialize_content","popper","tippy_classes","close_button","setProps","_get_content","setContent","get_url_parts","data_type_handlers","ajaxDataType","response","popperInstance","forceUpdate","get_content","query","tmp","markdown","Markdown","renderForInjection","register_type_handler","Storage","backend","ValueStorage","store","_key","_allKeys","prefix_length","getItem","setItem","removeItem","local","localStorage","session","sessionStorage","updateOptions","storage","befores","b_el","b_date","a_date","offsetDays","setDate","substring","dispatch_change_event","display_el","insertAdjacentElement","pat_display_time","PatDisplayTime","display_time_config","_add_additional","add_clear_button","placeholder","Pikaday","showWeekNumber","onSelect","onClose","minDate","maxDate","i18n","json","pikaday","el_append_to","clear_button","firedBy"],"sourceRoot":""}