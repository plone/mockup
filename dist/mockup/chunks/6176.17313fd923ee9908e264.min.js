"use strict";(self.webpackChunk_plone_mockup=self.webpackChunk_plone_mockup||[]).push([[6176],{6176:function(t,e,s){s.r(e),s.d(e,{default:function(){return n}});var o=new class t{_data;static instance;constructor(){return t.instance||(this._data={settings:{},blocks:{},views:{},widgets:{},slots:{},components:{},utilities:{}},t.instance=this),t.instance}set(t,e){this._data[t]=e}get(t){return this._data[t]}get settings(){return this._data.settings}set settings(t){this._data.settings=t}get experimental(){return this._data.experimental}set experimental(t){this._data.experimental=t}get blocks(){return this._data.blocks}set blocks(t){this._data.blocks=t}get views(){return this._data.views}set views(t){this._data.views=t}get widgets(){return this._data.widgets}set widgets(t){this._data.widgets=t}get addonReducers(){return this._data.addonReducers}set addonReducers(t){this._data.addonReducers=t}get addonRoutes(){return this._data.addonRoutes}set addonRoutes(t){this._data.addonRoutes=t}get routes(){return this._data.routes}set routes(t){this._data.routes=t}get slots(){return this._data.slots}set slots(t){this._data.slots=t}get components(){return this._data.components}set components(t){this._data.components=t}get utilities(){return this._data.utilities}set utilities(t){this._data.utilities=t}getComponent(t){if("object"==typeof t){const{name:e,dependencies:s=""}=t;let o="";s&&Array.isArray(s)?o=s.join("+"):"string"==typeof s&&(o=s);const n=`${e}${o?`|${o}`:""}`;return this._data.components[n]||{}}{const e=t;return this._data.components[e]||{}}}registerComponent(t){const{name:e,component:s,dependencies:o=""}=t;let n="";if(!s)throw new Error("No component provided");{o&&Array.isArray(o)?n=o.join("+"):"string"==typeof o&&(n=o);const t=`${e}${n?`|${n}`:""}`;this._data.components[t]={component:s};try{this._data.components[t].component.displayName||"function"!=typeof this._data.components[t].component||(this._data.components[t].component.displayName=e)}catch(t){console.warn(`Not setting the component displayName because ${t}`)}}}getSlot(t,e){if(!this._data.slots[t])return;const{slots:s,data:o}=this._data.slots[t],n=[];for(const t of s){let s;const a=o[t].slice().reverse();for(const o of a){let a=!1;if(o.predicates?a=o.predicates.every((t=>t(e))):s=o,a){n.push({component:o.component,name:t}),s=void 0;break}}s&&n.push({component:s.component,name:t})}return n}registerSlotComponent(t){const{name:e,component:s,predicates:o,slot:n}=t;if(!s)throw new Error("No component provided");if(!o){const t=this._data.slots?.[n]?.data?.[e]?.find((t=>{let{predicates:e}=t;return!e}));if(t&&s!==t.component)throw new Error(`There is already registered a component ${e} for the slot ${n}. You can only register one slot component with no predicates per slot.`)}let a=this._data.slots[n];a||(this._data.slots[n]={slots:[],data:{}},a=this._data.slots[n]),a.data[e]||(a.data[e]=[]);const i=a.data[e];a.slots.includes(e)||a.slots.push(e);const r={component:s,predicates:o};try{r.component.displayName||"function"!=typeof r?.component||(r.component.displayName=e)}catch(t){console.warn(`Not setting the slot component displayName because ${t}`)}i.push(r)}getSlotComponent(t,e){const s=this._data.slots[t];if(!t||!s)throw new Error(`No slot ${t} found`);const o=s.data[e];if(!o)throw new Error(`No slot component ${e} in slot ${t} found`);return o}getSlotComponents(t){const e=this._data.slots[t];if(!t||!e)throw new Error(`No slot ${t} found`);return e.slots}reorderSlotComponent(t){let{slot:e,name:s,position:o,action:n,target:a}=t;if(!o&&!n)throw new Error("At least a position or action is required as argument");if(o&&n)throw new Error("You should provide only one of position or action as arguments");if(("after"==n||"before"==n)&&!a)throw new Error("No action target set. You should provide the name of a slot component as target when action is 'after' or 'before'.");const i=this._data.slots[e];if(!e||!i)throw new Error(`No slot ${e} found`);const r=i.slots.indexOf(s),d=Array.from(i.slots),[c]=d.splice(r,1);if(n){let t=0;switch(a&&(t=i.slots.indexOf(a)),n){case"after":if(t<r){d.splice(t+1,0,c);break}d.splice(t,0,c);break;case"before":if(t>r){d.splice(t-1,0,c);break}d.splice(t,0,c);break;case"last":d.push(c);break;case"first":d.unshift(c)}}o&&d.splice(o,0,c),i.slots=d}unRegisterSlotComponent(t,e,s){const o=this._data.slots[t];if(!t||!o)throw new Error(`No slot ${t} found`);const n=o.data[e];if(!n)throw new Error(`No slot component ${e} in slot ${t} found`);const a=n.slice();o.data[e]=a.splice(s,1)}registerUtility(t){const{name:e,type:s,method:o,dependencies:n={}}=t;let a="";if(!o)throw new Error("No method provided");a=Object.keys(n).sort().map((t=>`${t}:${n[t]}`)).join("+");const i=`${a?`|${a}`:""}${e}`;let r=this._data.utilities[s];r||(this._data.utilities[s]={},r=this._data.utilities[s]),r[i]={method:o}}getUtility(t){const{name:e,type:s,dependencies:o={}}=t;let n="";n=Object.keys(o).map((t=>`${t}:${o[t]}`)).join("+");const a=`${n?`|${n}`:""}${e}`;return this._data.utilities[s][a]||{}}getUtilities(t){const{type:e,dependencies:s={}}=t;let o="";o=Object.keys(s).map((t=>`${t}:${s[t]}`)).join("+");const n=""+(o?`|${o}`:"");return Object.keys(this._data.utilities[e]||{}).filter((t=>t.startsWith(n))).map((t=>this._data.utilities[e][t]))}registerRoute(t){const e=this._data.routes||[];e.push(t),this._data.routes=e}};Object.freeze(o);var n=o}}]);
//# sourceMappingURL=6176.17313fd923ee9908e264.min.js.map