(self.webpackChunk_plone_mockup=self.webpackChunk_plone_mockup||[]).push([[46439],{2957:function(){!function(){"use strict";const e=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||o.constructor?.name===r.name)?"string":t;var n,o,r})(t)===e,t=e=>t=>typeof t===e,n=e("string"),o=e("array"),r=t("boolean"),a=t("number"),s=()=>{},i=e=>()=>e,l=i(!0);class c{tag;value;static singletonNone=new c(!1);constructor(e,t){this.tag=e,this.value=t}static some(e){return new c(!0,e)}static none(){return c.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?c.some(e(this.value)):c.none()}bind(e){return this.tag?e(this.value):c.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:c.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(e??"Called getOrDie on None")}static from(e){return null==e?c.none():c.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const u=Array.prototype.slice,d=Array.prototype.push,m=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},p=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},g=(e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)},h=(e,t)=>(e=>{const t=[];for(let n=0,r=e.length;n<r;++n){if(!o(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);d.apply(t,e[n])}return t})(m(e,t)),b=Object.hasOwnProperty,f=(e,t)=>b.call(e,t),y=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var w=tinymce.util.Tools.resolve("tinymce.PluginManager");const v=i("[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]");var x=tinymce.util.Tools.resolve("tinymce.Env"),S=tinymce.util.Tools.resolve("tinymce.util.Tools");const k=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},C=(e,t)=>({element:e,offset:t}),_=(e,t)=>{((e,t)=>{const n=(e=>c.from(e.dom.parentNode).map(k))(e);n.each(n=>{n.dom.insertBefore(t.dom,e.dom)})})(e,t),((e,t)=>{e.dom.appendChild(t.dom)})(t,e)},A=(e=>{const t=t=>e(t)?c.from(t.dom.nodeValue):c.none();return{get:n=>{if(!e(n))throw new Error("Can only get text value of a text node");return t(n).getOr("")},getOption:t,set:(t,n)=>{if(!e(t))throw new Error("Can only set raw text value of a text node");t.dom.nodeValue=n}}})(e=>3===(e=>e.dom.nodeType)(e)),T=e=>A.get(e);var O=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const E=(e,t)=>e.isBlock(t)||f(e.schema.getVoidElements(),t.nodeName),F=(e,t)=>!e.isEditable(t),N=(e,t)=>!e.isBlock(t)&&f(e.schema.getWhitespaceElements(),t.nodeName),R=(e,t)=>((e,t)=>{const n=(e=>m(e.dom.childNodes,k))(e);return n.length>0&&t<n.length?C(n[t],0):C(e,t)})(k(e),t),D=(e,t,n,o,r,a=!0)=>{let s=a?t(!1):n;for(;s;){const n=F(e,s);if(n||N(e,s)){if(n?o.cef(s):o.boundary(s))break;s=t(!0)}else{if(E(e,s)){if(o.boundary(s))break}else 3===s.nodeType&&o.text(s);if(s===r)break;s=t(!1)}}},j=(e,t,n,o,r)=>{if(((e,t)=>E(e,t)||F(e,t)||N(e,t)||((e,t)=>"true"===e.getContentEditable(t)&&t.parentNode&&!e.isEditable(t.parentNode))(e,t))(e,n))return;const a=e.getParent(o,e.isBlock)??e.getRoot(),s=new O(n,a),i=r?s.next.bind(s):s.prev.bind(s);D(e,i,n,{boundary:l,cef:l,text:e=>{r?t.fOffset+=e.length:t.sOffset+=e.length,t.elements.push(k(e))}})},P=(e,t,n,o,r,a=!0)=>{const s=new O(n,t),i=[];let l={sOffset:0,fOffset:0,elements:[]};j(e,l,n,t,!1);const c=()=>(l.elements.length>0&&(i.push(l),l={sOffset:0,fOffset:0,elements:[]}),!1);return D(e,s.next.bind(s),n,{boundary:c,cef:e=>(c(),r&&i.push(...r.cef(e)),!1),text:e=>{l.elements.push(k(e)),r&&r.text(e,l)}},o,a),o&&j(e,l,o,t,!0),c(),i},$=(e,t)=>t.collapsed?[]:((e,t)=>{const n=R(t.startContainer,t.startOffset),o=n.element.dom,r=R(t.endContainer,t.endOffset),a=r.element.dom;return P(e,t.commonAncestorContainer,o,a,{text:(e,t)=>{e===a?t.fOffset+=e.length-r.offset:e===o&&(t.sOffset+=n.offset)},cef:t=>(e=>{const t=u.call(e,0);return t.sort((e,t)=>((e,t)=>((e,t,n)=>!!(e.compareDocumentPosition(t)&n))(e,t,Node.DOCUMENT_POSITION_PRECEDING))(e.elements[0].dom,t.elements[0].dom)?1:-1),t})(h(((e,t)=>{const n=void 0===t?document:t.dom;return 1!==(o=n).nodeType&&9!==o.nodeType&&11!==o.nodeType||0===o.childElementCount?[]:m(n.querySelectorAll("*[contenteditable=true]"),k);var o})(0,k(t)),t=>{const n=t.dom;return P(e,n,n)}))},!1)})(e,t),M=(e,t)=>{const n=e.createRng();return n.selectNode(t),$(e,n)},B=(e,t)=>h(t,t=>{const n=t.elements,o=m(n,T).join(""),r=((e,t,n=0,o=e.length)=>{const r=t.regex;r.lastIndex=n;const a=[];let s;for(;s=r.exec(e);){const e=s[t.matchIndex],n=s.index+s[0].indexOf(e),i=n+e.length;if(i>o)break;a.push({start:n,finish:i}),r.lastIndex=i}return a})(o,e,t.sOffset,o.length-t.fOffset);return((e,t)=>{const n=(o=e,r=(e,n)=>{const o=T(n),r=e.last,a=r+o.length,s=h(t,(e,t)=>e.start<a&&e.finish>r?[{element:n,start:Math.max(r,e.start)-r,finish:Math.min(a,e.finish)-r,matchId:t}]:[]);return{results:e.results.concat(s),last:a}},a={results:[],last:0},p(o,(e,t)=>{a=r(a,e)}),a).results;var o,r,a;return((e,t)=>{if(0===e.length)return[];{let n=t(e[0]);const o=[];let r=[];for(let a=0,s=e.length;a<s;a++){const s=e[a],i=t(s);i!==n&&(o.push(r),r=[]),n=i,r.push(s)}return 0!==r.length&&o.push(r),o}})(n,e=>e.matchId)})(n,r)}),z=(e,t)=>{g(e,(e,o)=>{g(e,e=>{const s=k(t.cloneNode(!1));((e,t,o)=>{((e,t,o)=>{if(!(n(o)||r(o)||a(o)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,o+"")})(e.dom,"data-mce-index",o)})(s,0,o);const i=e.element.dom;if(i.length===e.finish&&0===e.start)_(e.element,s);else{i.length!==e.finish&&i.splitText(e.finish);const t=i.splitText(e.start);_(k(t),s)}})})},I=e=>e.getAttribute("data-mce-index"),L=e=>{const t=e.parentNode;e.firstChild&&t.insertBefore(e.firstChild,e),e.parentNode?.removeChild(e)},W=(e,t)=>{const n=[],o=S.toArray(e.getBody().getElementsByTagName("span"));if(o.length)for(let e=0;e<o.length;e++){const r=I(o[e]);null!==r&&r.length&&r===t.toString()&&n.push(o[e])}return n},q=(e,t,n)=>{const o=t.get();let r=o.index;const a=e.dom;n?r+1===o.count?r=0:r++:r-1==-1?r=o.count-1:r--,a.removeClass(W(e,o.index),"mce-match-marker-selected");const s=W(e,r);return s.length?(a.addClass(W(e,r),"mce-match-marker-selected"),e.selection.scrollIntoView(s[0]),r):-1},U=(e,t)=>{const n=t.parentNode;e.remove(t),n&&e.isEmpty(n)&&e.remove(n)},H=(e,t,n,o,r,a)=>{const s=e.selection,i=((e,t)=>{const n="("+e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return t?`(?:^|\\s|${v()})`+n+`(?=$|\\s|${v()})`:n})(n,r),l=s.isForward(),c=((e,t,n,o)=>{const r=e.dom.create("span",{"data-mce-bogus":1});r.className="mce-match-marker";const a=e.getBody();return J(e,t,!1),o?((e,t,n,o)=>{const r=n.getBookmark(),a=e.select("td[data-mce-selected],th[data-mce-selected]"),s=a.length>0?((e,t)=>h(t,t=>M(e,t)))(e,a):$(e,n.getRng()),i=B(t,s);return z(i,o),n.moveToBookmark(r),i.length})(e.dom,n,e.selection,r):((e,t,n,o)=>{const r=M(e,n),a=B(t,r);return z(a,o),a.length})(e.dom,n,a,r)})(e,t,{regex:new RegExp(i,o?"g":"gi"),matchIndex:1},a);if(x.browser.isSafari()&&s.setRng(s.getRng(),l),c){const s=q(e,t,!0);t.set({index:s,count:c,text:n,matchCase:o,wholeWord:r,inSelection:a})}return c},V=(e,t)=>{const n=q(e,t,!0);t.set({...t.get(),index:n})},Z=(e,t)=>{const n=q(e,t,!1);t.set({...t.get(),index:n})},K=e=>{const t=I(e);return null!==t&&t.length>0},G=(e,t,n,o,r)=>{const a=t.get(),s=a.index;let i,l=s;o=!1!==o;const c=e.getBody(),u=S.grep(S.toArray(c.getElementsByTagName("span")),K);for(let t=0;t<u.length;t++){const c=I(u[t]);let d=i=parseInt(c,10);if(r||d===a.index){for(n.length?(u[t].innerText=n,L(u[t])):U(e.dom,u[t]);u[++t];){if(d=parseInt(I(u[t]),10),d!==i){t--;break}U(e.dom,u[t])}o&&l--}else i>s&&u[t].setAttribute("data-mce-index",String(i-1))}return t.set({...a,count:r?0:a.count-1,index:l}),o?V(e,t):Z(e,t),!r&&t.get().count>0},J=(e,t,n)=>{let o,r;const a=t.get(),s=S.toArray(e.getBody().getElementsByTagName("span"));for(let e=0;e<s.length;e++){const t=I(s[e]);null!==t&&t.length&&(t===a.index.toString()&&(o||(o=s[e].firstChild),r=s[e].firstChild),L(s[e]))}if(t.set({...a,index:-1,count:0,text:""}),o&&r){const t=e.dom.createRng();return t.setStart(o,0),t.setEnd(r,r.data.length),!1!==n&&e.selection.setRng(t),t}},Y=(e,t)=>{const n=(()=>{const e=(e=>{const t=y(c.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(c.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(c.some(e))}}})(s);return{...e,on:t=>e.get().each(t)}})();e.undoManager.add();const o=S.trim(e.selection.getContent({format:"text"})),r=e=>{e.setEnabled("next",((e,t)=>t.get().count>1)(0,t)),e.setEnabled("prev",((e,t)=>t.get().count>1)(0,t))},a=(e,t)=>{p(["replace","replaceall","prev","next"],n=>e.setEnabled(n,!t))},i=(e,t)=>{t.redial(b(e,t.getData()))},l=(e,t)=>{x.browser.isSafari()&&x.deviceType.isTouch()&&("find"===t||"replace"===t||"replaceall"===t)&&e.focus(t)},u=n=>{J(e,t,!1),a(n,!0),r(n)},d=n=>{const o=n.getData(),s=t.get();if(o.findtext.length){if(s.text===o.findtext&&s.matchCase===o.matchcase&&s.wholeWord===o.wholewords)V(e,t);else{const r=H(e,t,o.findtext,o.matchcase,o.wholewords,o.inselection);r<=0&&i(!0,n),a(n,0===r)}r(n)}else u(n)},m=t.get(),g={findtext:o,replacetext:"",wholewords:m.wholeWord,matchcase:m.matchCase,inselection:m.inSelection},h=e=>{const t=[{type:"label",label:"Find",for:"findtext",items:[{type:"bar",items:[{type:"input",name:"findtext",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]}]},{type:"input",name:"replacetext",label:"Replace with",inputMode:"search"}];return e&&t.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"}),t},b=(n,o)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:h(n)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:o,onChange:(e,o)=>{n&&i(!1,e),"findtext"===o.name&&t.get().count>0&&u(e)},onAction:(n,o)=>{const a=n.getData();switch(o.name){case"find":d(n);break;case"replace":G(e,t,a.replacetext)?r(n):u(n);break;case"replaceall":G(e,t,a.replacetext,!0,!0),u(n);break;case"prev":Z(e,t),r(n);break;case"next":V(e,t),r(n);break;case"matchcase":case"wholewords":case"inselection":i(!1,n),(e=>{const n=e.getData(),o=t.get();t.set({...o,matchCase:n.matchcase,wholeWord:n.wholewords,inSelection:n.inselection})})(n),u(n)}l(n,o.name)},onSubmit:e=>{d(e),l(e,"find")},onClose:()=>{e.focus(),J(e,t),e.undoManager.add()}});n.set(e.windowManager.open(b(!1,g),{inline:"toolbar"}))},X=(e,t)=>()=>{Y(e,t)};w.add("searchreplace",e=>{const t=y({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return((e,t)=>{e.addCommand("SearchReplace",()=>{Y(e,t)})})(e,t),((e,t)=>{e.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:X(e,t),icon:"search"}),e.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:X(e,t),icon:"search",shortcut:"Meta+F"}),e.shortcuts.add("Meta+F","",X(e,t))})(e,t),((e,t)=>({done:n=>J(e,t,n),find:(n,o,r,a=!1)=>H(e,t,n,o,r,a),next:()=>V(e,t),prev:()=>Z(e,t),replace:(n,o,r)=>G(e,t,n,o,r)}))(e,t)})}()},5638:function(){!function(){"use strict";const e=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||o.constructor?.name===r.name)?"string":t;var n,o,r})(t)===e,t=e=>t=>typeof t===e,n=e=>t=>e===t,o=e("string"),r=e("object"),a=e("array"),s=n(null),i=t("boolean"),l=n(void 0),c=e=>!(e=>null==e)(e),u=t("function"),d=t("number"),m=()=>{},p=e=>()=>e;function g(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const h=p(!1),b=p(!0);class f{tag;value;static singletonNone=new f(!1);constructor(e,t){this.tag=e,this.value=t}static some(e){return new f(!0,e)}static none(){return f.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?f.some(e(this.value)):f.none()}bind(e){return this.tag?e(this.value):f.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:f.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(e??"Called getOrDie on None")}static from(e){return c(e)?f.some(e):f.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const y=Array.prototype.push,w=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},v=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},x=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},S=(e,t)=>((e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return f.some(r);if(n(r,o))break}return f.none()})(e,t,h),k=Object.keys,C=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},_="undefined"!=typeof window?window:Function("return this;")(),A=(e,t)=>((e,t)=>{let n=null!=t?t:_;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),T=e=>{const t=C(f.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(f.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(f.some(e))}}},O=()=>T(e=>e.unbind()),E=(e,t,n=0,o)=>{const r=e.indexOf(t,n);return-1!==r&&(!!l(o)||r+t.length<=o)};var F=tinymce.util.Tools.resolve("tinymce.PluginManager");const N=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},R=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},D=()=>j(0,0),j=(e,t)=>({major:e,minor:t}),P={nu:j,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?D():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}})(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return j(o(1),o(2))})(e,n)},unknown:D},$=(e,t)=>{const n=String(t).toLowerCase();return S(e,e=>e.search(n))},M=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,B=e=>t=>E(t,e),z=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>E(e,"edge/")&&E(e,"chrome")&&E(e,"safari")&&E(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,M],search:e=>E(e,"chrome")&&!E(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>E(e,"msie")||E(e,"trident")},{name:"Opera",versionRegexes:[M,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:B("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:B("firefox")},{name:"Safari",versionRegexes:[M,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(E(e,"safari")||E(e,"mobile/"))&&E(e,"applewebkit")}],I=[{name:"Windows",search:B("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>E(e,"iphone")||E(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:B("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:B("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:B("linux"),versionRegexes:[]},{name:"Solaris",search:B("sunos"),versionRegexes:[]},{name:"FreeBSD",search:B("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:B("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],L={browsers:p(z),oses:p(I)},W="Edge",q="Chromium",U="Opera",H="Firefox",V="Safari",Z=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(W),isChromium:o(q),isIE:o("IE"),isOpera:o(U),isFirefox:o(H),isSafari:o(V)}},K=()=>Z({current:void 0,version:P.unknown()}),G=Z,J=(p(W),p(q),p("IE"),p(U),p(H),p(V),"Windows"),Y="Android",X="Linux",Q="macOS",ee="Solaris",te="FreeBSD",ne="ChromeOS",oe=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(J),isiOS:o("iOS"),isAndroid:o(Y),isMacOS:o(Q),isLinux:o(X),isSolaris:o(ee),isFreeBSD:o(te),isChromeOS:o(ne)}},re=()=>oe({current:void 0,version:P.unknown()}),ae=oe,se=(p(J),p("iOS"),p(Y),p(X),p(Q),p(ee),p(te),p(ne),(e,t,n)=>{const o=L.browsers(),r=L.oses(),a=t.bind(e=>((e,t)=>((e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n]);if(o.isSome())return o}return f.none()})(t.brands,t=>{const n=t.brand.toLowerCase();return S(e,e=>n===e.brand?.toLowerCase()).map(e=>({current:e.name,version:P.nu(parseInt(t.version,10),0)}))}))(o,e)).orThunk(()=>((e,t)=>$(e,t).map(e=>{const n=P.detect(e.versionRegexes,t);return{current:e.name,version:n}}))(o,e)).fold(K,G),s=((e,t)=>$(e,t).map(e=>{const n=P.detect(e.versionRegexes,t);return{current:e.name,version:n}}))(r,e).fold(re,ae),i=((e,t,n,o)=>{const r=e.isiOS()&&!0===/ipad/i.test(n),a=e.isiOS()&&!r,s=e.isiOS()||e.isAndroid(),i=s||o("(pointer:coarse)"),l=r||!a&&s&&o("(min-device-width:768px)"),c=a||s&&!l,u=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!c&&!l&&!u;return{isiPad:p(r),isiPhone:p(a),isTablet:p(l),isPhone:p(c),isTouch:p(i),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:p(u),isDesktop:p(d)}})(s,a,e,n);return{browser:a,os:s,deviceType:i}}),ie=e=>window.matchMedia(e).matches;let le=(e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)})(()=>se(window.navigator.userAgent,f.from(window.navigator.userAgentData),ie));const ce=Object.getPrototypeOf,ue=e=>{const t=A("ownerDocument.defaultView",e);return r(e)&&((e=>((e,t)=>{const n=((e,t)=>A(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n})("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(ce(e).constructor.name))},de=e=>t=>(e=>e.dom.nodeType)(t)===e,me=de(1),pe=de(3),ge=de(11),he=e=>N(e.dom.ownerDocument),be=e=>w(e.dom.childNodes,N),fe=e=>{const t=(e=>N(e.dom.getRootNode()))(e);return ge(n=t)&&c(n.dom.host)?f.some(t):f.none();var n},ye=e=>N(e.dom.host),we=e=>{const t=N((e=>{if(c(e.target)){const t=N(e.target);if(me(t)&&c(t.dom.shadowRoot)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return(e=>0<e.length?f.some(e[0]):f.none())(t)}}return f.from(e.target)})(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),r=(a=o,s=n,(...e)=>a(s.apply(null,e)));var a,s;return((e,t,n,o,r,a,s)=>({target:e,x:t,y:n,stop:o,prevent:r,kill:a,raw:s}))(t,e.clientX,e.clientY,n,o,r,e)},ve=(e,t,n,o)=>{e.dom.removeEventListener(t,n,o)},xe=b,Se=(e,t,n)=>((e,t,n,o)=>((e,t,n,o,r)=>{const a=((e,t)=>n=>{e(n)&&t(we(n))})(n,o);return e.dom.addEventListener(t,a,r),{unbind:g(ve,e,t,a,r)}})(e,t,n,o,!1))(e,t,xe,n),ke=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},Ce=(e,t)=>{e.dom.removeAttribute(t)},_e=e=>void 0!==e.style&&u(e.style.getPropertyValue),Ae=e=>{const t=pe(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return fe(N(t)).fold(()=>n.body.contains(t),(o=Ae,r=ye,e=>o(r(e))));var o,r},Te=(e,t,n)=>{if(!o(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);_e(e)&&e.style.setProperty(t,n)},Oe=(e,t,n)=>{const o=e.dom;Te(o,t,n)},Ee=(e,t)=>{const n=e.dom;((e,t)=>{const n=k(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}})(t,(e,t)=>{Te(n,t,e)})},Fe=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||Ae(e)?o:Ne(n,t)},Ne=(e,t)=>_e(e)?e.style.getPropertyValue(t):"",Re=(e,t)=>({left:e,top:t,translate:(n,o)=>Re(e+n,t+o)}),De=Re,je=e=>{const t=void 0===e?window:e;return le().browser.isFirefox()?f.none():f.from(t.visualViewport)},Pe=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),$e=e=>{const t=void 0===e?window:e,n=t.document,o=(e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return De(n,o)})(N(n));return je(t).fold(()=>{const e=t.document.documentElement,n=e.clientWidth,r=e.clientHeight;return Pe(o.left,o.top,n,r)},e=>Pe(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height))},Me=(e,t,n)=>je(n).map(n=>{const o=e=>t(we(e));return n.addEventListener(e,o),{unbind:()=>n.removeEventListener(e,o)}}).getOrThunk(()=>({unbind:m}));var Be=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ze=tinymce.util.Tools.resolve("tinymce.Env");const Ie=(e,t)=>{e.dispatch("FullscreenStateChanged",{state:t}),e.dispatch("ResizeEditor")},Le=e=>e.options.get("fullscreen_native"),We=e=>{return e.dom===(void 0!==(t=he(e).dom).fullscreenElement?t.fullscreenElement:void 0!==t.msFullscreenElement?t.msFullscreenElement:void 0!==t.webkitFullscreenElement?t.webkitFullscreenElement:null);var t},qe="data-ephox-mobile-fullscreen-style",Ue="position:absolute!important;",He="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",Ve=ze.os.isAndroid(),Ze=(e,t,n)=>{const r=t=>n=>{const r=ke(n,"style"),a=void 0===r?"no-styles":r.trim();a!==t&&(((e,t,n)=>{((e,t,n)=>{if(!(o(n)||i(n)||d(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(e.dom,t,n)})(n,qe,a),Ee(n,e.parseStyle(t)))},s=((e,t,n)=>((e,t,n)=>x(((e,t)=>{const n=u(t)?t:h;let o=e.dom;const r=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){const e=o.parentNode,t=N(e);if(r.push(t),!0===n(t))break;o=e}return r})(e,n),t))(e,e=>R(e,t),n))(t,"*"),l=(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);y.apply(t,e[n])}return t})(w(s,e=>((e,t)=>(e=>{return x((e=>f.from(e.dom.parentNode).map(N))(n=e).map(be).map(e=>x(e,e=>{return t=e,!(n.dom===t.dom);var t})).getOr([]),e=>R(e,t));var n})(e))(e,"*:not(.tox-silver-sink)"))),c=(e=>{const t=Fe(e,"background-color");return void 0!==t&&""!==t?"background-color:"+t+"!important":"background-color:rgb(255,255,255)!important;"})(n);v(l,r("display:none!important;")),v(s,r(Ue+He+c)),r((!0===Ve?"":Ue)+He+c)(t)},Ke=Be.DOM,Ge=je().fold(()=>({bind:m,unbind:m}),e=>{const t=(()=>{const e=T(m);return{...e,on:t=>e.get().each(t)}})(),n=O(),o=O(),r=(e=>{let t=null;return{cancel:()=>{s(t)||(clearTimeout(t),t=null)},throttle:(...n)=>{s(t)&&(t=setTimeout(()=>{t=null,e.apply(null,n)},50))}}})(()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0,window.requestAnimationFrame(()=>{t.on(t=>Ee(t,{top:e.offsetTop+"px",left:e.offsetLeft+"px",height:e.height+"px",width:e.width+"px"}))})});return{bind:e=>{t.set(e),r.throttle(),n.set(Me("resize",r.throttle)),o.set(Me("scroll",r.throttle))},unbind:()=>{t.on(()=>{n.clear(),o.clear()}),t.clear()}}}),Je=(e,t)=>{const n=document.body,o=document.documentElement,r=e.getContainer(),a=N(r),s=(i=a,f.from(i.dom.nextSibling).map(N)).filter(e=>(e=>me(e)&&ue(e.dom))(e)&&(e=>(e=>void 0!==e.dom.classList)(e)&&e.dom.classList.contains("tox-silver-sink"))(e));var i;const l=(e=>{const t=N(e.getElement());return fe(t).map(ye).getOrThunk(()=>(e=>{const t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return N(t)})(he(t)))})(e),c=t.get(),u=N(e.getBody()),d=ze.deviceType.isTouch(),m=r.style,p=e.iframeElement,g=p?.style,h=e=>{e(n,"tox-fullscreen"),e(o,"tox-fullscreen"),e(r,"tox-fullscreen"),fe(a).map(e=>ye(e).dom).each(t=>{e(t,"tox-fullscreen"),e(t,"tox-shadowhost")})},b=()=>{d&&(e=>{const t=(e=>{const t=document;return 1!==(n=t).nodeType&&9!==n.nodeType&&11!==n.nodeType||0===n.childElementCount?[]:w(t.querySelectorAll(e),N);var n})("["+qe+"]");v(t,t=>{const n=ke(t,qe);n&&"no-styles"!==n?Ee(t,e.parseStyle(n)):Ce(t,"style"),Ce(t,qe)})})(e.dom),h(Ke.removeClass),Ge.unbind(),f.from(t.get()).each(e=>e.fullscreenChangeHandler.unbind())};if(c)c.fullscreenChangeHandler.unbind(),Le(e)&&We(l)&&(e=>{const t=e.dom;t.exitFullscreen?t.exitFullscreen():t.msExitFullscreen?t.msExitFullscreen():t.webkitCancelFullScreen&&t.webkitCancelFullScreen()})(he(l)),g.width=c.iframeWidth,g.height=c.iframeHeight,m.width=c.containerWidth,m.height=c.containerHeight,m.top=c.containerTop,m.left=c.containerLeft,x=s,S=c.sinkCssPosition,k=(e,t)=>{Oe(e,"position",t)},x.isSome()&&S.isSome()?f.some(k(x.getOrDie(),S.getOrDie())):f.none(),b(),y=c.scrollPos,window.scrollTo(y.x,y.y),t.set(null),Ie(e,!1),e.off("remove",b);else{const n=Se(he(l),void 0!==document.fullscreenElement?"fullscreenchange":void 0!==document.msFullscreenElement?"MSFullscreenChange":void 0!==document.webkitFullscreenElement?"webkitfullscreenchange":"fullscreenchange",n=>{Le(e)&&(We(l)||null===t.get()||Je(e,t))}),o={scrollPos:$e(window),containerWidth:m.width,containerHeight:m.height,containerTop:m.top,containerLeft:m.left,iframeWidth:g.width,iframeHeight:g.height,fullscreenChangeHandler:n,sinkCssPosition:s.map(e=>Fe(e,"position"))};d&&Ze(e.dom,a,u),g.width=g.height="100%",m.width=m.height="",h(Ke.addClass),s.each(e=>{Oe(e,"position","fixed")}),Ge.bind(a),e.on("remove",b),t.set(o),Le(e)&&(e=>{const t=e.dom;t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen()})(l),Ie(e,!0)}var y,x,S,k};var Ye=tinymce.util.Tools.resolve("tinymce.util.VK");const Xe=(e,t)=>n=>{n.setActive(null!==t.get());const o=e=>n.setActive(e.state);return e.on("FullscreenStateChanged",o),()=>e.off("FullscreenStateChanged",o)};F.add("fullscreen",e=>{const t=C(null);return e.inline||((e=>{(0,e.options.register)("fullscreen_native",{processor:"boolean",default:!1})})(e),((e,t)=>{e.addCommand("mceFullScreen",()=>{Je(e,t)})})(e,t),((e,t)=>{const n=()=>e.execCommand("mceFullScreen");e.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:n,onSetup:Xe(e,t),context:"any"}),e.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:n,onSetup:Xe(e,t),shortcut:"Meta+Shift+F",context:"any"})})(e,t),((e,t)=>{e.on("init",()=>{e.on("keydown",e=>{e.keyCode!==Ye.TAB||e.metaKey||e.ctrlKey||!t.get()||e.preventDefault()})})})(e,t),e.addShortcut("Meta+Shift+F","","mceFullScreen")),(e=>({isFullscreen:()=>null!==e.get()}))(t)})}()},7828:function(e,t,n){n(83393)},13550:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>!(e=>null==e)(e),n=()=>{};class o{tag;value;static singletonNone=new o(!1);constructor(e,t){this.tag=e,this.value=t}static some(e){return new o(!0,e)}static none(){return o.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?o.some(e(this.value)):o.none()}bind(e){return this.tag?e(this.value):o.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:o.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(e??"Called getOrDie on None")}static from(e){return t(e)?o.some(e):o.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const r=e=>((e,t)=>t>=0&&t<e.length?o.some(e[t]):o.none())(e,0),a="undefined"!=typeof window?window:Function("return this;")(),s=(i=/^\s+|\s+$/g,e=>e.replace(i,""));var i,l=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");const c=function(e,t){const n=window.Prism;window.Prism={manual:!0};var o=function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,o={},r={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof a?new a(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var o,a;switch(n=n||{},r.util.type(t)){case"Object":if(a=r.util.objId(t),n[a])return n[a];for(var s in o={},n[a]=o,t)t.hasOwnProperty(s)&&(o[s]=e(t[s],n));return o;case"Array":return a=r.util.objId(t),n[a]?n[a]:(o=[],n[a]=o,t.forEach(function(t,r){o[r]=e(t,n)}),o);default:return t}},getLanguage:function(e){for(;e;){var n=t.exec(e.className);if(n)return n[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,n){e.className=e.className.replace(RegExp(t,"gi"),""),e.classList.add("language-"+n)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(o){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(o.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var o="no-"+t;e;){var r=e.classList;if(r.contains(t))return!0;if(r.contains(o))return!1;e=e.parentElement}return!!n}},languages:{plain:o,plaintext:o,text:o,txt:o,extend:function(e,t){var n=r.util.clone(r.languages[e]);for(var o in t)n[o]=t[o];return n},insertBefore:function(e,t,n,o){var a=(o=o||r.languages)[e],s={};for(var i in a)if(a.hasOwnProperty(i)){if(i==t)for(var l in n)n.hasOwnProperty(l)&&(s[l]=n[l]);n.hasOwnProperty(i)||(s[i]=a[i])}var c=o[e];return o[e]=s,r.languages.DFS(r.languages,function(t,n){n===c&&t!=e&&(this[t]=s)}),s},DFS:function e(t,n,o,a){a=a||{};var s=r.util.objId;for(var i in t)if(t.hasOwnProperty(i)){n.call(t,i,t[i],o||i);var l=t[i],c=r.util.type(l);"Object"!==c||a[s(l)]?"Array"!==c||a[s(l)]||(a[s(l)]=!0,e(l,n,i,a)):(a[s(l)]=!0,e(l,n,null,a))}}},plugins:{},highlightAll:function(e,t){r.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var o={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",o),o.elements=Array.prototype.slice.apply(o.container.querySelectorAll(o.selector)),r.hooks.run("before-all-elements-highlight",o);for(var a,s=0;a=o.elements[s++];)r.highlightElement(a,!0===t,o.callback)},highlightElement:function(t,n,o){var a=r.util.getLanguage(t),s=r.languages[a];r.util.setLanguage(t,a);var i=t.parentElement;i&&"pre"===i.nodeName.toLowerCase()&&r.util.setLanguage(i,a);var l={element:t,language:a,grammar:s,code:t.textContent};function c(e){l.highlightedCode=e,r.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,r.hooks.run("after-highlight",l),r.hooks.run("complete",l),o&&o.call(l.element)}if(r.hooks.run("before-sanity-check",l),(i=l.element.parentElement)&&"pre"===i.nodeName.toLowerCase()&&!i.hasAttribute("tabindex")&&i.setAttribute("tabindex","0"),!l.code)return r.hooks.run("complete",l),void(o&&o.call(l.element));if(r.hooks.run("before-highlight",l),l.grammar)if(n&&e.Worker){var u=new Worker(r.filename);u.onmessage=function(e){c(e.data)},u.postMessage(JSON.stringify({language:l.language,code:l.code,immediateClose:!0}))}else c(r.highlight(l.code,l.grammar,l.language));else c(r.util.encode(l.code))},highlight:function(e,t,n){var o={code:e,grammar:t,language:n};if(r.hooks.run("before-tokenize",o),!o.grammar)throw new Error('The language "'+o.language+'" has no grammar.');return o.tokens=r.tokenize(o.code,o.grammar),r.hooks.run("after-tokenize",o),a.stringify(r.util.encode(o.tokens),o.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var o in n)t[o]=n[o];delete t.rest}var r=new l;return c(r,r.head,e),i(e,r,t,r.head,0),function(e){var t=[],n=e.head.next;for(;n!==e.tail;)t.push(n.value),n=n.next;return t}(r)},hooks:{all:{},add:function(e,t){var n=r.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=r.hooks.all[e];if(n&&n.length)for(var o,a=0;o=n[a++];)o(t)}},Token:a};function a(e,t,n,o){this.type=e,this.content=t,this.alias=n,this.length=0|(o||"").length}function s(e,t,n,o){e.lastIndex=t;var r=e.exec(n);if(r&&o&&r[1]){var a=r[1].length;r.index+=a,r[0]=r[0].slice(a)}return r}function i(e,t,n,o,l,d){for(var m in n)if(n.hasOwnProperty(m)&&n[m]){var p=n[m];p=Array.isArray(p)?p:[p];for(var g=0;g<p.length;++g){if(d&&d.cause==m+","+g)return;var h=p[g],b=h.inside,f=!!h.lookbehind,y=!!h.greedy,w=h.alias;if(y&&!h.pattern.global){var v=h.pattern.toString().match(/[imsuy]*$/)[0];h.pattern=RegExp(h.pattern.source,v+"g")}for(var x=h.pattern||h,S=o.next,k=l;S!==t.tail&&!(d&&k>=d.reach);k+=S.value.length,S=S.next){var C=S.value;if(t.length>e.length)return;if(!(C instanceof a)){var _,A=1;if(y){if(!(_=s(x,k,e,f))||_.index>=e.length)break;var T=_.index,O=_.index+_[0].length,E=k;for(E+=S.value.length;T>=E;)E+=(S=S.next).value.length;if(k=E-=S.value.length,S.value instanceof a)continue;for(var F=S;F!==t.tail&&(E<O||"string"==typeof F.value);F=F.next)A++,E+=F.value.length;A--,C=e.slice(k,E),_.index-=k}else if(!(_=s(x,0,C,f)))continue;T=_.index;var N=_[0],R=C.slice(0,T),D=C.slice(T+N.length),j=k+C.length;d&&j>d.reach&&(d.reach=j);var P=S.prev;if(R&&(P=c(t,P,R),k+=R.length),u(t,P,A),S=c(t,P,new a(m,b?r.tokenize(N,b):N,w,N)),D&&c(t,S,D),A>1){var $={cause:m+","+g,reach:j};i(e,t,n,S.prev,k,$),d&&$.reach>d.reach&&(d.reach=$.reach)}}}}}}function l(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function c(e,t,n){var o=t.next,r={value:n,prev:t,next:o};return t.next=r,o.prev=r,e.length++,r}function u(e,t,n){for(var o=t.next,r=0;r<n&&o!==e.tail;r++)o=o.next;t.next=o,o.prev=t,e.length-=r}if(e.Prism=r,a.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var o="";return t.forEach(function(t){o+=e(t,n)}),o}var a={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},s=t.alias;s&&(Array.isArray(s)?Array.prototype.push.apply(a.classes,s):a.classes.push(s)),r.hooks.run("wrap",a);var i="";for(var l in a.attributes)i+=" "+l+'="'+(a.attributes[l]||"").replace(/"/g,"&quot;")+'"';return"<"+a.tag+' class="'+a.classes.join(" ")+'"'+i+">"+a.content+"</"+a.tag+">"},!e.document)return e.addEventListener?(r.disableWorkerMessageHandler||e.addEventListener("message",function(t){var n=JSON.parse(t.data),o=n.language,a=n.code,s=n.immediateClose;e.postMessage(r.highlight(a,r.languages[o],o)),s&&e.close()},!1),r):r;var d=r.util.currentScript();function m(){r.manual||r.highlightAll()}if(d&&(r.filename=d.src,d.hasAttribute("data-manual")&&(r.manual=!0)),!r.manual){var p=document.readyState;"loading"===p||"interactive"===p&&d&&d.defer?document.addEventListener("DOMContentLoaded",m):window.requestAnimationFrame?window.requestAnimationFrame(m):window.setTimeout(m,16)}return r}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});
/**
     * Prism: Lightweight, robust, elegant syntax highlighting
     *
     * @license MIT <https://opensource.org/licenses/MIT>
     * @author Lea Verou <https://lea.verou.me>
     * @namespace
     * @public
     */return void 0!==t&&t.exports&&(t.exports=o),void 0!==e&&(e.Prism=o),o.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(e){function t(e,t){return"___"+e.toUpperCase()+t+"___"}Object.defineProperties(e.languages["markup-templating"]={},{buildPlaceholders:{value:function(n,o,r,a){if(n.language===o){var s=n.tokenStack=[];n.code=n.code.replace(r,function(e){if("function"==typeof a&&!a(e))return e;for(var r,i=s.length;-1!==n.code.indexOf(r=t(o,i));)++i;return s[i]=e,r}),n.grammar=e.languages.markup}}},tokenizePlaceholders:{value:function(n,o){if(n.language===o&&n.tokenStack){n.grammar=e.languages[o];var r=0,a=Object.keys(n.tokenStack);!function s(i){for(var l=0;l<i.length&&!(r>=a.length);l++){var c=i[l];if("string"==typeof c||c.content&&"string"==typeof c.content){var u=a[r],d=n.tokenStack[u],m="string"==typeof c?c:c.content,p=t(o,u),g=m.indexOf(p);if(g>-1){++r;var h=m.substring(0,g),b=new e.Token(o,e.tokenize(d,n.grammar),"language-"+o,d),f=m.substring(g+p.length),y=[];h&&y.push.apply(y,s([h])),y.push(b),f&&y.push.apply(y,s([f])),"string"==typeof c?i.splice.apply(i,[l,1].concat(y)):c.content=y}}else c.content&&s(c.content)}return i}(n.tokens)}}}})}(o),o.languages.c=o.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),o.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),o.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},o.languages.c.string],char:o.languages.c.char,comment:o.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:o.languages.c}}}}),o.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete o.languages.c.boolean,function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return t.source});e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return t.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return n})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(o),function(e){function t(e,t){return e.replace(/<<(\d+)>>/g,function(e,n){return"(?:"+t[+n]+")"})}function n(e,n,o){return RegExp(t(e,n),o||"")}function o(e,t){for(var n=0;n<t;n++)e=e.replace(/<<self>>/g,function(){return"(?:"+e+")"});return e.replace(/<<self>>/g,"[^\\s\\S]")}var r="bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",a="class enum interface record struct",s="add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",i="abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield";function l(e){return"\\b(?:"+e.trim().replace(/ /g,"|")+")\\b"}var c=l(a),u=RegExp(l(r+" "+a+" "+s+" "+i)),d=l(a+" "+s+" "+i),m=l(r+" "+a+" "+i),p=o(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),g=o(/\((?:[^()]|<<self>>)*\)/.source,2),h=/@?\b[A-Za-z_]\w*\b/.source,b=t(/<<0>>(?:\s*<<1>>)?/.source,[h,p]),f=t(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[d,b]),y=/\[\s*(?:,\s*)*\]/.source,w=t(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[f,y]),v=t(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[p,g,y]),x=t(/\(<<0>>+(?:,<<0>>+)+\)/.source,[v]),S=t(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[x,f,y]),k={keyword:u,punctuation:/[<>()?,.:[\]]/},C=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,_=/"(?:\\.|[^\\"\r\n])*"/.source,A=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;e.languages.csharp=e.languages.extend("clike",{string:[{pattern:n(/(^|[^$\\])<<0>>/.source,[A]),lookbehind:!0,greedy:!0},{pattern:n(/(^|[^@$\\])<<0>>/.source,[_]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:n(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[f]),lookbehind:!0,inside:k},{pattern:n(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[h,S]),lookbehind:!0,inside:k},{pattern:n(/(\busing\s+)<<0>>(?=\s*=)/.source,[h]),lookbehind:!0},{pattern:n(/(\b<<0>>\s+)<<1>>/.source,[c,b]),lookbehind:!0,inside:k},{pattern:n(/(\bcatch\s*\(\s*)<<0>>/.source,[f]),lookbehind:!0,inside:k},{pattern:n(/(\bwhere\s+)<<0>>/.source,[h]),lookbehind:!0},{pattern:n(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[w]),lookbehind:!0,inside:k},{pattern:n(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[S,m,h]),inside:k}],keyword:u,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),e.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),e.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:n(/([(,]\s*)<<0>>(?=\s*:)/.source,[h]),lookbehind:!0,alias:"punctuation"}}),e.languages.insertBefore("csharp","class-name",{namespace:{pattern:n(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[h]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:n(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[g]),lookbehind:!0,alias:"class-name",inside:k},"return-type":{pattern:n(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[S,f]),inside:k,alias:"class-name"},"constructor-invocation":{pattern:n(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[S]),lookbehind:!0,inside:k,alias:"class-name"},"generic-method":{pattern:n(/<<0>>\s*<<1>>(?=\s*\()/.source,[h,p]),inside:{function:n(/^<<0>>/.source,[h]),generic:{pattern:RegExp(p),alias:"class-name",inside:k}}},"type-list":{pattern:n(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[c,b,h,S,u.source,g,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:n(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[b,g]),lookbehind:!0,greedy:!0,inside:e.languages.csharp},keyword:u,"class-name":{pattern:RegExp(S),greedy:!0,inside:k},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var T=_+"|"+C,O=t(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[T]),E=o(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[O]),2),F=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,N=t(/<<0>>(?:\s*\(<<1>>*\))?/.source,[f,E]);e.languages.insertBefore("csharp","class-name",{attribute:{pattern:n(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[F,N]),lookbehind:!0,greedy:!0,inside:{target:{pattern:n(/^<<0>>(?=\s*:)/.source,[F]),alias:"keyword"},"attribute-arguments":{pattern:n(/\(<<0>>*\)/.source,[E]),inside:e.languages.csharp},"class-name":{pattern:RegExp(f),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var R=/:[^}\r\n]+/.source,D=o(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[O]),2),j=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[D,R]),P=o(t(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[T]),2),$=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[P,R]);function M(t,o){return{interpolation:{pattern:n(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[t]),lookbehind:!0,inside:{"format-string":{pattern:n(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[o,R]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:e.languages.csharp}}},string:/[\s\S]+/}}e.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:n(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[j]),lookbehind:!0,greedy:!0,inside:M(j,D)},{pattern:n(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[$]),lookbehind:!0,greedy:!0,inside:M($,P)}],char:{pattern:RegExp(C),greedy:!0}}),e.languages.dotnet=e.languages.cs=e.languages.csharp}(o),function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(o),function(e){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,o={pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};e.languages.java=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[o,{pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:o.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+n+/[A-Z]\w*\b/.source),lookbehind:!0,inside:o.inside}],keyword:t,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":o,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+n+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:o.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+n+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:o.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return t.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(o),o.languages.javascript=o.languages.extend("clike",{"class-name":[o.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),o.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,o.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:o.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:o.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:o.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:o.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:o.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),o.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:o.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),o.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),o.languages.markup&&(o.languages.markup.tag.addInlined("script","javascript"),o.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),o.languages.js=o.languages.javascript,o.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},o.languages.markup.tag.inside["attr-value"].inside.entity=o.languages.markup.entity,o.languages.markup.doctype.inside["internal-subset"].inside=o.languages.markup,o.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Object.defineProperty(o.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:o.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};r["language-"+t]={pattern:/[\s\S]+/,inside:o.languages[t]};var a={};a[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:r},o.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(o.languages.markup.tag,"addAttribute",{value:function(e,t){o.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:o.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),o.languages.html=o.languages.markup,o.languages.mathml=o.languages.markup,o.languages.svg=o.languages.markup,o.languages.xml=o.languages.extend("markup",{}),o.languages.ssml=o.languages.xml,o.languages.atom=o.languages.xml,o.languages.rss=o.languages.xml,function(e){var t=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,n=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],o=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,r=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,a=/[{}\[\](),:;]/;e.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:t,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:o,operator:r,punctuation:a};var s={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:e.languages.php},i=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:s}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:s}}];e.languages.insertBefore("php","variable",{string:i,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:t,string:i,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,number:o,operator:r,punctuation:a}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),e.hooks.add("before-tokenize",function(t){if(/<\?/.test(t.code)){e.languages["markup-templating"].buildPlaceholders(t,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g)}}),e.hooks.add("after-tokenize",function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"php")})}(o),o.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},o.languages.python["string-interpolation"].inside.interpolation.inside.rest=o.languages.python,o.languages.py=o.languages.python,function(e){e.languages.ruby=e.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),e.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var t={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:e.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete e.languages.ruby.function;var n="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",o=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;e.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+n+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+o),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+o+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),e.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+n),greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+n),greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete e.languages.ruby.string,e.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),e.languages.rb=e.languages.ruby}(o),window.Prism=n,o}(void 0,void 0),u=e=>t=>t.options.get(e),d=u("codesample_languages"),m=u("codesample_global_prismjs"),p=e=>a.Prism&&m(e)?a.Prism:c,g=e=>t(e)&&"PRE"===e.nodeName&&-1!==e.className.indexOf("language-"),h=e=>{const t=e.selection?e.selection.getNode():null;return g(t)?o.some(t):o.none()},b=e=>{const t=(e=>{const t=d(e);return t||[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}]})(e),n=r(t).fold((a="",()=>a),e=>e.value);var a;const s=((e,t)=>h(e).fold(()=>t,e=>{const n=e.className.match(/language-(\w+)/);return n?n[1]:t}))(e,n),i=(e=>h(e).bind(e=>o.from(e.textContent)).getOr(""))(e);e.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"listbox",name:"language",label:"Language",items:t},{type:"textarea",name:"code",label:"Code view",spellcheck:!1}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:s,code:i},onSubmit:t=>{const n=t.getData();((e,t,n)=>{const o=e.dom;e.undoManager.transact(()=>{const r=h(e);return n=l.DOM.encode(n),r.fold(()=>{e.insertContent('<pre id="__new" class="language-'+t+'">'+n+"</pre>");const r=o.select("#__new")[0];o.setAttrib(r,"id",null),e.selection.select(r)},r=>{o.setAttrib(r,"class","language-"+t),r.innerHTML=n,p(e).highlightElement(r),e.selection.select(r)})})})(e,n.language,n.code),t.close()}})};var f=tinymce.util.Tools.resolve("tinymce.util.Tools");const y=(e,t=n)=>n=>{const o=()=>{n.setEnabled(e.selection.isEditable()),t(n)};return e.on("NodeChange",o),o(),()=>{e.off("NodeChange",o)}};e.add("codesample",e=>{(e=>{const t=e.options.register;t("codesample_languages",{processor:"object[]"}),t("codesample_global_prismjs",{processor:"boolean",default:!1})})(e),(e=>{e.on("PreProcess",t=>{const n=e.dom,o=n.select("pre[contenteditable=false]",t.node);f.each(f.grep(o,g),e=>{const t=e.textContent;let o;for(n.setAttrib(e,"class",s(n.getAttrib(e,"class"))),n.setAttrib(e,"contentEditable",null),n.setAttrib(e,"data-mce-highlighted",null);o=e.firstChild;)e.removeChild(o);n.add(e,"code").textContent=t})}),e.on("SetContent",()=>{const t=e.dom,n=f.grep(t.select("pre"),e=>g(e)&&"true"!==t.getAttrib(e,"data-mce-highlighted"));n.length&&e.undoManager.transact(()=>{f.each(n,n=>{f.each(t.select("br",n),n=>{t.replace(e.getDoc().createTextNode("\n"),n)}),n.innerHTML=t.encode(n.textContent??""),p(e).highlightElement(n),t.setAttrib(n,"data-mce-highlighted",!0),n.className=s(n.className)})})}),e.on("PreInit",()=>{e.parser.addNodeFilter("pre",e=>{for(let t=0,n=e.length;t<n;t++){const n=e[t];-1!==(n.attr("class")??"").indexOf("language-")&&(n.attr("contenteditable","false"),n.attr("data-mce-highlighted","false"))}})})})(e),(e=>{const t=()=>e.execCommand("codesample");e.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:t,onSetup:y(e,t=>{t.setActive((e=>{const t=e.selection.getStart();return e.dom.is(t,'pre[class*="language-"]')})(e))})}),e.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:t,onSetup:y(e)})})(e),(e=>{e.addCommand("codesample",()=>{const t=e.selection.getNode();e.selection.isCollapsed()||g(t)?b(e):e.formatter.toggle("code")})})(e),e.on("dblclick",t=>{g(t.target)&&b(e)})})}()},17536:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>!(e=>null==e)(e),n=()=>{};class o{tag;value;static singletonNone=new o(!1);constructor(e,t){this.tag=e,this.value=t}static some(e){return new o(!0,e)}static none(){return o.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?o.some(e(this.value)):o.none()}bind(e){return this.tag?e(this.value):o.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:o.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(e??"Called getOrDie on None")}static from(e){return t(e)?o.some(e):o.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const r="undefined"!=typeof window?window:Function("return this;")(),a=(s=/^\s+|\s+$/g,e=>e.replace(s,""));var s,i=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");const l=function(){const e=window.Prism;window.Prism={manual:!0};var t=function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,o={},r={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof a?new a(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var o,a;switch(n=n||{},r.util.type(t)){case"Object":if(a=r.util.objId(t),n[a])return n[a];for(var s in o={},n[a]=o,t)t.hasOwnProperty(s)&&(o[s]=e(t[s],n));return o;case"Array":return a=r.util.objId(t),n[a]?n[a]:(o=[],n[a]=o,t.forEach(function(t,r){o[r]=e(t,n)}),o);default:return t}},getLanguage:function(e){for(;e;){var n=t.exec(e.className);if(n)return n[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,n){e.className=e.className.replace(RegExp(t,"gi"),""),e.classList.add("language-"+n)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(o){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(o.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var o="no-"+t;e;){var r=e.classList;if(r.contains(t))return!0;if(r.contains(o))return!1;e=e.parentElement}return!!n}},languages:{plain:o,plaintext:o,text:o,txt:o,extend:function(e,t){var n=r.util.clone(r.languages[e]);for(var o in t)n[o]=t[o];return n},insertBefore:function(e,t,n,o){var a=(o=o||r.languages)[e],s={};for(var i in a)if(a.hasOwnProperty(i)){if(i==t)for(var l in n)n.hasOwnProperty(l)&&(s[l]=n[l]);n.hasOwnProperty(i)||(s[i]=a[i])}var c=o[e];return o[e]=s,r.languages.DFS(r.languages,function(t,n){n===c&&t!=e&&(this[t]=s)}),s},DFS:function e(t,n,o,a){a=a||{};var s=r.util.objId;for(var i in t)if(t.hasOwnProperty(i)){n.call(t,i,t[i],o||i);var l=t[i],c=r.util.type(l);"Object"!==c||a[s(l)]?"Array"!==c||a[s(l)]||(a[s(l)]=!0,e(l,n,i,a)):(a[s(l)]=!0,e(l,n,null,a))}}},plugins:{},highlightAll:function(e,t){r.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var o={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",o),o.elements=Array.prototype.slice.apply(o.container.querySelectorAll(o.selector)),r.hooks.run("before-all-elements-highlight",o);for(var a,s=0;a=o.elements[s++];)r.highlightElement(a,!0===t,o.callback)},highlightElement:function(t,n,o){var a=r.util.getLanguage(t),s=r.languages[a];r.util.setLanguage(t,a);var i=t.parentElement;i&&"pre"===i.nodeName.toLowerCase()&&r.util.setLanguage(i,a);var l={element:t,language:a,grammar:s,code:t.textContent};function c(e){l.highlightedCode=e,r.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,r.hooks.run("after-highlight",l),r.hooks.run("complete",l),o&&o.call(l.element)}if(r.hooks.run("before-sanity-check",l),(i=l.element.parentElement)&&"pre"===i.nodeName.toLowerCase()&&!i.hasAttribute("tabindex")&&i.setAttribute("tabindex","0"),!l.code)return r.hooks.run("complete",l),void(o&&o.call(l.element));if(r.hooks.run("before-highlight",l),l.grammar)if(n&&e.Worker){var u=new Worker(r.filename);u.onmessage=function(e){c(e.data)},u.postMessage(JSON.stringify({language:l.language,code:l.code,immediateClose:!0}))}else c(r.highlight(l.code,l.grammar,l.language));else c(r.util.encode(l.code))},highlight:function(e,t,n){var o={code:e,grammar:t,language:n};if(r.hooks.run("before-tokenize",o),!o.grammar)throw new Error('The language "'+o.language+'" has no grammar.');return o.tokens=r.tokenize(o.code,o.grammar),r.hooks.run("after-tokenize",o),a.stringify(r.util.encode(o.tokens),o.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var o in n)t[o]=n[o];delete t.rest}var r=new l;return c(r,r.head,e),i(e,r,t,r.head,0),function(e){for(var t=[],n=e.head.next;n!==e.tail;)t.push(n.value),n=n.next;return t}(r)},hooks:{all:{},add:function(e,t){var n=r.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=r.hooks.all[e];if(n&&n.length)for(var o,a=0;o=n[a++];)o(t)}},Token:a};function a(e,t,n,o){this.type=e,this.content=t,this.alias=n,this.length=0|(o||"").length}function s(e,t,n,o){e.lastIndex=t;var r=e.exec(n);if(r&&o&&r[1]){var a=r[1].length;r.index+=a,r[0]=r[0].slice(a)}return r}function i(e,t,n,o,l,d){for(var m in n)if(n.hasOwnProperty(m)&&n[m]){var p=n[m];p=Array.isArray(p)?p:[p];for(var g=0;g<p.length;++g){if(d&&d.cause==m+","+g)return;var h=p[g],b=h.inside,f=!!h.lookbehind,y=!!h.greedy,w=h.alias;if(y&&!h.pattern.global){var v=h.pattern.toString().match(/[imsuy]*$/)[0];h.pattern=RegExp(h.pattern.source,v+"g")}for(var x=h.pattern||h,S=o.next,k=l;S!==t.tail&&!(d&&k>=d.reach);k+=S.value.length,S=S.next){var C=S.value;if(t.length>e.length)return;if(!(C instanceof a)){var _,A=1;if(y){if(!(_=s(x,k,e,f))||_.index>=e.length)break;var T=_.index,O=_.index+_[0].length,E=k;for(E+=S.value.length;T>=E;)E+=(S=S.next).value.length;if(k=E-=S.value.length,S.value instanceof a)continue;for(var F=S;F!==t.tail&&(E<O||"string"==typeof F.value);F=F.next)A++,E+=F.value.length;A--,C=e.slice(k,E),_.index-=k}else if(!(_=s(x,0,C,f)))continue;T=_.index;var N=_[0],R=C.slice(0,T),D=C.slice(T+N.length),j=k+C.length;d&&j>d.reach&&(d.reach=j);var P=S.prev;if(R&&(P=c(t,P,R),k+=R.length),u(t,P,A),S=c(t,P,new a(m,b?r.tokenize(N,b):N,w,N)),D&&c(t,S,D),A>1){var $={cause:m+","+g,reach:j};i(e,t,n,S.prev,k,$),d&&$.reach>d.reach&&(d.reach=$.reach)}}}}}}function l(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function c(e,t,n){var o=t.next,r={value:n,prev:t,next:o};return t.next=r,o.prev=r,e.length++,r}function u(e,t,n){for(var o=t.next,r=0;r<n&&o!==e.tail;r++)o=o.next;t.next=o,o.prev=t,e.length-=r}if(e.Prism=r,a.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var o="";return t.forEach(function(t){o+=e(t,n)}),o}var a={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},s=t.alias;s&&(Array.isArray(s)?Array.prototype.push.apply(a.classes,s):a.classes.push(s)),r.hooks.run("wrap",a);var i="";for(var l in a.attributes)i+=" "+l+'="'+(a.attributes[l]||"").replace(/"/g,"&quot;")+'"';return"<"+a.tag+' class="'+a.classes.join(" ")+'"'+i+">"+a.content+"</"+a.tag+">"},!e.document)return e.addEventListener?(r.disableWorkerMessageHandler||e.addEventListener("message",function(t){var n=JSON.parse(t.data),o=n.language,a=n.code,s=n.immediateClose;e.postMessage(r.highlight(a,r.languages[o],o)),s&&e.close()},!1),r):r;var d=r.util.currentScript();function m(){r.manual||r.highlightAll()}if(d&&(r.filename=d.src,d.hasAttribute("data-manual")&&(r.manual=!0)),!r.manual){var p=document.readyState;"loading"===p||"interactive"===p&&d&&d.defer?document.addEventListener("DOMContentLoaded",m):window.requestAnimationFrame?window.requestAnimationFrame(m):window.setTimeout(m,16)}return r}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});
/**
     * Prism: Lightweight, robust, elegant syntax highlighting
     *
     * @license MIT <https://opensource.org/licenses/MIT>
     * @author Lea Verou <https://lea.verou.me>
     * @namespace
     * @public
     */return t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(e){function t(e,t){return"___"+e.toUpperCase()+t+"___"}Object.defineProperties(e.languages["markup-templating"]={},{buildPlaceholders:{value:function(n,o,r,a){if(n.language===o){var s=n.tokenStack=[];n.code=n.code.replace(r,function(e){if("function"==typeof a&&!a(e))return e;for(var r,i=s.length;-1!==n.code.indexOf(r=t(o,i));)++i;return s[i]=e,r}),n.grammar=e.languages.markup}}},tokenizePlaceholders:{value:function(n,o){if(n.language===o&&n.tokenStack){n.grammar=e.languages[o];var r=0,a=Object.keys(n.tokenStack);!function s(i){for(var l=0;l<i.length&&!(r>=a.length);l++){var c=i[l];if("string"==typeof c||c.content&&"string"==typeof c.content){var u=a[r],d=n.tokenStack[u],m="string"==typeof c?c:c.content,p=t(o,u),g=m.indexOf(p);if(g>-1){++r;var h=m.substring(0,g),b=new e.Token(o,e.tokenize(d,n.grammar),"language-"+o,d),f=m.substring(g+p.length),y=[];h&&y.push.apply(y,s([h])),y.push(b),f&&y.push.apply(y,s([f])),"string"==typeof c?i.splice.apply(i,[l,1].concat(y)):c.content=y}}else c.content&&s(c.content)}return i}(n.tokens)}}}})}(t),t.languages.c=t.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),t.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),t.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},t.languages.c.string],char:t.languages.c.char,comment:t.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:t.languages.c}}}}),t.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete t.languages.c.boolean,function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return t.source});e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return t.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return n})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(t),function(e){function t(e,t){return e.replace(/<<(\d+)>>/g,function(e,n){return"(?:"+t[+n]+")"})}function n(e,n,o){return RegExp(t(e,n),o||"")}function o(e,t){for(var n=0;n<t;n++)e=e.replace(/<<self>>/g,function(){return"(?:"+e+")"});return e.replace(/<<self>>/g,"[^\\s\\S]")}var r="bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",a="class enum interface record struct",s="add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",i="abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield";function l(e){return"\\b(?:"+e.trim().replace(/ /g,"|")+")\\b"}var c=l(a),u=RegExp(l(r+" "+a+" "+s+" "+i)),d=l(a+" "+s+" "+i),m=l(r+" "+a+" "+i),p=o(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),g=o(/\((?:[^()]|<<self>>)*\)/.source,2),h=/@?\b[A-Za-z_]\w*\b/.source,b=t(/<<0>>(?:\s*<<1>>)?/.source,[h,p]),f=t(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[d,b]),y=/\[\s*(?:,\s*)*\]/.source,w=t(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[f,y]),v=t(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[p,g,y]),x=t(/\(<<0>>+(?:,<<0>>+)+\)/.source,[v]),S=t(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[x,f,y]),k={keyword:u,punctuation:/[<>()?,.:[\]]/},C=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,_=/"(?:\\.|[^\\"\r\n])*"/.source,A=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;e.languages.csharp=e.languages.extend("clike",{string:[{pattern:n(/(^|[^$\\])<<0>>/.source,[A]),lookbehind:!0,greedy:!0},{pattern:n(/(^|[^@$\\])<<0>>/.source,[_]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:n(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[f]),lookbehind:!0,inside:k},{pattern:n(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[h,S]),lookbehind:!0,inside:k},{pattern:n(/(\busing\s+)<<0>>(?=\s*=)/.source,[h]),lookbehind:!0},{pattern:n(/(\b<<0>>\s+)<<1>>/.source,[c,b]),lookbehind:!0,inside:k},{pattern:n(/(\bcatch\s*\(\s*)<<0>>/.source,[f]),lookbehind:!0,inside:k},{pattern:n(/(\bwhere\s+)<<0>>/.source,[h]),lookbehind:!0},{pattern:n(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[w]),lookbehind:!0,inside:k},{pattern:n(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[S,m,h]),inside:k}],keyword:u,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),e.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),e.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:n(/([(,]\s*)<<0>>(?=\s*:)/.source,[h]),lookbehind:!0,alias:"punctuation"}}),e.languages.insertBefore("csharp","class-name",{namespace:{pattern:n(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[h]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:n(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[g]),lookbehind:!0,alias:"class-name",inside:k},"return-type":{pattern:n(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[S,f]),inside:k,alias:"class-name"},"constructor-invocation":{pattern:n(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[S]),lookbehind:!0,inside:k,alias:"class-name"},"generic-method":{pattern:n(/<<0>>\s*<<1>>(?=\s*\()/.source,[h,p]),inside:{function:n(/^<<0>>/.source,[h]),generic:{pattern:RegExp(p),alias:"class-name",inside:k}}},"type-list":{pattern:n(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[c,b,h,S,u.source,g,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:n(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[b,g]),lookbehind:!0,greedy:!0,inside:e.languages.csharp},keyword:u,"class-name":{pattern:RegExp(S),greedy:!0,inside:k},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var T=_+"|"+C,O=t(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[T]),E=o(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[O]),2),F=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,N=t(/<<0>>(?:\s*\(<<1>>*\))?/.source,[f,E]);e.languages.insertBefore("csharp","class-name",{attribute:{pattern:n(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[F,N]),lookbehind:!0,greedy:!0,inside:{target:{pattern:n(/^<<0>>(?=\s*:)/.source,[F]),alias:"keyword"},"attribute-arguments":{pattern:n(/\(<<0>>*\)/.source,[E]),inside:e.languages.csharp},"class-name":{pattern:RegExp(f),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var R=/:[^}\r\n]+/.source,D=o(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[O]),2),j=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[D,R]),P=o(t(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[T]),2),$=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[P,R]);function M(t,o){return{interpolation:{pattern:n(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[t]),lookbehind:!0,inside:{"format-string":{pattern:n(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[o,R]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:e.languages.csharp}}},string:/[\s\S]+/}}e.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:n(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[j]),lookbehind:!0,greedy:!0,inside:M(j,D)},{pattern:n(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[$]),lookbehind:!0,greedy:!0,inside:M($,P)}],char:{pattern:RegExp(C),greedy:!0}}),e.languages.dotnet=e.languages.cs=e.languages.csharp}(t),function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(t),function(e){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,o={pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};e.languages.java=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[o,{pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:o.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+n+/[A-Z]\w*\b/.source),lookbehind:!0,inside:o.inside}],keyword:t,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":o,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+n+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:o.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+n+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:o.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return t.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(t),t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(e,n){var o={};o["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[n]},o.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:o}};r["language-"+n]={pattern:/[\s\S]+/,inside:t.languages[n]};var a={};a[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:r},t.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(e,n){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:t.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,function(e){var t=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,n=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],o=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,r=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,a=/[{}\[\](),:;]/;e.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:t,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:o,operator:r,punctuation:a};var s={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:e.languages.php},i=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:s}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:s}}];e.languages.insertBefore("php","variable",{string:i,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:t,string:i,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,number:o,operator:r,punctuation:a}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),e.hooks.add("before-tokenize",function(t){/<\?/.test(t.code)&&e.languages["markup-templating"].buildPlaceholders(t,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g)}),e.hooks.add("after-tokenize",function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"php")})}(t),t.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},t.languages.python["string-interpolation"].inside.interpolation.inside.rest=t.languages.python,t.languages.py=t.languages.python,function(e){e.languages.ruby=e.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),e.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var t={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:e.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete e.languages.ruby.function;var n="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",o=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;e.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+n+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+o),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+o+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),e.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+n),greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+n),greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete e.languages.ruby.string,e.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),e.languages.rb=e.languages.ruby}(t),window.Prism=e,t}(),c=e=>t=>t.options.get(e),u=c("codesample_languages"),d=c("codesample_global_prismjs"),m=e=>r.Prism&&d(e)?r.Prism:l,p=e=>t(e)&&"PRE"===e.nodeName&&-1!==e.className.indexOf("language-"),g=e=>{const t=e.selection?e.selection.getNode():null;return p(t)?o.some(t):o.none()},h=e=>{const t=(e=>u(e)||[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}])(e),n=(r=t,(e=>0<e.length?o.some(e[0]):o.none())(r)).fold(()=>"",e=>e.value);var r;const a=((e,t)=>g(e).fold(()=>t,e=>{const n=e.className.match(/language-(\w+)/);return n?n[1]:t}))(e,n),s=(e=>g(e).bind(e=>o.from(e.textContent)).getOr(""))(e);e.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"listbox",name:"language",label:"Language",items:t},{type:"textarea",name:"code",label:"Code view",spellcheck:!1}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:a,code:s},onSubmit:t=>{const n=t.getData();((e,t,n)=>{const o=e.dom;e.undoManager.transact(()=>{const r=g(e);return n=i.DOM.encode(n),r.fold(()=>{e.insertContent('<pre id="__new" class="language-'+t+'">'+n+"</pre>");const r=o.select("#__new")[0];o.setAttrib(r,"id",null),e.selection.select(r)},r=>{o.setAttrib(r,"class","language-"+t),r.innerHTML=n,m(e).highlightElement(r),e.selection.select(r)})})})(e,n.language,n.code),t.close()}})};var b=tinymce.util.Tools.resolve("tinymce.util.Tools");const f=(e,t=n)=>n=>{const o=()=>{n.setEnabled(e.selection.isEditable()),t(n)};return e.on("NodeChange",o),o(),()=>{e.off("NodeChange",o)}};e.add("codesample",e=>{(e=>{const t=e.options.register;t("codesample_languages",{processor:"object[]"}),t("codesample_global_prismjs",{processor:"boolean",default:!1})})(e),(e=>{e.on("PreProcess",t=>{const n=e.dom,o=n.select("pre[contenteditable=false]",t.node);b.each(b.grep(o,p),e=>{const t=e.textContent;let o;for(n.setAttrib(e,"class",a(n.getAttrib(e,"class"))),n.setAttrib(e,"contentEditable",null),n.setAttrib(e,"data-mce-highlighted",null);o=e.firstChild;)e.removeChild(o);n.add(e,"code").textContent=t})}),e.on("SetContent",()=>{const t=e.dom,n=b.grep(t.select("pre"),e=>p(e)&&"true"!==t.getAttrib(e,"data-mce-highlighted"));n.length&&e.undoManager.transact(()=>{b.each(n,n=>{b.each(t.select("br",n),n=>{t.replace(e.getDoc().createTextNode("\n"),n)}),n.innerHTML=t.encode(n.textContent??""),m(e).highlightElement(n),t.setAttrib(n,"data-mce-highlighted",!0),n.className=a(n.className)})})}),e.on("PreInit",()=>{e.parser.addNodeFilter("pre",e=>{for(let t=0,n=e.length;t<n;t++){const n=e[t];-1!==(n.attr("class")??"").indexOf("language-")&&(n.attr("contenteditable","false"),n.attr("data-mce-highlighted","false"))}})})})(e),(e=>{const t=()=>e.execCommand("codesample");e.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:t,onSetup:f(e,t=>{t.setActive((e=>{const t=e.selection.getStart();return e.dom.is(t,'pre[class*="language-"]')})(e))})}),e.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:t,onSetup:f(e)})})(e),(e=>{e.addCommand("codesample",()=>{const t=e.selection.getNode();e.selection.isCollapsed()||p(t)?h(e):e.formatter.toggle("code")})})(e),e.on("dblclick",t=>{p(t.target)&&h(e)})})}()},18896:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>typeof t===e,n=t("boolean"),o=t("number"),r=e=>t=>t.options.get(e),a=r("nonbreaking_force_tab"),s=r("nonbreaking_wrap"),i=(e,t)=>{let n="";for(let o=0;o<t;o++)n+=e;return n},l=(e,t)=>{const n=s(e)||e.plugins.visualchars?`<span class="${(e=>!!e.plugins.visualchars&&e.plugins.visualchars.isEnabled())(e)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap"}" contenteditable="false">${i("&nbsp;",t)}</span>`:i("&nbsp;",t);e.undoManager.transact(()=>e.insertContent(n))};var c=tinymce.util.Tools.resolve("tinymce.util.VK");const u=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("nonbreaking",e=>{(e=>{const t=e.options.register;t("nonbreaking_force_tab",{processor:e=>n(e)?{value:e?3:0,valid:!0}:o(e)?{value:e,valid:!0}:{valid:!1,message:"Must be a boolean or number."},default:!1}),t("nonbreaking_wrap",{processor:"boolean",default:!0})})(e),(e=>{e.addCommand("mceNonBreaking",()=>{l(e,1)})})(e),(e=>{const t=()=>e.execCommand("mceNonBreaking");e.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:t,onSetup:u(e)}),e.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:t,onSetup:u(e)})})(e),(e=>{const t=a(e);t>0&&e.on("keydown",n=>{if(n.keyCode===c.TAB&&!n.isDefaultPrevented()){if(n.shiftKey)return;n.preventDefault(),n.stopImmediatePropagation(),l(e,t)}})})(e)})}()},22612:function(){!function(){"use strict";const e=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(a=String).prototype,o.isPrototypeOf(n)||r.constructor?.name===a.name)?"string":t;var n,o;var r,a})(t)===e,t=e=>t=>typeof t===e,n=e=>t=>e===t,o=e("string"),r=e("object"),a=e("array"),s=n(null),i=t("boolean"),l=n(void 0),c=e=>!(e=>null==e)(e),u=t("function"),d=t("number"),m=()=>{},p=e=>()=>e;function g(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const h=p(!1),b=p(!0);class f{tag;value;static singletonNone=new f(!1);constructor(e,t){this.tag=e,this.value=t}static some(e){return new f(!0,e)}static none(){return f.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?f.some(e(this.value)):f.none()}bind(e){return this.tag?e(this.value):f.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:f.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(e??"Called getOrDie on None")}static from(e){return c(e)?f.some(e):f.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const y=Array.prototype.push,w=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},v=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},x=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},S=(e,t)=>((e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return f.some(r);if(n(r,o))break}return f.none()})(e,t,h),k=(e,t)=>(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);y.apply(t,e[n])}return t})(w(e,t)),C=e=>((e,t)=>t>=0&&t<e.length?f.some(e[t]):f.none())(e,0),_=Object.keys,A=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},T="undefined"!=typeof window?window:Function("return this;")(),O=(e,t)=>((e,t)=>{let n=null!=t?t:T;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),E=e=>{const t=A(f.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(f.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(f.some(e))}}},F=()=>E(e=>e.unbind()),N=(e,t,n=0,o)=>{const r=e.indexOf(t,n);return-1!==r&&(!!l(o)||r+t.length<=o)};var R=tinymce.util.Tools.resolve("tinymce.PluginManager");const D=e=>({isFullscreen:()=>null!==e.get()}),j=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},P={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return j(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return j(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return j(n)},fromDom:j,fromPoint:(e,t,n)=>f.from(e.dom.elementFromPoint(t,n)).map(j)},$=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},M=()=>B(0,0),B=(e,t)=>({major:e,minor:t}),z={nu:B,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?M():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}})(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return B(o(1),o(2))})(e,n)},unknown:M},I=(e,t)=>((e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return f.none()})(t.brands,t=>{const n=t.brand.toLowerCase();return S(e,e=>n===e.brand?.toLowerCase()).map(e=>({current:e.name,version:z.nu(parseInt(t.version,10),0)}))}),L=(e,t)=>{const n=String(t).toLowerCase();return S(e,e=>e.search(n))},W=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,q=e=>t=>N(t,e),U=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>N(e,"edge/")&&N(e,"chrome")&&N(e,"safari")&&N(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,W],search:e=>N(e,"chrome")&&!N(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>N(e,"msie")||N(e,"trident")},{name:"Opera",versionRegexes:[W,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:q("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:q("firefox")},{name:"Safari",versionRegexes:[W,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(N(e,"safari")||N(e,"mobile/"))&&N(e,"applewebkit")}],H=[{name:"Windows",search:q("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>N(e,"iphone")||N(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:q("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:q("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:q("linux"),versionRegexes:[]},{name:"Solaris",search:q("sunos"),versionRegexes:[]},{name:"FreeBSD",search:q("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:q("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],V={browsers:p(U),oses:p(H)},Z="Edge",K="Chromium",G="Opera",J="Firefox",Y="Safari",X=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(Z),isChromium:o(K),isIE:o("IE"),isOpera:o(G),isFirefox:o(J),isSafari:o(Y)}},Q={unknown:()=>X({current:void 0,version:z.unknown()}),nu:X,edge:p(Z),chromium:p(K),ie:p("IE"),opera:p(G),firefox:p(J),safari:p(Y)},ee="Windows",te="Android",ne="Linux",oe="macOS",re="Solaris",ae="FreeBSD",se="ChromeOS",ie=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(ee),isiOS:o("iOS"),isAndroid:o(te),isMacOS:o(oe),isLinux:o(ne),isSolaris:o(re),isFreeBSD:o(ae),isChromeOS:o(se)}},le={unknown:()=>ie({current:void 0,version:z.unknown()}),nu:ie,windows:p(ee),ios:p("iOS"),android:p(te),linux:p(ne),macos:p(oe),solaris:p(re),freebsd:p(ae),chromeos:p(se)},ce=(e,t,n)=>{const o=V.browsers(),r=V.oses(),a=t.bind(e=>I(o,e)).orThunk(()=>((e,t)=>L(e,t).map(e=>{const n=z.detect(e.versionRegexes,t);return{current:e.name,version:n}}))(o,e)).fold(Q.unknown,Q.nu),s=((e,t)=>L(e,t).map(e=>{const n=z.detect(e.versionRegexes,t);return{current:e.name,version:n}}))(r,e).fold(le.unknown,le.nu),i=((e,t,n,o)=>{const r=e.isiOS()&&!0===/ipad/i.test(n),a=e.isiOS()&&!r,s=e.isiOS()||e.isAndroid(),i=s||o("(pointer:coarse)"),l=r||!a&&s&&o("(min-device-width:768px)"),c=a||s&&!l,u=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!c&&!l&&!u;return{isiPad:p(r),isiPhone:p(a),isTablet:p(l),isPhone:p(c),isTouch:p(i),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:p(u),isDesktop:p(d)}})(s,a,e,n);return{browser:a,os:s,deviceType:i}},ue=e=>window.matchMedia(e).matches;let de=(e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)})(()=>ce(window.navigator.userAgent,f.from(window.navigator.userAgentData),ue));const me=(e,t)=>{const n=((e,t)=>O(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n},pe=Object.getPrototypeOf,ge=e=>{const t=O("ownerDocument.defaultView",e);return r(e)&&((e=>me("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(pe(e).constructor.name))},he=e=>t=>(e=>e.dom.nodeType)(t)===e,be=he(1),fe=he(3),ye=he(11),we=e=>P.fromDom(e.dom.ownerDocument),ve=e=>(e=>f.from(e.dom.parentNode).map(P.fromDom))(e).map(xe).map(t=>x(t,t=>{return n=t,!(e.dom===n.dom);var n})).getOr([]),xe=e=>w(e.dom.childNodes,P.fromDom),Se=e=>{const t=(e=>P.fromDom(e.dom.getRootNode()))(e);return ye(n=t)&&c(n.dom.host)?f.some(t):f.none();var n},ke=e=>P.fromDom(e.dom.host),Ce=e=>c(e.dom.shadowRoot),_e=e=>{const t=P.fromDom((e=>{if(c(e.target)){const t=P.fromDom(e.target);if(be(t)&&Ce(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return C(t)}}return f.from(e.target)})(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),r=(a=o,s=n,(...e)=>a(s.apply(null,e)));var a,s;return((e,t,n,o,r,a,s)=>({target:e,x:t,y:n,stop:o,prevent:r,kill:a,raw:s}))(t,e.clientX,e.clientY,n,o,r,e)},Ae=(e,t,n,o,r)=>{const a=((e,t)=>n=>{e(n)&&t(_e(n))})(n,o);return e.dom.addEventListener(t,a,r),{unbind:g(Te,e,t,a,r)}},Te=(e,t,n,o)=>{e.dom.removeEventListener(t,n,o)},Oe=b,Ee=(e,t,n)=>((e,t,n,o)=>Ae(e,t,n,o,!1))(e,t,Oe,n),Fe=(e,t,n)=>{((e,t,n)=>{if(!(o(n)||i(n)||d(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(e.dom,t,n)},Ne=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},Re=(e,t)=>{e.dom.removeAttribute(t)},De=e=>void 0!==e.style&&u(e.style.getPropertyValue),je=e=>{const t=fe(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return Se(P.fromDom(t)).fold(()=>n.body.contains(t),(o=je,r=ke,e=>o(r(e))));var o,r},Pe=(e,t,n)=>{if(!o(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);De(e)&&e.style.setProperty(t,n)},$e=(e,t,n)=>{const o=e.dom;Pe(o,t,n)},Me=(e,t)=>{const n=e.dom;((e,t)=>{const n=_(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}})(t,(e,t)=>{Pe(n,t,e)})},Be=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||je(e)?o:ze(n,t)},ze=(e,t)=>De(e)?e.style.getPropertyValue(t):"",Ie=(e,t)=>({left:e,top:t,translate:(n,o)=>Ie(e+n,t+o)}),Le=Ie,We=(e,t,n)=>x(((e,t)=>{const n=u(t)?t:h;let o=e.dom;const r=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){const e=o.parentNode,t=P.fromDom(e);if(r.push(t),!0===n(t))break;o=e}return r})(e,n),t),qe=e=>((e,t)=>{const n=void 0===t?document:t.dom;return 1!==(o=n).nodeType&&9!==o.nodeType&&11!==o.nodeType||0===o.childElementCount?[]:w(n.querySelectorAll(e),P.fromDom);var o})(e),Ue=(e,t,n)=>We(e,e=>$(e,t),n),He=(e,t)=>((e,t)=>x(ve(e),t))(e,e=>$(e,t)),Ve=e=>{const t=void 0===e?window:e;return de().browser.isFirefox()?f.none():f.from(t.visualViewport)},Ze=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),Ke=e=>{const t=void 0===e?window:e,n=t.document,o=(e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return Le(n,o)})(P.fromDom(n));return Ve(t).fold(()=>{const e=t.document.documentElement,n=e.clientWidth,r=e.clientHeight;return Ze(o.left,o.top,n,r)},e=>Ze(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height))},Ge=(e,t,n)=>Ve(n).map(n=>{const o=e=>t(_e(e));return n.addEventListener(e,o),{unbind:()=>n.removeEventListener(e,o)}}).getOrThunk(()=>({unbind:m}));var Je=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ye=tinymce.util.Tools.resolve("tinymce.Env");const Xe=(e,t)=>{e.dispatch("FullscreenStateChanged",{state:t}),e.dispatch("ResizeEditor")},Qe=(et="fullscreen_native",e=>e.options.get(et));var et;const tt=e=>{const t=P.fromDom(e.getElement());return Se(t).map(ke).getOrThunk(()=>(e=>{const t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return P.fromDom(t)})(we(t)))},nt=e=>{return e.dom===(void 0!==(t=we(e).dom).fullscreenElement?t.fullscreenElement:void 0!==t.msFullscreenElement?t.msFullscreenElement:void 0!==t.webkitFullscreenElement?t.webkitFullscreenElement:null);var t},ot="data-ephox-mobile-fullscreen-style",rt="position:absolute!important;",at="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",st=Ye.os.isAndroid(),it=(e,t,n)=>{const o=t=>n=>{const o=Ne(n,"style"),r=void 0===o?"no-styles":o.trim();r!==t&&(Fe(n,ot,r),Me(n,e.parseStyle(t)))},r=Ue(t,"*"),a=k(r,e=>He(e,"*:not(.tox-silver-sink)")),s=(e=>{const t=Be(e,"background-color");return void 0!==t&&""!==t?"background-color:"+t+"!important":"background-color:rgb(255,255,255)!important;"})(n);v(a,o("display:none!important;")),v(r,o(rt+at+s));o((!0===st?"":rt)+at+s)(t)},lt=Je.DOM,ct=Ve().fold(()=>({bind:m,unbind:m}),e=>{const t=(()=>{const e=E(m);return{...e,on:t=>e.get().each(t)}})(),n=F(),o=F(),r=((e,t)=>{let n=null;return{cancel:()=>{s(n)||(clearTimeout(n),n=null)},throttle:(...o)=>{s(n)&&(n=setTimeout(()=>{n=null,e.apply(null,o)},t))}}})(()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0,window.requestAnimationFrame(()=>{t.on(t=>Me(t,{top:e.offsetTop+"px",left:e.offsetLeft+"px",height:e.height+"px",width:e.width+"px"}))})},50);return{bind:e=>{t.set(e),r.throttle(),n.set(Ge("resize",r.throttle)),o.set(Ge("scroll",r.throttle))},unbind:()=>{t.on(()=>{n.clear(),o.clear()}),t.clear()}}}),ut=(e,t)=>{const n=document.body,o=document.documentElement,r=e.getContainer(),a=P.fromDom(r),s=(i=a,f.from(i.dom.nextSibling).map(P.fromDom)).filter(e=>(e=>be(e)&&ge(e.dom))(e)&&((e,t)=>(e=>void 0!==e.dom.classList)(e)&&e.dom.classList.contains(t))(e,"tox-silver-sink"));var i;const l=tt(e),c=t.get(),u=P.fromDom(e.getBody()),d=Ye.deviceType.isTouch(),m=r.style,p=e.iframeElement,g=p?.style,h=e=>{e(n,"tox-fullscreen"),e(o,"tox-fullscreen"),e(r,"tox-fullscreen"),Se(a).map(e=>ke(e).dom).each(t=>{e(t,"tox-fullscreen"),e(t,"tox-shadowhost")})},b=()=>{d&&(e=>{const t=qe("["+ot+"]");v(t,t=>{const n=Ne(t,ot);n&&"no-styles"!==n?Me(t,e.parseStyle(n)):Re(t,"style"),Re(t,ot)})})(e.dom),h(lt.removeClass),ct.unbind(),f.from(t.get()).each(e=>e.fullscreenChangeHandler.unbind())};if(c)c.fullscreenChangeHandler.unbind(),Qe(e)&&nt(l)&&(e=>{const t=e.dom;t.exitFullscreen?t.exitFullscreen():t.msExitFullscreen?t.msExitFullscreen():t.webkitCancelFullScreen&&t.webkitCancelFullScreen()})(we(l)),g.width=c.iframeWidth,g.height=c.iframeHeight,m.width=c.containerWidth,m.height=c.containerHeight,m.top=c.containerTop,m.left=c.containerLeft,w=s,x=c.sinkCssPosition,S=(e,t)=>{$e(e,"position",t)},w.isSome()&&x.isSome()?f.some(S(w.getOrDie(),x.getOrDie())):f.none(),b(),y=c.scrollPos,window.scrollTo(y.x,y.y),t.set(null),Xe(e,!1),e.off("remove",b);else{const n=Ee(we(l),void 0!==document.fullscreenElement?"fullscreenchange":void 0!==document.msFullscreenElement?"MSFullscreenChange":void 0!==document.webkitFullscreenElement?"webkitfullscreenchange":"fullscreenchange",n=>{Qe(e)&&(nt(l)||null===t.get()||ut(e,t))}),o={scrollPos:Ke(window),containerWidth:m.width,containerHeight:m.height,containerTop:m.top,containerLeft:m.left,iframeWidth:g.width,iframeHeight:g.height,fullscreenChangeHandler:n,sinkCssPosition:s.map(e=>Be(e,"position"))};d&&it(e.dom,a,u),g.width=g.height="100%",m.width=m.height="",h(lt.addClass),s.each(e=>{$e(e,"position","fixed")}),ct.bind(a),e.on("remove",b),t.set(o),Qe(e)&&(e=>{const t=e.dom;t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen()})(l),Xe(e,!0)}var y,w,x,S};var dt=tinymce.util.Tools.resolve("tinymce.util.VK");const mt=(e,t)=>n=>{n.setActive(null!==t.get());const o=e=>n.setActive(e.state);return e.on("FullscreenStateChanged",o),()=>e.off("FullscreenStateChanged",o)};R.add("fullscreen",e=>{const t=A(null);return e.inline||((e=>{(0,e.options.register)("fullscreen_native",{processor:"boolean",default:!1})})(e),((e,t)=>{e.addCommand("mceFullScreen",()=>{ut(e,t)})})(e,t),((e,t)=>{const n=()=>e.execCommand("mceFullScreen");e.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:n,onSetup:mt(e,t),context:"any"}),e.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:n,onSetup:mt(e,t),shortcut:"Meta+Shift+F",context:"any"})})(e,t),((e,t)=>{e.on("init",()=>{e.on("keydown",e=>{e.keyCode!==dt.TAB||e.metaKey||e.ctrlKey||!t.get()||e.preventDefault()})})})(e,t),e.addShortcut("Meta+Shift+F","","mceFullScreen")),D(t)})}()},22903:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env");const n=e=>t=>t.options.get(e),o=n("pagebreak_separator"),r=n("pagebreak_split_block"),a="mce-pagebreak",s=e=>{const n=`<img src="${t.transparentSrc}" class="${a}" data-mce-resize="false" data-mce-placeholder />`;return e?`<p>${n}</p>`:n},i=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("pagebreak",e=>{(e=>{const t=e.options.register;t("pagebreak_separator",{processor:"string",default:"\x3c!-- pagebreak --\x3e"}),t("pagebreak_split_block",{processor:"boolean",default:!1})})(e),(e=>{e.addCommand("mcePageBreak",()=>{e.insertContent(s(r(e)))})})(e),(e=>{const t=()=>e.execCommand("mcePageBreak");e.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:t,onSetup:i(e)}),e.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:t,onSetup:i(e)})})(e),(e=>{const t=o(e),n=()=>r(e),i=new RegExp(t.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,e=>"\\"+e),"gi");e.on("BeforeSetContent",e=>{e.content=e.content.replace(i,s(n()))}),e.on("PreInit",()=>{e.serializer.addNodeFilter("img",o=>{let r,s,i=o.length;for(;i--;)if(r=o[i],s=r.attr("class"),s&&-1!==s.indexOf(a)){const o=r.parent;if(o&&e.schema.getBlockElements()[o.name]&&n()){o.type=3,o.value=t,o.raw=!0,r.remove();continue}r.type=3,r.value=t,r.raw=!0}})})})(e),(e=>{e.on("ResolveName",t=>{"IMG"===t.target.nodeName&&e.dom.hasClass(t.target,a)&&(t.name="pagebreak")})})(e)})}()},24855:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(a=String).prototype,o.isPrototypeOf(n)||r.constructor?.name===a.name)?"string":t;var n,o;var r,a})(t)===e,n=t("string"),o=t("object"),r=t("array"),a=e=>!(e=>null==e)(e),s=(i="function",e=>typeof e===i);var i;class l{tag;value;static singletonNone=new l(!1);constructor(e,t){this.tag=e,this.value=t}static some(e){return new l(!0,e)}static none(){return l.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?l.some(e(this.value)):l.none()}bind(e){return this.tag?e(this.value):l.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:l.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(e??"Called getOrDie on None")}static from(e){return a(e)?l.some(e):l.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Array.prototype.slice;const c=Array.prototype.push,u=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},d=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!r(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);c.apply(t,e[n])}return t};s(Array.from)&&Array.from;const m=Object.keys,p=Object.hasOwnProperty,g=(e,t)=>h(e,t)?l.from(e[t]):l.none(),h=(e,t)=>p.call(e,t),b=(e,t)=>((e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t)(e,t,0),f=e=>t=>t.options.get(e),y=f("audio_template_callback"),w=f("video_template_callback"),v=f("iframe_template_callback"),x=f("media_live_embeds"),S=f("media_filter_html"),k=f("media_url_resolver"),C=f("media_alt_source"),_=f("media_poster"),A=f("media_dimensions");var T=tinymce.util.Tools.resolve("tinymce.util.Tools"),O=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),E=tinymce.util.Tools.resolve("tinymce.html.DomParser");const F=O.DOM,N=e=>e.replace(/px$/,""),R=e=>{const t=e.attr("style"),n=t?F.parseStyle(t):{};return{type:"ephox-embed-iri",source:e.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:g(n,"max-width").map(N).getOr(""),height:g(n,"max-height").map(N).getOr("")}},D=(e,t)=>{let n={};for(let o=E({validate:!1,forced_root_block:!1},t).parse(e);o;o=o.walk())if(1===o.type){const e=o.name;if(o.attr("data-ephox-embed-iri")){n=R(o);break}n.source||"param"!==e||(n.source=o.attr("movie")),"iframe"!==e&&"object"!==e&&"embed"!==e&&"video"!==e&&"audio"!==e||(n.type||(n.type=e),n=T.extend(o.attributes.map,n)),"source"===e&&(n.source?n.altsource||(n.altsource=o.attr("src")):n.source=o.attr("src")),"img"!==e||n.poster||(n.poster=o.attr("src"))}return n.source=n.source||n.src||"",n.altsource=n.altsource||"",n.poster=n.poster||"",n},j=e=>{const t=e.toLowerCase().split(".").pop()??"";return g({mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},t).getOr("")};var P=tinymce.util.Tools.resolve("tinymce.html.Node"),$=tinymce.util.Tools.resolve("tinymce.html.Serializer");const M=(e,t={})=>E({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...t},e),B=O.DOM,z=e=>/^[0-9.]+$/.test(e)?e+"px":e,I=(e,t)=>{const n=t.attr("style"),o=n?B.parseStyle(n):{};a(e.width)&&(o["max-width"]=z(e.width)),a(e.height)&&(o["max-height"]=z(e.height)),t.attr("style",B.serializeStyle(o))},L=["source","altsource"],W=(e,t,n,o)=>{let r=0,a=0;const s=M(o);s.addNodeFilter("source",e=>r=e.length);const i=s.parse(e);for(let e=i;e;e=e.walk())if(1===e.type){const o=e.name;if(e.attr("data-ephox-embed-iri")){I(t,e);break}switch(o){case"video":case"object":case"embed":case"img":case"iframe":void 0!==t.height&&void 0!==t.width&&(e.attr("width",t.width),e.attr("height",t.height))}if(n)switch(o){case"video":e.attr("poster",t.poster),e.attr("src",null);for(let n=r;n<2;n++)if(t[L[n]]){const o=new P("source",1);o.attr("src",t[L[n]]),o.attr("type",t[L[n]+"mime"]||null),e.append(o)}break;case"iframe":e.attr("src",t.source);break;case"object":const n=e.getAll("img").length>0;if(t.poster&&!n){e.attr("src",t.poster);const n=new P("img",1);n.attr("src",t.poster),n.attr("width",t.width),n.attr("height",t.height),e.append(n)}break;case"source":if(a<2&&(e.attr("src",t[L[a]]),e.attr("type",t[L[a]+"mime"]||null),!t[L[a]])){e.remove();continue}a++;break;case"img":t.poster||e.remove()}}return $({},o).serialize(i)},q=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],U=(e,t)=>{const n=(e=>{const t=e.match(/^(https?:\/\/|www\.)(.+)$/i);return t&&t.length>1?"www."===t[1]?"https://":t[1]:"https://"})(t),o=e.regex.exec(t);let r=n+e.url;if(a(o))for(let e=0;e<o.length;e++)r=r.replace("$"+e,()=>o[e]?o[e]:"");return r.replace(/\?$/,"")},H=e=>{const t=q.filter(t=>t.regex.test(e));return t.length>0?T.extend({},t[0],{url:U(t[0],e)}):null},V=(e,t)=>{const n=T.extend({},t);if(!n.source&&(T.extend(n,D(n.embed??"",e.schema)),!n.source))return"";n.altsource||(n.altsource=""),n.poster||(n.poster=""),n.source=e.convertURL(n.source,"source"),n.altsource=e.convertURL(n.altsource,"source"),n.sourcemime=j(n.source),n.altsourcemime=j(n.altsource),n.poster=e.convertURL(n.poster,"poster");const o=H(n.source);if(o&&(n.source=o.url,n.type=o.type,n.allowfullscreen=o.allowFullscreen,n.width=n.width||String(o.w),n.height=n.height||String(o.h)),n.embed)return W(n.embed,n,!0,e.schema);{const t=y(e),o=w(e),r=v(e);return n.width=n.width||"300",n.height=n.height||"150",T.each(n,(t,o)=>{n[o]=e.dom.encode(""+t)}),"iframe"===n.type?((e,t)=>{if(t)return t(e);{const t=e.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+e.source+'" width="'+e.width+'" height="'+e.height+'"'+t+"></iframe>"}})(n,r):"application/x-shockwave-flash"===n.sourcemime?(e=>{let t='<object data="'+e.source+'" width="'+e.width+'" height="'+e.height+'" type="application/x-shockwave-flash">';return e.poster&&(t+='<img src="'+e.poster+'" width="'+e.width+'" height="'+e.height+'" />'),t+="</object>",t})(n):-1!==n.sourcemime.indexOf("audio")?((e,t)=>t?t(e):'<audio controls="controls" src="'+e.source+'">'+(e.altsource?'\n<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</audio>")(n,t):((e,t)=>t?t(e):'<video width="'+e.width+'" height="'+e.height+'"'+(e.poster?' poster="'+e.poster+'"':"")+' controls="controls">\n<source src="'+e.source+'"'+(e.sourcemime?' type="'+e.sourcemime+'"':"")+" />\n"+(e.altsource?'<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</video>")(n,o)}},Z=e=>e.hasAttribute("data-mce-object")||e.hasAttribute("data-ephox-embed-iri"),K={},G=e=>t=>V(e,t),J=(e,t)=>{const n=k(e);return n?((e,t,n)=>new Promise((o,r)=>{const a=n=>(n.html&&(K[e.source]=n),o({url:e.source,html:n.html?n.html:t(e)}));K[e.source]?a(K[e.source]):n({url:e.source}).then(a).catch(r)}))(t,G(e),n):((e,t)=>Promise.resolve({html:t(e),url:e.source}))(t,G(e))},Y=(e,t)=>{const n={};return g(e,"dimensions").each(e=>{u(["width","height"],o=>{g(t,o).orThunk(()=>g(e,o)).each(e=>n[o]=e)})}),n},X=(e,t)=>{const n=t&&"dimensions"!==t?((e,t)=>g(t,e).bind(e=>g(e,"meta")))(t,e).getOr({}):{},r=((e,t,n)=>r=>{const a=()=>g(e,r),s=()=>g(t,r),i=e=>g(e,"value").bind(e=>e.length>0?l.some(e):l.none());return{[r]:(r===n?a().bind(e=>o(e)?i(e).orThunk(s):s().orThunk(()=>l.from(e))):s().orThunk(()=>a().bind(e=>o(e)?i(e):l.from(e)))).getOr("")}})(e,n,t);return{...r("source"),...r("altsource"),...r("poster"),...r("embed"),...Y(e,n)}},Q=e=>{const t={...e,source:{value:g(e,"source").getOr("")},altsource:{value:g(e,"altsource").getOr("")},poster:{value:g(e,"poster").getOr("")}};return u(["width","height"],n=>{g(e,n).each(e=>{const o=t.dimensions||{};o[n]=e,t.dimensions=o})}),t},ee=e=>t=>{const n=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.";e.notificationManager.open({type:"error",text:n})},te=(e,t)=>o=>{if(n(o.url)&&o.url.trim().length>0){const n=o.html,r={...D(n,t.schema),source:o.url,embed:n};e.setData(Q(r))}},ne=(e,t)=>{const n=e.dom.select("*[data-mce-object]");e.insertContent(t),((e,t)=>{const n=e.dom.select("*[data-mce-object]");for(let e=0;e<t.length;e++)for(let o=n.length-1;o>=0;o--)t[e]===n[o]&&n.splice(o,1);e.selection.select(n[0])})(e,n),e.nodeChanged()},oe=(e,t)=>a(t)&&"ephox-embed-iri"===t&&a(H(e)),re=(e,t)=>((e,t)=>e.width!==t.width||e.height!==t.height)(e,t)&&oe(t.source,e.type),ae=(e,t,n)=>{var o;t.embed=re(e,t)&&A(n)?V(n,{...t,embed:""}):W(t.embed??"",t,!1,n.schema),t.embed&&(e.source===t.source||(o=t.source,h(K,o)))?ne(n,t.embed):J(n,t).then(e=>{ne(n,e.html)}).catch(ee(n))},se=e=>{const t=(e=>{const t=e.selection.getNode(),n=Z(t)?e.serializer.serialize(t,{selection:!0}):"",o=D(n,e.schema),r=(()=>{if(oe(o.source,o.type)){const n=e.dom.getRect(t);return{width:n.w.toString().replace(/px$/,""),height:n.h.toString().replace(/px$/,"")}}return{}})();return{embed:n,...o,...r}})(e),n=(e=>{let t=e;return{get:()=>t,set:e=>{t=e}}})(t),o=Q(t),r=A(e)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],a={title:"General",name:"general",items:d([[{name:"source",type:"urlinput",filetype:"media",label:"Source",picker_text:"Browse files"}],r])},s={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},i=[];C(e)&&i.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),_(e)&&i.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const l={title:"Advanced",name:"advanced",items:i},c=[a,s];i.length>0&&c.push(l);const u={type:"tabpanel",tabs:c},m=e.windowManager.open({title:"Insert/Edit Media",size:"normal",body:u,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:t=>{const o=X(t.getData());ae(n.get(),o,e),t.close()},onChange:(t,o)=>{switch(o.name){case"source":((t,n)=>{const o=X(n.getData(),"source");t.source!==o.source&&(te(m,e)({url:o.source,html:""}),J(e,o).then(te(m,e)).catch(ee(e)))})(n.get(),t);break;case"embed":(t=>{const n=X(t.getData()),o=D(n.embed??"",e.schema);t.setData(Q(o))})(t);break;case"dimensions":case"altsource":case"poster":((t,n,o)=>{const r=X(t.getData(),n),a=re(o,r)&&A(e)?{...r,embed:""}:r,s=V(e,a);t.setData(Q({...a,embed:s}))})(t,o.name,n.get())}n.set(X(t.getData()))},initialData:o})};var ie=tinymce.util.Tools.resolve("tinymce.Env");const le=e=>{const t=e.name;return"iframe"===t||"video"===t||"audio"===t},ce=(e,t,n,o=null)=>{const r=e.attr(n);return a(r)?r:h(t,n)?null:o},ue=(e,t,n)=>{const o="img"===t.name||"video"===e.name,r=o?"300":null,a="audio"===e.name?"30":"150",s=o?a:null;t.attr({width:ce(e,n,"width",r),height:ce(e,n,"height",s)})},de=(e,t)=>{const n=t.name,o=new P("img",1);return pe(e,t,o),ue(t,o,{}),o.attr({style:t.attr("style"),src:ie.transparentSrc,"data-mce-object":n,class:"mce-object mce-object-"+n}),o},me=(e,t)=>{const n=t.name,o=new P("span",1);o.attr({contentEditable:"false",style:t.attr("style"),"data-mce-object":n,class:"mce-preview-object mce-object-"+n}),pe(e,t,o);const r=e.dom.parseStyle(t.attr("style")??""),s=new P(n,1);if(ue(t,s,r),s.attr({src:t.attr("src"),style:t.attr("style"),class:t.attr("class")}),"iframe"===n)s.attr({allowfullscreen:t.attr("allowfullscreen"),frameborder:"0",sandbox:t.attr("sandbox"),referrerpolicy:t.attr("referrerpolicy")});else{u(["controls","crossorigin","currentTime","loop","muted","poster","preload"],e=>{s.attr(e,t.attr(e))});const r=o.attr("data-mce-html");a(r)&&((e,t,n,o)=>{const r=M(e.schema).parse(o,{context:t});for(;r.firstChild;)n.append(r.firstChild)})(e,n,s,unescape(r))}const i=new P("span",1);return i.attr("class","mce-shim"),o.append(s),o.append(i),o},pe=(e,t,n)=>{const o=t.attributes??[];let r=o.length;for(;r--;){const t=o[r].name;let a=o[r].value;"width"===t||"height"===t||"style"===t||b(t,"data-mce-")||("data"!==t&&"src"!==t||(a=e.convertURL(a,t)),n.attr("data-mce-p-"+t,a))}const a=$({inner:!0},e.schema),s=new P("div",1);u(t.children(),e=>s.append(e));const i=a.serialize(s);i&&(n.attr("data-mce-html",escape(i)),n.empty())},ge=e=>{const t=e.attr("class");return n(t)&&/\btiny-pageembed\b/.test(t)},he=e=>{let t=e;for(;t=t.parent;)if(t.attr("data-ephox-embed-iri")||ge(t))return!0;return!1},be=(e,t,n)=>{const o=(0,e.options.get)("xss_sanitization"),r=S(e);return M(e.schema,{sanitize:o,validate:r}).parse(n,{context:t})},fe=e=>{e.on("PreInit",()=>{const{schema:t,serializer:n,parser:o}=e,r=t.getBoolAttrs();u("webkitallowfullscreen mozallowfullscreen".split(" "),e=>{r[e]={}}),((e,t)=>{const n=m(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}})({embed:["wmode"]},(e,n)=>{const o=t.getElementRule(n);o&&u(e,e=>{o.attributes[e]={},o.attributesOrder.push(e)})}),o.addNodeFilter("iframe,video,audio,object,embed",(e=>t=>{let n,o=t.length;for(;o--;)n=t[o],n.parent&&(n.parent.attr("data-mce-object")||(le(n)&&x(e)?he(n)||n.replace(me(e,n)):he(n)||n.replace(de(e,n))))})(e)),n.addAttributeFilter("data-mce-object",(t,n)=>{let o=t.length;for(;o--;){const r=t[o];if(!r.parent)continue;const a=r.attr(n),s=new P(a,1);if("audio"!==a){const e=r.attr("class");e&&-1!==e.indexOf("mce-preview-object")&&r.firstChild?s.attr({width:r.firstChild.attr("width"),height:r.firstChild.attr("height")}):s.attr({width:r.attr("width"),height:r.attr("height")})}s.attr({style:r.attr("style")});const i=r.attributes??[];let l=i.length;for(;l--;){const e=i[l].name;0===e.indexOf("data-mce-p-")&&s.attr(e.substr(11),i[l].value)}const c=r.attr("data-mce-html");if(c){const t=be(e,a,unescape(c));u(t.children(),e=>s.append(e))}r.replace(s)}})}),e.on("SetContent",()=>{const t=e.dom;u(t.select("span.mce-preview-object"),e=>{0===t.select("span.mce-shim",e).length&&t.add(e,"span",{class:"mce-shim"})})})},ye=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("media",e=>((e=>{const t=e.options.register;t("audio_template_callback",{processor:"function"}),t("video_template_callback",{processor:"function"}),t("iframe_template_callback",{processor:"function"}),t("media_live_embeds",{processor:"boolean",default:!0}),t("media_filter_html",{processor:"boolean",default:!0}),t("media_url_resolver",{processor:"function"}),t("media_alt_source",{processor:"boolean",default:!0}),t("media_poster",{processor:"boolean",default:!0}),t("media_dimensions",{processor:"boolean",default:!0})})(e),(e=>{e.addCommand("mceMedia",()=>{se(e)})})(e),(e=>{const t=()=>e.execCommand("mceMedia");e.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:t,onSetup:t=>{const n=e.selection;t.setActive(Z(n.getNode()));const o=n.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",t.setActive).unbind,r=ye(e)(t);return()=>{o(),r()}}}),e.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:t,onSetup:ye(e)})})(e),(e=>{e.on("ResolveName",e=>{let t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)})})(e),fe(e),(e=>{e.on("mousedown",t=>{const n=e.dom.getParent(t.target,".mce-preview-object");n&&"2"===e.dom.getAttrib(n,"data-mce-selected")&&t.stopImmediatePropagation()}),e.on("click keyup touchend",()=>{const t=e.selection.getNode();t&&e.dom.hasClass(t,"mce-preview-object")&&e.dom.getAttrib(t,"data-mce-selected")&&t.setAttribute("data-mce-selected","2")}),e.on("ObjectResized",t=>{const n=t.target;if(n.getAttribute("data-mce-object")){let o=n.getAttribute("data-mce-html");o&&(o=unescape(o),n.setAttribute("data-mce-html",escape(W(o,{width:String(t.width),height:String(t.height)},!1,e.schema))))}})})(e),(e=>({showDialog:()=>{se(e)}}))(e)))}()},27524:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>!(e=>null==e)(e),n=(o="function",e=>typeof e===o);var o;const r=(e,t)=>e===t,a=(s=!1,()=>s);var s;class i{tag;value;static singletonNone=new i(!1);constructor(e,t){this.tag=e,this.value=t}static some(e){return new i(!0,e)}static none(){return i.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?i.some(e(this.value)):i.none()}bind(e){return this.tag?e(this.value):i.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:i.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(e??"Called getOrDie on None")}static from(e){return t(e)?i.some(e):i.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const l=Array.prototype.slice,c=(e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return i.some(r);if(n(r,o))break}return i.none()};n(Array.from)&&Array.from;const u=(e,t,n=r)=>e.exists(e=>n(e,t)),d=(m=/^\s+|\s+$/g,e=>e.replace(m,""));var m;const p=e=>{const t=(e=>{const t=l.call(e,0);return t.reverse(),t})(d(e).split("")),n=((e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o})(t,(e,t)=>{const n=e.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,t)*n});return o=(e,t)=>e+t,r=0,((e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)})(n,(e,t)=>{r=o(r,e,t)}),r;var o,r},g=e=>{if(--e<0)return"";{const t=e%26,n=Math.floor(e/26);return g(n)+String.fromCharCode("A".charCodeAt(0)+t)}},h=e=>{const t=parseInt(e.start,10);return u(e.listStyleType,"upper-alpha")?g(t):u(e.listStyleType,"lower-alpha")?g(t).toLowerCase():e.start},b=(f="forced_root_block",e=>e.options.get(f));var f;const y=e=>n=>t(n)&&e.test(n.nodeName),w=y(/^(OL|UL|DL)$/),v=y(/^(TH|TD)$/),x=y(/^(LI|DT|DD)$/),S=(e,t)=>c(e,w,v).exists(e=>e.nodeName===t&&!(e=>/\btox\-/.test(e.className))(e)),k=(e,t)=>{const n=e.selection.getNode();return t({parents:e.dom.getParents(n),element:n}),e.on("NodeChange",t),()=>e.off("NodeChange",t)},C=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return((e,t)=>null!==t&&!e.dom.isEditable(t))(e,n)||!e.selection.isEditable()},_=(e=>n=>t(n)&&n.nodeName.toLowerCase()===e)("ol"),A=["OL","UL","DL"],T=A.join(","),O=(e,t)=>{const n=t||e.selection.getStart(!0);return e.dom.getParent(n,T,E(e,n))},E=(e,t)=>{const n=e.dom.getParents(t,e.dom.isBlock),o=(r=t=>(t=>t.nodeName.toLowerCase()!==b(e))(t)&&F(e.schema,t),c(n,r,a));var r;return o.getOr(e.getBody())},F=(e,t)=>!w(t)&&!x(t)&&((e,t)=>{for(let n=0,o=e.length;n<o;n++)if(t(e[n],n))return!0;return!1})(A,n=>e.isValidChild(t.nodeName,n)),N=e=>{const t=O(e);_(t)&&!C(e,t)&&e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:h({start:e.dom.getAttrib(t,"start","1"),listStyleType:i.from(e.dom.getStyle(t,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:t=>{(e=>{switch((e=>/^[0-9]+$/.test(e)?2:/^[A-Z]+$/.test(e)?0:(e=>/^[a-z]+$/.test(e))(e)?1:e.length>0?4:3)(e)){case 2:return i.some({listStyleType:i.none(),start:e});case 0:return i.some({listStyleType:i.some("upper-alpha"),start:p(e).toString()});case 1:return i.some({listStyleType:i.some("lower-alpha"),start:p(e).toString()});case 3:return i.some({listStyleType:i.none(),start:""});case 4:return i.none()}})(t.getData().start).each(t=>{e.execCommand("mceListUpdate",!1,{attrs:{start:"1"===t.start?"":t.start},styles:{"list-style-type":t.listStyleType.getOr("")}})}),t.close()}})},R=(e,t)=>n=>(n.setEnabled(e.selection.isEditable()),k(e,o=>{n.setActive(S(o.parents,t)),n.setEnabled(!C(e,o.element)&&e.selection.isEditable())})),D=(e,t)=>n=>k(e,o=>n.setEnabled(S(o.parents,t)&&!C(e,o.element)));e.add("lists",e=>((e=>{e.addCommand("mceListProps",()=>{N(e)})})(e),(e=>{const t=t=>()=>e.execCommand(t);e.hasPlugin("advlist")||(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:R(e,"OL")}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:R(e,"UL")}))})(e),(e=>{const t={text:"List properties...",icon:"ordered-list",onAction:()=>e.execCommand("mceListProps"),onSetup:D(e,"OL")};e.ui.registry.addMenuItem("listprops",t),e.ui.registry.addContextMenu("lists",{update:t=>{const n=O(e,t);return _(n)?["listprops"]:[]}})})(e),(e=>({backspaceDelete:t=>{e.execCommand("mceListBackspaceDelete",!1,t)}}))(e)))}()},27813:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>"function"==typeof e,n=e=>()=>e,o=e=>e,r=n(!1);class a{tag;value;static singletonNone=new a(!1);constructor(e,t){this.tag=e,this.value=t}static some(e){return new a(!0,e)}static none(){return a.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?a.some(e(this.value)):a.none()}bind(e){return this.tag?e(this.value):a.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:a.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(e??"Called getOrDie on None")}static from(e){return null==e?a.none():a.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Array.prototype.slice;const s=Array.prototype.indexOf,i=(e,t)=>((e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return a.some(r);if(n(r,o))break}return a.none()})(e,t,r);t(Array.from)&&Array.from;const l=Object.keys,c=(e,t)=>{const n=[];return((e,t)=>{const n=l(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}})(e,(e,o)=>{n.push(t(e,o))}),n},u=(e,t,n=0,o)=>{const r=e.indexOf(t,n);return-1!==r&&(!!(e=>void 0===e)(o)||r+t.length<=o)},d=()=>m(0,0),m=(e,t)=>({major:e,minor:t}),p={nu:m,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?d():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}})(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return m(o(1),o(2))})(e,n)},unknown:d},g=(e,t)=>{const n=String(t).toLowerCase();return i(e,e=>e.search(n))},h=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,b=e=>t=>u(t,e),f=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>u(e,"edge/")&&u(e,"chrome")&&u(e,"safari")&&u(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,h],search:e=>u(e,"chrome")&&!u(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>u(e,"msie")||u(e,"trident")},{name:"Opera",versionRegexes:[h,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:b("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:b("firefox")},{name:"Safari",versionRegexes:[h,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(u(e,"safari")||u(e,"mobile/"))&&u(e,"applewebkit")}],y=[{name:"Windows",search:b("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>u(e,"iphone")||u(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:b("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:b("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:b("linux"),versionRegexes:[]},{name:"Solaris",search:b("sunos"),versionRegexes:[]},{name:"FreeBSD",search:b("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:b("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],w={browsers:n(f),oses:n(y)},v="Edge",x="Chromium",S="Opera",k="Firefox",C="Safari",_=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(v),isChromium:o(x),isIE:o("IE"),isOpera:o(S),isFirefox:o(k),isSafari:o(C)}},A=()=>_({current:void 0,version:p.unknown()}),T=_,O=(n(v),n(x),n("IE"),n(S),n(k),n(C),"Windows"),E="Android",F="Linux",N="macOS",R="Solaris",D="FreeBSD",j="ChromeOS",P=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(O),isiOS:o("iOS"),isAndroid:o(E),isMacOS:o(N),isLinux:o(F),isSolaris:o(R),isFreeBSD:o(D),isChromeOS:o(j)}},$=()=>P({current:void 0,version:p.unknown()}),M=P,B=(n(O),n("iOS"),n(E),n(F),n(N),n(R),n(D),n(j),(e,t,o)=>{const r=w.browsers(),s=w.oses(),l=t.bind(e=>((e,t)=>((e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n]);if(o.isSome())return o}return a.none()})(t.brands,t=>{const n=t.brand.toLowerCase();return i(e,e=>n===e.brand?.toLowerCase()).map(e=>({current:e.name,version:p.nu(parseInt(t.version,10),0)}))}))(r,e)).orThunk(()=>((e,t)=>g(e,t).map(e=>{const n=p.detect(e.versionRegexes,t);return{current:e.name,version:n}}))(r,e)).fold(A,T),c=((e,t)=>g(e,t).map(e=>{const n=p.detect(e.versionRegexes,t);return{current:e.name,version:n}}))(s,e).fold($,M),u=((e,t,o,r)=>{const a=e.isiOS()&&!0===/ipad/i.test(o),s=e.isiOS()&&!a,i=e.isiOS()||e.isAndroid(),l=i||r("(pointer:coarse)"),c=a||!s&&i&&r("(min-device-width:768px)"),u=s||i&&!c,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(o),m=!u&&!c&&!d;return{isiPad:n(a),isiPhone:n(s),isTablet:n(c),isPhone:n(u),isTouch:n(l),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:n(d),isDesktop:n(m)}})(c,l,e,o);return{browser:l,os:c,deviceType:u}}),z=e=>window.matchMedia(e).matches;let I=(e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)})(()=>B(window.navigator.userAgent,a.from(window.navigator.userAgentData),z));const L=()=>I();var W=tinymce.util.Tools.resolve("tinymce.dom.ScriptLoader"),q=tinymce.util.Tools.resolve("tinymce.util.Tools");const U=e=>t=>t.options.get(e),H=U("content_style"),V=U("content_css_cors"),Z=U("body_class"),K=U("body_id"),G=e=>{var n;return((e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n)}return o})(((e,n)=>{const o=[],r=t(n)?e=>((e,t)=>{for(let n=0,o=e.length;n<o;n++)if(t(e[n]))return!0;return!1})(o,t=>n(t,e)):e=>((e,t)=>((e,t)=>s.call(e,t))(e,t)>-1)(o,e);for(let t=0,n=e.length;t<n;t++){const n=e[t];r(n)||o.push(n)}return o})((n=e.schema.getComponentUrls(),c(n,o))),t=>{const n=c(W.ScriptLoader.getScriptAttributes(t),(t,n)=>` ${e.dom.encode(n)}="${e.dom.encode(t)}"`);return`<script src="${e.dom.encode(t)}"${n.join("")}><\/script>`}).join("")};e.add("preview",e=>{(e=>{e.addCommand("mcePreview",()=>{(e=>{const t=(e=>{let t="";const n=e.dom.encode,o=H(e)??"";t+=`<base href="${n(e.documentBaseURI.getURI())}">`;const r=V(e)?' crossorigin="anonymous"':"";q.each(e.contentCSS,o=>{t+='<link type="text/css" rel="stylesheet" href="'+n(e.documentBaseURI.toAbsolute(o))+'"'+r+">"}),o&&(t+='<style type="text/css">'+o+"</style>"),t+=G(e);const a=K(e),s=Z(e),i=e.getBody().dir,l=i?' dir="'+n(i)+'"':"";return"<!DOCTYPE html><html><head>"+t+'</head><body id="'+n(a)+'" class="mce-content-body '+n(s)+'"'+l+">"+e.getContent()+(()=>{const e=L().os.isMacOS()||L().os.isiOS();return`<script>(${(e=>{document.addEventListener("click",t=>{for(let n=t.target;n;n=n.parentNode)if("A"===n.nodeName){const o=n.getAttribute("href");if(o&&o.startsWith("#")){t.preventDefault();const e=document.getElementById(o.substring(1));return void(e&&e.scrollIntoView({behavior:"smooth"}))}(e?t.metaKey:t.ctrlKey&&!t.altKey)||t.preventDefault()}},!1)}).toString()})(${e})<\/script>`})()+"</body></html>"})(e);e.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:t}}).focus("close")})(e)})})(e),(e=>{const t=()=>e.execCommand("mcePreview");e.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:t,context:"any"}),e.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:t,context:"any"})})(e)})}()},31148:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");e.add("code",e=>((e=>{e.addCommand("mceCodeEditor",()=>{(e=>{const t=(e=>e.getContent({source_view:!0}))(e);e.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code",spellcheck:!1}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:t},onSubmit:t=>{((e,t)=>{e.focus(),e.undoManager.transact(()=>{e.setContent(t)}),e.selection.setCursorLocation(),e.nodeChanged()})(e,t.getData().code),t.close()}})})(e)})})(e),(e=>{const t=()=>e.execCommand("mceCodeEditor");e.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:t}),e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:t})})(e),{}))}()},33846:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>!(e=>null==e)(e),n=(e,t)=>e===t,o=()=>!1;class r{tag;value;static singletonNone=new r(!1);constructor(e,t){this.tag=e,this.value=t}static some(e){return new r(!0,e)}static none(){return r.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?r.some(e(this.value)):r.none()}bind(e){return this.tag?e(this.value):r.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:r.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(e??"Called getOrDie on None")}static from(e){return t(e)?r.some(e):r.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const a=Array.prototype.slice,s=(e,t,n)=>{for(let o=0,a=e.length;o<a;o++){const a=e[o];if(t(a,o))return r.some(a);if(n(a,o))break}return r.none()};(e=>"function"==typeof e)(Array.from)&&Array.from;const i=(e,t,o=n)=>e.exists(e=>o(e,t)),l=(c=/^\s+|\s+$/g,e=>e.replace(c,""));var c;const u=e=>{const t=(e=>{const t=a.call(e,0);return t.reverse(),t})(l(e).split("")),n=((e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o})(t,(e,t)=>{const n=e.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,t)*n});return o=(e,t)=>e+t,r=0,((e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)})(n,(e,t)=>{r=o(r,e)}),r;var o,r},d=e=>{if(--e<0)return"";{const t=e%26,n=Math.floor(e/26);return d(n)+String.fromCharCode("A".charCodeAt(0)+t)}},m=e=>{const t=parseInt(e.start,10);return i(e.listStyleType,"upper-alpha")?d(t):i(e.listStyleType,"lower-alpha")?d(t).toLowerCase():e.start},p=e=>n=>t(n)&&e.test(n.nodeName),g=p(/^(OL|UL|DL)$/),h=p(/^(TH|TD)$/),b=p(/^(LI|DT|DD)$/),f=(e,t)=>s(e,g,h).exists(e=>e.nodeName===t&&!(e=>/\btox\-/.test(e.className))(e)),y=(e,t)=>{const n=e.selection.getNode();return t({parents:e.dom.getParents(n),element:n}),e.on("NodeChange",t),()=>e.off("NodeChange",t)},w=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return((e,t)=>null!==t&&!e.dom.isEditable(t))(e,n)||!e.selection.isEditable()},v=e=>t(e)&&"ol"===e.nodeName.toLowerCase(),x=["OL","UL","DL"],S=x.join(","),k=(e,t)=>{const n=t||e.selection.getStart(!0);return e.dom.getParent(n,S,C(e,n))},C=(e,t)=>{const n=e.dom.getParents(t,e.dom.isBlock),r=(a=t=>(t=>t.nodeName.toLowerCase()!==(e=>e.options.get("forced_root_block"))(e))(t)&&_(e.schema,t),s(n,a,o));var a;return r.getOr(e.getBody())},_=(e,t)=>!g(t)&&!b(t)&&(n=>{for(let r=0,a=n.length;r<a;r++)if(o=n[r],e.isValidChild(t.nodeName,o))return!0;var o;return!1})(x),A=(e,t)=>n=>(n.setEnabled(e.selection.isEditable()),y(e,o=>{n.setActive(f(o.parents,t)),n.setEnabled(!w(e,o.element)&&e.selection.isEditable())})),T=(e,t)=>n=>y(e,o=>n.setEnabled(f(o.parents,t)&&!w(e,o.element)));e.add("lists",e=>((e=>{e.addCommand("mceListProps",()=>{(e=>{const t=k(e);v(t)&&!w(e,t)&&e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:m({start:e.dom.getAttrib(t,"start","1"),listStyleType:r.from(e.dom.getStyle(t,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:t=>{(e=>{switch((e=>/^[0-9]+$/.test(e)?2:/^[A-Z]+$/.test(e)?0:/^[a-z]+$/.test(e)?1:e.length>0?4:3)(e)){case 2:return r.some({listStyleType:r.none(),start:e});case 0:return r.some({listStyleType:r.some("upper-alpha"),start:u(e).toString()});case 1:return r.some({listStyleType:r.some("lower-alpha"),start:u(e).toString()});case 3:return r.some({listStyleType:r.none(),start:""});case 4:return r.none()}})(t.getData().start).each(t=>{e.execCommand("mceListUpdate",!1,{attrs:{start:"1"===t.start?"":t.start},styles:{"list-style-type":t.listStyleType.getOr("")}})}),t.close()}})})(e)})})(e),(e=>{const t=t=>()=>e.execCommand(t);e.hasPlugin("advlist")||(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:A(e,"OL")}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:A(e,"UL")}))})(e),(e=>{const t={text:"List properties...",icon:"ordered-list",onAction:()=>e.execCommand("mceListProps"),onSetup:T(e,"OL")};e.ui.registry.addMenuItem("listprops",t),e.ui.registry.addContextMenu("lists",{update:t=>{const n=k(e,t);return v(n)?["listprops"]:[]}})})(e),(e=>({backspaceDelete:t=>{e.execCommand("mceListBackspaceDelete",!1,t)}}))(e)))}()},34328:function(){!function(){"use strict";const e=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(a=String).prototype,o.isPrototypeOf(n)||r.constructor?.name===a.name)?"string":t;var n,o;var r,a})(t)===e,t=e=>t=>typeof t===e,n=e("string"),o=e("object"),r=(a=null,e=>a===e);var a;const s=t("boolean"),i=t("function"),l=t("number");class c{tag;value;static singletonNone=new c(!1);constructor(e,t){this.tag=e,this.value=t}static some(e){return new c(!0,e)}static none(){return c.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?c.some(e(this.value)):c.none()}bind(e){return this.tag?e(this.value):c.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:c.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(e??"Called getOrDie on None")}static from(e){return(e=>null==e)(e)?c.none():c.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Array.prototype.slice;const u=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}};i(Array.from)&&Array.from;const d=Object.keys,m=(e,t)=>{const n=d(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},p="undefined"!=typeof window?window:Function("return this;")(),g=(e,t)=>((e,t)=>{let n=null!=t?t:p;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t);var h=tinymce.util.Tools.resolve("tinymce.PluginManager");const b=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},f={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return b(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return b(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return b(n)},fromDom:b,fromPoint:(e,t,n)=>c.from(e.dom.elementFromPoint(t,n)).map(b)},y=(e,t)=>{const n=((e,t)=>g(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n},w=Object.getPrototypeOf,v=e=>{const t=g("ownerDocument.defaultView",e);return o(e)&&((e=>y("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(w(e).constructor.name))},x=e=>e.dom.nodeValue,S=e=>t=>(e=>e.dom.nodeType)(t)===e,k=e=>C(e)&&v(e.dom),C=S(1),_=S(3),A=(e,t,o)=>{((e,t,o)=>{if(!(n(o)||s(o)||l(o)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,o+"")})(e.dom,t,o)},T=(e,t)=>{e.dom.removeAttribute(t)},O=(e,t)=>{const n=((e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n})(e,t);return void 0===n||""===n?[]:n.split(" ")},E=e=>void 0!==e.dom.classList,F=(e,t)=>((e,t,n)=>{const o=O(e,t).concat([n]);return A(e,t,o.join(" ")),!0})(e,"class",t),N=(e,t)=>((e,t,n)=>{const o=((e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n})(O(e,t),e=>e!==n);return o.length>0?A(e,t,o.join(" ")):T(e,t),!1})(e,"class",t),R=e=>{const t=E(e)?e.dom.classList:(e=>O(e,"class"))(e);0===t.length&&T(e,"class")},D=e=>e.dom.contentEditable,j={" ":"nbsp","­":"shy"},P=(e,t)=>{let n="";return m(e,(e,t)=>{n+=t}),new RegExp("["+n+"]",t?"g":"")},$=P(j),M=P(j,!0),B=(e=>{let t="";return m(e,e=>{t&&(t+=","),t+="span.mce-"+e}),t})(j),z="mce-nbsp",I=e=>'<span data-mce-bogus="1" class="mce-'+j[e]+'">'+e+"</span>",L=e=>"span"===e.nodeName.toLowerCase()&&e.classList.contains("mce-nbsp-wrap"),W=e=>{const t=x(e);return _(e)&&n(t)&&$.test(t)},q=(e,t,n)=>{let o=[];const r=((e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o})(e.dom.childNodes,f.fromDom),a=e=>L(e.dom)||!(e=>k(e)&&"false"===D(e))(e);return u(r,e=>{n&&a(e)&&t(e)&&(o=o.concat([e])),o=o.concat(q(e,t,((e,t)=>{if(k(e)&&!L(e.dom)){const t=D(e);if("true"===t)return!0;if("false"===t)return!1}return t})(e,n)))}),o},U=(e,t)=>{const n=e.dom,o=q(f.fromDom(t),W,e.dom.isEditable(t));u(o,t=>{const o=t.dom.parentNode;if(L(o))r=f.fromDom(o),a=z,E(r)?r.dom.classList.add(a):F(r,a);else{const o=n.encode(x(t)??"").replace(M,I),r=n.create("div",{},o);let a;for(;a=r.lastChild;)n.insertAfter(a,t.dom);e.dom.remove(t.dom)}var r,a})},H=(e,t)=>{const n=e.dom.select(B,t);u(n,t=>{L(t)?((e,t)=>{E(e)?e.dom.classList.remove(t):N(e,t);R(e)})(f.fromDom(t),z):e.dom.remove(t,!0)})},V=e=>{const t=e.getBody(),n=e.selection.getBookmark();let o=((e,t)=>{for(;e.parentNode;){if(e.parentNode===t)return t;e=e.parentNode}})(e.selection.getNode(),t);o=void 0!==o?o:t,H(e,o),U(e,o),e.selection.moveToBookmark(n)},Z=(e,t)=>{((e,t)=>{e.dispatch("VisualChars",{state:t})})(e,t.get());const n=e.getBody();!0===t.get()?U(e,n):H(e,n)},K=(e,t)=>{e.addCommand("mceVisualChars",()=>{((e,t)=>{t.set(!t.get());const n=e.selection.getBookmark();Z(e,t),e.selection.moveToBookmark(n)})(e,t)})},G=(J="visualchars_default_state",e=>e.options.get(J));var J;const Y=(e,t)=>{const n=((e,t)=>{let n=null;return{cancel:()=>{r(n)||(clearTimeout(n),n=null)},throttle:(...o)=>{r(n)&&(n=setTimeout(()=>{n=null,e.apply(null,o)},t))}}})(()=>{V(e)},300);e.on("keydown",o=>{!0===t.get()&&(13===o.keyCode?V(e):n.throttle())}),e.on("remove",n.cancel)},X=(e,t)=>n=>{n.setActive(t.get());const o=e=>n.setActive(e.state);return e.on("VisualChars",o),()=>e.off("VisualChars",o)};h.add("visualchars",e=>{(e=>{(0,e.options.register)("visualchars_default_state",{processor:"boolean",default:!1})})(e);const t=(e=>{let t=e;return{get:()=>t,set:e=>{t=e}}})(G(e));return K(e,t),((e,t)=>{const n=()=>e.execCommand("mceVisualChars");e.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:n,onSetup:X(e,t),context:"any"}),e.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:n,onSetup:X(e,t),context:"any"})})(e,t),Y(e,t),((e,t)=>{e.on("init",()=>{Z(e,t)})})(e,t),(e=>({isEnabled:()=>e.get()}))(t)})}()},47816:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>null===e,n=e=>e,o=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},r=10,a=[new RegExp("[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),new RegExp("[-'\\.‘’․﹒＇．]"),new RegExp("[:··״‧︓﹕：]"),new RegExp("[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]"),new RegExp("[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]"),new RegExp("\\r"),new RegExp("\\n"),new RegExp("[\v\f\u2028\u2029]"),new RegExp("[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]"),new RegExp("[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\ufeff￹-￻]"),new RegExp("[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]"),new RegExp("[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]"),new RegExp("@")],s=new RegExp("^[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]$"),i=a,l=e=>{let t=13;const n=i.length;for(let o=0;o<n;++o){const n=i[o];if(n&&n.test(e)){t=o;break}}return t},c=(e,t)=>{const n=e[t],o=e[t+1];if(t<0||t>e.length-1&&0!==t)return!1;if(0===n&&0===o)return!1;const a=e[t+2];if(0===n&&(2===o||1===o||12===o)&&0===a)return!1;const s=e[t-1];return(2!==n&&1!==n&&12!==o||0!==o||0!==s)&&(4!==n&&0!==n||4!==o&&0!==o)&&(3!==n&&1!==n||4!==o||4!==s)&&(4!==n||3!==o&&1!==o||4!==a)&&(8!==n&&9!==n||0!==o&&4!==o&&o!==r&&8!==o&&9!==o)&&(8!==o&&(9!==o||0!==a&&4!==a&&a!==r&&8!==a&&9!==a)||0!==n&&4!==n&&n!==r&&8!==n&&9!==n)&&(5!==n||6!==o)&&(7===n||5===n||6===n||7===o||5===o||6===o||(n!==r||o!==r)&&(11!==o||0!==n&&4!==n&&n!==r&&11!==n)&&(11!==n||0!==o&&4!==o&&o!==r)&&12!==n)},u=/^\s+$/,d=s,m=e=>"http"===e||"https"===e,p=(e,t)=>{const n=((e,t)=>{let n;for(n=t;n<e.length&&!u.test(e[n]);n++);return n})(e,t+1);return"://"===e.slice(t+1,n).join("").substr(0,3)?n:t},g=(e,t,n)=>((e,t,n)=>{n={includeWhitespace:!1,includePunctuation:!1,...n};const r=o(e,t);return((e,t,n,o)=>{const r=[],a=[];let s=[];for(let i=0;i<n.length;++i)if(s.push(e[i]),c(n,i)){const n=t[i];if((o.includeWhitespace||!u.test(n))&&(o.includePunctuation||!d.test(n))){const n=i-s.length+1,o=i+1,l=t.slice(n,o).join("");if(m(l)){const n=p(t,i),r=e.slice(o,n);Array.prototype.push.apply(s,r),i=n}"."===t[i+1]&&/^([a-zA-Z]\.)+$/.test(l+".")?(s.push(e[i+1]),a.push({start:n,end:o+1})):a.push({start:n,end:o}),r.push(s)}s=[]}return{words:r,indices:a}})(e,r,(e=>{const t=(e=>{const t={};return n=>{if(t[n])return t[n];{const o=e(n);return t[n]=o,o}}})(l);return o(e,t)})(r),n)})(e,t,n).words;var h=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const b=(e,t)=>{const n=t.getBlockElements(),o=t.getVoidElements(),r=e=>n[e.nodeName]||o[e.nodeName],a=[];let s="";const i=new h(e,e);let l;for(;l=i.next();)3===l.nodeType?s+=l.data.replace(/\uFEFF/g,""):r(l)&&s.length&&(a.push(s),s="");return s.length&&a.push(s),a},f=e=>e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,y=(e,t)=>{const o=(e=>e.replace(/\u200B/g,""))(b(e,t).join("\n"));return g(o.split(""),n).length},w=(e,t)=>{const n=b(e,t).join("");return f(n)},v=(e,t)=>{const n=b(e,t).join("").replace(/\s/g,"");return f(n)},x=(e,t)=>()=>t(e.getBody(),e.schema),S=(e,t)=>()=>t(e.selection.getRng().cloneContents(),e.schema),k=e=>x(e,y);var C=tinymce.util.Tools.resolve("tinymce.util.Delay");const _=(e,t)=>{((e,t)=>{e.dispatch("wordCountUpdate",{wordCount:{words:t.body.getWordCount(),characters:t.body.getCharacterCount(),charactersWithoutSpaces:t.body.getCharacterCountWithoutSpaces()}})})(e,t)},A=(e,n,o)=>{const r=((e,n)=>{let o=null;return{cancel:()=>{t(o)||(clearTimeout(o),o=null)},throttle:(...r)=>{t(o)&&(o=setTimeout(()=>{o=null,e.apply(null,r)},n))}}})(()=>_(e,n),o);e.on("init",()=>{_(e,n),C.setEditorTimeout(e,()=>{e.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",r.throttle)},0),e.on("remove",r.cancel)})};((t=300)=>{e.add("wordcount",e=>{const n=(e=>({body:{getWordCount:k(e),getCharacterCount:x(e,w),getCharacterCountWithoutSpaces:x(e,v)},selection:{getWordCount:S(e,y),getCharacterCount:S(e,w),getCharacterCountWithoutSpaces:S(e,v)},getCount:k(e)}))(e);return((e,t)=>{e.addCommand("mceWordCount",()=>((e,t)=>{e.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(t.body.getWordCount()),String(t.selection.getWordCount())],["Characters (no spaces)",String(t.body.getCharacterCountWithoutSpaces()),String(t.selection.getCharacterCountWithoutSpaces())],["Characters",String(t.body.getCharacterCount()),String(t.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})})(e,t))})(e,n),(e=>{const t=()=>e.execCommand("mceWordCount");e.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:t,context:"any"}),e.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:t,context:"any"})})(e),A(e,n,t),n})})()}()},47821:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||o.constructor?.name===r.name)?"string":t;var n,o,r})(t)===e,n=e=>t=>typeof t===e,o=t("string"),r=t("array"),a=n("boolean"),s=e=>void 0===e,i=e=>!(e=>null==e)(e),l=n("function"),c=n("number"),u=()=>{},d=e=>()=>e,m=e=>e,p=(e,t)=>e===t;function g(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const h=e=>{e()},b=d(!1),f=d(!0);class y{tag;value;static singletonNone=new y(!1);constructor(e,t){this.tag=e,this.value=t}static some(e){return new y(!0,e)}static none(){return y.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?y.some(e(this.value)):y.none()}bind(e){return this.tag?e(this.value):y.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:y.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(e??"Called getOrDie on None")}static from(e){return i(e)?y.some(e):y.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Array.prototype.slice;const w=Array.prototype.indexOf,v=Array.prototype.push,x=(e,t)=>((e,t)=>w.call(e,t))(e,t)>-1,S=(e,t)=>{for(let n=0,o=e.length;n<o;n++)if(t(e[n],n))return!0;return!1},k=(e,t)=>{const n=[];for(let o=0;o<e;o++)n.push(t(o));return n},C=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},_=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},A=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},T=(e,t,n)=>(_(e,(e,o)=>{n=t(n,e,o)}),n),O=(e,t)=>((e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return y.some(r);if(n(r,o))break}return y.none()})(e,t,b),E=(e,t)=>(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!r(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);v.apply(t,e[n])}return t})(C(e,t)),F=(e,t)=>{for(let n=0,o=e.length;n<o;++n)if(!0!==t(e[n],n))return!1;return!0},N=(e,t)=>t>=0&&t<e.length?y.some(e[t]):y.none();l(Array.from)&&Array.from;const R=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return y.none()},D=Object.keys,j=Object.hasOwnProperty,P=(e,t)=>{const n=D(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},$=(e,t)=>{const n={};var o;return((e,t,n,o)=>{P(e,(e,r)=>{(t(e,r)?n:o)(e,r)})})(e,t,(o=n,(e,t)=>{o[t]=e}),u),n},M=e=>D(e).length,B=(e,t)=>z(e,t)?y.from(e[t]):y.none(),z=(e,t)=>j.call(e,t),I=(e,t)=>z(e,t)&&void 0!==e[t]&&null!==e[t],L=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},W=(e,t,n=p)=>e.exists(e=>n(e,t)),q=(e,t,n)=>e.isSome()&&t.isSome()?y.some(n(e.getOrDie(),t.getOrDie())):y.none(),U=(e,t)=>((e,t)=>""===t||e.length>=t.length&&e.substr(0,0+t.length)===t)(e,t),H=(V=/^\s+|\s+$/g,e=>e.replace(V,""));var V;const Z=e=>e.length>0,K=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?y.none():y.some(n)},G=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},J={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return G(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return G(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return G(n)},fromDom:G,fromPoint:(e,t,n)=>y.from(e.dom.elementFromPoint(t,n)).map(G)},Y=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},X=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,Q=(e,t)=>e.dom===t.dom,ee=Y,te=e=>e.dom.nodeName.toLowerCase(),ne=e=>e.dom.nodeType,oe=e=>t=>ne(t)===e,re=oe(1),ae=oe(3),se=oe(9),ie=oe(11),le=e=>t=>re(t)&&te(t)===e,ce=e=>y.from(e.dom.parentNode).map(J.fromDom),ue=e=>y.from(e.dom.nextSibling).map(J.fromDom),de=e=>C(e.dom.childNodes,J.fromDom),me=e=>J.fromDom(e.dom.host),pe=(e,t)=>{ce(e).each(n=>{n.dom.insertBefore(t.dom,e.dom)})},ge=(e,t)=>{ue(e).fold(()=>{ce(e).each(e=>{he(e,t)})},e=>{pe(e,t)})},he=(e,t)=>{e.dom.appendChild(t.dom)},be=(e,t)=>{_(t,(n,o)=>{const r=0===o?e:t[o-1];ge(r,n)})},fe=(e,t,n)=>{if(!(o(n)||a(n)||c(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},ye=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},we=(e,t)=>y.from(ye(e,t)),ve=(e,t)=>{e.dom.removeAttribute(t)},xe=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Se=e=>C(e,J.fromDom),ke=e=>void 0!==e.style&&l(e.style.getPropertyValue),Ce=e=>{const t=ae(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return(e=>{const t=(e=>J.fromDom(e.dom.getRootNode()))(e);return ie(n=t)&&i(n.dom.host)?y.some(t):y.none();var n})(J.fromDom(t)).fold(()=>n.body.contains(t),(o=Ce,r=me,e=>o(r(e))));var o,r},_e=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||Ce(e)?o:Ae(n,t)},Ae=(e,t)=>ke(e)?e.style.getPropertyValue(t):"",Te=(e,t)=>{const n=e.dom,o=Ae(n,t);return y.from(o).filter(e=>e.length>0)},Oe=(e,t,n)=>((e,t)=>(e=>{const t=parseFloat(e);return isNaN(t)?y.none():y.some(t)})(e).getOr(t))(_e(e,t),n),Ee=(e=>{const t=t=>e(t)?y.from(t.dom.nodeValue):y.none();return{get:n=>{if(!e(n))throw new Error("Can only get text value of a text node");return t(n).getOr("")},getOption:t,set:(t,n)=>{if(!e(t))throw new Error("Can only set raw text value of a text node");t.dom.nodeValue=n}}})(ae);var Fe=(e,t,n,o,r)=>e(n,o)?y.some(n):l(r)&&r(n)?y.none():t(n,o,r);const Ne=(e,t,n)=>{let o=e.dom;const r=l(n)?n:b;for(;o.parentNode;){o=o.parentNode;const e=J.fromDom(o);if(t(e))return y.some(e);if(r(e))break}return y.none()},Re=(e,t,n)=>Ne(e,e=>Y(e,t),n),De=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return X(n)?y.none():y.from(n.querySelector(e)).map(J.fromDom)})(t,e),je=(e,t,n)=>Fe((e,t)=>Y(e,t),Re,e,t,n),Pe=(e,t=!1)=>{return Ce(e)?e.dom.isContentEditable:(n=e,je(n,"[contenteditable]")).fold(d(t),e=>"true"===$e(e));var n},$e=e=>e.dom.contentEditable,Me=(e,t)=>{let n=[];return _(de(e),e=>{t(e)&&(n=n.concat([e])),n=n.concat(Me(e,t))}),n},Be=(e,t)=>(e=>A(de(e),e=>Y(e,t)))(e),ze=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return X(n)?[]:C(n.querySelectorAll(e),J.fromDom)})(t,e),Ie=e=>t=>Q(t,(e=>J.fromDom(e.getBody()))(e)),Le=e=>/^\d+(\.\d+)?$/.test(e)?e+"px":e,We=e=>J.fromDom(e.selection.getStart()),qe=["tfoot","thead","tbody","colgroup"],Ue=(e,t,n)=>({element:e,rowspan:t,colspan:n}),He=(e,t,n)=>({element:e,cells:t,section:n}),Ve=(e,t,n=0)=>we(e,t).map(e=>parseInt(e,10)).getOr(n),Ze=(e,t)=>Ke(e,t,f),Ke=(e,t,n)=>E(de(e),e=>Y(e,t)?n(e)?[e]:[]:Ke(e,t,n)),Ge=(e,t)=>je(e,"table",t),Je=e=>Ze(e,"tr"),Ye=e=>Ge(e).fold(d([]),e=>Be(e,"colgroup")),Xe=le("th"),Qe=(e,t)=>e&&t?"sectionCells":e?"section":"cells",et=e=>ce(e).map(e=>{const t=te(e);return(e=>x(qe,e))(t)?t:"tbody"}).getOr("tbody"),tt=e=>we(e,"data-snooker-locked-cols").bind(e=>y.from(e.match(/\d+/g))).map(e=>((e,t)=>{const n={};for(let o=0,r=e.length;o<r;o++){const r=e[o];n[String(r)]=t(r,o)}return n})(e,f)),nt=(e,t)=>e+","+t,ot=e=>{const t=(e=>{const t=Je(e);return((e,t)=>C(e,e=>{if("colgroup"===te(e)){const t=C((e=>Y(e,"colgroup")?Be(e,"col"):E(Ye(e),e=>Be(e,"col")))(e),e=>{const t=Ve(e,"span",1);return Ue(e,1,t)});return He(e,t,"colgroup")}{const n=C((e=>Ze(e,"th,td"))(e),e=>{const t=Ve(e,"rowspan",1),n=Ve(e,"colspan",1);return Ue(e,t,n)});return He(e,n,t(e))}}))([...Ye(e),...t],et)})(e);return(e=>{const t={},n=[];var o;const r=(o=e,N(o,0)).map(e=>e.element).bind(Ge).bind(tt).getOr({});let a=0,s=0,i=0;const{pass:l,fail:c}=(e=>{const t=[],n=[];for(let r=0,a=e.length;r<a;r++){const a=e[r];(o=a,"colgroup"===o.section?t:n).push(a)}var o;return{pass:t,fail:n}})(e);_(c,e=>{const o=[];_(e.cells,e=>{let n=0;for(;void 0!==t[nt(i,n)];)n++;const a=I(r,n.toString()),l=((e,t,n,o,r,a)=>({element:e,rowspan:t,colspan:n,row:o,column:r,isLocked:a}))(e.element,e.rowspan,e.colspan,i,n,a);for(let o=0;o<e.colspan;o++)for(let r=0;r<e.rowspan;r++){const e=n+o,a=nt(i+r,e);t[a]=l,s=Math.max(s,e+1)}o.push(l)}),a++,n.push(He(e.element,o,e.section)),i++});const{columns:u,colgroups:d}=(e=>N(e,e.length-1))(l).map(e=>{const t=(e=>{const t={};let n=0;return _(e.cells,e=>{const o=e.colspan;k(o,r=>{const a=n+r;t[a]=((e,t,n)=>({element:e,colspan:t,column:n}))(e.element,o,a)}),n+=o}),t})(e),n=((e,t)=>({element:e,columns:t}))(e.element,((e,t)=>{const n=[];return P(e,(e,o)=>{n.push(t(e,o))}),n})(t,m));return{colgroups:[n],columns:t}}).getOrThunk(()=>({colgroups:[],columns:{}})),p=((e,t)=>({rows:e,columns:t}))(a,s);return{grid:p,access:t,all:n,columns:u,colgroups:d}})(t)},rt=(e,t,n)=>y.from(e.access[nt(t,n)]),at=(e,t,n)=>{const o=((e,t)=>{const n=E(e.all,e=>e.cells);return A(n,t)})(e,e=>n(t,e.element));return o.length>0?y.some(o[0]):y.none()},st=(e,t)=>y.from(e.columns[t]),it=(e,t)=>R(e.all,e=>O(e.cells,e=>Q(t,e.element))),lt=(e,t)=>((e,t,n)=>{const o=(e=>{const t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t})(C(t.selection,t=>{return(o=t,((e,t,n=b)=>n(t)?y.none():x(e,te(t))?y.some(t):Re(t,e.join(","),e=>Y(e,"table")||n(e)))(["td","th"],o,void 0)).bind(t=>it(e,t)).filter(n);var o}));return r=o,o.length>0?y.some(r):y.none();var r})(e,t,f),ct=(e,t)=>F(t,t=>((e,t)=>it(e,t).exists(e=>!e.isLocked))(e,t)),ut=(e,t)=>((e,t)=>t.mergable)(0,t).filter(t=>ct(e,t.cells)),dt=(e,t)=>((e,t)=>t.unmergable)(0,t).filter(t=>ct(e,t)),mt=le("col"),pt=le("colgroup"),gt=e=>t=>{const n=[],o=o=>{const r="td"===e?{scope:null}:{},a=t.replace(o,e,r);return n.push({item:o,sub:a}),a};return{replaceOrInit:(e,t)=>{if((e=>"tr"===te(e)||pt(e))(e)||mt(e))return e;{const r=e;return((e,t)=>O(n,n=>t(n.item,e)))(r,t).fold(()=>o(r),n=>t(e,n.item)?n.sub:o(r))}}}};var ht=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];const bt=(e,t,n,o)=>{const r=t(e,n);return a=(n,o)=>{const r=t(e,o);return ft(e,n,r)},s=r,((e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)})(o,(e,t)=>{s=a(s,e)}),s;var a,s},ft=(e,t,n)=>t.bind(t=>n.filter(g(e.eq,t))),yt={up:d({selector:Re,closest:je,predicate:Ne,all:(e,t)=>{const n=l(t)?t:b;let o=e.dom;const r=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){const e=o.parentNode,t=J.fromDom(e);if(r.push(t),!0===n(t))break;o=e}return r}}),down:d({selector:ze,predicate:Me}),styles:d({get:_e,getRaw:Te,set:(e,t,n)=>{((e,t,n)=>{if(!o(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);ke(e)&&e.style.setProperty(t,n)})(e.dom,t,n)},remove:(e,t)=>{((e,t)=>{ke(e)&&e.style.removeProperty(t)})(e.dom,t),W(we(e,"style").map(H),"")&&ve(e,"style")}}),attrs:d({get:ye,set:(e,t,n)=>{fe(e.dom,t,n)},remove:ve,copyTo:(e,t)=>{((e,t)=>{const n=e.dom;P(t,(e,t)=>{fe(n,t,e)})})(t,T(e.dom.attributes,(e,t)=>(e[t.name]=t.value,e),{}))}}),insert:d({before:pe,after:ge,afterAll:be,append:he,appendAll:(e,t)=>{_(t,t=>{he(e,t)})},prepend:(e,t)=>{(e=>(e=>{const t=e.dom.childNodes;return y.from(t[0]).map(J.fromDom)})(e))(e).fold(()=>{he(e,t)},n=>{e.dom.insertBefore(t.dom,n.dom)})},wrap:(e,t)=>{pe(e,t),he(t,e)}}),remove:d({unwrap:e=>{const t=de(e);t.length>0&&be(e,t),xe(e)},remove:xe}),create:d({nu:J.fromTag,clone:e=>J.fromDom(e.dom.cloneNode(!1)),text:J.fromText}),query:d({comparePosition:(e,t)=>e.dom.compareDocumentPosition(t.dom),prevSibling:e=>y.from(e.dom.previousSibling).map(J.fromDom),nextSibling:ue}),property:d({children:de,name:te,parent:ce,document:e=>{return(t=e,se(t)?t:J.fromDom(t.dom.ownerDocument)).dom;var t},isText:ae,isComment:e=>8===ne(e)||"#comment"===te(e),isElement:re,isSpecial:e=>{const t=te(e);return x(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)},getLanguage:e=>re(e)?we(e,"lang"):y.none(),getText:e=>Ee.get(e),setText:(e,t)=>Ee.set(e,t),isBoundary:e=>!!re(e)&&("body"===te(e)||x(ht,te(e))),isEmptyTag:e=>!!re(e)&&x(["br","img","hr","input"],te(e)),isNonEditable:e=>re(e)&&"false"===ye(e,"contenteditable")}),eq:Q,is:ee};gt("th"),gt("td");const wt=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,vt=ot;var xt=tinymce.util.Tools.resolve("tinymce.util.Tools");const St=(e,t,n)=>{const o=e.select("td,th",t);let r;for(let t=0;t<o.length;t++){const a=e.getStyle(o[t],n);if(s(r)&&(r=a),r!==a)return""}return r},kt=(e,t,n)=>{xt.each("left center right".split(" "),o=>{o!==n&&e.formatter.remove("align"+o,{},t)}),n&&e.formatter.apply("align"+n,{},t)},Ct=(e,t,n)=>{e.dispatch("TableModified",{...n,table:t})};var _t=tinymce.util.Tools.resolve("tinymce.Env");const At=k(5,e=>{const t=`${e+1}px`;return{title:t,value:t}}),Tt=C(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],e=>({title:e,value:e.toLowerCase()})),Ot="100%",Et=e=>{const t=e.dom,n=t.getParent(e.selection.getStart(),t.isBlock)??e.getBody();return(e=>(e=>{const t=e.dom;return((e,t,n,o)=>t-Oe(e,`padding-${n}`,0)-Oe(e,`padding-${o}`,0)-Oe(e,`border-${n}-width`,0)-Oe(e,`border-${o}-width`,0))(e,t.getBoundingClientRect().width||t.offsetWidth,"left","right")})(e))(J.fromDom(n))+"px"},Ft=e=>t=>t.options.get(e),Nt=Ft("table_sizing_mode"),Rt=Ft("table_border_widths"),Dt=Ft("table_border_styles"),jt=Ft("table_cell_advtab"),Pt=Ft("table_row_advtab"),$t=Ft("table_advtab"),Mt=Ft("table_appearance_options"),Bt=Ft("table_grid"),zt=Ft("table_style_by_css"),It=Ft("table_cell_class_list"),Lt=Ft("table_row_class_list"),Wt=Ft("table_class_list"),qt=Ft("table_toolbar"),Ut=Ft("table_background_color_map"),Ht=Ft("table_border_color_map"),Vt=e=>"fixed"===Nt(e),Zt=e=>"responsive"===Nt(e),Kt=e=>{const t=e.options,n=t.get("table_default_styles");return t.isSet("table_default_styles")?n:((e,t)=>Zt(e)||!zt(e)?t:Vt(e)?{...t,width:Et(e)}:{...t,width:Ot})(e,n)},Gt=e=>{const t=e.options,n=t.get("table_default_attributes");return t.isSet("table_default_attributes")?n:((e,t)=>Zt(e)||zt(e)?t:Vt(e)?{...t,width:Et(e)}:{...t,width:Ot})(e,n)},Jt=e=>Re(e,"table"),Yt=m,Xt=e=>{const t=(e,t)=>we(e,t).exists(e=>parseInt(e,10)>1);return e.length>0&&F(e,e=>t(e,"rowspan")||t(e,"colspan"))?y.some(e):y.none()},Qt=(e,t,n)=>{return t.length<=1?y.none():(o=e,r=n.firstSelectedSelector,a=n.lastSelectedSelector,((e,t,n)=>De(e,t).bind(t=>De(e,n).bind(e=>{return(n=Jt,o=[t,e],((e,t,n)=>n.length>0?((e,t,n,o)=>o(e,t,n[0],n.slice(1)))(e,t,n,bt):y.none())(yt,(e,t)=>n(t),o)).map(n=>({first:t,last:e,table:n}));var n,o})))(o,r,a).bind(e=>{const t=e=>Q(o,e),n="thead,tfoot,tbody,table",r=Re(e.first,n,t),a=Re(e.last,n,t);return r.bind(t=>a.bind(n=>Q(t,n)?((e,t,n)=>((e,t,n)=>((e,t,n)=>{const o=at(e,t,Q),r=at(e,n,Q);return o.bind(e=>r.map(t=>{return n=e,o=t,{startRow:Math.min(n.row,o.row),startCol:Math.min(n.column,o.column),finishRow:Math.max(n.row+n.rowspan-1,o.row+o.rowspan-1),finishCol:Math.max(n.column+n.colspan-1,o.column+o.colspan-1)};var n,o}))})(e,t,n).bind(t=>((e,t)=>{let n=!0;const o=g(wt,t);for(let r=t.startRow;r<=t.finishRow;r++)for(let a=t.startCol;a<=t.finishCol;a++)n=n&&rt(e,r,a).exists(o);return n?y.some(t):y.none()})(e,t)))(vt(e),t,n))(e.table,e.first,e.last):y.none()))})).map(e=>({bounds:e,cells:t}));var o,r,a},en="data-mce-selected",tn="data-mce-first-selected",nn="data-mce-last-selected",on={selected:en,selectedSelector:"td["+en+"],th["+en+"]",firstSelected:tn,firstSelectedSelector:"td["+tn+"],th["+tn+"]",lastSelected:nn,lastSelectedSelector:"td["+nn+"],th["+nn+"]"},rn=e=>(t,n)=>{const o=te(t),r="col"===o||"colgroup"===o?Ge(a=t).bind(e=>((e,t)=>((e,t)=>{const n=ze(e,t);return n.length>0?y.some(n):y.none()})(e,t))(e,on.firstSelectedSelector)).fold(d(a),e=>e[0]):t;var a;return je(r,e,n)},an=rn("th,td,caption"),sn=rn("th,td"),ln=e=>Se(e.model.table.getSelectedCells()),cn=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],un=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,dn=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,mn=e=>{return(t=e,U(t,"#")?(e=>e.substring(1))(t):t).toUpperCase();var t},pn=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},gn=e=>{return t=pn(e.red)+pn(e.green)+pn(e.blue),{value:mn(t)};var t},hn=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,bn=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,fn=(e,t,n,o)=>({red:e,green:t,blue:n,alpha:o}),yn=(e,t,n,o)=>{const r=parseInt(e,10),a=parseInt(t,10),s=parseInt(n,10),i=parseFloat(o);return fn(r,a,s,i)},wn=e=>{const t=hn.exec(e);if(null!==t)return y.some(yn(t[1],t[2],t[3],"1"));const n=bn.exec(e);return null!==n?y.some(yn(n[1],n[2],n[3],n[4])):y.none()},vn=(e,t,n)=>o=>{const r=(e=>{const t=L(y.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(y.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(y.some(e))}}})(e=>e.unbind()),a=!Z(n),s=()=>{const s=ln(e),i=o=>e.formatter.match(t,{value:n},o.dom,a);a?(o.setActive(!S(s,i)),r.set(e.formatter.formatChanged(t,e=>o.setActive(!e),!0))):(o.setActive(F(s,i)),r.set(e.formatter.formatChanged(t,o.setActive,!1,{value:n})))};return e.initialized?s():e.on("init",s),r.clear},xn=e=>I(e,"menu"),Sn=e=>C(e,e=>{const t=e.text||e.title||"";return xn(e)?{text:t,items:Sn(e.menu)}:{text:t,value:e.value}}),kn=e=>e.length?y.some(Sn([{text:"Select...",value:"mce-no-match"},...e])):y.none(),Cn=(e,t,n,o)=>C(t,t=>{const r=t.text||t.title;return xn(t)?{type:"nestedmenuitem",text:r,getSubmenuItems:()=>Cn(e,t.menu,n,o)}:{text:r,type:"togglemenuitem",onAction:()=>o(t.value),onSetup:vn(e,n,t.value)}}),_n=(e,t)=>n=>{e.execCommand("mceTableApplyCellStyle",!1,{[t]:n})},An=e=>E(e,e=>xn(e)?[{...e,menu:An(e.menu)}]:Z(e.value)?[e]:[]),Tn=(e,t,n,o)=>r=>r(Cn(e,t,n,o)),On=(e,t,n)=>{const o=C(t,e=>{return{text:e.title,value:"#"+(n=e.value,(t=n,(e=>un.test(e)||dn.test(e))(t)?y.some({value:mn(t)}):y.none()).orThunk(()=>wn(n).map(gn)).getOrThunk(()=>{const e=document.createElement("canvas");e.height=1,e.width=1;const t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),t.fillStyle="#FFFFFF",t.fillStyle=n,t.fillRect(0,0,1,1);const o=t.getImageData(0,0,1,1).data,r=o[0],a=o[1],s=o[2],i=o[3];return gn(fn(r,a,s,i))})).value,type:"choiceitem"};var t,n});return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:o.length>0?o:void 0,allowCustomColors:!1},onAction:t=>{const o="remove"===t.value?"":t.value;e.execCommand("mceTableApplyCellStyle",!1,{[n]:o})}}]},En=e=>()=>{const t="header"===e.queryCommandValue("mceTableRowType")?"body":"header";e.execCommand("mceTableRowType",!1,{type:t})},Fn=e=>()=>{const t="th"===e.queryCommandValue("mceTableColType")?"td":"th";e.execCommand("mceTableColType",!1,{type:t})},Nn=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:cn}],Rn=e=>Nn.concat((e=>kn(It(e)).map(e=>({name:"class",type:"listbox",label:"Class",items:e})))(e).toArray()),Dn=(e,t)=>{const n=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Sn(Dt(e)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:"cell"===t?[{name:"borderwidth",type:"input",label:"Border width"}].concat(n):n}},jn=(e,t)=>{const n=e.dom;return{setAttrib:(e,o)=>{n.setAttrib(t,e,o)},setStyle:(e,o)=>{n.setStyle(t,e,o)},setFormat:(n,o)=>{""===o?e.formatter.remove(n,{value:null},t,!0):e.formatter.apply(n,{value:o},t)}}},Pn=e=>{return U(e,"rgb")?wn(t=e).map(gn).map(e=>"#"+e.value).getOr(t):e;var t},$n=e=>{const t=J.fromDom(e);return{borderwidth:Te(t,"border-width").getOr(""),borderstyle:Te(t,"border-style").getOr(""),bordercolor:Te(t,"border-color").map(Pn).getOr(""),backgroundcolor:Te(t,"background-color").map(Pn).getOr("")}},Mn=e=>{const t=e[0],n=e.slice(1);return _(n,e=>{_(D(t),n=>{P(e,(e,o)=>{const r=t[n];""!==r&&n===o&&r!==e&&(t[n]="class"===n?"mce-no-match":"")})})}),t},Bn=(e,t,n,o)=>O(e,e=>!s(n.formatter.matchNode(o,t+e))).getOr(""),zn=g(Bn,["left","center","right"],"align"),In=g(Bn,["top","middle","bottom"],"valign"),Ln=e=>Ge(J.fromDom(e)).map(t=>((e,t)=>{const n=ot(e);return lt(n,t).bind(e=>{const t=e[e.length-1],o=e[0].row,r=t.row+t.rowspan;return(e=>{const t=C(e,e=>(e=>{const t="thead"===e.section,n=W((e=>{const t=A(e,e=>Xe(e.element));return 0===t.length?y.some("td"):t.length===e.length?y.some("th"):y.none()})(e.cells),"th");return"tfoot"===e.section?{type:"footer"}:t||n?{type:"header",subType:Qe(t,n)}:{type:"body"}})(e).type),n=x(t,"header"),o=x(t,"footer");if(n||o){const e=x(t,"body");return!n||e||o?n||e||!o?y.none():y.some("footer"):y.some("header")}return y.some("body")})(n.all.slice(o,r))}).getOr("")})(t,{selection:Se(e.cells)})).getOr(""),Wn=(e,t)=>{const n=ot(e),o=(e=>E(e.all,e=>e.cells))(n),r=A(o,e=>S(t,t=>Q(e.element,t)));return C(r,e=>({element:e.element.dom,column:st(n,e.column).map(e=>e.element.dom)}))},qn=(e,t,n,o)=>{const r=o.getData();o.close(),e.undoManager.transact(()=>{((e,t,n,o)=>{const r=$(o,(e,t)=>n[t]!==e);M(r)>0&&t.length>=1&&Ge(t[0]).each(n=>{const a=Wn(n,t),s=M($(r,(e,t)=>"scope"!==t&&"celltype"!==t))>0,i=z(r,"celltype");(s||z(r,"scope"))&&((e,t,n,o)=>{const r=1===t.length;_(t,t=>{const a=t.element,s=r?f:o,i=jn(e,a);((e,t,n,o)=>{o("scope")&&e.setAttrib("scope",n.scope),o("class")&&"mce-no-match"!==n.class&&e.setAttrib("class",n.class),o("width")&&t.setStyle("width",Le(n.width))})(i,t.column.map(t=>jn(e,t)).getOr(i),n,s),jt(e)&&((e,t,n)=>{n("backgroundcolor")&&e.setFormat("tablecellbackgroundcolor",t.backgroundcolor),n("bordercolor")&&e.setFormat("tablecellbordercolor",t.bordercolor),n("borderstyle")&&e.setFormat("tablecellborderstyle",t.borderstyle),n("borderwidth")&&e.setFormat("tablecellborderwidth",Le(t.borderwidth))})(i,n,s),o("halign")&&kt(e,a,n.halign),o("valign")&&((e,t,n)=>{xt.each("top middle bottom".split(" "),o=>{o!==n&&e.formatter.remove("valign"+o,{},t)}),n&&e.formatter.apply("valign"+n,{},t)})(e,a,n.valign)})})(e,a,o,g(z,r)),i&&((e,t)=>{e.execCommand("mceTableCellType",!1,{type:t.celltype,no_events:!0})})(e,o),Ct(e,n.dom,{structure:i,style:s})})})(e,t,n,r),e.focus()})},Un=e=>{const t=ln(e);if(0===t.length)return;const n=((e,t)=>{const n=Ge(t[0]).map(n=>C(Wn(n,t),t=>((e,t,n,o)=>{const r=e.dom;return{width:(s=o.getOr(t),i="width",r.getStyle(s,i)||r.getAttrib(s,i)),scope:r.getAttrib(t,"scope"),celltype:(a=t,a.nodeName.toLowerCase()),class:r.getAttrib(t,"class",""),halign:zn(e,t),valign:In(e,t),...n?$n(t):{}};var a,s,i})(e,t.element,jt(e),t.column)));return Mn(n.getOrDie())})(e,t),o={type:"tabpanel",tabs:[{title:"General",name:"general",items:Rn(e)},Dn(e,"cell")]},r={type:"panel",items:[{type:"grid",columns:2,items:Rn(e)}]};e.windowManager.open({title:"Cell Properties",size:"normal",body:jt(e)?o:r,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:n,onSubmit:g(qn,e,t,n)})},Hn=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Vn=e=>Hn.concat((e=>kn(Lt(e)).map(e=>({name:"class",type:"listbox",label:"Class",items:e})))(e).toArray()),Zn=(e,t,n,o)=>{const r=o.getData();o.close(),e.undoManager.transact(()=>{((e,t,n,o)=>{const r=$(o,(e,t)=>n[t]!==e);if(M(r)>0){const n=z(r,"type"),a=!n||M(r)>1;a&&((e,t,n,o)=>{const r=1===t.length?f:o;_(t,t=>{const a=Be(J.fromDom(t),"td,th"),s=jn(e,t);((e,t,n)=>{n("class")&&"mce-no-match"!==t.class&&e.setAttrib("class",t.class),n("height")&&e.setStyle("height",Le(t.height))})(s,n,r),Pt(e)&&((e,t,n)=>{n("backgroundcolor")&&e.setStyle("background-color",t.backgroundcolor),n("bordercolor")&&e.setStyle("border-color",t.bordercolor),n("borderstyle")&&e.setStyle("border-style",t.borderstyle)})(s,n,r),o("height")&&_(a,t=>{e.dom.setStyle(t.dom,"height",null)}),o("align")&&kt(e,t,n.align)})})(e,t,o,g(z,r)),n&&((e,t)=>{e.execCommand("mceTableRowType",!1,{type:t.type,no_events:!0})})(e,o),Ge(J.fromDom(t[0])).each(t=>Ct(e,t.dom,{structure:n,style:a}))}})(e,t,n,r),e.focus()})},Kn=e=>{const t=((e,t)=>{const n=sn(e),o=n.bind(e=>Ge(e)).map(e=>Je(e));return q(n,o,(e,n)=>A(n,n=>S(Se(n.dom.cells),n=>"1"===ye(n,t)||Q(n,e)))).getOr([])})(We(e),on.selected);if(0===t.length)return;const n=C(t,t=>((e,t,n)=>{const o=e.dom;return{height:o.getStyle(t,"height")||o.getAttrib(t,"height"),class:o.getAttrib(t,"class",""),type:Ln(t),align:zn(e,t),...n?$n(t):{}}})(e,t.dom,Pt(e))),o=Mn(n),r={type:"tabpanel",tabs:[{title:"General",name:"general",items:Vn(e)},Dn(e,"row")]},a={type:"panel",items:[{type:"grid",columns:2,items:Vn(e)}]};e.windowManager.open({title:"Row Properties",size:"normal",body:Pt(e)?r:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onSubmit:g(Zn,e,C(t,e=>e.dom),o)})},Gn=(e,t,n)=>{const o=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],r=Mt(e)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],a=t.length>0?[{name:"class",type:"listbox",label:"Class",items:t}]:[];return o.concat([{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}]).concat(r).concat([{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]).concat(a)},Jn=(e,t,n,r)=>{if("TD"===t.tagName||"TH"===t.tagName)o(n)&&i(r)?e.setStyle(t,n,r):e.setStyles(t,n);else if(t.children)for(let o=0;o<t.children.length;o++)Jn(e,t.children[o],n,r)},Yn=(e,t,n,o)=>{const r=e.dom,a=o.getData(),i=$(a,(e,t)=>n[t]!==e);o.close(),e.undoManager.transact(()=>{if(!t){const n=K(a.cols).getOr(1),o=K(a.rows).getOr(1);e.execCommand("mceInsertTable",!1,{rows:o,columns:n}),t=sn(We(e),Ie(e)).bind(t=>Ge(t,Ie(e))).map(e=>e.dom).getOrDie()}if(M(i)>0){const n={border:z(i,"border"),bordercolor:z(i,"bordercolor"),cellpadding:z(i,"cellpadding")};((e,t,n,o)=>{const r=e.dom,a={},i={},l=zt(e),c=$t(e),u=0===parseFloat(n.border);if(s(n.class)||"mce-no-match"===n.class||(a.class=n.class),i.height=Le(n.height),l?i.width=Le(n.width):r.getAttrib(t,"width")&&(a.width=(e=>e?e.replace(/px$/,""):"")(n.width)),l?(u?(a.border=0,i["border-width"]=""):(i["border-width"]=Le(n.border),a.border=1),i["border-spacing"]=Le(n.cellspacing)):(a.border=u?0:n.border,a.cellpadding=n.cellpadding,a.cellspacing=n.cellspacing),l&&t.children){const e={};if(u?e["border-width"]="":o.border&&(e["border-width"]=Le(n.border)),o.cellpadding&&(e.padding=Le(n.cellpadding)),c&&o.bordercolor&&(e["border-color"]=n.bordercolor),!(e=>{for(const t in e)if(j.call(e,t))return!1;return!0})(e))for(let n=0;n<t.children.length;n++)Jn(r,t.children[n],e)}if(c){const e=n;i["background-color"]=e.backgroundcolor,i["border-color"]=e.bordercolor,i["border-style"]=e.borderstyle}r.setStyles(t,{...Kt(e),...i}),r.setAttribs(t,{...Gt(e),...a})})(e,t,a,n);const o=r.select("caption",t)[0];(o&&!a.caption||!o&&a.caption)&&e.execCommand("mceTableToggleCaption"),kt(e,t,a.align)}if(e.focus(),e.addVisual(),M(i)>0){const n=z(i,"caption"),o=!n||M(i)>1;Ct(e,t,{structure:n,style:o})}})},Xn=(e,t)=>{const n=e.dom;let o,r=((e,t)=>{const n=Kt(e),o=Gt(e),r=t?{borderstyle:B(n,"border-style").getOr(""),bordercolor:Pn(B(n,"border-color").getOr("")),backgroundcolor:Pn(B(n,"background-color").getOr(""))}:{};return{height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:"",...n,...o,...r,...(()=>{const t=n["border-width"];return zt(e)&&t?{border:t}:B(o,"border").fold(()=>({}),e=>({border:e}))})(),...{...B(n,"border-spacing").or(B(o,"cellspacing")).fold(()=>({}),e=>({cellspacing:e})),...B(n,"border-padding").or(B(o,"cellpadding")).fold(()=>({}),e=>({cellpadding:e}))}}})(e,$t(e));t?(r.cols="1",r.rows="1",$t(e)&&(r.borderstyle="",r.bordercolor="",r.backgroundcolor="")):(o=n.getParent(e.selection.getStart(),"table",e.getBody()),o?r=((e,t,n)=>{const o=e.dom,r=zt(e)?o.getStyle(t,"border-spacing")||o.getAttrib(t,"cellspacing"):o.getAttrib(t,"cellspacing")||o.getStyle(t,"border-spacing"),a=zt(e)?St(o,t,"padding")||o.getAttrib(t,"cellpadding"):o.getAttrib(t,"cellpadding")||St(o,t,"padding");return{width:o.getStyle(t,"width")||o.getAttrib(t,"width"),height:o.getStyle(t,"height")||o.getAttrib(t,"height"),cellspacing:r??"",cellpadding:a??"",border:((t,n)=>{const o=Te(J.fromDom(n),"border-width");return zt(e)&&o.isSome()?o.getOr(""):t.getAttrib(n,"border")||St(e.dom,n,"border-width")||St(e.dom,n,"border")||""})(o,t),caption:!!o.select("caption",t)[0],class:o.getAttrib(t,"class",""),align:zn(e,t),...n?$n(t):{}}})(e,o,$t(e)):$t(e)&&(r.borderstyle="",r.bordercolor="",r.backgroundcolor=""));const a=kn(Wt(e));a.isSome()&&r.class&&(r.class=r.class.replace(/\s*mce\-item\-table\s*/g,""));const s={type:"grid",columns:2,items:Gn(e,a.getOr([]),t)},i=$t(e)?{type:"tabpanel",tabs:[{title:"General",name:"general",items:[s]},Dn(e,"table")]}:{type:"panel",items:[s]};e.windowManager.open({title:"Table Properties",size:"normal",body:i,onSubmit:g(Yn,e,o,r),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r})},Qn=e=>{const t=L(y.none()),n=L([]);let o=y.none();const r=le("caption"),a=e=>o.forall(t=>!t[e]),s=()=>an(We(e),Ie(e)).bind(t=>{return n=q(Ge(t),an((e=>J.fromDom(e.selection.getEnd()))(e),Ie(e)).bind(Ge),(n,o)=>Q(n,o)?r(t)?y.some((e=>({element:e,mergable:y.none(),unmergable:y.none(),selection:[e]}))(t)):y.some(((e,t,n)=>({element:n,mergable:Qt(t,e,on),unmergable:Xt(e),selection:Yt(e)}))(ln(e),n,t)):y.none()),n.bind(m);var n}),i=e=>Ge(e.element).map(t=>{const n=ot(t),o=lt(n,e).getOr([]),r=T(o,(e,t)=>(t.isLocked&&(e.onAny=!0,0===t.column?e.onFirst=!0:t.column+t.colspan>=n.grid.columns&&(e.onLast=!0)),e),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:ut(n,e).isSome(),unmergeable:dt(n,e).isSome(),locked:r}}),l=()=>{t.set((e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)})(s)()),o=t.get().bind(i),_(n.get(),h)},c=e=>(e(),n.set(n.get().concat([e])),()=>{n.set(A(n.get(),t=>t!==e))}),u=(n,o)=>c(()=>t.get().fold(()=>{n.setEnabled(!1)},t=>{n.setEnabled(!o(t)&&e.selection.isEditable())})),d=(n,o,r)=>c(()=>t.get().fold(()=>{n.setEnabled(!1),n.setActive(!1)},t=>{n.setEnabled(!o(t)&&e.selection.isEditable()),n.setActive(r(t))})),p=e=>o.exists(t=>t.locked[e]),g=(t,n)=>o=>d(o,e=>r(e.element),()=>e.queryCommandValue(t)===n),f=g("mceTableRowType","header"),w=g("mceTableColType","th");return e.on("NodeChange ExecCommand TableSelectorChange",l),{onSetupTable:e=>u(e,e=>!1),onSetupCellOrRow:e=>u(e,e=>r(e.element)),onSetupColumn:e=>t=>u(t,t=>r(t.element)||p(e)),onSetupPasteable:e=>t=>u(t,t=>r(t.element)||e().isNone()),onSetupPasteableColumn:(e,t)=>n=>u(n,n=>r(n.element)||e().isNone()||p(t)),onSetupMergeable:e=>u(e,e=>a("mergeable")),onSetupUnmergeable:e=>u(e,e=>a("unmergeable")),resetTargets:l,onSetupTableWithCaption:t=>d(t,b,t=>Ge(t.element,Ie(e)).exists(e=>((e,t)=>(e=>O(e.dom.childNodes,e=>{return n=J.fromDom(e),Y(n,t);var n}).map(J.fromDom))(e))(e,"caption").isSome())),onSetupTableRowHeaders:f,onSetupTableColumnHeaders:w,targets:t.get}};var eo=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const to="x-tinymce/dom-table-",no=to+"rows",oo=to+"columns",ro=e=>{const t=eo.read()??[];return R(t,t=>y.from(t.getType(e)))},ao=()=>ro(no),so=()=>ro(oo),io=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}},lo=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("table",e=>{const t=Qn(e);(e=>{const t=e.options.register;t("table_border_widths",{processor:"object[]",default:At}),t("table_border_styles",{processor:"object[]",default:Tt}),t("table_cell_advtab",{processor:"boolean",default:!0}),t("table_row_advtab",{processor:"boolean",default:!0}),t("table_advtab",{processor:"boolean",default:!0}),t("table_appearance_options",{processor:"boolean",default:!0}),t("table_grid",{processor:"boolean",default:!_t.deviceType.isTouch()}),t("table_cell_class_list",{processor:"object[]",default:[]}),t("table_row_class_list",{processor:"object[]",default:[]}),t("table_class_list",{processor:"object[]",default:[]}),t("table_toolbar",{processor:"string",default:"tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"}),t("table_background_color_map",{processor:"object[]",default:[]}),t("table_border_color_map",{processor:"object[]",default:[]})})(e),(e=>{P({mceTableProps:g(Xn,e,!1),mceTableRowProps:g(Kn,e),mceTableCellProps:g(Un,e),mceInsertTableDialog:g(Xn,e,!0)},(t,n)=>e.addCommand(n,()=>{return n=t,void((e=>{return(t=e,n=le("table"),Fe((e,t)=>t(e),Ne,t,n,void 0)).forall(Pe);var t,n})(We(e))&&n());var n}))})(e),((e,t)=>{const n=t=>()=>e.execCommand(t),o=(t,o)=>!!e.queryCommandSupported(o.command)&&(e.ui.registry.addMenuItem(t,{...o,onAction:l(o.onAction)?o.onAction:n(o.command)}),!0),r=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addToggleMenuItem(t,{...o,onAction:l(o.onAction)?o.onAction:n(o.command)})},a=t=>{e.execCommand("mceInsertTable",!1,{rows:t.numRows,columns:t.numColumns})},s=[o("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:t.onSetupCellOrRow}),o("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:t.onSetupCellOrRow}),o("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:t.onSetupCellOrRow}),o("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:t.onSetupCellOrRow}),o("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:t.onSetupCellOrRow}),o("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:t.onSetupCellOrRow}),o("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:t.onSetupPasteable(ao)}),o("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:t.onSetupPasteable(ao)})],i=[o("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:t.onSetupColumn("onFirst")}),o("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:t.onSetupColumn("onLast")}),o("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:t.onSetupColumn("onAny")}),o("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:t.onSetupColumn("onAny")}),o("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:t.onSetupColumn("onAny")}),o("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:t.onSetupPasteableColumn(so,"onFirst")}),o("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:t.onSetupPasteableColumn(so,"onLast")})],c=[o("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:t.onSetupCellOrRow}),o("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:t.onSetupMergeable}),o("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:t.onSetupUnmergeable})];Bt(e)?e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:a}],onSetup:lo(e)}):e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:n("mceInsertTableDialog"),onSetup:lo(e)}),e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:n("mceInsertTableDialog"),onSetup:lo(e)}),o("tableprops",{text:"Table properties",onSetup:t.onSetupTable,command:"mceTableProps"}),o("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:t.onSetupTable,command:"mceTableDelete"}),x(s,!0)&&e.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:d("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),x(i,!0)&&e.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:d("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),x(c,!0)&&e.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:d("tablecellprops tablemergecells tablesplitcells")}),e.ui.registry.addContextMenu("table",{update:()=>(t.resetTargets(),t.targets().fold(d(""),e=>"caption"===te(e.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const u=An(Wt(e));0!==u.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Cn(e,u,"tableclass",t=>e.execCommand("mceTableToggleClass",!1,t)),onSetup:t.onSetupTable});const m=An(It(e));0!==m.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Cn(e,m,"tablecellclass",t=>e.execCommand("mceTableCellToggleClass",!1,t)),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Cn(e,cn,"tablecellverticalalign",_n(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Cn(e,Rt(e),"tablecellborderwidth",_n(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Cn(e,Dt(e),"tablecellborderstyle",_n(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>On(e,Ut(e),"background-color"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>On(e,Ht(e),"border-color"),onSetup:t.onSetupCellOrRow})),r("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),r("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:En(e),onSetup:t.onSetupTableRowHeaders}),r("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Fn(e),onSetup:t.onSetupTableRowHeaders})})(e,t),((e,t)=>{e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:io(e),fetch:e=>e("inserttable | cell row column | advtablesort | tableprops deletetable")});const n=t=>()=>e.execCommand(t),o=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addButton(t,{...o,onAction:l(o.onAction)?o.onAction:n(o.command)})},r=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addToggleButton(t,{...o,onAction:l(o.onAction)?o.onAction:n(o.command)})};o("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:t.onSetupTable}),o("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:t.onSetupTable}),o("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:t.onSetupCellOrRow}),o("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:t.onSetupMergeable}),o("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:t.onSetupUnmergeable}),o("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:t.onSetupCellOrRow}),o("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:t.onSetupCellOrRow}),o("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:t.onSetupCellOrRow}),o("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:t.onSetupCellOrRow}),o("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:t.onSetupColumn("onFirst")}),o("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:t.onSetupColumn("onLast")}),o("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:t.onSetupColumn("onAny")}),o("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:t.onSetupCellOrRow}),o("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:t.onSetupCellOrRow}),o("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:t.onSetupPasteable(ao)}),o("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:t.onSetupPasteable(ao)}),o("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:t.onSetupColumn("onAny")}),o("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:t.onSetupColumn("onAny")}),o("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:t.onSetupPasteableColumn(so,"onFirst")}),o("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:t.onSetupPasteableColumn(so,"onLast")}),o("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:io(e)});const a=An(Wt(e));0!==a.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Tn(e,a,"tableclass",t=>e.execCommand("mceTableToggleClass",!1,t)),onSetup:t.onSetupTable});const s=An(It(e));0!==s.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Tn(e,s,"tablecellclass",t=>e.execCommand("mceTableCellToggleClass",!1,t)),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Tn(e,cn,"tablecellverticalalign",_n(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Tn(e,Rt(e),"tablecellborderwidth",_n(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Tn(e,Dt(e),"tablecellborderstyle",_n(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:t=>t(On(e,Ut(e),"background-color")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:t=>t(On(e,Ht(e),"border-color")),onSetup:t.onSetupCellOrRow})),r("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),r("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:En(e),onSetup:t.onSetupTableRowHeaders}),r("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Fn(e),onSetup:t.onSetupTableColumnHeaders})})(e,t),(e=>{const t=qt(e);t.length>0&&e.ui.registry.addContextToolbar("table",{predicate:t=>e.dom.is(t,"table")&&e.getBody().contains(t)&&e.dom.isEditable(t.parentNode),items:t,scope:"node",position:"node"})})(e)})}()},50193:function(e,t,n){n(13550)},51190:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(n=null,e=>n===e);var n;const o=e=>e,r=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},a=e=>e.replace(/\uFEFF/g,""),s={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\ufeff￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:"[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]"},i=0,l=1,c=2,u=3,d=4,m=5,p=6,g=7,h=8,b=9,f=10,y=11,w=12,v=13,x=[new RegExp(s.aletter),new RegExp(s.midnumlet),new RegExp(s.midletter),new RegExp(s.midnum),new RegExp(s.numeric),new RegExp(s.cr),new RegExp(s.lf),new RegExp(s.newline),new RegExp(s.extend),new RegExp(s.format),new RegExp(s.katakana),new RegExp(s.extendnumlet),new RegExp("@")],S=new RegExp("^"+s.punctuation+"$"),k=x,C=v,_=e=>{let t=C;const n=k.length;for(let o=0;o<n;++o){const n=k[o];if(n&&n.test(e)){t=o;break}}return t},A=(e,t)=>{const n=e[t],o=e[t+1];if(t<0||t>e.length-1&&0!==t)return!1;if(n===i&&o===i)return!1;const r=e[t+2];if(n===i&&(o===c||o===l||o===w)&&r===i)return!1;const a=e[t-1];return(n!==c&&n!==l&&o!==w||o!==i||a!==i)&&((n!==d&&n!==i||o!==d&&o!==i)&&((n!==u&&n!==l||o!==d||a!==d)&&((n!==d||o!==u&&o!==l||r!==d)&&((n!==h&&n!==b||o!==i&&o!==d&&o!==f&&o!==h&&o!==b)&&(o!==h&&(o!==b||r!==i&&r!==d&&r!==f&&r!==h&&r!==b)||n!==i&&n!==d&&n!==f&&n!==h&&n!==b)&&((n!==m||o!==p)&&(n===g||n===m||n===p||(o===g||o===m||o===p||(n!==f||o!==f)&&((o!==y||n!==i&&n!==d&&n!==f&&n!==y)&&((n!==y||o!==i&&o!==d&&o!==f)&&n!==w)))))))))},T=/^\s+$/,O=S,E=e=>"http"===e||"https"===e,F=(e,t)=>{const n=((e,t)=>{let n;for(n=t;n<e.length&&!T.test(e[n]);n++);return n})(e,t+1);return"://"===e.slice(t+1,n).join("").substr(0,3)?n:t},N=(e,t,n)=>{n={includeWhitespace:!1,includePunctuation:!1,...n};const o=r(e,t);return((e,t,n,o)=>{const r=[],a=[];let s=[];for(let i=0;i<n.length;++i)if(s.push(e[i]),A(n,i)){const n=t[i];if((o.includeWhitespace||!T.test(n))&&(o.includePunctuation||!O.test(n))){const n=i-s.length+1,o=i+1,l=t.slice(n,o).join("");if(E(l)){const n=F(t,i),r=e.slice(o,n);Array.prototype.push.apply(s,r),i=n}"."===t[i+1]&&/^([a-zA-Z]\.)+$/.test(l+".")?(s.push(e[i+1]),a.push({start:n,end:o+1})):a.push({start:n,end:o}),r.push(s)}s=[]}return{words:r,indices:a}})(e,o,(e=>{const t=(e=>{const t={};return n=>{if(t[n])return t[n];{const o=e(n);return t[n]=o,o}}})(_);return r(e,t)})(o),n)},R=(e,t,n)=>N(e,t,n).words;var D=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const j=(e,t)=>{const n=t.getBlockElements(),o=t.getVoidElements(),r=e=>n[e.nodeName]||o[e.nodeName],s=[];let i="";const l=new D(e,e);let c;for(;c=l.next();)3===c.nodeType?i+=a(c.data):r(c)&&i.length&&(s.push(i),i="");return i.length&&s.push(i),s},P=e=>e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,$=(e,t)=>{const n=(e=>e.replace(/\u200B/g,""))(j(e,t).join("\n"));return R(n.split(""),o).length},M=(e,t)=>{const n=j(e,t).join("");return P(n)},B=(e,t)=>{const n=j(e,t).join("").replace(/\s/g,"");return P(n)},z=(e,t)=>()=>t(e.getBody(),e.schema),I=(e,t)=>()=>t(e.selection.getRng().cloneContents(),e.schema),L=e=>z(e,$),W=(e,t)=>{e.addCommand("mceWordCount",()=>((e,t)=>{e.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(t.body.getWordCount()),String(t.selection.getWordCount())],["Characters (no spaces)",String(t.body.getCharacterCountWithoutSpaces()),String(t.selection.getCharacterCountWithoutSpaces())],["Characters",String(t.body.getCharacterCount()),String(t.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})})(e,t))};var q=tinymce.util.Tools.resolve("tinymce.util.Delay");const U=(e,t)=>{((e,t)=>{e.dispatch("wordCountUpdate",{wordCount:{words:t.body.getWordCount(),characters:t.body.getCharacterCount(),charactersWithoutSpaces:t.body.getCharacterCountWithoutSpaces()}})})(e,t)},H=(e,n,o)=>{const r=((e,n)=>{let o=null;return{cancel:()=>{t(o)||(clearTimeout(o),o=null)},throttle:(...r)=>{t(o)&&(o=setTimeout(()=>{o=null,e.apply(null,r)},n))}}})(()=>U(e,n),o);e.on("init",()=>{U(e,n),q.setEditorTimeout(e,()=>{e.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",r.throttle)},0),e.on("remove",r.cancel)})};((t=300)=>{e.add("wordcount",e=>{const n=(e=>({body:{getWordCount:L(e),getCharacterCount:z(e,M),getCharacterCountWithoutSpaces:z(e,B)},selection:{getWordCount:I(e,$),getCharacterCount:I(e,M),getCharacterCountWithoutSpaces:I(e,B)},getCount:L(e)}))(e);return W(e,n),(e=>{const t=()=>e.execCommand("mceWordCount");e.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:t,context:"any"}),e.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:t,context:"any"})})(e),H(e,n,t),n})})()}()},52171:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(n=void 0,e=>n===e);var n;const o=(r="function",e=>typeof e===r);var r;const a=e=>()=>e,s=e=>e,i=a(!1);class l{tag;value;static singletonNone=new l(!1);constructor(e,t){this.tag=e,this.value=t}static some(e){return new l(!0,e)}static none(){return l.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?l.some(e(this.value)):l.none()}bind(e){return this.tag?e(this.value):l.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:l.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(e??"Called getOrDie on None")}static from(e){return(e=>null==e)(e)?l.none():l.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Array.prototype.slice;const c=Array.prototype.indexOf,u=(e,t)=>((e,t)=>c.call(e,t))(e,t)>-1,d=(e,t)=>((e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return l.some(r);if(n(r,o))break}return l.none()})(e,t,i);o(Array.from)&&Array.from;const m=Object.keys,p=(e,t)=>{const n=[];return((e,t)=>{const n=m(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}})(e,(e,o)=>{n.push(t(e,o))}),n},g=(e,n,o=0,r)=>{const a=e.indexOf(n,o);return-1!==a&&(!!t(r)||a+n.length<=r)},h=()=>b(0,0),b=(e,t)=>({major:e,minor:t}),f={nu:b,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?h():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}})(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return b(o(1),o(2))})(e,n)},unknown:h},y=(e,t)=>((e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return l.none()})(t.brands,t=>{const n=t.brand.toLowerCase();return d(e,e=>n===e.brand?.toLowerCase()).map(e=>({current:e.name,version:f.nu(parseInt(t.version,10),0)}))}),w=(e,t)=>{const n=String(t).toLowerCase();return d(e,e=>e.search(n))},v=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,x=e=>t=>g(t,e),S=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>g(e,"edge/")&&g(e,"chrome")&&g(e,"safari")&&g(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,v],search:e=>g(e,"chrome")&&!g(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>g(e,"msie")||g(e,"trident")},{name:"Opera",versionRegexes:[v,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:x("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:x("firefox")},{name:"Safari",versionRegexes:[v,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(g(e,"safari")||g(e,"mobile/"))&&g(e,"applewebkit")}],k=[{name:"Windows",search:x("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>g(e,"iphone")||g(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:x("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:x("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:x("linux"),versionRegexes:[]},{name:"Solaris",search:x("sunos"),versionRegexes:[]},{name:"FreeBSD",search:x("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:x("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],C={browsers:a(S),oses:a(k)},_="Edge",A="Chromium",T="Opera",O="Firefox",E="Safari",F=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(_),isChromium:o(A),isIE:o("IE"),isOpera:o(T),isFirefox:o(O),isSafari:o(E)}},N={unknown:()=>F({current:void 0,version:f.unknown()}),nu:F,edge:a(_),chromium:a(A),ie:a("IE"),opera:a(T),firefox:a(O),safari:a(E)},R="Windows",D="Android",j="Linux",P="macOS",$="Solaris",M="FreeBSD",B="ChromeOS",z=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(R),isiOS:o("iOS"),isAndroid:o(D),isMacOS:o(P),isLinux:o(j),isSolaris:o($),isFreeBSD:o(M),isChromeOS:o(B)}},I={unknown:()=>z({current:void 0,version:f.unknown()}),nu:z,windows:a(R),ios:a("iOS"),android:a(D),linux:a(j),macos:a(P),solaris:a($),freebsd:a(M),chromeos:a(B)},L=(e,t,n)=>{const o=C.browsers(),r=C.oses(),s=t.bind(e=>y(o,e)).orThunk(()=>((e,t)=>w(e,t).map(e=>{const n=f.detect(e.versionRegexes,t);return{current:e.name,version:n}}))(o,e)).fold(N.unknown,N.nu),i=((e,t)=>w(e,t).map(e=>{const n=f.detect(e.versionRegexes,t);return{current:e.name,version:n}}))(r,e).fold(I.unknown,I.nu),l=((e,t,n,o)=>{const r=e.isiOS()&&!0===/ipad/i.test(n),s=e.isiOS()&&!r,i=e.isiOS()||e.isAndroid(),l=i||o("(pointer:coarse)"),c=r||!s&&i&&o("(min-device-width:768px)"),u=s||i&&!c,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),m=!u&&!c&&!d;return{isiPad:a(r),isiPhone:a(s),isTablet:a(c),isPhone:a(u),isTouch:a(l),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:a(d),isDesktop:a(m)}})(i,s,e,n);return{browser:s,os:i,deviceType:l}},W=e=>window.matchMedia(e).matches;let q=(e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)})(()=>L(window.navigator.userAgent,l.from(window.navigator.userAgentData),W));const U=()=>q(),H=()=>{const e=U().os.isMacOS()||U().os.isiOS();return`<script>(${(e=>{document.addEventListener("click",t=>{for(let n=t.target;n;n=n.parentNode)if("A"===n.nodeName){const o=n.getAttribute("href");if(o&&o.startsWith("#")){t.preventDefault();const e=document.getElementById(o.substring(1));return void(e&&e.scrollIntoView({behavior:"smooth"}))}(e?t.metaKey:t.ctrlKey&&!t.altKey)||t.preventDefault()}},!1)}).toString()})(${e})<\/script>`};var V=tinymce.util.Tools.resolve("tinymce.dom.ScriptLoader"),Z=tinymce.util.Tools.resolve("tinymce.util.Tools");const K=e=>t=>t.options.get(e),G=K("content_style"),J=K("content_css_cors"),Y=K("body_class"),X=K("body_id"),Q=e=>{var t;return((e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o})(((e,t)=>{const n=[],r=o(t)?e=>((e,t)=>{for(let n=0,o=e.length;n<o;n++)if(t(e[n],n))return!0;return!1})(n,n=>t(n,e)):e=>u(n,e);for(let t=0,o=e.length;t<o;t++){const o=e[t];r(o)||n.push(o)}return n})((t=e.schema.getComponentUrls(),p(t,s))),t=>{const n=p(V.ScriptLoader.getScriptAttributes(t),(t,n)=>` ${e.dom.encode(n)}="${e.dom.encode(t)}"`);return`<script src="${e.dom.encode(t)}"${n.join("")}><\/script>`}).join("")},ee=e=>{const t=(e=>{let t="";const n=e.dom.encode,o=G(e)??"";t+=`<base href="${n(e.documentBaseURI.getURI())}">`;const r=J(e)?' crossorigin="anonymous"':"";Z.each(e.contentCSS,o=>{t+='<link type="text/css" rel="stylesheet" href="'+n(e.documentBaseURI.toAbsolute(o))+'"'+r+">"}),o&&(t+='<style type="text/css">'+o+"</style>"),t+=Q(e);const a=X(e),s=Y(e),i=e.getBody().dir,l=i?' dir="'+n(i)+'"':"";return"<!DOCTYPE html><html><head>"+t+'</head><body id="'+n(a)+'" class="mce-content-body '+n(s)+'"'+l+">"+e.getContent()+H()+"</body></html>"})(e);e.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:t}}).focus("close")};e.add("preview",e=>{(e=>{e.addCommand("mcePreview",()=>{ee(e)})})(e),(e=>{const t=()=>e.execCommand("mcePreview");e.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:t,context:"any"}),e.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:t,context:"any"})})(e)})}()},53847:function(e,t,n){n(31148)},55081:function(e,t,n){n(51190)},55775:function(e,t,n){n(27524)},56912:function(e,t,n){n(85645)},57235:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(a=String).prototype,o.isPrototypeOf(n)||r.constructor?.name===a.name)?"string":t;var n,o;var r,a})(t)===e,n=e=>t=>typeof t===e,o=t("string"),r=t("array"),a=n("boolean"),s=(i=void 0,e=>i===e);var i;const l=e=>!(e=>null==e)(e),c=n("function"),u=n("number"),d=()=>{},m=e=>()=>e,p=e=>e,g=(e,t)=>e===t;function h(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const b=e=>{e()},f=m(!1),y=m(!0);class w{tag;value;static singletonNone=new w(!1);constructor(e,t){this.tag=e,this.value=t}static some(e){return new w(!0,e)}static none(){return w.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?w.some(e(this.value)):w.none()}bind(e){return this.tag?e(this.value):w.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:w.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(e??"Called getOrDie on None")}static from(e){return l(e)?w.some(e):w.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Array.prototype.slice;const v=Array.prototype.indexOf,x=Array.prototype.push,S=(e,t)=>((e,t)=>v.call(e,t))(e,t)>-1,k=(e,t)=>{for(let n=0,o=e.length;n<o;n++){if(t(e[n],n))return!0}return!1},C=(e,t)=>{const n=[];for(let o=0;o<e;o++)n.push(t(o));return n},_=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},A=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},T=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},O=(e,t,n)=>(A(e,(e,o)=>{n=t(n,e,o)}),n),E=(e,t)=>((e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return w.some(r);if(n(r,o))break}return w.none()})(e,t,f),F=(e,t)=>(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!r(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);x.apply(t,e[n])}return t})(_(e,t)),N=(e,t)=>{for(let n=0,o=e.length;n<o;++n){if(!0!==t(e[n],n))return!1}return!0},R=(e,t)=>t>=0&&t<e.length?w.some(e[t]):w.none();c(Array.from)&&Array.from;const D=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return w.none()},j=Object.keys,P=Object.hasOwnProperty,$=(e,t)=>{const n=j(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},M=(e,t)=>{const n={};var o;return((e,t,n,o)=>{$(e,(e,r)=>{(t(e,r)?n:o)(e,r)})})(e,t,(o=n,(e,t)=>{o[t]=e}),d),n},B=e=>((e,t)=>{const n=[];return $(e,(e,o)=>{n.push(t(e,o))}),n})(e,p),z=e=>j(e).length,I=(e,t)=>L(e,t)?w.from(e[t]):w.none(),L=(e,t)=>P.call(e,t),W=(e,t)=>L(e,t)&&void 0!==e[t]&&null!==e[t],q=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},U=(e,t,n=g)=>e.exists(e=>n(e,t)),H=e=>{const t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t},V=(e,t,n)=>e.isSome()&&t.isSome()?w.some(n(e.getOrDie(),t.getOrDie())):w.none(),Z=()=>(e=>{const t=q(w.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(w.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(w.some(e))}}})(e=>e.unbind()),K=(e,t)=>((e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t)(e,t,0),G=(J=/^\s+|\s+$/g,e=>e.replace(J,""));var J;const Y=e=>e.length>0,X=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?w.none():w.some(n)},Q=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},ee={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return Q(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return Q(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return Q(n)},fromDom:Q,fromPoint:(e,t,n)=>w.from(e.dom.elementFromPoint(t,n)).map(Q)},te=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},ne=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,oe=(e,t)=>e.dom===t.dom,re=te,ae=e=>e.dom.nodeName.toLowerCase(),se=e=>e.dom.nodeType,ie=e=>t=>se(t)===e,le=e=>8===se(e)||"#comment"===ae(e),ce=ie(1),ue=ie(3),de=ie(9),me=ie(11),pe=e=>t=>ce(t)&&ae(t)===e,ge=e=>{return de(e)?e:(t=e,ee.fromDom(t.dom.ownerDocument));var t},he=e=>w.from(e.dom.parentNode).map(ee.fromDom),be=(e,t)=>{const n=c(t)?t:f;let o=e.dom;const r=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){const e=o.parentNode,t=ee.fromDom(e);if(r.push(t),!0===n(t))break;o=e}return r},fe=e=>w.from(e.dom.previousSibling).map(ee.fromDom),ye=e=>w.from(e.dom.nextSibling).map(ee.fromDom),we=e=>_(e.dom.childNodes,ee.fromDom),ve=e=>((e,t)=>{const n=e.dom.childNodes;return w.from(n[t]).map(ee.fromDom)})(e,0),xe=e=>{const t=(e=>ee.fromDom(e.dom.getRootNode()))(e);return me(n=t)&&l(n.dom.host)?w.some(t):w.none();var n},Se=e=>ee.fromDom(e.dom.host),ke=(e,t)=>{he(e).each(n=>{n.dom.insertBefore(t.dom,e.dom)})},Ce=(e,t)=>{ye(e).fold(()=>{he(e).each(e=>{Ae(e,t)})},e=>{ke(e,t)})},_e=(e,t)=>{ve(e).fold(()=>{Ae(e,t)},n=>{e.dom.insertBefore(t.dom,n.dom)})},Ae=(e,t)=>{e.dom.appendChild(t.dom)},Te=(e,t)=>{ke(e,t),Ae(t,e)},Oe=(e,t)=>{A(t,(n,o)=>{const r=0===o?e:t[o-1];Ce(r,n)})},Ee=(e,t)=>{A(t,t=>{Ae(e,t)})},Fe=(e,t,n)=>{if(!(o(n)||a(n)||u(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Ne=(e,t,n)=>{Fe(e.dom,t,n)},Re=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},De=(e,t)=>w.from(Re(e,t)),je=(e,t)=>{e.dom.removeAttribute(t)},Pe=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},$e=e=>{const t=we(e);t.length>0&&Oe(e,t),Pe(e)},Me=e=>_(e,ee.fromDom),Be=e=>void 0!==e.style&&c(e.style.getPropertyValue),ze=e=>{const t=ue(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return xe(ee.fromDom(t)).fold(()=>n.body.contains(t),(o=ze,r=Se,e=>o(r(e))));var o,r},Ie=(e,t,n)=>{((e,t,n)=>{if(!o(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Be(e)&&e.style.setProperty(t,n)})(e.dom,t,n)},Le=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||ze(e)?o:We(n,t)},We=(e,t)=>Be(e)?e.style.getPropertyValue(t):"",qe=(e,t)=>{const n=e.dom,o=We(n,t);return w.from(o).filter(e=>e.length>0)},Ue=(e,t)=>{((e,t)=>{Be(e)&&e.style.removeProperty(t)})(e.dom,t),U(De(e,"style").map(G),"")&&je(e,"style")},He=(e,t)=>(e=>{const t=parseFloat(e);return isNaN(t)?w.none():w.some(t)})(e).getOr(t),Ve=(e,t,n)=>He(Le(e,t),n),Ze=(e,t)=>{const n=e.dom,o=n.getBoundingClientRect().width||n.offsetWidth;return"border-box"===t?o:((e,t,n,o)=>t-Ve(e,`padding-${n}`,0)-Ve(e,`padding-${o}`,0)-Ve(e,`border-${n}-width`,0)-Ve(e,`border-${o}-width`,0))(e,o,"left","right")};((e,t)=>{const n=n=>{const o=t(n);if(o<=0||null===o){const t=Le(n,e);return parseFloat(t)||0}return o},o=(e,t)=>O(t,(t,n)=>{const o=Le(e,n),r=void 0===o?0:parseInt(o,10);return isNaN(r)?t:t+r},0)})("width",e=>{const t=e.dom;return ze(e)?t.getBoundingClientRect().width:t.offsetWidth});const Ke=e=>Ze(e,"content-box"),Ge=((e,t)=>{const n=t=>e(t)?w.from(t.dom.nodeValue):w.none();return{get:o=>{if(!e(o))throw new Error("Can only get "+t+" value of a "+t+" node");return n(o).getOr("")},getOption:n,set:(n,o)=>{if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=o}}})(ue,"text"),Je=e=>Ge.get(e),Ye=(e,t)=>Ge.set(e,t);var Xe=(e,t,n,o,r)=>e(n,o)?w.some(n):c(r)&&r(n)?w.none():t(n,o,r);const Qe=(e,t,n)=>{let o=e.dom;const r=c(n)?n:f;for(;o.parentNode;){o=o.parentNode;const e=ee.fromDom(o);if(t(e))return w.some(e);if(r(e))break}return w.none()},et=(e,t,n)=>Qe(e,e=>te(e,t),n),tt=(e,t)=>((e,t)=>E(e.dom.childNodes,e=>t(ee.fromDom(e))).map(ee.fromDom))(e,e=>te(e,t)),nt=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return ne(n)?w.none():w.from(n.querySelector(e)).map(ee.fromDom)})(t,e),ot=(e,t,n)=>Xe((e,t)=>te(e,t),et,e,t,n),rt=(e,t=!1)=>{return ze(e)?e.dom.isContentEditable:(n=e,ot(n,"[contenteditable]")).fold(m(t),e=>"true"===at(e));var n},at=e=>e.dom.contentEditable,st=(e,t)=>{let n=[];return A(we(e),e=>{t(e)&&(n=n.concat([e])),n=n.concat(st(e,t))}),n},it=(e,t)=>((e,t)=>T(we(e),t))(e,e=>te(e,t)),lt=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return ne(n)?[]:_(n.querySelectorAll(e),ee.fromDom)})(t,e),ct=e=>t=>oe(t,(e=>ee.fromDom(e.getBody()))(e)),ut=e=>/^\d+(\.\d+)?$/.test(e)?e+"px":e,dt=e=>ee.fromDom(e.selection.getStart()),mt=e=>{return(t=e,n=pe("table"),Xe((e,t)=>t(e),Qe,t,n,o)).forall(rt);var t,n,o},pt=["tfoot","thead","tbody","colgroup"],gt=(e,t,n)=>({element:e,rowspan:t,colspan:n}),ht=(e,t,n)=>({element:e,cells:t,section:n}),bt=(e,t,n=0)=>De(e,t).map(e=>parseInt(e,10)).getOr(n),ft=(e,t)=>yt(e,t,y),yt=(e,t,n)=>F(we(e),e=>te(e,t)?n(e)?[e]:[]:yt(e,t,n)),wt=(e,t)=>((e,t,n=f)=>n(t)?w.none():S(e,ae(t))?w.some(t):et(t,e.join(","),e=>te(e,"table")||n(e)))(["td","th"],e,t),vt=(e,t)=>ot(e,"table",t),xt=e=>ft(e,"tr"),St=e=>vt(e).fold(m([]),e=>it(e,"colgroup")),kt=pe("th"),Ct=(e,t)=>e&&t?"sectionCells":e?"section":"cells",_t=e=>{const t=T(e,e=>kt(e.element));return 0===t.length?w.some("td"):t.length===e.length?w.some("th"):w.none()},At=e=>{const t=_(e,e=>(e=>{const t="thead"===e.section,n=U(_t(e.cells),"th");return"tfoot"===e.section?{type:"footer"}:t||n?{type:"header",subType:Ct(t,n)}:{type:"body"}})(e).type),n=S(t,"header"),o=S(t,"footer");if(n||o){const e=S(t,"body");return!n||e||o?n||e||!o?w.none():w.some("footer"):w.some("header")}return w.some("body")},Tt=(e,t)=>_(e,e=>{if("colgroup"===ae(e)){const t=_((e=>te(e,"colgroup")?it(e,"col"):F(St(e),e=>it(e,"col")))(e),e=>{const t=bt(e,"span",1);return gt(e,1,t)});return ht(e,t,"colgroup")}{const n=_((e=>ft(e,"th,td"))(e),e=>{const t=bt(e,"rowspan",1),n=bt(e,"colspan",1);return gt(e,t,n)});return ht(e,n,t(e))}}),Ot=e=>he(e).map(e=>{const t=ae(e);return(e=>S(pt,e))(t)?t:"tbody"}).getOr("tbody"),Et=e=>De(e,"data-snooker-locked-cols").bind(e=>w.from(e.match(/\d+/g))).map(e=>((e,t)=>{const n={};for(let o=0,r=e.length;o<r;o++){const r=e[o];n[String(r)]=t(r,o)}return n})(e,y)),Ft=(e,t)=>e+","+t,Nt=(e,t)=>{const n=F(e.all,e=>e.cells);return T(n,t)},Rt=e=>{const t={},n=[];var o;const r=(o=e,R(o,0)).map(e=>e.element).bind(vt).bind(Et).getOr({});let a=0,s=0,i=0;const{pass:l,fail:c}=((e,t)=>{const n=[],o=[];for(let r=0,a=e.length;r<a;r++){const a=e[r];(t(a,r)?n:o).push(a)}return{pass:n,fail:o}})(e,e=>"colgroup"===e.section);A(c,e=>{const o=[];A(e.cells,e=>{let n=0;for(;void 0!==t[Ft(i,n)];)n++;const a=W(r,n.toString()),l=((e,t,n,o,r,a)=>({element:e,rowspan:t,colspan:n,row:o,column:r,isLocked:a}))(e.element,e.rowspan,e.colspan,i,n,a);for(let o=0;o<e.colspan;o++)for(let r=0;r<e.rowspan;r++){const e=n+o,a=Ft(i+r,e);t[a]=l,s=Math.max(s,e+1)}o.push(l)}),a++,n.push(ht(e.element,o,e.section)),i++});const{columns:u,colgroups:d}=(e=>R(e,e.length-1))(l).map(e=>{const t=(e=>{const t={};let n=0;return A(e.cells,e=>{const o=e.colspan;C(o,r=>{const a=n+r;t[a]=((e,t,n)=>({element:e,colspan:t,column:n}))(e.element,o,a)}),n+=o}),t})(e),n=((e,t)=>({element:e,columns:t}))(e.element,B(t));return{colgroups:[n],columns:t}}).getOrThunk(()=>({colgroups:[],columns:{}})),m=((e,t)=>({rows:e,columns:t}))(a,s);return{grid:m,access:t,all:n,columns:u,colgroups:d}},Dt=e=>{const t=(e=>{const t=xt(e),n=[...St(e),...t];return Tt(n,Ot)})(e);return Rt(t)},jt=(e,t,n)=>w.from(e.access[Ft(t,n)]),Pt=(e,t,n)=>{const o=Nt(e,e=>n(t,e.element));return o.length>0?w.some(o[0]):w.none()},$t=e=>F(e.all,e=>e.cells),Mt=(e,t)=>w.from(e.columns[t]),Bt=(e,t)=>D(e.all,e=>E(e.cells,e=>oe(t,e.element))),zt=(e,t,n)=>{const o=_(t.selection,t=>wt(t).bind(t=>Bt(e,t)).filter(n)),r=H(o);return a=r.length>0,s=r,a?w.some(s):w.none();var a,s},It=(e,t)=>zt(e,t,y),Lt=(e,t)=>N(t,t=>((e,t)=>Bt(e,t).exists(e=>!e.isLocked))(e,t)),Wt=(e,t)=>((e,t)=>t.mergable)(0,t).filter(t=>Lt(e,t.cells)),qt=(e,t)=>((e,t)=>t.unmergable)(0,t).filter(t=>Lt(e,t)),Ut=pe("col"),Ht=pe("colgroup"),Vt=e=>"tr"===ae(e)||Ht(e),Zt=e=>t=>{const n=[],o=o=>{const r="td"===e?{scope:null}:{},a=t.replace(o,e,r);return n.push({item:o,sub:a}),a};return{replaceOrInit:(e,t)=>{if(Vt(e)||Ut(e))return e;{const r=e;return((e,t)=>E(n,n=>t(n.item,e)))(r,t).fold(()=>o(r),n=>t(e,n.item)?n.sub:o(r))}}}};var Kt=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];const Gt=(e,t,n,o)=>{const r=t(e,n);return a=(n,o)=>{const r=t(e,o);return Jt(e,n,r)},s=r,((e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)})(o,(e,t)=>{s=a(s,e,t)}),s;var a,s},Jt=(e,t,n)=>t.bind(t=>n.filter(h(e.eq,t))),Yt=(e,t,n)=>n.length>0?((e,t,n,o)=>o(e,t,n[0],n.slice(1)))(e,t,n,Gt):w.none(),Xt={up:m({selector:et,closest:ot,predicate:Qe,all:be}),down:m({selector:lt,predicate:st}),styles:m({get:Le,getRaw:qe,set:Ie,remove:Ue}),attrs:m({get:Re,set:Ne,remove:je,copyTo:(e,t)=>{((e,t)=>{const n=e.dom;$(t,(e,t)=>{Fe(n,t,e)})})(t,O(e.dom.attributes,(e,t)=>(e[t.name]=t.value,e),{}))}}),insert:m({before:ke,after:Ce,afterAll:Oe,append:Ae,appendAll:Ee,prepend:_e,wrap:Te}),remove:m({unwrap:$e,remove:Pe}),create:m({nu:ee.fromTag,clone:e=>ee.fromDom(e.dom.cloneNode(!1)),text:ee.fromText}),query:m({comparePosition:(e,t)=>e.dom.compareDocumentPosition(t.dom),prevSibling:fe,nextSibling:ye}),property:m({children:we,name:ae,parent:he,document:e=>ge(e).dom,isText:ue,isComment:le,isElement:ce,isSpecial:e=>{const t=ae(e);return S(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)},getLanguage:e=>ce(e)?De(e,"lang"):w.none(),getText:Je,setText:Ye,isBoundary:e=>!!ce(e)&&("body"===ae(e)||S(Kt,ae(e))),isEmptyTag:e=>!!ce(e)&&S(["br","img","hr","input"],ae(e)),isNonEditable:e=>ce(e)&&"false"===Re(e,"contenteditable")}),eq:oe,is:re};Zt("th"),Zt("td");const Qt=(e,t)=>{const n=Dt(e);return It(n,t).bind(e=>{const t=e[e.length-1],o=e[0].row,r=t.row+t.rowspan,a=n.all.slice(o,r);return At(a)}).getOr("")},en=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,tn=(e,t,n)=>{const o=Pt(e,t,oe),r=Pt(e,n,oe);return o.bind(e=>r.map(t=>{return n=e,o=t,r=Math.min(n.row,o.row),a=Math.min(n.column,o.column),s=Math.max(n.row+n.rowspan-1,o.row+o.rowspan-1),i=Math.max(n.column+n.colspan-1,o.column+o.colspan-1),{startRow:r,startCol:a,finishRow:s,finishCol:i};var n,o,r,a,s,i}))},nn=(e,t,n)=>tn(e,t,n).bind(t=>((e,t)=>{let n=!0;const o=h(en,t);for(let r=t.startRow;r<=t.finishRow;r++)for(let a=t.startCol;a<=t.finishCol;a++)n=n&&jt(e,r,a).exists(o);return n?w.some(t):w.none()})(e,t)),on=Dt;var rn=tinymce.util.Tools.resolve("tinymce.util.Tools");const an=(e,t,n)=>{const o=e.select("td,th",t);let r;for(let t=0;t<o.length;t++){const a=e.getStyle(o[t],n);if(s(r)&&(r=a),r!==a)return""}return r},sn=(e,t,n)=>{rn.each("left center right".split(" "),o=>{o!==n&&e.formatter.remove("align"+o,{},t)}),n&&e.formatter.apply("align"+n,{},t)},ln=(e,t,n)=>{e.dispatch("TableModified",{...n,table:t})};var cn=tinymce.util.Tools.resolve("tinymce.Env");const un=C(5,e=>{const t=`${e+1}px`;return{title:t,value:t}}),dn=_(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],e=>({title:e,value:e.toLowerCase()})),mn="100%",pn=e=>{const t=e.dom,n=t.getParent(e.selection.getStart(),t.isBlock)??e.getBody();return Ke(ee.fromDom(n))+"px"},gn=e=>t=>t.options.get(e),hn=gn("table_sizing_mode"),bn=gn("table_border_widths"),fn=gn("table_border_styles"),yn=gn("table_cell_advtab"),wn=gn("table_row_advtab"),vn=gn("table_advtab"),xn=gn("table_appearance_options"),Sn=gn("table_grid"),kn=gn("table_style_by_css"),Cn=gn("table_cell_class_list"),_n=gn("table_row_class_list"),An=gn("table_class_list"),Tn=gn("table_toolbar"),On=gn("table_background_color_map"),En=gn("table_border_color_map"),Fn=e=>"fixed"===hn(e),Nn=e=>"responsive"===hn(e),Rn=e=>{const t=e.options,n=t.get("table_default_styles");return t.isSet("table_default_styles")?n:((e,t)=>Nn(e)||!kn(e)?t:Fn(e)?{...t,width:pn(e)}:{...t,width:mn})(e,n)},Dn=e=>{const t=e.options,n=t.get("table_default_attributes");return t.isSet("table_default_attributes")?n:((e,t)=>Nn(e)||kn(e)?t:Fn(e)?{...t,width:pn(e)}:{...t,width:mn})(e,n)},jn=e=>et(e,"table"),Pn=(e,t,n)=>nt(e,t).bind(t=>nt(e,n).bind(e=>{return(n=jn,o=[t,e],Yt(Xt,(e,t)=>n(t),o)).map(n=>({first:t,last:e,table:n}));var n,o})),$n=(e,t)=>((e,t)=>{const n=lt(e,t);return n.length>0?w.some(n):w.none()})(e,t),Mn=(e,t,n)=>Pn(e,t,n).bind(t=>{const n=t=>oe(e,t),o="thead,tfoot,tbody,table",r=et(t.first,o,n),a=et(t.last,o,n);return r.bind(e=>a.bind(n=>oe(e,n)?((e,t,n)=>{const o=on(e);return nn(o,t,n)})(t.table,t.first,t.last):w.none()))}),Bn=p,zn=e=>{const t=(e,t)=>De(e,t).exists(e=>parseInt(e,10)>1);return e.length>0&&N(e,e=>t(e,"rowspan")||t(e,"colspan"))?w.some(e):w.none()},In=(e,t,n)=>t.length<=1?w.none():Mn(e,n.firstSelectedSelector,n.lastSelectedSelector).map(e=>({bounds:e,cells:t})),Ln="data-mce-selected",Wn="data-mce-first-selected",qn="data-mce-last-selected",Un={selected:Ln,selectedSelector:"td["+Ln+"],th["+Ln+"]",firstSelected:Wn,firstSelectedSelector:"td["+Wn+"],th["+Wn+"]",lastSelected:qn,lastSelectedSelector:"td["+qn+"],th["+qn+"]"},Hn=e=>(t,n)=>{const o=ae(t),r="col"===o||"colgroup"===o?vt(a=t).bind(e=>$n(e,Un.firstSelectedSelector)).fold(m(a),e=>e[0]):t;var a;return ot(r,e,n)},Vn=Hn("th,td,caption"),Zn=Hn("th,td"),Kn=e=>Me(e.model.table.getSelectedCells()),Gn=(e,t)=>{const n=Zn(e),o=n.bind(e=>vt(e)).map(e=>xt(e));return V(n,o,(e,n)=>T(n,n=>k(Me(n.dom.cells),n=>"1"===Re(n,t)||oe(n,e)))).getOr([])},Jn=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Yn=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Xn=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Qn=e=>{return(t=e,n="#",K(t,n)?((e,t)=>e.substring(t))(t,n.length):t).toUpperCase();var t,n},eo=e=>(e=>Yn.test(e)||Xn.test(e))(e)?w.some({value:Qn(e)}):w.none(),to=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},no=e=>(e=>({value:Qn(e)}))(to(e.red)+to(e.green)+to(e.blue)),oo=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,ro=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,ao=(e,t,n,o)=>({red:e,green:t,blue:n,alpha:o}),so=(e,t,n,o)=>{const r=parseInt(e,10),a=parseInt(t,10),s=parseInt(n,10),i=parseFloat(o);return ao(r,a,s,i)},io=e=>{const t=oo.exec(e);if(null!==t)return w.some(so(t[1],t[2],t[3],"1"));const n=ro.exec(e);return null!==n?w.some(so(n[1],n[2],n[3],n[4])):w.none()},lo=(e,t,n)=>o=>{const r=Z(),a=!Y(n);const s=()=>{const s=Kn(e),i=o=>e.formatter.match(t,{value:n},o.dom,a);a?(o.setActive(!k(s,i)),r.set(e.formatter.formatChanged(t,e=>o.setActive(!e),!0))):(o.setActive(N(s,i)),r.set(e.formatter.formatChanged(t,o.setActive,!1,{value:n})))};return e.initialized?s():e.on("init",s),r.clear},co=e=>W(e,"menu"),uo=e=>_(e,e=>{const t=e.text||e.title||"";return co(e)?{text:t,items:uo(e.menu)}:{text:t,value:e.value}}),mo=e=>e.length?w.some(uo([{text:"Select...",value:"mce-no-match"},...e])):w.none(),po=(e,t,n,o)=>_(t,t=>{const r=t.text||t.title;return co(t)?{type:"nestedmenuitem",text:r,getSubmenuItems:()=>po(e,t.menu,n,o)}:{text:r,type:"togglemenuitem",onAction:()=>o(t.value),onSetup:lo(e,n,t.value)}}),go=(e,t)=>n=>{e.execCommand("mceTableApplyCellStyle",!1,{[t]:n})},ho=e=>F(e,e=>co(e)?[{...e,menu:ho(e.menu)}]:Y(e.value)?[e]:[]),bo=(e,t,n,o)=>r=>r(po(e,t,n,o)),fo=(e,t,n)=>{const o=_(t,e=>{return{text:e.title,value:"#"+(t=e.value,eo(t).orThunk(()=>io(t).map(no)).getOrThunk(()=>{const e=document.createElement("canvas");e.height=1,e.width=1;const n=e.getContext("2d");n.clearRect(0,0,e.width,e.height),n.fillStyle="#FFFFFF",n.fillStyle=t,n.fillRect(0,0,1,1);const o=n.getImageData(0,0,1,1).data,r=o[0],a=o[1],s=o[2],i=o[3];return no(ao(r,a,s,i))})).value,type:"choiceitem"};var t});return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:o.length>0?o:void 0,allowCustomColors:!1},onAction:t=>{const o="remove"===t.value?"":t.value;e.execCommand("mceTableApplyCellStyle",!1,{[n]:o})}}]},yo=e=>()=>{const t="header"===e.queryCommandValue("mceTableRowType")?"body":"header";e.execCommand("mceTableRowType",!1,{type:t})},wo=e=>()=>{const t="th"===e.queryCommandValue("mceTableColType")?"td":"th";e.execCommand("mceTableColType",!1,{type:t})},vo=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Jn}],xo=e=>vo.concat((e=>mo(Cn(e)).map(e=>({name:"class",type:"listbox",label:"Class",items:e})))(e).toArray()),So=(e,t)=>{const n=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(uo(fn(e)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:"cell"===t?[{name:"borderwidth",type:"input",label:"Border width"}].concat(n):n}},ko=(e,t)=>{const n=e.dom;return{setAttrib:(e,o)=>{n.setAttrib(t,e,o)},setStyle:(e,o)=>{n.setStyle(t,e,o)},setFormat:(n,o)=>{""===o?e.formatter.remove(n,{value:null},t,!0):e.formatter.apply(n,{value:o},t)}}},Co=e=>{return K(e,"rgb")?io(t=e).map(no).map(e=>"#"+e.value).getOr(t):e;var t},_o=e=>{const t=ee.fromDom(e);return{borderwidth:qe(t,"border-width").getOr(""),borderstyle:qe(t,"border-style").getOr(""),bordercolor:qe(t,"border-color").map(Co).getOr(""),backgroundcolor:qe(t,"background-color").map(Co).getOr("")}},Ao=e=>{const t=e[0],n=e.slice(1);return A(n,e=>{A(j(t),n=>{$(e,(e,o)=>{const r=t[n];""!==r&&n===o&&r!==e&&(t[n]="class"===n?"mce-no-match":"")})})}),t},To=(e,t,n,o)=>E(e,e=>!s(n.formatter.matchNode(o,t+e))).getOr(""),Oo=h(To,["left","center","right"],"align"),Eo=h(To,["top","middle","bottom"],"valign"),Fo=e=>vt(ee.fromDom(e)).map(t=>{const n={selection:Me(e.cells)};return Qt(t,n)}).getOr(""),No=(e,t)=>{const n=Dt(e),o=$t(n),r=T(o,e=>k(t,t=>oe(e.element,t)));return _(r,e=>({element:e.element.dom,column:Mt(n,e.column).map(e=>e.element.dom)}))},Ro=(e,t,n,o)=>{const r=1===t.length;A(t,t=>{const a=t.element,s=r?y:o,i=ko(e,a);((e,t,n,o)=>{o("scope")&&e.setAttrib("scope",n.scope),o("class")&&"mce-no-match"!==n.class&&e.setAttrib("class",n.class),o("width")&&t.setStyle("width",ut(n.width))})(i,t.column.map(t=>ko(e,t)).getOr(i),n,s),yn(e)&&((e,t,n)=>{n("backgroundcolor")&&e.setFormat("tablecellbackgroundcolor",t.backgroundcolor),n("bordercolor")&&e.setFormat("tablecellbordercolor",t.bordercolor),n("borderstyle")&&e.setFormat("tablecellborderstyle",t.borderstyle),n("borderwidth")&&e.setFormat("tablecellborderwidth",ut(t.borderwidth))})(i,n,s),o("halign")&&sn(e,a,n.halign),o("valign")&&((e,t,n)=>{rn.each("top middle bottom".split(" "),o=>{o!==n&&e.formatter.remove("valign"+o,{},t)}),n&&e.formatter.apply("valign"+n,{},t)})(e,a,n.valign)})},Do=(e,t,n,o)=>{const r=o.getData();o.close(),e.undoManager.transact(()=>{((e,t,n,o)=>{const r=M(o,(e,t)=>n[t]!==e);z(r)>0&&t.length>=1&&vt(t[0]).each(n=>{const a=No(n,t),s=z(M(r,(e,t)=>"scope"!==t&&"celltype"!==t))>0,i=L(r,"celltype");(s||L(r,"scope"))&&Ro(e,a,o,h(L,r)),i&&((e,t)=>{e.execCommand("mceTableCellType",!1,{type:t.celltype,no_events:!0})})(e,o),ln(e,n.dom,{structure:i,style:s})})})(e,t,n,r),e.focus()})},jo=(e,t)=>{const n=vt(t[0]).map(n=>_(No(n,t),t=>((e,t,n,o)=>{const r=e.dom,a=o.getOr(t);return{width:(i=a,l="width",r.getStyle(i,l)||r.getAttrib(i,l)),scope:r.getAttrib(t,"scope"),celltype:(s=t,s.nodeName.toLowerCase()),class:r.getAttrib(t,"class",""),halign:Oo(e,t),valign:Eo(e,t),...n?_o(t):{}};var s,i,l})(e,t.element,yn(e),t.column)));return Ao(n.getOrDie())},Po=e=>{const t=Kn(e);if(0===t.length)return;const n=jo(e,t),o={type:"tabpanel",tabs:[{title:"General",name:"general",items:xo(e)},So(e,"cell")]},r={type:"panel",items:[{type:"grid",columns:2,items:xo(e)}]};e.windowManager.open({title:"Cell Properties",size:"normal",body:yn(e)?o:r,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:n,onSubmit:h(Do,e,t,n)})},$o=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Mo=e=>$o.concat((e=>mo(_n(e)).map(e=>({name:"class",type:"listbox",label:"Class",items:e})))(e).toArray()),Bo=(e,t,n,o)=>{const r=1===t.length?y:o;A(t,t=>{const a=it(ee.fromDom(t),"td,th"),s=ko(e,t);((e,t,n)=>{n("class")&&"mce-no-match"!==t.class&&e.setAttrib("class",t.class),n("height")&&e.setStyle("height",ut(t.height))})(s,n,r),wn(e)&&((e,t,n)=>{n("backgroundcolor")&&e.setStyle("background-color",t.backgroundcolor),n("bordercolor")&&e.setStyle("border-color",t.bordercolor),n("borderstyle")&&e.setStyle("border-style",t.borderstyle)})(s,n,r),o("height")&&A(a,t=>{e.dom.setStyle(t.dom,"height",null)}),o("align")&&sn(e,t,n.align)})},zo=(e,t,n,o)=>{const r=o.getData();o.close(),e.undoManager.transact(()=>{((e,t,n,o)=>{const r=M(o,(e,t)=>n[t]!==e);if(z(r)>0){const n=L(r,"type"),a=!n||z(r)>1;a&&Bo(e,t,o,h(L,r)),n&&((e,t)=>{e.execCommand("mceTableRowType",!1,{type:t.type,no_events:!0})})(e,o),vt(ee.fromDom(t[0])).each(t=>ln(e,t.dom,{structure:n,style:a}))}})(e,t,n,r),e.focus()})},Io=e=>{const t=Gn(dt(e),Un.selected);if(0===t.length)return;const n=_(t,t=>((e,t,n)=>{const o=e.dom;return{height:o.getStyle(t,"height")||o.getAttrib(t,"height"),class:o.getAttrib(t,"class",""),type:Fo(t),align:Oo(e,t),...n?_o(t):{}}})(e,t.dom,wn(e))),o=Ao(n),r={type:"tabpanel",tabs:[{title:"General",name:"general",items:Mo(e)},So(e,"row")]},a={type:"panel",items:[{type:"grid",columns:2,items:Mo(e)}]};e.windowManager.open({title:"Row Properties",size:"normal",body:wn(e)?r:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onSubmit:h(zo,e,_(t,e=>e.dom),o)})},Lo=(e,t,n)=>{const o=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],r=xn(e)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],a=t.length>0?[{name:"class",type:"listbox",label:"Class",items:t}]:[];return o.concat([{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}]).concat(r).concat([{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]).concat(a)},Wo=(e,t,n,r)=>{if("TD"===t.tagName||"TH"===t.tagName)o(n)&&l(r)?e.setStyle(t,n,r):e.setStyles(t,n);else if(t.children)for(let o=0;o<t.children.length;o++)Wo(e,t.children[o],n,r)},qo=(e,t,n,o)=>{const r=e.dom,a={},i={},l=kn(e),c=vn(e),u=0===parseFloat(n.border);if(s(n.class)||"mce-no-match"===n.class||(a.class=n.class),i.height=ut(n.height),l?i.width=ut(n.width):r.getAttrib(t,"width")&&(a.width=(e=>e?e.replace(/px$/,""):"")(n.width)),l?(u?(a.border=0,i["border-width"]=""):(i["border-width"]=ut(n.border),a.border=1),i["border-spacing"]=ut(n.cellspacing)):(a.border=u?0:n.border,a.cellpadding=n.cellpadding,a.cellspacing=n.cellspacing),l&&t.children){const e={};if(u?e["border-width"]="":o.border&&(e["border-width"]=ut(n.border)),o.cellpadding&&(e.padding=ut(n.cellpadding)),c&&o.bordercolor&&(e["border-color"]=n.bordercolor),!(e=>{for(const t in e)if(P.call(e,t))return!1;return!0})(e))for(let n=0;n<t.children.length;n++)Wo(r,t.children[n],e)}if(c){const e=n;i["background-color"]=e.backgroundcolor,i["border-color"]=e.bordercolor,i["border-style"]=e.borderstyle}r.setStyles(t,{...Rn(e),...i}),r.setAttribs(t,{...Dn(e),...a})},Uo=(e,t,n,o)=>{const r=e.dom,a=o.getData(),s=M(a,(e,t)=>n[t]!==e);o.close(),e.undoManager.transact(()=>{if(!t){const n=X(a.cols).getOr(1),o=X(a.rows).getOr(1);e.execCommand("mceInsertTable",!1,{rows:o,columns:n}),t=Zn(dt(e),ct(e)).bind(t=>vt(t,ct(e))).map(e=>e.dom).getOrDie()}if(z(s)>0){const n={border:L(s,"border"),bordercolor:L(s,"bordercolor"),cellpadding:L(s,"cellpadding")};qo(e,t,a,n);const o=r.select("caption",t)[0];(o&&!a.caption||!o&&a.caption)&&e.execCommand("mceTableToggleCaption"),sn(e,t,a.align)}if(e.focus(),e.addVisual(),z(s)>0){const n=L(s,"caption"),o=!n||z(s)>1;ln(e,t,{structure:n,style:o})}})},Ho=(e,t)=>{const n=e.dom;let o,r=((e,t)=>{const n=Rn(e),o=Dn(e),r=t?{borderstyle:I(n,"border-style").getOr(""),bordercolor:Co(I(n,"border-color").getOr("")),backgroundcolor:Co(I(n,"background-color").getOr(""))}:{};return{height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:"",...n,...o,...r,...(()=>{const t=n["border-width"];return kn(e)&&t?{border:t}:I(o,"border").fold(()=>({}),e=>({border:e}))})(),...{...I(n,"border-spacing").or(I(o,"cellspacing")).fold(()=>({}),e=>({cellspacing:e})),...I(n,"border-padding").or(I(o,"cellpadding")).fold(()=>({}),e=>({cellpadding:e}))}}})(e,vn(e));t?(r.cols="1",r.rows="1",vn(e)&&(r.borderstyle="",r.bordercolor="",r.backgroundcolor="")):(o=n.getParent(e.selection.getStart(),"table",e.getBody()),o?r=((e,t,n)=>{const o=e.dom,r=kn(e)?o.getStyle(t,"border-spacing")||o.getAttrib(t,"cellspacing"):o.getAttrib(t,"cellspacing")||o.getStyle(t,"border-spacing"),a=kn(e)?an(o,t,"padding")||o.getAttrib(t,"cellpadding"):o.getAttrib(t,"cellpadding")||an(o,t,"padding");return{width:o.getStyle(t,"width")||o.getAttrib(t,"width"),height:o.getStyle(t,"height")||o.getAttrib(t,"height"),cellspacing:r??"",cellpadding:a??"",border:((t,n)=>{const o=qe(ee.fromDom(n),"border-width");return kn(e)&&o.isSome()?o.getOr(""):t.getAttrib(n,"border")||an(e.dom,n,"border-width")||an(e.dom,n,"border")||""})(o,t),caption:!!o.select("caption",t)[0],class:o.getAttrib(t,"class",""),align:Oo(e,t),...n?_o(t):{}}})(e,o,vn(e)):vn(e)&&(r.borderstyle="",r.bordercolor="",r.backgroundcolor=""));const a=mo(An(e));a.isSome()&&r.class&&(r.class=r.class.replace(/\s*mce\-item\-table\s*/g,""));const s={type:"grid",columns:2,items:Lo(e,a.getOr([]),t)},i=vn(e)?{type:"tabpanel",tabs:[{title:"General",name:"general",items:[s]},So(e,"table")]}:{type:"panel",items:[s]};e.windowManager.open({title:"Table Properties",size:"normal",body:i,onSubmit:h(Uo,e,o,r),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r})},Vo=e=>{$({mceTableProps:h(Ho,e,!1),mceTableRowProps:h(Io,e),mceTableCellProps:h(Po,e),mceInsertTableDialog:h(Ho,e,!0)},(t,n)=>e.addCommand(n,()=>{return n=t,void(mt(dt(e))&&n());var n}))},Zo=e=>{const t=q(w.none()),n=q([]);let o=w.none();const r=pe("caption"),a=e=>o.forall(t=>!t[e]),s=()=>Vn((e=>ee.fromDom(e.selection.getEnd()))(e),ct(e)),i=()=>Vn(dt(e),ct(e)).bind(t=>{return n=V(vt(t),s().bind(vt),(n,o)=>oe(n,o)?r(t)?w.some((e=>({element:e,mergable:w.none(),unmergable:w.none(),selection:[e]}))(t)):w.some(((e,t,n)=>({element:n,mergable:In(t,e,Un),unmergable:zn(e),selection:Bn(e)}))(Kn(e),n,t)):w.none()),n.bind(p);var n}),l=e=>vt(e.element).map(t=>{const n=Dt(t),o=It(n,e).getOr([]),r=O(o,(e,t)=>(t.isLocked&&(e.onAny=!0,0===t.column?e.onFirst=!0:t.column+t.colspan>=n.grid.columns&&(e.onLast=!0)),e),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Wt(n,e).isSome(),unmergeable:qt(n,e).isSome(),locked:r}}),c=()=>{t.set((e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)})(i)()),o=t.get().bind(l),A(n.get(),b)},u=e=>(e(),n.set(n.get().concat([e])),()=>{n.set(T(n.get(),t=>t!==e))}),d=(n,o)=>u(()=>t.get().fold(()=>{n.setEnabled(!1)},t=>{n.setEnabled(!o(t)&&e.selection.isEditable())})),m=(n,o,r)=>u(()=>t.get().fold(()=>{n.setEnabled(!1),n.setActive(!1)},t=>{n.setEnabled(!o(t)&&e.selection.isEditable()),n.setActive(r(t))})),g=e=>o.exists(t=>t.locked[e]),h=(t,n)=>o=>m(o,e=>r(e.element),()=>e.queryCommandValue(t)===n),y=h("mceTableRowType","header"),v=h("mceTableColType","th");return e.on("NodeChange ExecCommand TableSelectorChange",c),{onSetupTable:e=>d(e,e=>!1),onSetupCellOrRow:e=>d(e,e=>r(e.element)),onSetupColumn:e=>t=>d(t,t=>r(t.element)||g(e)),onSetupPasteable:e=>t=>d(t,t=>r(t.element)||e().isNone()),onSetupPasteableColumn:(e,t)=>n=>d(n,n=>r(n.element)||e().isNone()||g(t)),onSetupMergeable:e=>d(e,e=>a("mergeable")),onSetupUnmergeable:e=>d(e,e=>a("unmergeable")),resetTargets:c,onSetupTableWithCaption:t=>m(t,f,t=>vt(t.element,ct(e)).exists(e=>tt(e,"caption").isSome())),onSetupTableRowHeaders:y,onSetupTableColumnHeaders:v,targets:t.get}};var Ko=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Go="x-tinymce/dom-table-",Jo=Go+"rows",Yo=Go+"columns",Xo=e=>{const t=Ko.read()??[];return D(t,t=>w.from(t.getType(e)))},Qo=()=>Xo(Jo),er=()=>Xo(Yo),tr=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}},nr=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}},or=e=>{const t=Zo(e);(e=>{const t=e.options.register;t("table_border_widths",{processor:"object[]",default:un}),t("table_border_styles",{processor:"object[]",default:dn}),t("table_cell_advtab",{processor:"boolean",default:!0}),t("table_row_advtab",{processor:"boolean",default:!0}),t("table_advtab",{processor:"boolean",default:!0}),t("table_appearance_options",{processor:"boolean",default:!0}),t("table_grid",{processor:"boolean",default:!cn.deviceType.isTouch()}),t("table_cell_class_list",{processor:"object[]",default:[]}),t("table_row_class_list",{processor:"object[]",default:[]}),t("table_class_list",{processor:"object[]",default:[]}),t("table_toolbar",{processor:"string",default:"tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"}),t("table_background_color_map",{processor:"object[]",default:[]}),t("table_border_color_map",{processor:"object[]",default:[]})})(e),Vo(e),((e,t)=>{const n=t=>()=>e.execCommand(t),o=(t,o)=>!!e.queryCommandSupported(o.command)&&(e.ui.registry.addMenuItem(t,{...o,onAction:c(o.onAction)?o.onAction:n(o.command)}),!0),r=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addToggleMenuItem(t,{...o,onAction:c(o.onAction)?o.onAction:n(o.command)})},a=t=>{e.execCommand("mceInsertTable",!1,{rows:t.numRows,columns:t.numColumns})},s=[o("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:t.onSetupCellOrRow}),o("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:t.onSetupCellOrRow}),o("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:t.onSetupCellOrRow}),o("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:t.onSetupCellOrRow}),o("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:t.onSetupCellOrRow}),o("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:t.onSetupCellOrRow}),o("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:t.onSetupPasteable(Qo)}),o("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:t.onSetupPasteable(Qo)})],i=[o("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:t.onSetupColumn("onFirst")}),o("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:t.onSetupColumn("onLast")}),o("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:t.onSetupColumn("onAny")}),o("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:t.onSetupColumn("onAny")}),o("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:t.onSetupColumn("onAny")}),o("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:t.onSetupPasteableColumn(er,"onFirst")}),o("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:t.onSetupPasteableColumn(er,"onLast")})],l=[o("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:t.onSetupCellOrRow}),o("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:t.onSetupMergeable}),o("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:t.onSetupUnmergeable})];Sn(e)?e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:a}],onSetup:nr(e)}):e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:n("mceInsertTableDialog"),onSetup:nr(e)}),e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:n("mceInsertTableDialog"),onSetup:nr(e)}),o("tableprops",{text:"Table properties",onSetup:t.onSetupTable,command:"mceTableProps"}),o("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:t.onSetupTable,command:"mceTableDelete"}),S(s,!0)&&e.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:m("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),S(i,!0)&&e.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:m("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),S(l,!0)&&e.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:m("tablecellprops tablemergecells tablesplitcells")}),e.ui.registry.addContextMenu("table",{update:()=>(t.resetTargets(),t.targets().fold(m(""),e=>"caption"===ae(e.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const u=ho(An(e));0!==u.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>po(e,u,"tableclass",t=>e.execCommand("mceTableToggleClass",!1,t)),onSetup:t.onSetupTable});const d=ho(Cn(e));0!==d.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>po(e,d,"tablecellclass",t=>e.execCommand("mceTableCellToggleClass",!1,t)),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>po(e,Jn,"tablecellverticalalign",go(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>po(e,bn(e),"tablecellborderwidth",go(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>po(e,fn(e),"tablecellborderstyle",go(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>fo(e,On(e),"background-color"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>fo(e,En(e),"border-color"),onSetup:t.onSetupCellOrRow})),r("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),r("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:yo(e),onSetup:t.onSetupTableRowHeaders}),r("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:wo(e),onSetup:t.onSetupTableRowHeaders})})(e,t),((e,t)=>{e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:tr(e),fetch:e=>e("inserttable | cell row column | advtablesort | tableprops deletetable")});const n=t=>()=>e.execCommand(t),o=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addButton(t,{...o,onAction:c(o.onAction)?o.onAction:n(o.command)})},r=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addToggleButton(t,{...o,onAction:c(o.onAction)?o.onAction:n(o.command)})};o("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:t.onSetupTable}),o("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:t.onSetupTable}),o("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:t.onSetupCellOrRow}),o("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:t.onSetupMergeable}),o("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:t.onSetupUnmergeable}),o("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:t.onSetupCellOrRow}),o("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:t.onSetupCellOrRow}),o("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:t.onSetupCellOrRow}),o("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:t.onSetupCellOrRow}),o("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:t.onSetupColumn("onFirst")}),o("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:t.onSetupColumn("onLast")}),o("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:t.onSetupColumn("onAny")}),o("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:t.onSetupCellOrRow}),o("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:t.onSetupCellOrRow}),o("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:t.onSetupPasteable(Qo)}),o("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:t.onSetupPasteable(Qo)}),o("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:t.onSetupColumn("onAny")}),o("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:t.onSetupColumn("onAny")}),o("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:t.onSetupPasteableColumn(er,"onFirst")}),o("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:t.onSetupPasteableColumn(er,"onLast")}),o("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:tr(e)});const a=ho(An(e));0!==a.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:bo(e,a,"tableclass",t=>e.execCommand("mceTableToggleClass",!1,t)),onSetup:t.onSetupTable});const s=ho(Cn(e));0!==s.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:bo(e,s,"tablecellclass",t=>e.execCommand("mceTableCellToggleClass",!1,t)),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:bo(e,Jn,"tablecellverticalalign",go(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:bo(e,bn(e),"tablecellborderwidth",go(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:bo(e,fn(e),"tablecellborderstyle",go(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:t=>t(fo(e,On(e),"background-color")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:t=>t(fo(e,En(e),"border-color")),onSetup:t.onSetupCellOrRow})),r("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),r("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:yo(e),onSetup:t.onSetupTableRowHeaders}),r("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:wo(e),onSetup:t.onSetupTableColumnHeaders})})(e,t),(e=>{const t=t=>e.dom.is(t,"table")&&e.getBody().contains(t)&&e.dom.isEditable(t.parentNode),n=Tn(e);n.length>0&&e.ui.registry.addContextToolbar("table",{predicate:t,items:n,scope:"node",position:"node"})})(e)};e.add("table",or)}()},57426:function(e,t,n){n(24855)},59638:function(e,t,n){n(52171)},63026:function(){!function(){"use strict";const e=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||o.constructor?.name===r.name)?"string":t;var n,o,r})(t)===e,t=e=>t=>typeof t===e,n=e("string"),o=e("object"),r=e=>null===e,a=t("boolean"),s=t("function"),i=t("number");class l{tag;value;static singletonNone=new l(!1);constructor(e,t){this.tag=e,this.value=t}static some(e){return new l(!0,e)}static none(){return l.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?l.some(e(this.value)):l.none()}bind(e){return this.tag?e(this.value):l.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:l.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(e??"Called getOrDie on None")}static from(e){return null==e?l.none():l.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Array.prototype.slice;const c=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)};s(Array.from)&&Array.from;const u=Object.keys,d=(e,t)=>{const n=u(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},m="undefined"!=typeof window?window:Function("return this;")(),p=(e,t)=>((e,t)=>{let n=null!=t?t:m;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t);var g=tinymce.util.Tools.resolve("tinymce.PluginManager");const h=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},b=Object.getPrototypeOf,f=e=>e.dom.nodeValue,y=e=>t=>(e=>e.dom.nodeType)(t)===e,w=e=>v(e)&&(e=>{const t=p("ownerDocument.defaultView",e);return o(e)&&((e=>((e,t)=>{const n=((e,t)=>p(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n})("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(b(e).constructor.name))})(e.dom),v=y(1),x=y(3),S=(e,t,o)=>{((e,t,o)=>{if(!(n(o)||a(o)||i(o)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,o+"")})(e.dom,t,o)},k=(e,t)=>{e.dom.removeAttribute(t)},C=(e,t)=>{const n=((e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n})(e,t);return void 0===n||""===n?[]:n.split(" ")},_=e=>void 0!==e.dom.classList,A=e=>e.dom.contentEditable,T={" ":"nbsp","­":"shy"},O=(e,t)=>{let n="";return d(e,(e,t)=>{n+=t}),new RegExp("["+n+"]",t?"g":"")},E=O(T),F=O(T,!0),N=(e=>{let t="";return d(e,e=>{t&&(t+=","),t+="span.mce-"+e}),t})(T),R="mce-nbsp",D=e=>'<span data-mce-bogus="1" class="mce-'+T[e]+'">'+e+"</span>",j=e=>"span"===e.nodeName.toLowerCase()&&e.classList.contains("mce-nbsp-wrap"),P=e=>{const t=f(e);return x(e)&&n(t)&&E.test(t)},$=(e,t,n)=>{let o=[];const r=((e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o})(e.dom.childNodes,h);return c(r,e=>{var r;n&&(j((r=e).dom)||!(e=>w(e)&&"false"===A(e))(r))&&t(e)&&(o=o.concat([e])),o=o.concat($(e,t,((e,t)=>{if(w(e)&&!j(e.dom)){const t=A(e);if("true"===t)return!0;if("false"===t)return!1}return t})(e,n)))}),o},M=(e,t)=>{const n=e.dom,o=$(h(t),P,e.dom.isEditable(t));c(o,t=>{const o=t.dom.parentNode;if(j(o))r=h(o),a=R,_(r)?r.dom.classList.add(a):((e,t)=>{((e,t,n)=>{const o=C(e,t).concat([n]);S(e,t,o.join(" "))})(e,"class",t)})(r,a);else{const o=n.encode(f(t)??"").replace(F,D),r=n.create("div",{},o);let a;for(;a=r.lastChild;)n.insertAfter(a,t.dom);e.dom.remove(t.dom)}var r,a})},B=(e,t)=>{const n=e.dom.select(N,t);c(n,t=>{var n,o;j(t)?(n=h(t),o=R,_(n)?n.dom.classList.remove(o):((e,t)=>{((e,t,n)=>{const o=(e=>{const t=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];r!==n&&t.push(r)}return t})(C(e,t));o.length>0?S(e,t,o.join(" ")):k(e,t)})(e,"class",t)})(n,o),(e=>{const t=_(e)?e.dom.classList:(e=>C(e,"class"))(e);0===t.length&&k(e,"class")})(n)):e.dom.remove(t,!0)})},z=e=>{const t=e.getBody(),n=e.selection.getBookmark();let o=((e,t)=>{for(;e.parentNode;){if(e.parentNode===t)return t;e=e.parentNode}})(e.selection.getNode(),t);o=void 0!==o?o:t,B(e,o),M(e,o),e.selection.moveToBookmark(n)},I=(e,t)=>{((e,t)=>{e.dispatch("VisualChars",{state:t})})(e,t.get());const n=e.getBody();!0===t.get()?M(e,n):B(e,n)},L=(e,t)=>n=>{n.setActive(t.get());const o=e=>n.setActive(e.state);return e.on("VisualChars",o),()=>e.off("VisualChars",o)};g.add("visualchars",e=>{(e=>{(0,e.options.register)("visualchars_default_state",{processor:"boolean",default:!1})})(e);const t=(e=>{let t=e;return{get:()=>t,set:e=>{t=e}}})((e=>e.options.get("visualchars_default_state"))(e));return((e,t)=>{e.addCommand("mceVisualChars",()=>{((e,t)=>{t.set(!t.get());const n=e.selection.getBookmark();I(e,t),e.selection.moveToBookmark(n)})(e,t)})})(e,t),((e,t)=>{const n=()=>e.execCommand("mceVisualChars");e.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:n,onSetup:L(e,t),context:"any"}),e.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:n,onSetup:L(e,t),context:"any"})})(e,t),((e,t)=>{const n=(e=>{let t=null;return{cancel:()=>{r(t)||(clearTimeout(t),t=null)},throttle:(...n)=>{r(t)&&(t=setTimeout(()=>{t=null,e.apply(null,n)},300))}}})(()=>{z(e)});e.on("keydown",o=>{!0===t.get()&&(13===o.keyCode?z(e):n.throttle())}),e.on("remove",n.cancel)})(e,t),((e,t)=>{e.on("init",()=>{I(e,t)})})(e,t),(e=>({isEnabled:()=>e.get()}))(t)})}()},83393:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>typeof t===e,n=t("boolean"),o=t("number"),r=e=>t=>t.options.get(e),a=r("nonbreaking_force_tab"),s=r("nonbreaking_wrap"),i=(e,t)=>{let n="";for(let o=0;o<t;o++)n+=e;return n},l=(e,t)=>{const n=s(e)||e.plugins.visualchars?`<span class="${(e=>!!e.plugins.visualchars&&e.plugins.visualchars.isEnabled())(e)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap"}" contenteditable="false">${i("&nbsp;",t)}</span>`:i("&nbsp;",t);e.undoManager.transact(()=>e.insertContent(n))};var c=tinymce.util.Tools.resolve("tinymce.util.VK");const u=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("nonbreaking",e=>{(e=>{const t=e.options.register;t("nonbreaking_force_tab",{processor:e=>n(e)?{value:e?3:0,valid:!0}:o(e)?{value:e,valid:!0}:{valid:!1,message:"Must be a boolean or number."},default:!1}),t("nonbreaking_wrap",{processor:"boolean",default:!0})})(e),(e=>{e.addCommand("mceNonBreaking",()=>{l(e,1)})})(e),(e=>{const t=()=>e.execCommand("mceNonBreaking");e.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:t,onSetup:u(e)}),e.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:t,onSetup:u(e)})})(e),(e=>{const t=a(e);t>0&&e.on("keydown",n=>{if(n.keyCode===c.TAB&&!n.isDefaultPrevented()){if(n.shiftKey)return;n.preventDefault(),n.stopImmediatePropagation(),l(e,t)}})})(e)})}()},85645:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env");const n=e=>t=>t.options.get(e),o=n("pagebreak_separator"),r=n("pagebreak_split_block"),a="mce-pagebreak",s=e=>{const n=`<img src="${t.transparentSrc}" class="${a}" data-mce-resize="false" data-mce-placeholder />`;return e?`<p>${n}</p>`:n},i=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("pagebreak",e=>{(e=>{const t=e.options.register;t("pagebreak_separator",{processor:"string",default:"\x3c!-- pagebreak --\x3e"}),t("pagebreak_split_block",{processor:"boolean",default:!1})})(e),(e=>{e.addCommand("mcePageBreak",()=>{e.insertContent(s(r(e)))})})(e),(e=>{const t=()=>e.execCommand("mcePageBreak");e.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:t,onSetup:i(e)}),e.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:t,onSetup:i(e)})})(e),(e=>{const t=o(e),n=()=>r(e),i=new RegExp(t.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,e=>"\\"+e),"gi");e.on("BeforeSetContent",e=>{e.content=e.content.replace(i,s(n()))}),e.on("PreInit",()=>{e.serializer.addNodeFilter("img",o=>{let r,s,i=o.length;for(;i--;)if(r=o[i],s=r.attr("class"),s&&-1!==s.indexOf(a)){const o=r.parent;if(o&&e.schema.getBlockElements()[o.name]&&n()){o.type=3,o.value=t,o.raw=!0,r.remove();continue}r.type=3,r.value=t,r.raw=!0}})})})(e),(e=>{e.on("ResolveName",t=>{"IMG"===t.target.nodeName&&e.dom.hasClass(t.target,a)&&(t.name="pagebreak")})})(e)})}()},87187:function(){!function(){"use strict";const e=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(a=String).prototype,o.isPrototypeOf(n)||r.constructor?.name===a.name)?"string":t;var n,o;var r,a})(t)===e,t=e=>t=>typeof t===e,n=e("string"),o=e("array"),r=t("boolean"),a=t("number"),s=()=>{},i=e=>()=>e,l=i(!0);class c{tag;value;static singletonNone=new c(!1);constructor(e,t){this.tag=e,this.value=t}static some(e){return new c(!0,e)}static none(){return c.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?c.some(e(this.value)):c.none()}bind(e){return this.tag?e(this.value):c.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:c.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(e??"Called getOrDie on None")}static from(e){return(e=>null==e)(e)?c.none():c.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}const u=Array.prototype.slice,d=Array.prototype.push,m=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},p=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},g=(e,t)=>{for(let n=e.length-1;n>=0;n--){t(e[n],n)}},h=(e,t)=>(e=>{const t=[];for(let n=0,r=e.length;n<r;++n){if(!o(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);d.apply(t,e[n])}return t})(m(e,t)),b=Object.hasOwnProperty,f=(e,t)=>b.call(e,t),y=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},w=()=>{const e=(e=>{const t=y(c.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(c.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(c.some(e))}}})(s);return{...e,on:t=>e.get().each(t)}};var v=tinymce.util.Tools.resolve("tinymce.PluginManager");const x=i("[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]");var S=tinymce.util.Tools.resolve("tinymce.Env"),k=tinymce.util.Tools.resolve("tinymce.util.Tools");const C=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},_={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return C(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return C(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return C(n)},fromDom:C,fromPoint:(e,t,n)=>c.from(e.dom.elementFromPoint(t,n)).map(C)},A=(T=3,e=>(e=>e.dom.nodeType)(e)===T);var T;const O=(e,t)=>({element:e,offset:t}),E=(e,t)=>{const n=(e=>m(e.dom.childNodes,_.fromDom))(e);return n.length>0&&t<n.length?O(n[t],0):O(e,t)},F=(e,t)=>{const n=(e=>c.from(e.dom.parentNode).map(_.fromDom))(e);n.each(n=>{n.dom.insertBefore(t.dom,e.dom)})},N=(e,t)=>{F(e,t),((e,t)=>{e.dom.appendChild(t.dom)})(t,e)},R=(e,t,o)=>{((e,t,o)=>{if(!(n(o)||r(o)||a(o)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,o+"")})(e.dom,t,o)},D=((e,t)=>{const n=t=>e(t)?c.from(t.dom.nodeValue):c.none();return{get:o=>{if(!e(o))throw new Error("Can only get "+t+" value of a "+t+" node");return n(o).getOr("")},getOption:n,set:(n,o)=>{if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=o}}})(A,"text"),j=e=>D.get(e),P=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return 1!==(o=n).nodeType&&9!==o.nodeType&&11!==o.nodeType||0===o.childElementCount?[]:m(n.querySelectorAll(e),_.fromDom);var o})(t,e);var $=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const M=(e,t)=>e.isBlock(t)||f(e.schema.getVoidElements(),t.nodeName),B=(e,t)=>!e.isEditable(t),z=(e,t)=>!e.isBlock(t)&&f(e.schema.getWhitespaceElements(),t.nodeName),I=e=>3===e.nodeType,L=(e,t)=>E(_.fromDom(e),t),W=(e,t,n,o,r,a=!0)=>{let s=a?t(!1):n;for(;s;){const n=B(e,s);if(n||z(e,s)){if(n?o.cef(s):o.boundary(s))break;s=t(!0);continue}if(M(e,s)){if(o.boundary(s))break}else I(s)&&o.text(s);if(s===r)break;s=t(!1)}},q=(e,t,n,o,r)=>{if(((e,t)=>M(e,t)||B(e,t)||z(e,t)||((e,t)=>"true"===e.getContentEditable(t)&&t.parentNode&&!e.isEditable(t.parentNode))(e,t))(e,n))return;const a=e.getParent(o,e.isBlock)??e.getRoot(),s=new $(n,a),i=r?s.next.bind(s):s.prev.bind(s);W(e,i,n,{boundary:l,cef:l,text:e=>{r?t.fOffset+=e.length:t.sOffset+=e.length,t.elements.push(_.fromDom(e))}})},U=(e,t,n,o,r,a=!0)=>{const s=new $(n,t),i=[];let l={sOffset:0,fOffset:0,elements:[]};q(e,l,n,t,!1);const c=()=>(l.elements.length>0&&(i.push(l),l={sOffset:0,fOffset:0,elements:[]}),!1);return W(e,s.next.bind(s),n,{boundary:c,cef:e=>(c(),r&&i.push(...r.cef(e)),!1),text:e=>{l.elements.push(_.fromDom(e)),r&&r.text(e,l)}},o,a),o&&q(e,l,o,t,!0),c(),i},H=(e,t)=>{const n=L(t.startContainer,t.startOffset),o=n.element.dom,r=L(t.endContainer,t.endOffset),a=r.element.dom;return U(e,t.commonAncestorContainer,o,a,{text:(e,t)=>{e===a?t.fOffset+=e.length-r.offset:e===o&&(t.sOffset+=n.offset)},cef:t=>((e,t)=>{const n=u.call(e,0);return n.sort(t),n})(h(P(_.fromDom(t),"*[contenteditable=true]"),t=>{const n=t.dom;return U(e,n,n)}),(e,t)=>((e,t)=>((e,t,n)=>0!==(e.compareDocumentPosition(t)&n))(e,t,Node.DOCUMENT_POSITION_PRECEDING))(e.elements[0].dom,t.elements[0].dom)?1:-1)},!1)},V=(e,t)=>t.collapsed?[]:H(e,t),Z=(e,t)=>{const n=e.createRng();return n.selectNode(t),V(e,n)},K=(e,t)=>{const n=(o=e,r=(e,n)=>{const o=j(n),r=e.last,a=r+o.length,s=h(t,(e,t)=>e.start<a&&e.finish>r?[{element:n,start:Math.max(r,e.start)-r,finish:Math.min(a,e.finish)-r,matchId:t}]:[]);return{results:e.results.concat(s),last:a}},a={results:[],last:0},p(o,(e,t)=>{a=r(a,e,t)}),a).results;var o,r,a;return((e,t)=>{if(0===e.length)return[];{let n=t(e[0]);const o=[];let r=[];for(let a=0,s=e.length;a<s;a++){const s=e[a],i=t(s);i!==n&&(o.push(r),r=[]),n=i,r.push(s)}return 0!==r.length&&o.push(r),o}})(n,e=>e.matchId)},G=(e,t)=>h(t,t=>{const n=t.elements,o=m(n,j).join(""),r=((e,t,n=0,o=e.length)=>{const r=t.regex;r.lastIndex=n;const a=[];let s;for(;s=r.exec(e);){const e=s[t.matchIndex],n=s.index+s[0].indexOf(e),i=n+e.length;if(i>o)break;a.push({start:n,finish:i}),r.lastIndex=i}return a})(o,e,t.sOffset,o.length-t.fOffset);return K(n,r)}),J=(e,t)=>{g(e,(e,n)=>{g(e,e=>{const o=_.fromDom(t.cloneNode(!1));R(o,"data-mce-index",n);const r=e.element.dom;if(r.length===e.finish&&0===e.start)N(e.element,o);else{r.length!==e.finish&&r.splitText(e.finish);const t=r.splitText(e.start);N(_.fromDom(t),o)}})})},Y=(e,t,n,o)=>{const r=n.getBookmark(),a=e.select("td[data-mce-selected],th[data-mce-selected]"),s=a.length>0?((e,t)=>h(t,t=>Z(e,t)))(e,a):V(e,n.getRng()),i=G(t,s);return J(i,o),n.moveToBookmark(r),i.length},X=e=>e.getAttribute("data-mce-index"),Q=(e,t,n,o)=>{const r=e.dom.create("span",{"data-mce-bogus":1});r.className="mce-match-marker";const a=e.getBody();return ce(e,t,!1),o?Y(e.dom,n,e.selection,r):((e,t,n,o)=>{const r=Z(e,n),a=G(t,r);return J(a,o),a.length})(e.dom,n,a,r)},ee=e=>{const t=e.parentNode;e.firstChild&&t.insertBefore(e.firstChild,e),e.parentNode?.removeChild(e)},te=(e,t)=>{const n=[],o=k.toArray(e.getBody().getElementsByTagName("span"));if(o.length)for(let e=0;e<o.length;e++){const r=X(o[e]);null!==r&&r.length&&(r===t.toString()&&n.push(o[e]))}return n},ne=(e,t,n)=>{const o=t.get();let r=o.index;const a=e.dom;n?r+1===o.count?r=0:r++:r-1==-1?r=o.count-1:r--,a.removeClass(te(e,o.index),"mce-match-marker-selected");const s=te(e,r);return s.length?(a.addClass(te(e,r),"mce-match-marker-selected"),e.selection.scrollIntoView(s[0]),r):-1},oe=(e,t)=>{const n=t.parentNode;e.remove(t),n&&e.isEmpty(n)&&e.remove(n)},re=(e,t,n,o,r,a)=>{const s=e.selection,i=((e,t)=>{const n="("+e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return t?`(?:^|\\s|${x()})`+n+`(?=$|\\s|${x()})`:n})(n,r),l=s.isForward(),c={regex:new RegExp(i,o?"g":"gi"),matchIndex:1},u=Q(e,t,c,a);if(S.browser.isSafari()&&s.setRng(s.getRng(),l),u){const s=ne(e,t,!0);t.set({index:s,count:u,text:n,matchCase:o,wholeWord:r,inSelection:a})}return u},ae=(e,t)=>{const n=ne(e,t,!0);t.set({...t.get(),index:n})},se=(e,t)=>{const n=ne(e,t,!1);t.set({...t.get(),index:n})},ie=e=>{const t=X(e);return null!==t&&t.length>0},le=(e,t,n,o,r)=>{const a=t.get(),s=a.index;let i,l=s;o=!1!==o;const c=e.getBody(),u=k.grep(k.toArray(c.getElementsByTagName("span")),ie);for(let t=0;t<u.length;t++){const c=X(u[t]);let d=i=parseInt(c,10);if(r||d===a.index){for(n.length?(u[t].innerText=n,ee(u[t])):oe(e.dom,u[t]);u[++t];){if(d=parseInt(X(u[t]),10),d!==i){t--;break}oe(e.dom,u[t])}o&&l--}else i>s&&u[t].setAttribute("data-mce-index",String(i-1))}return t.set({...a,count:r?0:a.count-1,index:l}),o?ae(e,t):se(e,t),!r&&t.get().count>0},ce=(e,t,n)=>{let o,r;const a=t.get(),s=k.toArray(e.getBody().getElementsByTagName("span"));for(let e=0;e<s.length;e++){const t=X(s[e]);null!==t&&t.length&&(t===a.index.toString()&&(o||(o=s[e].firstChild),r=s[e].firstChild),ee(s[e]))}if(t.set({...a,index:-1,count:0,text:""}),o&&r){const t=e.dom.createRng();return t.setStart(o,0),t.setEnd(r,r.data.length),!1!==n&&e.selection.setRng(t),t}},ue=(e,t)=>{const n=w();e.undoManager.add();const o=k.trim(e.selection.getContent({format:"text"})),r=e=>{e.setEnabled("next",((e,t)=>t.get().count>1)(0,t)),e.setEnabled("prev",((e,t)=>t.get().count>1)(0,t))},a=(e,t)=>{p(["replace","replaceall","prev","next"],n=>e.setEnabled(n,!t))},s=(e,t)=>{t.redial(g(e,t.getData()))},i=(e,t)=>{S.browser.isSafari()&&S.deviceType.isTouch()&&("find"===t||"replace"===t||"replaceall"===t)&&e.focus(t)},l=n=>{ce(e,t,!1),a(n,!0),r(n)},c=n=>{const o=n.getData(),i=t.get();if(o.findtext.length){if(i.text===o.findtext&&i.matchCase===o.matchcase&&i.wholeWord===o.wholewords)ae(e,t);else{const r=re(e,t,o.findtext,o.matchcase,o.wholewords,o.inselection);r<=0&&s(!0,n),a(n,0===r)}r(n)}else l(n)},u=t.get(),d={findtext:o,replacetext:"",wholewords:u.wholeWord,matchcase:u.matchCase,inselection:u.inSelection},m=e=>{const t=[{type:"label",label:"Find",for:"findtext",items:[{type:"bar",items:[{type:"input",name:"findtext",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]}]},{type:"input",name:"replacetext",label:"Replace with",inputMode:"search"}];return e&&t.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"}),t},g=(n,o)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:m(n)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:o,onChange:(e,o)=>{n&&s(!1,e),"findtext"===o.name&&t.get().count>0&&l(e)},onAction:(n,o)=>{const a=n.getData();switch(o.name){case"find":c(n);break;case"replace":le(e,t,a.replacetext)?r(n):l(n);break;case"replaceall":le(e,t,a.replacetext,!0,!0),l(n);break;case"prev":se(e,t),r(n);break;case"next":ae(e,t),r(n);break;case"matchcase":case"wholewords":case"inselection":s(!1,n),(e=>{const n=e.getData(),o=t.get();t.set({...o,matchCase:n.matchcase,wholeWord:n.wholewords,inSelection:n.inselection})})(n),l(n)}i(n,o.name)},onSubmit:e=>{c(e),i(e,"find")},onClose:()=>{e.focus(),ce(e,t),e.undoManager.add()}});n.set(e.windowManager.open(g(!1,d),{inline:"toolbar"}))},de=(e,t)=>()=>{ue(e,t)};v.add("searchreplace",e=>{const t=y({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return((e,t)=>{e.addCommand("SearchReplace",()=>{ue(e,t)})})(e,t),((e,t)=>{e.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:de(e,t),icon:"search"}),e.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:de(e,t),icon:"search",shortcut:"Meta+F"}),e.shortcuts.add("Meta+F","",de(e,t))})(e,t),((e,t)=>({done:n=>ce(e,t,n),find:(n,o,r,a=!1)=>re(e,t,n,o,r,a),next:()=>ae(e,t),prev:()=>se(e,t),replace:(n,o,r)=>le(e,t,n,o,r)}))(e,t)})}()},87966:function(){!function(){"use strict";tinymce.util.Tools.resolve("tinymce.PluginManager").add("code",e=>((e=>{e.addCommand("mceCodeEditor",()=>{(e=>{const t=(e=>e.getContent({source_view:!0}))(e);e.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code",spellcheck:!1}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:t},onSubmit:t=>{((e,t)=>{e.focus(),e.undoManager.transact(()=>{e.setContent(t)}),e.selection.setCursorLocation(),e.nodeChanged()})(e,t.getData().code),t.close()}})})(e)})})(e),(e=>{const t=()=>e.execCommand("mceCodeEditor");e.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:t}),e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:t})})(e),{}))}()},88929:function(e,t,n){n(87187)},91694:function(e,t,n){n(57235)},92425:function(){tinymce.Resource.add("tinymce.html-i18n.help-keynav.hr","<h1>Početak navigacije na tipkovnici</h1>\n\n<dl>\n  <dt>Fokusiranje trake izbornika</dt>\n  <dd>Windows ili Linux: Alt+F9</dd>\n  <dd>macOS: &#x2325;F9</dd>\n  <dt>Fokusiranje alatne trake</dt>\n  <dd>Windows ili Linux: Alt+F10</dd>\n  <dd>macOS: &#x2325;F10</dd>\n  <dt>Fokusiranje podnožja</dt>\n  <dd>Windows ili Linux: Alt+F11</dd>\n  <dd>macOS: &#x2325;F11</dd>\n  <dt>Fokusiranje obavijesti</dt>\n  <dd>Windows ili Linux: Alt + F12</dd>\n  <dd>macOS: &#x2325;F12</dd>\n  <dt>Fokusiranje kontekstne alatne trake</dt>\n  <dd>Windows, Linux ili macOS: Ctrl+F9</dd>\n</dl>\n\n<p>Navigacija će započeti kod prve stavke na korisničkom sučelju, koja će biti istaknuta ili podcrtana ako se radi o prvoj stavci u\n  putu elementa u podnožju.</p>\n\n<h1>Navigacija između dijelova korisničkog sučelja</h1>\n\n<p>Za pomicanje s jednog dijela korisničkog sučelja na drugi pritisnite <strong>tabulator</strong>.</p>\n\n<p>Za pomicanje s jednog dijela korisničkog sučelja na prethodni pritisnite <strong>Shift + tabulator</strong>.</p>\n\n<p>Ovo je redoslijed pomicanja <strong>tabulatora</strong> po dijelovima korisničkog sučelja:</p>\n\n<ol>\n  <li>Traka izbornika</li>\n  <li>Pojedinačne grupe na alatnoj traci</li>\n  <li>Bočna traka</li>\n  <li>Put elemenata u podnožju</li>\n  <li>Gumb za pomicanje po broju riječi u podnožju</li>\n  <li>Veza na brand u podnožju</li>\n  <li>Značajka za promjenu veličine alata za uređivanje u podnožju</li>\n</ol>\n\n<p>Ako neki dio korisničkog sučelja nije naveden, on se preskače.</p>\n\n<p>Ako u podnožju postoji fokus za navigaciju na tipkovnici, a nema vidljive bočne trake, pritiskom na <strong>Shift + tabulator</strong>\n  fokus se prebacuje na prvu skupinu na alatnoj traci, ne na zadnju.</p>\n\n<h1>Navigacija unutar dijelova korisničkog sučelja</h1>\n\n<p>Za pomicanje s jednog elementa korisničkog sučelja na drugi pritisnite tipku s odgovarajućom <strong>strelicom</strong>.</p>\n\n<p>Tipke s <strong>lijevom</strong> i <strong>desnom</strong> strelicom</p>\n\n<ul>\n  <li>služe za pomicanje između izbornika na alatnoj traci.</li>\n  <li>otvaraju podizbornik unutar izbornika.</li>\n  <li>služe za pomicanje između gumba unutar skupina na alatnoj traci.</li>\n  <li>služe za pomicanje između stavki na elementu puta u podnožju.</li>\n</ul>\n\n<p>Tipke s <strong>donjom</strong> i <strong>gornjom</strong> strelicom</p>\n\n<ul>\n  <li>služe za pomicanje između stavki unutar izbornika.</li>\n  <li>služe za pomicanje između stavki na alatnoj traci skočnog izbornika.</li>\n</ul>\n\n<p>Tipkama <strong>strelica</strong> kružno se pomičete unutar dijela korisničkog sučelja koji je u fokusu.</p>\n\n<p>Za zatvaranje otvorenog izbornika, otvorenog podizbornika ili otvorenog skočnog izbornika pritisnite tipku <strong>Esc</strong>.</p>\n\n<p>Ako je fokus trenutačno postavljen na vrh pojedinačnog dijela korisničkog sučelja, pritiskom na tipku <strong>Esc</strong> također\n  u potpunosti zatvarate navigaciju na tipkovnici.</p>\n\n<h1>Izvršavanje radnji putem stavki izbornika ili gumba na alatnoj traci</h1>\n\n<p>Nakon što se istakne stavka izbornika ili gumb na alatnoj traci s radnjom koju želite izvršiti, pritisnite tipku <strong>Return</strong>, <strong>Enter</strong>\n  ili <strong>razmak</strong> da biste pokrenuli željenu radnju.</p>\n\n<h1>Navigacija dijaloškim okvirima izvan kartica</h1>\n\n<p>Prilikom otvaranja dijaloških okvira izvan kartica fokus se nalazi na prvoj interaktivnoj komponenti.</p>\n\n<p>Navigaciju između interaktivnih dijaloških komponenata vršite pritiskom na <strong>tabulator</strong> ili <strong>Shift + tabulator</strong>.</p>\n\n<h1>Navigacija dijaloškim okvirima u karticama</h1>\n\n<p>Prilikom otvaranja dijaloških okvira u karticama fokus se nalazi na prvom gumbu u izborniku unutar kartice.</p>\n\n<p>Navigaciju između interaktivnih komponenata dijaloškog okvira u kartici vršite pritiskom na <strong>tabulator</strong> ili\n  <strong>Shift + tabulator</strong>.</p>\n\n<p>Na karticu s drugim dijaloškim okvirom možete se prebaciti tako da stavite fokus na izbornik kartice pa pritisnete tipku s odgovarajućom <strong>strelicom</strong>\n  za kružno pomicanje između dostupnih kartica.</p>\n")},93715:function(e,t,n){n(34328)},98809:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||o.constructor?.name===r.name)?"string":t;var n,o,r})(t)===e,n=t("string"),o=t("object"),r=t("array"),a=e=>!(e=>null==e)(e);class s{tag;value;static singletonNone=new s(!1);constructor(e,t){this.tag=e,this.value=t}static some(e){return new s(!0,e)}static none(){return s.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?s.some(e(this.value)):s.none()}bind(e){return this.tag?e(this.value):s.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:s.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(e??"Called getOrDie on None")}static from(e){return a(e)?s.some(e):s.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Array.prototype.slice;const i=Array.prototype.push,l=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},c=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!r(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);i.apply(t,e[n])}return t};(e=>"function"==typeof e)(Array.from)&&Array.from;const u=Object.keys,d=Object.hasOwnProperty,m=(e,t)=>p(e,t)?s.from(e[t]):s.none(),p=(e,t)=>d.call(e,t),g=e=>t=>t.options.get(e),h=g("audio_template_callback"),b=g("video_template_callback"),f=g("iframe_template_callback"),y=g("media_live_embeds"),w=g("media_filter_html"),v=g("media_url_resolver"),x=g("media_alt_source"),S=g("media_poster"),k=g("media_dimensions");var C=tinymce.util.Tools.resolve("tinymce.util.Tools"),_=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),A=tinymce.util.Tools.resolve("tinymce.html.DomParser");const T=_.DOM,O=e=>e.replace(/px$/,""),E=e=>{const t=e.attr("style"),n=t?T.parseStyle(t):{};return{type:"ephox-embed-iri",source:e.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:m(n,"max-width").map(O).getOr(""),height:m(n,"max-height").map(O).getOr("")}},F=(e,t)=>{let n={};for(let o=A({validate:!1,forced_root_block:!1},t).parse(e);o;o=o.walk())if(1===o.type){const e=o.name;if(o.attr("data-ephox-embed-iri")){n=E(o);break}n.source||"param"!==e||(n.source=o.attr("movie")),"iframe"!==e&&"object"!==e&&"embed"!==e&&"video"!==e&&"audio"!==e||(n.type||(n.type=e),n=C.extend(o.attributes.map,n)),"source"===e&&(n.source?n.altsource||(n.altsource=o.attr("src")):n.source=o.attr("src")),"img"!==e||n.poster||(n.poster=o.attr("src"))}return n.source=n.source||n.src||"",n.altsource=n.altsource||"",n.poster=n.poster||"",n},N=e=>{const t=e.toLowerCase().split(".").pop()??"";return m({mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},t).getOr("")};var R=tinymce.util.Tools.resolve("tinymce.html.Node"),D=tinymce.util.Tools.resolve("tinymce.html.Serializer");const j=(e,t={})=>A({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...t},e),P=_.DOM,$=e=>/^[0-9.]+$/.test(e)?e+"px":e,M=(e,t)=>{const n=t.attr("style"),o=n?P.parseStyle(n):{};a(e.width)&&(o["max-width"]=$(e.width)),a(e.height)&&(o["max-height"]=$(e.height)),t.attr("style",P.serializeStyle(o))},B=["source","altsource"],z=(e,t,n,o)=>{let r=0,a=0;const s=j(o);s.addNodeFilter("source",e=>r=e.length);const i=s.parse(e);for(let e=i;e;e=e.walk())if(1===e.type){const o=e.name;if(e.attr("data-ephox-embed-iri")){M(t,e);break}switch(o){case"video":case"object":case"embed":case"img":case"iframe":void 0!==t.height&&void 0!==t.width&&(e.attr("width",t.width),e.attr("height",t.height))}if(n)switch(o){case"video":e.attr("poster",t.poster),e.attr("src",null);for(let n=r;n<2;n++)if(t[B[n]]){const o=new R("source",1);o.attr("src",t[B[n]]),o.attr("type",t[B[n]+"mime"]||null),e.append(o)}break;case"iframe":e.attr("src",t.source);break;case"object":const n=e.getAll("img").length>0;if(t.poster&&!n){e.attr("src",t.poster);const n=new R("img",1);n.attr("src",t.poster),n.attr("width",t.width),n.attr("height",t.height),e.append(n)}break;case"source":if(a<2&&(e.attr("src",t[B[a]]),e.attr("type",t[B[a]+"mime"]||null),!t[B[a]])){e.remove();continue}a++;break;case"img":t.poster||e.remove()}}return D({},o).serialize(i)},I=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],L=(e,t)=>{const n=(e=>{const t=e.match(/^(https?:\/\/|www\.)(.+)$/i);return t&&t.length>1?"www."===t[1]?"https://":t[1]:"https://"})(t),o=e.regex.exec(t);let r=n+e.url;if(a(o))for(let e=0;e<o.length;e++)r=r.replace("$"+e,()=>o[e]?o[e]:"");return r.replace(/\?$/,"")},W=e=>{const t=I.filter(t=>t.regex.test(e));return t.length>0?C.extend({},t[0],{url:L(t[0],e)}):null},q=(e,t)=>{const n=C.extend({},t);if(!n.source&&(C.extend(n,F(n.embed??"",e.schema)),!n.source))return"";n.altsource||(n.altsource=""),n.poster||(n.poster=""),n.source=e.convertURL(n.source,"source"),n.altsource=e.convertURL(n.altsource,"source"),n.sourcemime=N(n.source),n.altsourcemime=N(n.altsource),n.poster=e.convertURL(n.poster,"poster");const o=W(n.source);if(o&&(n.source=o.url,n.type=o.type,n.allowfullscreen=o.allowFullscreen,n.width=n.width||String(o.w),n.height=n.height||String(o.h)),n.embed)return z(n.embed,n,!0,e.schema);{const t=h(e),o=b(e),r=f(e);return n.width=n.width||"300",n.height=n.height||"150",C.each(n,(t,o)=>{n[o]=e.dom.encode(""+t)}),"iframe"===n.type?((e,t)=>{if(t)return t(e);{const t=e.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+e.source+'" width="'+e.width+'" height="'+e.height+'"'+t+"></iframe>"}})(n,r):"application/x-shockwave-flash"===n.sourcemime?(e=>{let t='<object data="'+e.source+'" width="'+e.width+'" height="'+e.height+'" type="application/x-shockwave-flash">';return e.poster&&(t+='<img src="'+e.poster+'" width="'+e.width+'" height="'+e.height+'" />'),t+="</object>",t})(n):-1!==n.sourcemime.indexOf("audio")?((e,t)=>t?t(e):'<audio controls="controls" src="'+e.source+'">'+(e.altsource?'\n<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</audio>")(n,t):((e,t)=>t?t(e):'<video width="'+e.width+'" height="'+e.height+'"'+(e.poster?' poster="'+e.poster+'"':"")+' controls="controls">\n<source src="'+e.source+'"'+(e.sourcemime?' type="'+e.sourcemime+'"':"")+" />\n"+(e.altsource?'<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</video>")(n,o)}},U=e=>e.hasAttribute("data-mce-object")||e.hasAttribute("data-ephox-embed-iri"),H={},V=e=>t=>q(e,t),Z=(e,t)=>{const n=v(e);return n?((e,t,n)=>new Promise((o,r)=>{const a=n=>(n.html&&(H[e.source]=n),o({url:e.source,html:n.html?n.html:t(e)}));H[e.source]?a(H[e.source]):n({url:e.source}).then(a).catch(r)}))(t,V(e),n):((e,t)=>Promise.resolve({html:t(e),url:e.source}))(t,V(e))},K=(e,t)=>{const n={};return m(e,"dimensions").each(e=>{l(["width","height"],o=>{m(t,o).orThunk(()=>m(e,o)).each(e=>n[o]=e)})}),n},G=(e,t)=>{const n=t&&"dimensions"!==t?((e,t)=>m(t,e).bind(e=>m(e,"meta")))(t,e).getOr({}):{},r=((e,t,n)=>r=>{const a=()=>m(e,r),i=()=>m(t,r),l=e=>m(e,"value").bind(e=>e.length>0?s.some(e):s.none());return{[r]:(r===n?a().bind(e=>o(e)?l(e).orThunk(i):i().orThunk(()=>s.from(e))):i().orThunk(()=>a().bind(e=>o(e)?l(e):s.from(e)))).getOr("")}})(e,n,t);return{...r("source"),...r("altsource"),...r("poster"),...r("embed"),...K(e,n)}},J=e=>{const t={...e,source:{value:m(e,"source").getOr("")},altsource:{value:m(e,"altsource").getOr("")},poster:{value:m(e,"poster").getOr("")}};return l(["width","height"],n=>{m(e,n).each(e=>{const o=t.dimensions||{};o[n]=e,t.dimensions=o})}),t},Y=e=>t=>{const n=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.";e.notificationManager.open({type:"error",text:n})},X=(e,t)=>o=>{if(n(o.url)&&o.url.trim().length>0){const n=o.html,r={...F(n,t.schema),source:o.url,embed:n};e.setData(J(r))}},Q=(e,t)=>{const n=e.dom.select("*[data-mce-object]");e.insertContent(t),((e,t)=>{const n=e.dom.select("*[data-mce-object]");for(let e=0;e<t.length;e++)for(let o=n.length-1;o>=0;o--)t[e]===n[o]&&n.splice(o,1);e.selection.select(n[0])})(e,n),e.nodeChanged()},ee=(e,t)=>a(t)&&"ephox-embed-iri"===t&&a(W(e)),te=(e,t)=>((e,t)=>e.width!==t.width||e.height!==t.height)(e,t)&&ee(t.source,e.type),ne=e=>{const t=(e=>{const t=e.selection.getNode(),n=U(t)?e.serializer.serialize(t,{selection:!0}):"",o=F(n,e.schema),r=(()=>{if(ee(o.source,o.type)){const n=e.dom.getRect(t);return{width:n.w.toString().replace(/px$/,""),height:n.h.toString().replace(/px$/,"")}}return{}})();return{embed:n,...o,...r}})(e),n=(e=>{let t=e;return{get:()=>t,set:e=>{t=e}}})(t),o=J(t),r=k(e)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],a={title:"General",name:"general",items:c([[{name:"source",type:"urlinput",filetype:"media",label:"Source",picker_text:"Browse files"}],r])},s=[];x(e)&&s.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),S(e)&&s.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const i={title:"Advanced",name:"advanced",items:s},l=[a,{title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]}];s.length>0&&l.push(i);const u={type:"tabpanel",tabs:l},d=e.windowManager.open({title:"Insert/Edit Media",size:"normal",body:u,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:t=>{const o=G(t.getData());((e,t,n)=>{var o;t.embed=te(e,t)&&k(n)?q(n,{...t,embed:""}):z(t.embed??"",t,!1,n.schema),t.embed&&(e.source===t.source||(o=t.source,p(H,o)))?Q(n,t.embed):Z(n,t).then(e=>{Q(n,e.html)}).catch(Y(n))})(n.get(),o,e),t.close()},onChange:(t,o)=>{switch(o.name){case"source":((t,n)=>{const o=G(n.getData(),"source");t.source!==o.source&&(X(d,e)({url:o.source,html:""}),Z(e,o).then(X(d,e)).catch(Y(e)))})(n.get(),t);break;case"embed":(t=>{const n=G(t.getData()),o=F(n.embed??"",e.schema);t.setData(J(o))})(t);break;case"dimensions":case"altsource":case"poster":((t,n,o)=>{const r=G(t.getData(),n),a=te(o,r)&&k(e)?{...r,embed:""}:r,s=q(e,a);t.setData(J({...a,embed:s}))})(t,o.name,n.get())}n.set(G(t.getData()))},initialData:o})};var oe=tinymce.util.Tools.resolve("tinymce.Env");const re=e=>{const t=e.name;return"iframe"===t||"video"===t||"audio"===t},ae=(e,t,n,o=null)=>{const r=e.attr(n);return a(r)?r:p(t,n)?null:o},se=(e,t,n)=>{const o="img"===t.name||"video"===e.name,r=o?"300":null,a="audio"===e.name?"30":"150",s=o?a:null;t.attr({width:ae(e,n,"width",r),height:ae(e,n,"height",s)})},ie=(e,t)=>{const n=t.name,o=new R("img",1);return ce(e,t,o),se(t,o,{}),o.attr({style:t.attr("style"),src:oe.transparentSrc,"data-mce-object":n,class:"mce-object mce-object-"+n}),o},le=(e,t)=>{const n=t.name,o=new R("span",1);o.attr({contentEditable:"false",style:t.attr("style"),"data-mce-object":n,class:"mce-preview-object mce-object-"+n}),ce(e,t,o);const r=e.dom.parseStyle(t.attr("style")??""),s=new R(n,1);if(se(t,s,r),s.attr({src:t.attr("src"),style:t.attr("style"),class:t.attr("class")}),"iframe"===n)s.attr({allowfullscreen:t.attr("allowfullscreen"),frameborder:"0",sandbox:t.attr("sandbox"),referrerpolicy:t.attr("referrerpolicy")});else{l(["controls","crossorigin","currentTime","loop","muted","poster","preload"],e=>{s.attr(e,t.attr(e))});const r=o.attr("data-mce-html");a(r)&&((e,t,n,o)=>{const r=j(e.schema).parse(o,{context:t});for(;r.firstChild;)n.append(r.firstChild)})(e,n,s,unescape(r))}const i=new R("span",1);return i.attr("class","mce-shim"),o.append(s),o.append(i),o},ce=(e,t,n)=>{const o=t.attributes??[];let r=o.length;for(;r--;){const t=o[r].name;let s=o[r].value;"width"===t||"height"===t||"style"===t||(a=t).length>=9&&"data-mce-"===a.substr(0,9)||("data"!==t&&"src"!==t||(s=e.convertURL(s,t)),n.attr("data-mce-p-"+t,s))}var a;const s=D({inner:!0},e.schema),i=new R("div",1);l(t.children(),e=>i.append(e));const c=s.serialize(i);c&&(n.attr("data-mce-html",escape(c)),n.empty())},ue=e=>{const t=e.attr("class");return n(t)&&/\btiny-pageembed\b/.test(t)},de=e=>{let t=e;for(;t=t.parent;)if(t.attr("data-ephox-embed-iri")||ue(t))return!0;return!1},me=(e,t,n)=>{const o=(0,e.options.get)("xss_sanitization"),r=w(e);return j(e.schema,{sanitize:o,validate:r}).parse(n,{context:t})},pe=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("media",e=>((e=>{const t=e.options.register;t("audio_template_callback",{processor:"function"}),t("video_template_callback",{processor:"function"}),t("iframe_template_callback",{processor:"function"}),t("media_live_embeds",{processor:"boolean",default:!0}),t("media_filter_html",{processor:"boolean",default:!0}),t("media_url_resolver",{processor:"function"}),t("media_alt_source",{processor:"boolean",default:!0}),t("media_poster",{processor:"boolean",default:!0}),t("media_dimensions",{processor:"boolean",default:!0})})(e),(e=>{e.addCommand("mceMedia",()=>{ne(e)})})(e),(e=>{const t=()=>e.execCommand("mceMedia");e.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:t,onSetup:t=>{const n=e.selection;t.setActive(U(n.getNode()));const o=n.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",t.setActive).unbind,r=pe(e)(t);return()=>{o(),r()}}}),e.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:t,onSetup:pe(e)})})(e),(e=>{e.on("ResolveName",e=>{let t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)})})(e),(e=>{e.on("PreInit",()=>{const{schema:t,serializer:n,parser:o}=e,r=t.getBoolAttrs();l("webkitallowfullscreen mozallowfullscreen".split(" "),e=>{r[e]={}}),((e,t)=>{const n=u(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}})({embed:["wmode"]},(e,n)=>{const o=t.getElementRule(n);o&&l(e,e=>{o.attributes[e]={},o.attributesOrder.push(e)})}),o.addNodeFilter("iframe,video,audio,object,embed",(e=>t=>{let n,o=t.length;for(;o--;)n=t[o],n.parent&&(n.parent.attr("data-mce-object")||(re(n)&&y(e)?de(n)||n.replace(le(e,n)):de(n)||n.replace(ie(e,n))))})(e)),n.addAttributeFilter("data-mce-object",(t,n)=>{let o=t.length;for(;o--;){const r=t[o];if(!r.parent)continue;const a=r.attr(n),s=new R(a,1);if("audio"!==a){const e=r.attr("class");e&&-1!==e.indexOf("mce-preview-object")&&r.firstChild?s.attr({width:r.firstChild.attr("width"),height:r.firstChild.attr("height")}):s.attr({width:r.attr("width"),height:r.attr("height")})}s.attr({style:r.attr("style")});const i=r.attributes??[];let c=i.length;for(;c--;){const e=i[c].name;0===e.indexOf("data-mce-p-")&&s.attr(e.substr(11),i[c].value)}const u=r.attr("data-mce-html");if(u){const t=me(e,a,unescape(u));l(t.children(),e=>s.append(e))}r.replace(s)}})}),e.on("SetContent",()=>{const t=e.dom;l(t.select("span.mce-preview-object"),e=>{0===t.select("span.mce-shim",e).length&&t.add(e,"span",{class:"mce-shim"})})})})(e),(e=>{e.on("mousedown",t=>{const n=e.dom.getParent(t.target,".mce-preview-object");n&&"2"===e.dom.getAttrib(n,"data-mce-selected")&&t.stopImmediatePropagation()}),e.on("click keyup touchend",()=>{const t=e.selection.getNode();t&&e.dom.hasClass(t,"mce-preview-object")&&e.dom.getAttrib(t,"data-mce-selected")&&t.setAttribute("data-mce-selected","2")}),e.on("ObjectResized",t=>{const n=t.target;if(n.getAttribute("data-mce-object")){let o=n.getAttribute("data-mce-html");o&&(o=unescape(o),n.setAttribute("data-mce-html",escape(z(o,{width:String(t.width),height:String(t.height)},!1,e.schema))))}})})(e),(e=>({showDialog:()=>{ne(e)}}))(e)))}()},99311:function(e,t,n){n(22612)}}]);
//# sourceMappingURL=tinymce_plugins.fa244bb3226dbb87ae8e.min.js.map