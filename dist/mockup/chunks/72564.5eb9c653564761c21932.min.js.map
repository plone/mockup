{"version":3,"file":"chunks/72564.5eb9c653564761c21932.min.js","mappings":"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","sources":["webpack://@plone/mockup/./node_modules/tinymce/plugins/image/plugin.js"],"sourcesContent":["/**\n * TinyMCE version 8.3.1 (2025-12-17)\n */\n\n(function () {\n    'use strict';\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    /* eslint-disable @typescript-eslint/no-wrapper-object-types */\n    const getPrototypeOf = Object.getPrototypeOf;\n    const hasProto = (v, constructor, predicate) => {\n        if (predicate(v, constructor.prototype)) {\n            return true;\n        }\n        else {\n            // String-based fallback time\n            return v.constructor?.name === constructor.name;\n        }\n    };\n    const typeOf = (x) => {\n        const t = typeof x;\n        if (x === null) {\n            return 'null';\n        }\n        else if (t === 'object' && Array.isArray(x)) {\n            return 'array';\n        }\n        else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n            return 'string';\n        }\n        else {\n            return t;\n        }\n    };\n    const isType = (type) => (value) => typeOf(value) === type;\n    const isSimpleType = (type) => (value) => typeof value === type;\n    const eq = (t) => (a) => t === a;\n    const is = (value, constructor) => isObject(value) && hasProto(value, constructor, (o, proto) => getPrototypeOf(o) === proto);\n    const isString = isType('string');\n    const isObject = isType('object');\n    const isPlainObject = (value) => is(value, Object);\n    const isArray = isType('array');\n    const isNull = eq(null);\n    const isBoolean = isSimpleType('boolean');\n    const isNullable = (a) => a === null || a === undefined;\n    const isNonNullable = (a) => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n    const isArrayOf = (value, pred) => {\n        if (isArray(value)) {\n            for (let i = 0, len = value.length; i < len; ++i) {\n                if (!(pred(value[i]))) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        return false;\n    };\n\n    const noop = () => { };\n\n    /**\n     * The `Optional` type represents a value (of any type) that potentially does\n     * not exist. Any `Optional<T>` can either be a `Some<T>` (in which case the\n     * value does exist) or a `None` (in which case the value does not exist). This\n     * module defines a whole lot of FP-inspired utility functions for dealing with\n     * `Optional` objects.\n     *\n     * Comparison with null or undefined:\n     * - We don't get fancy null coalescing operators with `Optional`\n     * - We do get fancy helper functions with `Optional`\n     * - `Optional` support nesting, and allow for the type to still be nullable (or\n     * another `Optional`)\n     * - There is no option to turn off strict-optional-checks like there is for\n     * strict-null-checks\n     */\n    class Optional {\n        tag;\n        value;\n        // Sneaky optimisation: every instance of Optional.none is identical, so just\n        // reuse the same object\n        static singletonNone = new Optional(false);\n        // The internal representation has a `tag` and a `value`, but both are\n        // private: able to be console.logged, but not able to be accessed by code\n        constructor(tag, value) {\n            this.tag = tag;\n            this.value = value;\n        }\n        // --- Identities ---\n        /**\n         * Creates a new `Optional<T>` that **does** contain a value.\n         */\n        static some(value) {\n            return new Optional(true, value);\n        }\n        /**\n         * Create a new `Optional<T>` that **does not** contain a value. `T` can be\n         * any type because we don't actually have a `T`.\n         */\n        static none() {\n            return Optional.singletonNone;\n        }\n        /**\n         * Perform a transform on an `Optional` type. Regardless of whether this\n         * `Optional` contains a value or not, `fold` will return a value of type `U`.\n         * If this `Optional` does not contain a value, the `U` will be created by\n         * calling `onNone`. If this `Optional` does contain a value, the `U` will be\n         * created by calling `onSome`.\n         *\n         * For the FP enthusiasts in the room, this function:\n         * 1. Could be used to implement all of the functions below\n         * 2. Forms a catamorphism\n         */\n        fold(onNone, onSome) {\n            if (this.tag) {\n                return onSome(this.value);\n            }\n            else {\n                return onNone();\n            }\n        }\n        /**\n         * Determine if this `Optional` object contains a value.\n         */\n        isSome() {\n            return this.tag;\n        }\n        /**\n         * Determine if this `Optional` object **does not** contain a value.\n         */\n        isNone() {\n            return !this.tag;\n        }\n        // --- Functor (name stolen from Haskell / maths) ---\n        /**\n         * Perform a transform on an `Optional` object, **if** there is a value. If\n         * you provide a function to turn a T into a U, this is the function you use\n         * to turn an `Optional<T>` into an `Optional<U>`. If this **does** contain\n         * a value then the output will also contain a value (that value being the\n         * output of `mapper(this.value)`), and if this **does not** contain a value\n         * then neither will the output.\n         */\n        map(mapper) {\n            if (this.tag) {\n                return Optional.some(mapper(this.value));\n            }\n            else {\n                return Optional.none();\n            }\n        }\n        // --- Monad (name stolen from Haskell / maths) ---\n        /**\n         * Perform a transform on an `Optional` object, **if** there is a value.\n         * Unlike `map`, here the transform itself also returns an `Optional`.\n         */\n        bind(binder) {\n            if (this.tag) {\n                return binder(this.value);\n            }\n            else {\n                return Optional.none();\n            }\n        }\n        // --- Traversable (name stolen from Haskell / maths) ---\n        /**\n         * For a given predicate, this function finds out if there **exists** a value\n         * inside this `Optional` object that meets the predicate. In practice, this\n         * means that for `Optional`s that do not contain a value it returns false (as\n         * no predicate-meeting value exists).\n         */\n        exists(predicate) {\n            return this.tag && predicate(this.value);\n        }\n        /**\n         * For a given predicate, this function finds out if **all** the values inside\n         * this `Optional` object meet the predicate. In practice, this means that\n         * for `Optional`s that do not contain a value it returns true (as all 0\n         * objects do meet the predicate).\n         */\n        forall(predicate) {\n            return !this.tag || predicate(this.value);\n        }\n        filter(predicate) {\n            if (!this.tag || predicate(this.value)) {\n                return this;\n            }\n            else {\n                return Optional.none();\n            }\n        }\n        // --- Getters ---\n        /**\n         * Get the value out of the inside of the `Optional` object, using a default\n         * `replacement` value if the provided `Optional` object does not contain a\n         * value.\n         */\n        getOr(replacement) {\n            return this.tag ? this.value : replacement;\n        }\n        /**\n         * Get the value out of the inside of the `Optional` object, using a default\n         * `replacement` value if the provided `Optional` object does not contain a\n         * value.  Unlike `getOr`, in this method the `replacement` object is also\n         * `Optional` - meaning that this method will always return an `Optional`.\n         */\n        or(replacement) {\n            return this.tag ? this : replacement;\n        }\n        /**\n         * Get the value out of the inside of the `Optional` object, using a default\n         * `replacement` value if the provided `Optional` object does not contain a\n         * value. Unlike `getOr`, in this method the `replacement` value is\n         * \"thunked\" - that is to say that you don't pass a value to `getOrThunk`, you\n         * pass a function which (if called) will **return** the `value` you want to\n         * use.\n         */\n        getOrThunk(thunk) {\n            return this.tag ? this.value : thunk();\n        }\n        /**\n         * Get the value out of the inside of the `Optional` object, using a default\n         * `replacement` value if the provided Optional object does not contain a\n         * value.\n         *\n         * Unlike `or`, in this method the `replacement` value is \"thunked\" - that is\n         * to say that you don't pass a value to `orThunk`, you pass a function which\n         * (if called) will **return** the `value` you want to use.\n         *\n         * Unlike `getOrThunk`, in this method the `replacement` value is also\n         * `Optional`, meaning that this method will always return an `Optional`.\n         */\n        orThunk(thunk) {\n            return this.tag ? this : thunk();\n        }\n        /**\n         * Get the value out of the inside of the `Optional` object, throwing an\n         * exception if the provided `Optional` object does not contain a value.\n         *\n         * WARNING:\n         * You should only be using this function if you know that the `Optional`\n         * object **is not** empty (otherwise you're throwing exceptions in production\n         * code, which is bad).\n         *\n         * In tests this is more acceptable.\n         *\n         * Prefer other methods to this, such as `.each`.\n         */\n        getOrDie(message) {\n            if (!this.tag) {\n                throw new Error(message ?? 'Called getOrDie on None');\n            }\n            else {\n                return this.value;\n            }\n        }\n        // --- Interop with null and undefined ---\n        /**\n         * Creates an `Optional` value from a nullable (or undefined-able) input.\n         * Null, or undefined, is converted to `None`, and anything else is converted\n         * to `Some`.\n         */\n        static from(value) {\n            return isNonNullable(value) ? Optional.some(value) : Optional.none();\n        }\n        /**\n         * Converts an `Optional` to a nullable type, by getting the value if it\n         * exists, or returning `null` if it does not.\n         */\n        getOrNull() {\n            return this.tag ? this.value : null;\n        }\n        /**\n         * Converts an `Optional` to an undefined-able type, by getting the value if\n         * it exists, or returning `undefined` if it does not.\n         */\n        getOrUndefined() {\n            return this.value;\n        }\n        // --- Utilities ---\n        /**\n         * If the `Optional` contains a value, perform an action on that value.\n         * Unlike the rest of the methods on this type, `.each` has side-effects. If\n         * you want to transform an `Optional<T>` **into** something, then this is not\n         * the method for you. If you want to use an `Optional<T>` to **do**\n         * something, then this is the method for you - provided you're okay with not\n         * doing anything in the case where the `Optional` doesn't have a value inside\n         * it. If you're not sure whether your use-case fits into transforming\n         * **into** something or **doing** something, check whether it has a return\n         * value. If it does, you should be performing a transform.\n         */\n        each(worker) {\n            if (this.tag) {\n                worker(this.value);\n            }\n        }\n        /**\n         * Turn the `Optional` object into an array that contains all of the values\n         * stored inside the `Optional`. In practice, this means the output will have\n         * either 0 or 1 elements.\n         */\n        toArray() {\n            return this.tag ? [this.value] : [];\n        }\n        /**\n         * Turn the `Optional` object into a string for debugging or printing. Not\n         * recommended for production code, but good for debugging. Also note that\n         * these days an `Optional` object can be logged to the console directly, and\n         * its inner value (if it exists) will be visible.\n         */\n        toString() {\n            return this.tag ? `some(${this.value})` : 'none()';\n        }\n    }\n\n    const nativeSlice = Array.prototype.slice;\n    const nativePush = Array.prototype.push;\n    const flatten = (xs) => {\n        // Note, this is possible because push supports multiple arguments:\n        // http://jsperf.com/concat-push/6\n        // Note that in the past, concat() would silently work (very slowly) for array-like objects.\n        // With this change it will throw an error.\n        const r = [];\n        for (let i = 0, len = xs.length; i < len; ++i) {\n            // Ensure that each value is an array itself\n            if (!isArray(xs[i])) {\n                throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n            }\n            nativePush.apply(r, xs[i]);\n        }\n        return r;\n    };\n    const get = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = (xs) => get(xs, 0);\n    isFunction(Array.from) ? Array.from : (x) => nativeSlice.call(x);\n    const findMap = (arr, f) => {\n        for (let i = 0; i < arr.length; i++) {\n            const r = f(arr[i], i);\n            if (r.isSome()) {\n                return r;\n            }\n        }\n        return Optional.none();\n    };\n\n    // There are many variations of Object iteration that are faster than the 'for-in' style:\n    // http://jsperf.com/object-keys-iteration/107\n    //\n    // Use the native keys if it is available (IE9+), otherwise fall back to manually filtering\n    const keys = Object.keys;\n    const hasOwnProperty = Object.hasOwnProperty;\n    const each = (obj, f) => {\n        const props = keys(obj);\n        for (let k = 0, len = props.length; k < len; k++) {\n            const i = props[k];\n            const x = obj[i];\n            f(x, i);\n        }\n    };\n    const objAcc = (r) => (x, i) => {\n        r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n        each(obj, (x, i) => {\n            (pred(x, i) ? onTrue : onFalse)(x, i);\n        });\n    };\n    const filter = (obj, pred) => {\n        const t = {};\n        internalFilter(obj, pred, objAcc(t), noop);\n        return t;\n    };\n    const has = (obj, key) => hasOwnProperty.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has(obj, key) && obj[key] !== undefined && obj[key] !== null;\n\n    const deep = (old, nu) => {\n        const bothObjects = isPlainObject(old) && isPlainObject(nu);\n        return bothObjects ? deepMerge(old, nu) : nu;\n    };\n    const baseMerge = (merger) => {\n        return (...objects) => {\n            if (objects.length === 0) {\n                throw new Error(`Can't merge zero objects`);\n            }\n            const ret = {};\n            for (let j = 0; j < objects.length; j++) {\n                const curObject = objects[j];\n                for (const key in curObject) {\n                    if (has(curObject, key)) {\n                        ret[key] = merger(ret[key], curObject[key]);\n                    }\n                }\n            }\n            return ret;\n        };\n    };\n    const deepMerge = baseMerge(deep);\n\n    const isNotEmpty = (s) => s.length > 0;\n\n    const fromHtml = (html, scope) => {\n        const doc = scope || document;\n        const div = doc.createElement('div');\n        div.innerHTML = html;\n        if (!div.hasChildNodes() || div.childNodes.length > 1) {\n            const message = 'HTML does not have a single root node';\n            // eslint-disable-next-line no-console\n            console.error(message, html);\n            throw new Error(message);\n        }\n        return fromDom(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n        const doc = scope || document;\n        const node = doc.createElement(tag);\n        return fromDom(node);\n    };\n    const fromText = (text, scope) => {\n        const doc = scope || document;\n        const node = doc.createTextNode(text);\n        return fromDom(node);\n    };\n    const fromDom = (node) => {\n        // TODO: Consider removing this check, but left atm for safety\n        if (node === null || node === undefined) {\n            throw new Error('Node cannot be null or undefined');\n        }\n        return {\n            dom: node\n        };\n    };\n    const fromPoint = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom);\n    // tslint:disable-next-line:variable-name\n    const SugarElement = {\n        fromHtml,\n        fromTag,\n        fromText,\n        fromDom,\n        fromPoint\n    };\n\n    const rawSet = (dom, key, value) => {\n        /*\n         * JQuery coerced everything to a string, and silently did nothing on text node/null/undefined.\n         *\n         * We fail on those invalid cases, only allowing numbers and booleans.\n         */\n        if (isString(value) || isBoolean(value) || isNumber(value)) {\n            dom.setAttribute(key, value + '');\n        }\n        else {\n            // eslint-disable-next-line no-console\n            console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n            throw new Error('Attribute value was not simple');\n        }\n    };\n    const set = (element, key, value) => {\n        rawSet(element.dom, key, value);\n    };\n    const remove = (element, key) => {\n        element.dom.removeAttribute(key);\n    };\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    const option = (name) => (editor) => editor.options.get(name);\n    const register$2 = (editor) => {\n        const registerOption = editor.options.register;\n        registerOption('image_dimensions', {\n            processor: 'boolean',\n            default: true\n        });\n        registerOption('image_advtab', {\n            processor: 'boolean',\n            default: false\n        });\n        registerOption('image_uploadtab', {\n            processor: 'boolean',\n            default: true\n        });\n        registerOption('image_prepend_url', {\n            processor: 'string',\n            default: ''\n        });\n        registerOption('image_class_list', {\n            processor: 'object[]'\n        });\n        registerOption('image_description', {\n            processor: 'boolean',\n            default: true\n        });\n        registerOption('image_title', {\n            processor: 'boolean',\n            default: false\n        });\n        registerOption('image_caption', {\n            processor: 'boolean',\n            default: false\n        });\n        registerOption('image_list', {\n            processor: (value) => {\n                const valid = value === false || isString(value) || isArrayOf(value, isObject) || isFunction(value);\n                return valid ? { value, valid } : { valid: false, message: 'Must be false, a string, an array or a function.' };\n            },\n            default: false\n        });\n    };\n    const hasDimensions = option('image_dimensions');\n    const hasAdvTab = option('image_advtab');\n    const hasUploadTab = option('image_uploadtab');\n    const getPrependUrl = option('image_prepend_url');\n    const getClassList = option('image_class_list');\n    const hasDescription = option('image_description');\n    const hasImageTitle = option('image_title');\n    const hasImageCaption = option('image_caption');\n    const getImageList = option('image_list');\n    const showAccessibilityOptions = option('a11y_advanced_options');\n    const isAutomaticUploadsEnabled = option('automatic_uploads');\n    const hasUploadUrl = (editor) => isNotEmpty(editor.options.get('images_upload_url'));\n    const hasUploadHandler = (editor) => isNonNullable(editor.options.get('images_upload_handler'));\n\n    // TODO: Figure out if these would ever be something other than numbers. This was added in: #TINY-1350\n    const parseIntAndGetMax = (val1, val2) => Math.max(parseInt(val1, 10), parseInt(val2, 10));\n    const getImageSize = (url) => new Promise((callback) => {\n        const img = document.createElement('img');\n        const done = (dimensions) => {\n            if (img.parentNode) {\n                img.parentNode.removeChild(img);\n            }\n            callback(dimensions);\n        };\n        img.addEventListener('load', () => {\n            const width = parseIntAndGetMax(img.width, img.clientWidth);\n            const height = parseIntAndGetMax(img.height, img.clientHeight);\n            const dimensions = { width, height };\n            done(Promise.resolve(dimensions));\n        });\n        img.addEventListener('error', () => {\n            done(Promise.reject(`Failed to get image dimensions for: ${url}`));\n        });\n        const style = img.style;\n        style.visibility = 'hidden';\n        style.position = 'fixed';\n        style.bottom = style.left = '0px';\n        style.width = style.height = 'auto';\n        document.body.appendChild(img);\n        img.src = url;\n    });\n    const removePixelSuffix = (value) => {\n        if (value) {\n            value = value.replace(/px$/, '');\n        }\n        return value;\n    };\n    const addPixelSuffix = (value) => {\n        if (value.length > 0 && /^[0-9]+$/.test(value)) {\n            value += 'px';\n        }\n        return value;\n    };\n    const mergeMargins = (css) => {\n        if (css.margin) {\n            const splitMargin = String(css.margin).split(' ');\n            switch (splitMargin.length) {\n                case 1: // margin: toprightbottomleft;\n                    css['margin-top'] = css['margin-top'] || splitMargin[0];\n                    css['margin-right'] = css['margin-right'] || splitMargin[0];\n                    css['margin-bottom'] = css['margin-bottom'] || splitMargin[0];\n                    css['margin-left'] = css['margin-left'] || splitMargin[0];\n                    break;\n                case 2: // margin: topbottom rightleft;\n                    css['margin-top'] = css['margin-top'] || splitMargin[0];\n                    css['margin-right'] = css['margin-right'] || splitMargin[1];\n                    css['margin-bottom'] = css['margin-bottom'] || splitMargin[0];\n                    css['margin-left'] = css['margin-left'] || splitMargin[1];\n                    break;\n                case 3: // margin: top rightleft bottom;\n                    css['margin-top'] = css['margin-top'] || splitMargin[0];\n                    css['margin-right'] = css['margin-right'] || splitMargin[1];\n                    css['margin-bottom'] = css['margin-bottom'] || splitMargin[2];\n                    css['margin-left'] = css['margin-left'] || splitMargin[1];\n                    break;\n                case 4: // margin: top right bottom left;\n                    css['margin-top'] = css['margin-top'] || splitMargin[0];\n                    css['margin-right'] = css['margin-right'] || splitMargin[1];\n                    css['margin-bottom'] = css['margin-bottom'] || splitMargin[2];\n                    css['margin-left'] = css['margin-left'] || splitMargin[3];\n            }\n            delete css.margin;\n        }\n        return css;\n    };\n    // TODO: Input on this callback should really be validated\n    const createImageList = (editor, callback) => {\n        const imageList = getImageList(editor);\n        if (isString(imageList)) {\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\n            fetch(imageList)\n                .then((res) => {\n                if (res.ok) {\n                    // eslint-disable-next-line @typescript-eslint/no-floating-promises\n                    res.json().then(callback);\n                }\n            });\n        }\n        else if (isFunction(imageList)) {\n            imageList(callback);\n        }\n        else {\n            callback(imageList);\n        }\n    };\n    const waitLoadImage = (editor, data, imgElm) => {\n        const selectImage = () => {\n            imgElm.onload = imgElm.onerror = null;\n            if (editor.selection) {\n                editor.selection.select(imgElm);\n                editor.nodeChanged();\n            }\n        };\n        imgElm.onload = () => {\n            if (!data.width && !data.height && hasDimensions(editor)) {\n                editor.dom.setAttribs(imgElm, {\n                    width: String(imgElm.clientWidth),\n                    height: String(imgElm.clientHeight)\n                });\n            }\n            selectImage();\n        };\n        imgElm.onerror = selectImage;\n    };\n    const blobToDataUri = (blob) => new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = () => {\n            resolve(reader.result);\n        };\n        reader.onerror = () => {\n            reject(reader.error?.message);\n        };\n        reader.readAsDataURL(blob);\n    });\n    const isPlaceholderImage = (imgElm) => imgElm.nodeName === 'IMG' && (imgElm.hasAttribute('data-mce-object') || imgElm.hasAttribute('data-mce-placeholder'));\n    const isSafeImageUrl = (editor, src) => {\n        const getOption = editor.options.get;\n        return global$2.isDomSafe(src, 'img', {\n            allow_html_data_urls: getOption('allow_html_data_urls'),\n            allow_script_urls: getOption('allow_script_urls'),\n            allow_svg_data_urls: getOption('allow_svg_data_urls')\n        });\n    };\n\n    const DOM = global$3.DOM;\n    const getHspace = (image) => {\n        if (image.style.marginLeft && image.style.marginRight && image.style.marginLeft === image.style.marginRight) {\n            return removePixelSuffix(image.style.marginLeft);\n        }\n        else {\n            return '';\n        }\n    };\n    const getVspace = (image) => {\n        if (image.style.marginTop && image.style.marginBottom && image.style.marginTop === image.style.marginBottom) {\n            return removePixelSuffix(image.style.marginTop);\n        }\n        else {\n            return '';\n        }\n    };\n    const getBorder = (image) => {\n        if (image.style.borderWidth) {\n            return removePixelSuffix(image.style.borderWidth);\n        }\n        else {\n            return '';\n        }\n    };\n    const getAttrib = (image, name) => {\n        if (image.hasAttribute(name)) {\n            return image.getAttribute(name) ?? '';\n        }\n        else {\n            return '';\n        }\n    };\n    const hasCaption = (image) => image.parentNode !== null && image.parentNode.nodeName === 'FIGURE';\n    const updateAttrib = (image, name, value) => {\n        if (value === '' || value === null) {\n            image.removeAttribute(name);\n        }\n        else {\n            image.setAttribute(name, value);\n        }\n    };\n    const wrapInFigure = (image) => {\n        const figureElm = DOM.create('figure', { class: 'image' });\n        DOM.insertAfter(figureElm, image);\n        figureElm.appendChild(image);\n        figureElm.appendChild(DOM.create('figcaption', { contentEditable: 'true' }, 'Caption'));\n        figureElm.contentEditable = 'false';\n    };\n    const removeFigure = (image) => {\n        const figureElm = image.parentNode;\n        if (isNonNullable(figureElm)) {\n            DOM.insertAfter(image, figureElm);\n            DOM.remove(figureElm);\n        }\n    };\n    const toggleCaption = (image) => {\n        if (hasCaption(image)) {\n            removeFigure(image);\n        }\n        else {\n            wrapInFigure(image);\n        }\n    };\n    const normalizeStyle = (image, normalizeCss) => {\n        const attrValue = image.getAttribute('style');\n        const value = normalizeCss(attrValue !== null ? attrValue : '');\n        if (value.length > 0) {\n            image.setAttribute('style', value);\n            image.setAttribute('data-mce-style', value);\n        }\n        else {\n            image.removeAttribute('style');\n        }\n    };\n    const setSize = (name, normalizeCss) => (image, name, value) => {\n        const styles = image.style;\n        if (styles[name]) {\n            styles[name] = addPixelSuffix(value);\n            normalizeStyle(image, normalizeCss);\n        }\n        else {\n            updateAttrib(image, name, value);\n        }\n    };\n    const getSize = (image, name) => {\n        if (image.style[name]) {\n            return removePixelSuffix(image.style[name]);\n        }\n        else {\n            return getAttrib(image, name);\n        }\n    };\n    const setHspace = (image, value) => {\n        const pxValue = addPixelSuffix(value);\n        image.style.marginLeft = pxValue;\n        image.style.marginRight = pxValue;\n    };\n    const setVspace = (image, value) => {\n        const pxValue = addPixelSuffix(value);\n        image.style.marginTop = pxValue;\n        image.style.marginBottom = pxValue;\n    };\n    const setBorder = (image, value) => {\n        const pxValue = addPixelSuffix(value);\n        image.style.borderWidth = pxValue;\n    };\n    const setBorderStyle = (image, value) => {\n        image.style.borderStyle = value;\n    };\n    const getBorderStyle = (image) => image.style.borderStyle ?? '';\n    const isFigure = (elm) => isNonNullable(elm) && elm.nodeName === 'FIGURE';\n    const isImage = (elm) => elm.nodeName === 'IMG';\n    const getIsDecorative = (image) => {\n        const alt = DOM.getAttrib(image, 'alt');\n        const role = DOM.getAttrib(image, 'role');\n        // WCAG Technique H67: Using null alt text and no title attribute on img elements for images that AT should ignore\n        // Source: https://www.w3.org/TR/WCAG20-TECHS/H67.html\n        // Key point: Decorative images should have alt=\"\" and either no title or empty title (title=\"\")\n        // ARIA 1.2 Specification: Defines role=\"presentation\" and role=\"none\" as synonymous roles\n        // Source: https://www.w3.org/TR/wai-aria-1.2/\n        // Key point: These roles remove semantic meaning and prohibit aria-label and aria-labelledby\n        const hasAlt = image.hasAttribute('alt');\n        return (hasAlt && alt.length === 0) || (role === 'presentation') || (role === 'none');\n    };\n    const getAlt = (image) => {\n        if (getIsDecorative(image)) {\n            return '';\n        }\n        else {\n            return getAttrib(image, 'alt');\n        }\n    };\n    const defaultData = () => ({\n        src: '',\n        alt: '',\n        title: '',\n        width: '',\n        height: '',\n        class: '',\n        style: '',\n        caption: false,\n        hspace: '',\n        vspace: '',\n        border: '',\n        borderStyle: '',\n        isDecorative: false\n    });\n    const getStyleValue = (normalizeCss, data) => {\n        const image = document.createElement('img');\n        updateAttrib(image, 'style', data.style);\n        if (getHspace(image) || data.hspace !== '') {\n            setHspace(image, data.hspace);\n        }\n        if (getVspace(image) || data.vspace !== '') {\n            setVspace(image, data.vspace);\n        }\n        if (getBorder(image) || data.border !== '') {\n            setBorder(image, data.border);\n        }\n        if (getBorderStyle(image) || data.borderStyle !== '') {\n            setBorderStyle(image, data.borderStyle);\n        }\n        return normalizeCss(image.getAttribute('style') ?? '');\n    };\n    const create = (normalizeCss, data) => {\n        const image = document.createElement('img');\n        write(normalizeCss, { ...data, caption: false }, image);\n        // Always set alt even if data.alt is an empty string\n        setAlt(image, data.alt, data.isDecorative);\n        if (data.caption) {\n            const figure = DOM.create('figure', { class: 'image' });\n            figure.appendChild(image);\n            figure.appendChild(DOM.create('figcaption', { contentEditable: 'true' }, 'Caption'));\n            figure.contentEditable = 'false';\n            return figure;\n        }\n        else {\n            return image;\n        }\n    };\n    const read = (normalizeCss, image) => ({\n        src: getAttrib(image, 'src'),\n        alt: getAlt(image),\n        title: getAttrib(image, 'title'),\n        width: getSize(image, 'width'),\n        height: getSize(image, 'height'),\n        class: getAttrib(image, 'class'),\n        style: normalizeCss(getAttrib(image, 'style')),\n        caption: hasCaption(image),\n        hspace: getHspace(image),\n        vspace: getVspace(image),\n        border: getBorder(image),\n        borderStyle: getBorderStyle(image),\n        isDecorative: getIsDecorative(image)\n    });\n    const updateProp = (image, oldData, newData, name, set) => {\n        if (newData[name] !== oldData[name]) {\n            set(image, name, String(newData[name]));\n        }\n    };\n    const setAlt = (image, alt, isDecorative) => {\n        if (isDecorative) {\n            DOM.setAttrib(image, 'role', 'presentation');\n            // unfortunately can't set \"\" attr value with domutils\n            const sugarImage = SugarElement.fromDom(image);\n            set(sugarImage, 'alt', '');\n        }\n        else {\n            if (isNull(alt)) {\n                const sugarImage = SugarElement.fromDom(image);\n                remove(sugarImage, 'alt');\n            }\n            else {\n                // unfortunately can't set \"\" attr value with domutils\n                const sugarImage = SugarElement.fromDom(image);\n                set(sugarImage, 'alt', alt);\n            }\n            if (DOM.getAttrib(image, 'role') === 'presentation') {\n                DOM.setAttrib(image, 'role', '');\n            }\n        }\n    };\n    const updateAlt = (image, oldData, newData) => {\n        if (newData.alt !== oldData.alt || newData.isDecorative !== oldData.isDecorative) {\n            setAlt(image, newData.alt, newData.isDecorative);\n        }\n    };\n    const normalized = (set, normalizeCss) => (image, name, value) => {\n        set(image, value);\n        normalizeStyle(image, normalizeCss);\n    };\n    const write = (normalizeCss, newData, image) => {\n        const oldData = read(normalizeCss, image);\n        updateProp(image, oldData, newData, 'caption', (image, _name, _value) => toggleCaption(image));\n        updateProp(image, oldData, newData, 'src', updateAttrib);\n        updateProp(image, oldData, newData, 'title', updateAttrib);\n        updateProp(image, oldData, newData, 'width', setSize('width', normalizeCss));\n        updateProp(image, oldData, newData, 'height', setSize('height', normalizeCss));\n        updateProp(image, oldData, newData, 'class', updateAttrib);\n        updateProp(image, oldData, newData, 'style', normalized((image, value) => updateAttrib(image, 'style', value), normalizeCss));\n        updateProp(image, oldData, newData, 'hspace', normalized(setHspace, normalizeCss));\n        updateProp(image, oldData, newData, 'vspace', normalized(setVspace, normalizeCss));\n        updateProp(image, oldData, newData, 'border', normalized(setBorder, normalizeCss));\n        updateProp(image, oldData, newData, 'borderStyle', normalized(setBorderStyle, normalizeCss));\n        updateAlt(image, oldData, newData);\n    };\n\n    const normalizeCss$1 = (editor, cssText) => {\n        const css = editor.dom.styles.parse(cssText);\n        const mergedCss = mergeMargins(css);\n        const compressed = editor.dom.styles.parse(editor.dom.styles.serialize(mergedCss));\n        return editor.dom.styles.serialize(compressed);\n    };\n    const getSelectedImage = (editor) => {\n        const imgElm = editor.selection.getNode();\n        const figureElm = editor.dom.getParent(imgElm, 'figure.image');\n        if (figureElm) {\n            return editor.dom.select('img', figureElm)[0];\n        }\n        if (imgElm && (imgElm.nodeName !== 'IMG' || isPlaceholderImage(imgElm))) {\n            return null;\n        }\n        return imgElm;\n    };\n    const splitTextBlock = (editor, figure) => {\n        const dom = editor.dom;\n        const textBlockElements = filter(editor.schema.getTextBlockElements(), (_, parentElm) => !editor.schema.isValidChild(parentElm, 'figure'));\n        const textBlock = dom.getParent(figure.parentNode, (node) => hasNonNullableKey(textBlockElements, node.nodeName), editor.getBody());\n        if (textBlock) {\n            return dom.split(textBlock, figure) ?? figure;\n        }\n        else {\n            return figure;\n        }\n    };\n    const readImageDataFromSelection = (editor) => {\n        const image = getSelectedImage(editor);\n        return image ? read((css) => normalizeCss$1(editor, css), image) : defaultData();\n    };\n    const insertImageAtCaret = (editor, data) => {\n        const elm = create((css) => normalizeCss$1(editor, css), data);\n        editor.dom.setAttrib(elm, 'data-mce-id', '__mcenew');\n        editor.focus();\n        editor.insertContent(elm.outerHTML);\n        const insertedElm = editor.dom.select('*[data-mce-id=\"__mcenew\"]')[0];\n        editor.dom.setAttrib(insertedElm, 'data-mce-id', null);\n        if (isFigure(insertedElm)) {\n            const figure = splitTextBlock(editor, insertedElm);\n            editor.selection.select(figure);\n        }\n        else {\n            editor.selection.select(insertedElm);\n        }\n    };\n    const syncSrcAttr = (editor, image) => {\n        editor.dom.setAttrib(image, 'src', image.getAttribute('src'));\n    };\n    const deleteImage = (editor, image) => {\n        if (image) {\n            const elm = editor.dom.is(image.parentNode, 'figure.image') ? image.parentNode : image;\n            editor.dom.remove(elm);\n            editor.focus();\n            editor.nodeChanged();\n            if (editor.dom.isEmpty(editor.getBody())) {\n                editor.setContent('');\n                editor.selection.setCursorLocation();\n            }\n        }\n    };\n    const writeImageDataToSelection = (editor, data) => {\n        const image = getSelectedImage(editor);\n        if (image) {\n            write((css) => normalizeCss$1(editor, css), data, image);\n            syncSrcAttr(editor, image);\n            if (isFigure(image.parentNode)) {\n                editor.dom.setStyle(image, 'float', '');\n                const figure = image.parentNode;\n                splitTextBlock(editor, figure);\n                editor.selection.select(image.parentNode);\n            }\n            else {\n                editor.selection.select(image);\n                waitLoadImage(editor, data, image);\n            }\n        }\n    };\n    const sanitizeImageData = (editor, data) => {\n        // Sanitize the URL\n        const src = data.src;\n        return {\n            ...data,\n            src: isSafeImageUrl(editor, src) ? src : ''\n        };\n    };\n    const insertOrUpdateImage = (editor, partialData) => {\n        const image = getSelectedImage(editor);\n        if (image) {\n            const selectedImageData = read((css) => normalizeCss$1(editor, css), image);\n            const data = { ...selectedImageData, ...partialData };\n            const sanitizedData = sanitizeImageData(editor, data);\n            if (data.src) {\n                writeImageDataToSelection(editor, sanitizedData);\n            }\n            else {\n                deleteImage(editor, image);\n            }\n        }\n        else if (partialData.src) {\n            insertImageAtCaret(editor, { ...defaultData(), ...partialData });\n        }\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.ImageUploader');\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    const getValue = (item) => isString(item.value) ? item.value : '';\n    const getText = (item) => {\n        if (isString(item.text)) {\n            return item.text;\n        }\n        else if (isString(item.title)) {\n            return item.title;\n        }\n        else {\n            return '';\n        }\n    };\n    const sanitizeList = (list, extractValue) => {\n        const out = [];\n        global.each(list, (item) => {\n            const text = getText(item);\n            if (item.menu !== undefined) {\n                const items = sanitizeList(item.menu, extractValue);\n                out.push({ text, items }); // list group\n            }\n            else {\n                const value = extractValue(item);\n                out.push({ text, value }); // list value\n            }\n        });\n        return out;\n    };\n    const sanitizer = (extractor = getValue) => (list) => {\n        if (list) {\n            return Optional.from(list).map((list) => sanitizeList(list, extractor));\n        }\n        else {\n            return Optional.none();\n        }\n    };\n    const sanitize = (list) => sanitizer(getValue)(list);\n    const isGroup = (item) => has(item, 'items');\n    const findEntryDelegate = (list, value) => findMap(list, (item) => {\n        if (isGroup(item)) {\n            return findEntryDelegate(item.items, value);\n        }\n        else if (item.value === value) {\n            return Optional.some(item);\n        }\n        else {\n            return Optional.none();\n        }\n    });\n    const findEntry = (optList, value) => optList.bind((list) => findEntryDelegate(list, value));\n    const ListUtils = {\n        sanitizer,\n        sanitize,\n        findEntry\n    };\n\n    const makeTab$2 = (_info) => ({\n        title: 'Advanced',\n        name: 'advanced',\n        items: [\n            {\n                type: 'grid',\n                columns: 2,\n                items: [\n                    {\n                        type: 'input',\n                        label: 'Vertical space',\n                        name: 'vspace',\n                        inputMode: 'numeric'\n                    },\n                    {\n                        type: 'input',\n                        label: 'Horizontal space',\n                        name: 'hspace',\n                        inputMode: 'numeric'\n                    },\n                    {\n                        type: 'input',\n                        label: 'Border width',\n                        name: 'border',\n                        inputMode: 'numeric'\n                    },\n                    {\n                        type: 'listbox',\n                        name: 'borderstyle',\n                        label: 'Border style',\n                        items: [\n                            { text: 'Select...', value: '' },\n                            { text: 'Solid', value: 'solid' },\n                            { text: 'Dotted', value: 'dotted' },\n                            { text: 'Dashed', value: 'dashed' },\n                            { text: 'Double', value: 'double' },\n                            { text: 'Groove', value: 'groove' },\n                            { text: 'Ridge', value: 'ridge' },\n                            { text: 'Inset', value: 'inset' },\n                            { text: 'Outset', value: 'outset' },\n                            { text: 'None', value: 'none' },\n                            { text: 'Hidden', value: 'hidden' }\n                        ]\n                    }\n                ]\n            }\n        ]\n    });\n    const AdvTab = {\n        makeTab: makeTab$2\n    };\n\n    const collect = (editor) => {\n        const urlListSanitizer = ListUtils.sanitizer((item) => editor.convertURL(item.value || item.url || '', 'src'));\n        const futureImageList = new Promise((completer) => {\n            createImageList(editor, (imageList) => {\n                completer(urlListSanitizer(imageList).map((items) => flatten([\n                    [{ text: 'None', value: '' }],\n                    items\n                ])));\n            });\n        });\n        const classList = ListUtils.sanitize(getClassList(editor));\n        const hasAdvTab$1 = hasAdvTab(editor);\n        const hasUploadTab$1 = hasUploadTab(editor);\n        const hasUploadUrl$1 = hasUploadUrl(editor);\n        const hasUploadHandler$1 = hasUploadHandler(editor);\n        const image = readImageDataFromSelection(editor);\n        const hasDescription$1 = hasDescription(editor);\n        const hasImageTitle$1 = hasImageTitle(editor);\n        const hasDimensions$1 = hasDimensions(editor);\n        const hasImageCaption$1 = hasImageCaption(editor);\n        const hasAccessibilityOptions = showAccessibilityOptions(editor);\n        const automaticUploads = isAutomaticUploadsEnabled(editor);\n        const prependURL = Optional.some(getPrependUrl(editor)).filter((preUrl) => isString(preUrl) && preUrl.length > 0);\n        return futureImageList.then((imageList) => ({\n            image,\n            imageList,\n            classList,\n            hasAdvTab: hasAdvTab$1,\n            hasUploadTab: hasUploadTab$1,\n            hasUploadUrl: hasUploadUrl$1,\n            hasUploadHandler: hasUploadHandler$1,\n            hasDescription: hasDescription$1,\n            hasImageTitle: hasImageTitle$1,\n            hasDimensions: hasDimensions$1,\n            hasImageCaption: hasImageCaption$1,\n            prependURL,\n            hasAccessibilityOptions,\n            automaticUploads\n        }));\n    };\n\n    const makeItems = (info) => {\n        const imageUrl = {\n            name: 'src',\n            type: 'urlinput',\n            filetype: 'image',\n            label: 'Source',\n            picker_text: 'Browse files'\n        };\n        const imageList = info.imageList.map((items) => ({\n            name: 'images',\n            type: 'listbox',\n            label: 'Image list',\n            items\n        }));\n        const imageDescription = {\n            name: 'alt',\n            type: 'input',\n            label: 'Alternative description',\n            enabled: !(info.hasAccessibilityOptions && info.image.isDecorative)\n        };\n        const imageTitle = {\n            name: 'title',\n            type: 'input',\n            label: 'Image title'\n        };\n        const imageDimensions = {\n            name: 'dimensions',\n            type: 'sizeinput'\n        };\n        const isDecorative = {\n            type: 'label',\n            label: 'Accessibility',\n            items: [{\n                    name: 'isDecorative',\n                    type: 'checkbox',\n                    label: 'Image is decorative'\n                }]\n        };\n        // TODO: the original listbox supported styled items but bridge does not seem to support this\n        const classList = info.classList.map((items) => ({\n            name: 'classes',\n            type: 'listbox',\n            label: 'Class',\n            items\n        }));\n        const caption = {\n            type: 'label',\n            label: 'Caption',\n            items: [\n                {\n                    type: 'checkbox',\n                    name: 'caption',\n                    label: 'Show caption'\n                }\n            ]\n        };\n        const getDialogContainerType = (useColumns) => useColumns ? { type: 'grid', columns: 2 } : { type: 'panel' };\n        return flatten([\n            [imageUrl],\n            imageList.toArray(),\n            info.hasAccessibilityOptions && info.hasDescription ? [isDecorative] : [],\n            info.hasDescription ? [imageDescription] : [],\n            info.hasImageTitle ? [imageTitle] : [],\n            info.hasDimensions ? [imageDimensions] : [],\n            [{\n                    ...getDialogContainerType(info.classList.isSome() && info.hasImageCaption),\n                    items: flatten([\n                        classList.toArray(),\n                        info.hasImageCaption ? [caption] : []\n                    ])\n                }]\n        ]);\n    };\n    const makeTab$1 = (info) => ({\n        title: 'General',\n        name: 'general',\n        items: makeItems(info)\n    });\n    const MainTab = {\n        makeTab: makeTab$1,\n        makeItems\n    };\n\n    const makeTab = (_info) => {\n        const items = [\n            {\n                type: 'dropzone',\n                name: 'fileinput'\n            }\n        ];\n        return {\n            title: 'Upload',\n            name: 'upload',\n            items\n        };\n    };\n    const UploadTab = {\n        makeTab\n    };\n\n    const createState = (info) => ({\n        prevImage: ListUtils.findEntry(info.imageList, info.image.src),\n        prevAlt: info.image.alt,\n        open: true\n    });\n    const fromImageData = (image) => ({\n        src: {\n            value: image.src,\n            meta: {}\n        },\n        images: image.src,\n        alt: image.alt,\n        title: image.title,\n        dimensions: {\n            width: image.width,\n            height: image.height\n        },\n        classes: image.class,\n        caption: image.caption,\n        style: image.style,\n        vspace: image.vspace,\n        border: image.border,\n        hspace: image.hspace,\n        borderstyle: image.borderStyle,\n        fileinput: [],\n        isDecorative: image.isDecorative\n    });\n    const toImageData = (data, removeEmptyAlt) => ({\n        src: data.src.value,\n        alt: (data.alt === null || data.alt.length === 0) && removeEmptyAlt ? null : data.alt,\n        title: data.title,\n        width: data.dimensions.width,\n        height: data.dimensions.height,\n        class: data.classes,\n        style: data.style,\n        caption: data.caption,\n        hspace: data.hspace,\n        vspace: data.vspace,\n        border: data.border,\n        borderStyle: data.borderstyle,\n        isDecorative: data.isDecorative\n    });\n    const addPrependUrl2 = (info, srcURL) => {\n        // Add the prependURL\n        if (!/^(?:[a-zA-Z]+:)?\\/\\//.test(srcURL)) {\n            return info.prependURL.bind((prependUrl) => {\n                if (srcURL.substring(0, prependUrl.length) !== prependUrl) {\n                    return Optional.some(prependUrl + srcURL);\n                }\n                return Optional.none();\n            });\n        }\n        return Optional.none();\n    };\n    const addPrependUrl = (info, api) => {\n        const data = api.getData();\n        addPrependUrl2(info, data.src.value).each((srcURL) => {\n            api.setData({ src: { value: srcURL, meta: data.src.meta } });\n        });\n    };\n    const formFillFromMeta2 = (info, data, meta) => {\n        if (info.hasDescription && isString(meta.alt)) {\n            data.alt = meta.alt;\n        }\n        if (info.hasAccessibilityOptions) {\n            data.isDecorative = meta.isDecorative || data.isDecorative || false;\n        }\n        if (info.hasImageTitle && isString(meta.title)) {\n            data.title = meta.title;\n        }\n        if (info.hasDimensions) {\n            if (isString(meta.width)) {\n                data.dimensions.width = meta.width;\n            }\n            if (isString(meta.height)) {\n                data.dimensions.height = meta.height;\n            }\n        }\n        if (isString(meta.class)) {\n            ListUtils.findEntry(info.classList, meta.class).each((entry) => {\n                data.classes = entry.value;\n            });\n        }\n        if (info.hasImageCaption) {\n            if (isBoolean(meta.caption)) {\n                data.caption = meta.caption;\n            }\n        }\n        if (info.hasAdvTab) {\n            if (isString(meta.style)) {\n                data.style = meta.style;\n            }\n            if (isString(meta.vspace)) {\n                data.vspace = meta.vspace;\n            }\n            if (isString(meta.border)) {\n                data.border = meta.border;\n            }\n            if (isString(meta.hspace)) {\n                data.hspace = meta.hspace;\n            }\n            if (isString(meta.borderstyle)) {\n                data.borderstyle = meta.borderstyle;\n            }\n        }\n    };\n    const formFillFromMeta = (info, api) => {\n        const data = api.getData();\n        const meta = data.src.meta;\n        if (meta !== undefined) {\n            const newData = deepMerge({}, data);\n            formFillFromMeta2(info, newData, meta);\n            api.setData(newData);\n        }\n    };\n    const calculateImageSize = (helpers, info, state, api) => {\n        const data = api.getData();\n        const url = data.src.value;\n        const meta = data.src.meta || {};\n        if (!meta.width && !meta.height && info.hasDimensions) {\n            if (isNotEmpty(url)) {\n                helpers.imageSize(url)\n                    .then((size) => {\n                    if (state.open) {\n                        api.setData({ dimensions: size });\n                    }\n                })\n                    // eslint-disable-next-line no-console\n                    .catch((e) => console.error(e));\n            }\n            else {\n                api.setData({ dimensions: { width: '', height: '' } });\n            }\n        }\n    };\n    const updateImagesDropdown = (info, state, api) => {\n        const data = api.getData();\n        const image = ListUtils.findEntry(info.imageList, data.src.value);\n        state.prevImage = image;\n        api.setData({ images: image.map((entry) => entry.value).getOr('') });\n    };\n    const changeSrc = (helpers, info, state, api) => {\n        addPrependUrl(info, api);\n        formFillFromMeta(info, api);\n        calculateImageSize(helpers, info, state, api);\n        updateImagesDropdown(info, state, api);\n    };\n    const changeImages = (helpers, info, state, api) => {\n        const data = api.getData();\n        const image = ListUtils.findEntry(info.imageList, data.images);\n        image.each((img) => {\n            const updateAlt = data.alt === '' || state.prevImage.map((image) => image.text === data.alt).getOr(false);\n            if (updateAlt) {\n                if (img.value === '') {\n                    api.setData({ src: img, alt: state.prevAlt });\n                }\n                else {\n                    api.setData({ src: img, alt: img.text });\n                }\n            }\n            else {\n                api.setData({ src: img });\n            }\n        });\n        state.prevImage = image;\n        changeSrc(helpers, info, state, api);\n    };\n    const changeFileInput = (helpers, info, state, api) => {\n        const data = api.getData();\n        api.block('Uploading image'); // What msg do we pass to the lock?\n        head(data.fileinput)\n            .fold(() => {\n            api.unblock();\n        }, (file) => {\n            const blobUri = URL.createObjectURL(file);\n            const finalize = () => {\n                api.unblock();\n                URL.revokeObjectURL(blobUri);\n            };\n            const updateSrcAndSwitchTab = (url) => {\n                api.setData({ src: { value: url, meta: {} } });\n                api.showTab('general');\n                changeSrc(helpers, info, state, api);\n                api.focus('src');\n            };\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\n            blobToDataUri(file).then((dataUrl) => {\n                const blobInfo = helpers.createBlobCache(file, blobUri, dataUrl);\n                if (info.automaticUploads) {\n                    helpers.uploadImage(blobInfo).then((result) => {\n                        updateSrcAndSwitchTab(result.url);\n                        finalize();\n                    }).catch((err) => {\n                        finalize();\n                        helpers.alertErr(err, () => {\n                            api.focus('fileinput');\n                        });\n                    });\n                }\n                else {\n                    helpers.addToBlobCache(blobInfo);\n                    updateSrcAndSwitchTab(blobInfo.blobUri());\n                    api.unblock();\n                }\n            });\n        });\n    };\n    const changeHandler = (helpers, info, state) => (api, evt) => {\n        if (evt.name === 'src') {\n            changeSrc(helpers, info, state, api);\n        }\n        else if (evt.name === 'images') {\n            changeImages(helpers, info, state, api);\n        }\n        else if (evt.name === 'alt') {\n            state.prevAlt = api.getData().alt;\n        }\n        else if (evt.name === 'fileinput') {\n            changeFileInput(helpers, info, state, api);\n        }\n        else if (evt.name === 'isDecorative') {\n            api.setEnabled('alt', !api.getData().isDecorative);\n        }\n    };\n    const closeHandler = (state) => () => {\n        state.open = false;\n    };\n    const makeDialogBody = (info) => {\n        if (info.hasAdvTab || info.hasUploadUrl || info.hasUploadHandler) {\n            const tabPanel = {\n                type: 'tabpanel',\n                tabs: flatten([\n                    [MainTab.makeTab(info)],\n                    info.hasAdvTab ? [AdvTab.makeTab(info)] : [],\n                    info.hasUploadTab && (info.hasUploadUrl || info.hasUploadHandler) ? [UploadTab.makeTab(info)] : []\n                ])\n            };\n            return tabPanel;\n        }\n        else {\n            const panel = {\n                type: 'panel',\n                items: MainTab.makeItems(info)\n            };\n            return panel;\n        }\n    };\n    const submitHandler = (editor, info, helpers) => (api) => {\n        const data = deepMerge(fromImageData(info.image), api.getData());\n        // The data architecture relies on passing everything through the style field for validation.\n        // Since the style field was removed that process must be simulated on submit.\n        const finalData = {\n            ...data,\n            style: getStyleValue(helpers.normalizeCss, toImageData(data, false))\n        };\n        editor.execCommand('mceUpdateImage', false, toImageData(finalData, info.hasAccessibilityOptions));\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        editor.editorUpload.uploadImagesAuto();\n        api.close();\n    };\n    const imageSize = (editor) => (url) => {\n        // If the URL isn't safe then don't attempt to load it to get the sizes\n        if (!isSafeImageUrl(editor, url)) {\n            return Promise.resolve({ width: '', height: '' });\n        }\n        else {\n            return getImageSize(editor.documentBaseURI.toAbsolute(url)).then((dimensions) => ({\n                width: String(dimensions.width),\n                height: String(dimensions.height)\n            }));\n        }\n    };\n    const createBlobCache = (editor) => (file, blobUri, dataUrl) => editor.editorUpload.blobCache.create({\n        blob: file,\n        blobUri,\n        name: file.name?.replace(/\\.[^\\.]+$/, ''),\n        filename: file.name,\n        base64: dataUrl.split(',')[1]\n    });\n    const addToBlobCache = (editor) => (blobInfo) => {\n        editor.editorUpload.blobCache.add(blobInfo);\n    };\n    const alertErr = (editor) => (message, callback) => {\n        editor.windowManager.alert(message, callback);\n    };\n    const normalizeCss = (editor) => (cssText) => normalizeCss$1(editor, cssText);\n    const parseStyle = (editor) => (cssText) => editor.dom.parseStyle(cssText);\n    const serializeStyle = (editor) => (stylesArg, name) => editor.dom.serializeStyle(stylesArg, name);\n    const uploadImage = (editor) => (blobInfo) => global$1(editor).upload([blobInfo], false).then((results) => {\n        if (results.length === 0) {\n            return Promise.reject('Failed to upload image');\n        }\n        else if (results[0].status === false) {\n            return Promise.reject(results[0].error?.message);\n        }\n        else {\n            return results[0];\n        }\n    });\n    const Dialog = (editor) => {\n        const helpers = {\n            imageSize: imageSize(editor),\n            addToBlobCache: addToBlobCache(editor),\n            createBlobCache: createBlobCache(editor),\n            alertErr: alertErr(editor),\n            normalizeCss: normalizeCss(editor),\n            parseStyle: parseStyle(editor),\n            serializeStyle: serializeStyle(editor),\n            uploadImage: uploadImage(editor)\n        };\n        const open = () => {\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\n            collect(editor)\n                .then((info) => {\n                const state = createState(info);\n                return {\n                    title: 'Insert/Edit Image',\n                    size: 'normal',\n                    body: makeDialogBody(info),\n                    buttons: [\n                        {\n                            type: 'cancel',\n                            name: 'cancel',\n                            text: 'Cancel'\n                        },\n                        {\n                            type: 'submit',\n                            name: 'save',\n                            text: 'Save',\n                            primary: true\n                        }\n                    ],\n                    initialData: fromImageData(info.image),\n                    onSubmit: submitHandler(editor, info, helpers),\n                    onChange: changeHandler(helpers, info, state),\n                    onClose: closeHandler(state)\n                };\n            })\n                .then(editor.windowManager.open);\n        };\n        return {\n            open\n        };\n    };\n\n    const register$1 = (editor) => {\n        editor.addCommand('mceImage', Dialog(editor).open);\n        // TODO: This command is likely to be short lived we only need it until we expose the rtc model though a new api so it shouldn't be documented\n        // it's just a command since that is a convenient method for the rtc plugin to override the default dom mutation behaviour\n        editor.addCommand('mceUpdateImage', (_ui, data) => {\n            editor.undoManager.transact(() => insertOrUpdateImage(editor, data));\n        });\n    };\n\n    const hasImageClass = (node) => {\n        const className = node.attr('class');\n        return isNonNullable(className) && /\\bimage\\b/.test(className);\n    };\n    const toggleContentEditableState = (state) => (nodes) => {\n        let i = nodes.length;\n        const toggleContentEditable = (node) => {\n            node.attr('contenteditable', state ? 'true' : null);\n        };\n        while (i--) {\n            const node = nodes[i];\n            if (hasImageClass(node)) {\n                node.attr('contenteditable', state ? 'false' : null);\n                global.each(node.getAll('figcaption'), toggleContentEditable);\n            }\n        }\n    };\n    const setup = (editor) => {\n        editor.on('PreInit', () => {\n            editor.parser.addNodeFilter('figure', toggleContentEditableState(true));\n            editor.serializer.addNodeFilter('figure', toggleContentEditableState(false));\n        });\n    };\n\n    const onSetupEditable = (editor) => (api) => {\n        const nodeChanged = () => {\n            api.setEnabled(editor.selection.isEditable());\n        };\n        editor.on('NodeChange', nodeChanged);\n        nodeChanged();\n        return () => {\n            editor.off('NodeChange', nodeChanged);\n        };\n    };\n    const register = (editor) => {\n        editor.ui.registry.addToggleButton('image', {\n            icon: 'image',\n            tooltip: 'Insert/edit image',\n            onAction: Dialog(editor).open,\n            onSetup: (buttonApi) => {\n                // Set the initial state and then bind to selection changes to update the state when the selection changes\n                buttonApi.setActive(isNonNullable(getSelectedImage(editor)));\n                const unbindSelectorChanged = editor.selection.selectorChangedWithUnbind('img:not([data-mce-object]):not([data-mce-placeholder]),figure.image', buttonApi.setActive).unbind;\n                const unbindEditable = onSetupEditable(editor)(buttonApi);\n                return () => {\n                    unbindSelectorChanged();\n                    unbindEditable();\n                };\n            }\n        });\n        editor.ui.registry.addMenuItem('image', {\n            icon: 'image',\n            text: 'Image...',\n            onAction: Dialog(editor).open,\n            onSetup: onSetupEditable(editor)\n        });\n        editor.ui.registry.addContextMenu('image', {\n            update: (element) => editor.selection.isEditable() && (isFigure(element) || (isImage(element) && !isPlaceholderImage(element))) ? ['image'] : []\n        });\n    };\n\n    var Plugin = () => {\n        global$4.add('image', (editor) => {\n            register$2(editor);\n            setup(editor);\n            register(editor);\n            register$1(editor);\n        });\n    };\n\n    Plugin();\n    /** *****\n     * DO NOT EXPORT ANYTHING\n     *\n     * IF YOU DO ROLLUP WILL LEAVE A GLOBAL ON THE PAGE\n     *******/\n\n})();\n"],"names":["global$4","tinymce","util","Tools","resolve","getPrototypeOf","Object","hasProto","v","constructor","predicate","prototype","name","isType","type","value","x","t","Array","isArray","String","o","proto","isPrototypeOf","typeOf","isSimpleType","isString","isObject","isPlainObject","is","isNull","a","isBoolean","isNonNullable","isNullable","isFunction","isNumber","noop","Optional","tag","static","this","some","none","singletonNone","fold","onNone","onSome","isSome","isNone","map","mapper","bind","binder","exists","forall","filter","getOr","replacement","or","getOrThunk","thunk","orThunk","getOrDie","message","Error","from","getOrNull","getOrUndefined","each","worker","toArray","toString","slice","nativePush","push","flatten","xs","r","i","len","length","apply","head","get","keys","hasOwnProperty","internalFilter","obj","pred","onTrue","onFalse","f","props","k","has","key","call","deepMerge","merger","old","nu","objects","ret","j","curObject","isNotEmpty","s","fromDom","node","dom","SugarElement","fromHtml","html","scope","div","document","createElement","innerHTML","hasChildNodes","childNodes","console","error","fromTag","fromText","text","createTextNode","fromPoint","docElm","y","elementFromPoint","set","element","setAttribute","rawSet","global$3","global$2","option","editor","options","register$2","registerOption","register","processor","default","valid","isArrayOf","hasDimensions","hasAdvTab","hasUploadTab","getPrependUrl","getClassList","hasDescription","hasImageTitle","hasImageCaption","getImageList","showAccessibilityOptions","isAutomaticUploadsEnabled","parseIntAndGetMax","val1","val2","Math","max","parseInt","removePixelSuffix","replace","addPixelSuffix","test","isPlaceholderImage","imgElm","nodeName","hasAttribute","isSafeImageUrl","src","getOption","isDomSafe","allow_html_data_urls","allow_script_urls","allow_svg_data_urls","DOM","getHspace","image","style","marginLeft","marginRight","getVspace","marginTop","marginBottom","getBorder","borderWidth","getAttrib","getAttribute","hasCaption","parentNode","updateAttrib","removeAttribute","toggleCaption","figureElm","insertAfter","remove","removeFigure","create","class","appendChild","contentEditable","wrapInFigure","normalizeStyle","normalizeCss","attrValue","setSize","styles","getSize","setHspace","pxValue","setVspace","setBorder","setBorderStyle","borderStyle","getBorderStyle","isFigure","elm","getIsDecorative","alt","role","getAlt","getStyleValue","data","hspace","vspace","border","read","title","width","height","caption","isDecorative","updateProp","oldData","newData","setAlt","setAttrib","sugarImage","normalized","write","_name","_value","updateAlt","normalizeCss$1","cssText","mergedCss","css","margin","splitMargin","split","mergeMargins","parse","compressed","serialize","getSelectedImage","selection","getNode","getParent","select","splitTextBlock","figure","textBlockElements","schema","getTextBlockElements","_","parentElm","isValidChild","textBlock","hasNonNullableKey","undefined","getBody","insertImageAtCaret","focus","insertContent","outerHTML","insertedElm","writeImageDataToSelection","syncSrcAttr","setStyle","selectImage","onload","onerror","nodeChanged","setAttribs","clientWidth","clientHeight","waitLoadImage","insertOrUpdateImage","partialData","sanitizedData","sanitizeImageData","isEmpty","setContent","setCursorLocation","deleteImage","global$1","global","getValue","item","sanitizeList","list","extractValue","out","getText","menu","items","sanitizer","extractor","findEntryDelegate","arr","findMap","isGroup","ListUtils","optList","AdvTab","_info","columns","label","inputMode","collect","urlListSanitizer","convertURL","url","futureImageList","Promise","completer","callback","imageList","fetch","then","res","ok","json","createImageList","classList","hasAdvTab$1","hasUploadTab$1","hasUploadUrl$1","hasUploadUrl","hasUploadHandler$1","hasUploadHandler","readImageDataFromSelection","hasDescription$1","hasImageTitle$1","hasDimensions$1","hasImageCaption$1","hasAccessibilityOptions","automaticUploads","prependURL","preUrl","makeItems","info","imageDescription","enabled","filetype","picker_text","useColumns","MainTab","UploadTab","fromImageData","meta","images","dimensions","classes","borderstyle","fileinput","toImageData","removeEmptyAlt","addPrependUrl","api","getData","srcURL","prependUrl","substring","addPrependUrl2","setData","formFillFromMeta","entry","formFillFromMeta2","changeSrc","helpers","state","imageSize","size","open","catch","e","calculateImageSize","prevImage","updateImagesDropdown","changeFileInput","block","unblock","file","blobUri","URL","createObjectURL","finalize","revokeObjectURL","updateSrcAndSwitchTab","showTab","blob","reject","reader","FileReader","result","readAsDataURL","dataUrl","blobInfo","createBlobCache","uploadImage","err","alertErr","addToBlobCache","changeHandler","evt","img","prevAlt","changeImages","setEnabled","closeHandler","makeDialogBody","tabs","submitHandler","finalData","execCommand","editorUpload","uploadImagesAuto","close","done","removeChild","addEventListener","visibility","position","bottom","left","body","getImageSize","documentBaseURI","toAbsolute","blobCache","filename","base64","add","windowManager","alert","parseStyle","serializeStyle","stylesArg","upload","results","status","Dialog","createState","buttons","primary","initialData","onSubmit","onChange","onClose","hasImageClass","className","attr","toggleContentEditableState","nodes","toggleContentEditable","getAll","onSetupEditable","isEditable","on","off","parser","addNodeFilter","serializer","setup","ui","registry","addToggleButton","icon","tooltip","onAction","onSetup","buttonApi","setActive","unbindSelectorChanged","selectorChangedWithUnbind","unbind","unbindEditable","addMenuItem","addContextMenu","update","addCommand","_ui","undoManager","transact","register$1"],"sourceRoot":""}