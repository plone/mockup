{"version":3,"file":"chunks/31223.8cfc2fbbe75fb506dc53.min.js","mappings":"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","sources":["webpack://@plone/mockup/./src/pat/tinymce/js/template.js"],"sourcesContent":["/**\n * template plugin backport from TinyMCE version 6.8.3 (2024-02-08)\n */\nimport tinymce from \"tinymce/tinymce\";\n\nconst hasProto = (v, constructor, predicate) => {\n    var _a;\n    if (predicate(v, constructor.prototype)) {\n    return true;\n    } else {\n    return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n    }\n};\nconst typeOf = x => {\n    const t = typeof x;\n    if (x === null) {\n    return 'null';\n    } else if (t === 'object' && Array.isArray(x)) {\n    return 'array';\n    }\n    // eslint-disable-next-line no-prototype-builtins\n    else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n    return 'string';\n    } else {\n    return t;\n    }\n};\nconst isType = type => value => typeOf(value) === type;\nconst isSimpleType = type => value => typeof value === type;\nconst isString = isType('string');\nconst isObject = isType('object');\nconst isArray = isType('array');\nconst isNullable = a => a === null || a === undefined;\nconst isNonNullable = a => !isNullable(a);\nconst isFunction = isSimpleType('function');\nconst isArrayOf = (value, pred) => {\n    if (isArray(value)) {\n    for (let i = 0, len = value.length; i < len; ++i) {\n        if (!pred(value[i])) {\n        return false;\n        }\n    }\n    return true;\n    }\n    return false;\n};\n\nconst constant = value => {\n    return () => {\n    return value;\n    };\n};\nfunction curry(fn, ...initialArgs) {\n    return (...restArgs) => {\n    const all = initialArgs.concat(restArgs);\n    return fn.apply(null, all);\n    };\n}\nconst never = constant(false);\n\nconst escape = text => text.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n\nvar global$2 = tinymce.util.Tools;\n\nconst option = name => editor => editor.options.get(name);\nconst register$2 = editor => {\n    const registerOption = editor.options.register;\n    registerOption('template_cdate_classes', {\n    processor: 'string',\n    default: 'cdate'\n    });\n    registerOption('template_mdate_classes', {\n    processor: 'string',\n    default: 'mdate'\n    });\n    registerOption('template_selected_content_classes', {\n    processor: 'string',\n    default: 'selcontent'\n    });\n    registerOption('template_preview_replace_values', { processor: 'object' });\n    registerOption('template_replace_values', { processor: 'object' });\n    registerOption('templates', {\n    processor: value => isString(value) || isArrayOf(value, isObject) || isFunction(value),\n    default: []\n    });\n    registerOption('template_cdate_format', {\n    processor: 'string',\n    default: editor.translate('%Y-%m-%d')\n    });\n    registerOption('template_mdate_format', {\n    processor: 'string',\n    default: editor.translate('%Y-%m-%d')\n    });\n};\nconst getCreationDateClasses = option('template_cdate_classes');\nconst getModificationDateClasses = option('template_mdate_classes');\nconst getSelectedContentClasses = option('template_selected_content_classes');\nconst getPreviewReplaceValues = option('template_preview_replace_values');\nconst getTemplateReplaceValues = option('template_replace_values');\nconst getTemplates = option('templates');\nconst getCdateFormat = option('template_cdate_format');\nconst getMdateFormat = option('template_mdate_format');\nconst getContentStyle = option('content_style');\nconst shouldUseContentCssCors = option('content_css_cors');\nconst getBodyClass = option('body_class');\n\nconst addZeros = (value, len) => {\n    value = '' + value;\n    if (value.length < len) {\n    for (let i = 0; i < len - value.length; i++) {\n        value = '0' + value;\n    }\n    }\n    return value;\n};\nconst getDateTime = (editor, fmt, date = new Date()) => {\n    const daysShort = 'Sun Mon Tue Wed Thu Fri Sat Sun'.split(' ');\n    const daysLong = 'Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday'.split(' ');\n    const monthsShort = 'Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec'.split(' ');\n    const monthsLong = 'January February March April May June July August September October November December'.split(' ');\n    fmt = fmt.replace('%D', '%m/%d/%Y');\n    fmt = fmt.replace('%r', '%I:%M:%S %p');\n    fmt = fmt.replace('%Y', '' + date.getFullYear());\n    fmt = fmt.replace('%y', '' + date.getYear());\n    fmt = fmt.replace('%m', addZeros(date.getMonth() + 1, 2));\n    fmt = fmt.replace('%d', addZeros(date.getDate(), 2));\n    fmt = fmt.replace('%H', '' + addZeros(date.getHours(), 2));\n    fmt = fmt.replace('%M', '' + addZeros(date.getMinutes(), 2));\n    fmt = fmt.replace('%S', '' + addZeros(date.getSeconds(), 2));\n    fmt = fmt.replace('%I', '' + ((date.getHours() + 11) % 12 + 1));\n    fmt = fmt.replace('%p', '' + (date.getHours() < 12 ? 'AM' : 'PM'));\n    fmt = fmt.replace('%B', '' + editor.translate(monthsLong[date.getMonth()]));\n    fmt = fmt.replace('%b', '' + editor.translate(monthsShort[date.getMonth()]));\n    fmt = fmt.replace('%A', '' + editor.translate(daysLong[date.getDay()]));\n    fmt = fmt.replace('%a', '' + editor.translate(daysShort[date.getDay()]));\n    fmt = fmt.replace('%%', '%');\n    return fmt;\n};\n\nclass Optional {\n    constructor(tag, value) {\n    this.tag = tag;\n    this.value = value;\n    }\n    static some(value) {\n    return new Optional(true, value);\n    }\n    static none() {\n    return Optional.singletonNone;\n    }\n    fold(onNone, onSome) {\n    if (this.tag) {\n        return onSome(this.value);\n    } else {\n        return onNone();\n    }\n    }\n    isSome() {\n    return this.tag;\n    }\n    isNone() {\n    return !this.tag;\n    }\n    map(mapper) {\n    if (this.tag) {\n        return Optional.some(mapper(this.value));\n    } else {\n        return Optional.none();\n    }\n    }\n    bind(binder) {\n    if (this.tag) {\n        return binder(this.value);\n    } else {\n        return Optional.none();\n    }\n    }\n    exists(predicate) {\n    return this.tag && predicate(this.value);\n    }\n    forall(predicate) {\n    return !this.tag || predicate(this.value);\n    }\n    filter(predicate) {\n    if (!this.tag || predicate(this.value)) {\n        return this;\n    } else {\n        return Optional.none();\n    }\n    }\n    getOr(replacement) {\n    return this.tag ? this.value : replacement;\n    }\n    or(replacement) {\n    return this.tag ? this : replacement;\n    }\n    getOrThunk(thunk) {\n    return this.tag ? this.value : thunk();\n    }\n    orThunk(thunk) {\n    return this.tag ? this : thunk();\n    }\n    getOrDie(message) {\n    if (!this.tag) {\n        throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n    } else {\n        return this.value;\n    }\n    }\n    static from(value) {\n    return isNonNullable(value) ? Optional.some(value) : Optional.none();\n    }\n    getOrNull() {\n    return this.tag ? this.value : null;\n    }\n    getOrUndefined() {\n    return this.value;\n    }\n    each(worker) {\n    if (this.tag) {\n        worker(this.value);\n    }\n    }\n    toArray() {\n    return this.tag ? [this.value] : [];\n    }\n    toString() {\n    return this.tag ? `some(${ this.value })` : 'none()';\n    }\n}\nOptional.singletonNone = new Optional(false);\n\nconst exists = (xs, pred) => {\n    for (let i = 0, len = xs.length; i < len; i++) {\n    const x = xs[i];\n    if (pred(x, i)) {\n        return true;\n    }\n    }\n    return false;\n};\nconst map = (xs, f) => {\n    const len = xs.length;\n    const r = new Array(len);\n    for (let i = 0; i < len; i++) {\n    const x = xs[i];\n    r[i] = f(x, i);\n    }\n    return r;\n};\nconst findUntil = (xs, pred, until) => {\n    for (let i = 0, len = xs.length; i < len; i++) {\n    const x = xs[i];\n    if (pred(x, i)) {\n        return Optional.some(x);\n    } else if (until(x, i)) {\n        break;\n    }\n    }\n    return Optional.none();\n};\nconst find = (xs, pred) => {\n    return findUntil(xs, pred, never);\n};\n\nconst hasOwnProperty = Object.hasOwnProperty;\nconst get = (obj, key) => {\n    return has(obj, key) ? Optional.from(obj[key]) : Optional.none();\n};\nconst has = (obj, key) => hasOwnProperty.call(obj, key);\n\nvar global$1 = tinymce.html.Serializer;\n\nconst entitiesAttr = {\n    '\"': '&quot;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '&': '&amp;',\n    '\\'': '&#039;'\n};\nconst htmlEscape = html => html.replace(/[\"'<>&]/g, match => get(entitiesAttr, match).getOr(match));\nconst hasAnyClasses = (dom, n, classes) => exists(classes.split(/\\s+/), c => dom.hasClass(n, c));\nconst parseAndSerialize = (editor, html) => global$1({ validate: true }, editor.schema).serialize(editor.parser.parse(html, { insert: true }));\n\nconst createTemplateList = (editor, callback) => {\n    return () => {\n    const templateList = getTemplates(editor);\n    if (isFunction(templateList)) {\n        templateList(callback);\n    } else if (isString(templateList)) {\n        fetch(templateList).then(res => {\n        if (res.ok) {\n            res.json().then(callback);\n        }\n        });\n    } else {\n        callback(templateList);\n    }\n    };\n};\nconst replaceTemplateValues = (html, templateValues) => {\n    global$2.each(templateValues, (v, k) => {\n    if (isFunction(v)) {\n        v = v(k);\n    }\n    html = html.replace(new RegExp('\\\\{\\\\$' + escape(k) + '\\\\}', 'g'), v);\n    });\n    return html;\n};\nconst replaceVals = (editor, scope) => {\n    const dom = editor.dom, vl = getTemplateReplaceValues(editor);\n    global$2.each(dom.select('*', scope), e => {\n    global$2.each(vl, (v, k) => {\n        if (dom.hasClass(e, k)) {\n        if (isFunction(v)) {\n            v(e);\n        }\n        }\n    });\n    });\n};\nconst insertTemplate = (editor, _ui, html) => {\n    const dom = editor.dom;\n    const sel = editor.selection.getContent();\n    html = replaceTemplateValues(html, getTemplateReplaceValues(editor));\n    let el = dom.create('div', {}, parseAndSerialize(editor, html));\n    const n = dom.select('.mceTmpl', el);\n    if (n && n.length > 0) {\n    el = dom.create('div');\n    el.appendChild(n[0].cloneNode(true));\n    }\n    global$2.each(dom.select('*', el), n => {\n    if (hasAnyClasses(dom, n, getCreationDateClasses(editor))) {\n        n.innerHTML = getDateTime(editor, getCdateFormat(editor));\n    }\n    if (hasAnyClasses(dom, n, getModificationDateClasses(editor))) {\n        n.innerHTML = getDateTime(editor, getMdateFormat(editor));\n    }\n    if (hasAnyClasses(dom, n, getSelectedContentClasses(editor))) {\n        n.innerHTML = sel;\n    }\n    });\n    replaceVals(editor, el);\n    editor.execCommand('mceInsertContent', false, el.innerHTML);\n    editor.addVisual();\n};\n\nvar global = tinymce.Env;\n\nconst getPreviewContent = (editor, html) => {\n    var _a;\n    let previewHtml = parseAndSerialize(editor, html);\n    if (html.indexOf('<html>') === -1) {\n    let contentCssEntries = '';\n    const contentStyle = (_a = getContentStyle(editor)) !== null && _a !== void 0 ? _a : '';\n    const cors = shouldUseContentCssCors(editor) ? ' crossorigin=\"anonymous\"' : '';\n    global$2.each(editor.contentCSS, url => {\n        contentCssEntries += '<link type=\"text/css\" rel=\"stylesheet\" href=\"' + editor.documentBaseURI.toAbsolute(url) + '\"' + cors + '>';\n    });\n    if (contentStyle) {\n        contentCssEntries += '<style type=\"text/css\">' + contentStyle + '</style>';\n    }\n    const bodyClass = getBodyClass(editor);\n    const encode = editor.dom.encode;\n    const isMetaKeyPressed = global.os.isMacOS() || global.os.isiOS() ? 'e.metaKey' : 'e.ctrlKey && !e.altKey';\n    const preventClicksOnLinksScript = '<script>' + 'document.addEventListener && document.addEventListener(\"click\", function(e) {' + 'for (var elm = e.target; elm; elm = elm.parentNode) {' + 'if (elm.nodeName === \"A\" && !(' + isMetaKeyPressed + ')) {' + 'e.preventDefault();' + '}' + '}' + '}, false);' + '</script> ';\n    const directionality = editor.getBody().dir;\n    const dirAttr = directionality ? ' dir=\"' + encode(directionality) + '\"' : '';\n    previewHtml = '<!DOCTYPE html>' + '<html>' + '<head>' + '<base href=\"' + encode(editor.documentBaseURI.getURI()) + '\">' + contentCssEntries + preventClicksOnLinksScript + '</head>' + '<body class=\"' + encode(bodyClass) + '\"' + dirAttr + '>' + previewHtml + '</body>' + '</html>';\n    }\n    return replaceTemplateValues(previewHtml, getPreviewReplaceValues(editor));\n};\nconst open = (editor, templateList) => {\n    const createTemplates = () => {\n    if (!templateList || templateList.length === 0) {\n        const message = editor.translate('No templates defined.');\n        editor.notificationManager.open({\n        text: message,\n        type: 'info'\n        });\n        return Optional.none();\n    }\n    return Optional.from(global$2.map(templateList, (template, index) => {\n        const isUrlTemplate = t => t.url !== undefined;\n        return {\n        selected: index === 0,\n        text: template.title,\n        value: {\n            url: isUrlTemplate(template) ? Optional.from(template.url) : Optional.none(),\n            content: !isUrlTemplate(template) ? Optional.from(template.content) : Optional.none(),\n            description: template.description\n        }\n        };\n    }));\n    };\n    const createSelectBoxItems = templates => map(templates, t => ({\n    text: t.text,\n    value: t.text\n    }));\n    const findTemplate = (templates, templateTitle) => find(templates, t => t.text === templateTitle);\n    const loadFailedAlert = api => {\n    editor.windowManager.alert('Could not load the specified template.', () => api.focus('template'));\n    };\n    const getTemplateContent = t => t.value.url.fold(() => Promise.resolve(t.value.content.getOr('')), url => fetch(url).then(res => res.ok ? res.text() : Promise.reject()));\n    const onChange = (templates, updateDialog) => (api, change) => {\n    if (change.name === 'template') {\n        const newTemplateTitle = api.getData().template;\n        findTemplate(templates, newTemplateTitle).each(t => {\n        api.block('Loading...');\n        getTemplateContent(t).then(previewHtml => {\n            updateDialog(api, t, previewHtml);\n        }).catch(() => {\n            updateDialog(api, t, '');\n            api.setEnabled('save', false);\n            loadFailedAlert(api);\n        });\n        });\n    }\n    };\n    const onSubmit = templates => api => {\n    const data = api.getData();\n    findTemplate(templates, data.template).each(t => {\n        getTemplateContent(t).then(previewHtml => {\n        editor.execCommand('mceInsertTemplate', false, previewHtml);\n        api.close();\n        }).catch(() => {\n        api.setEnabled('save', false);\n        loadFailedAlert(api);\n        });\n    });\n    };\n    const openDialog = templates => {\n    const selectBoxItems = createSelectBoxItems(templates);\n    const buildDialogSpec = (bodyItems, initialData) => ({\n        title: 'Insert Template',\n        size: 'large',\n        body: {\n        type: 'panel',\n        items: bodyItems\n        },\n        initialData,\n        buttons: [\n        {\n            type: 'cancel',\n            name: 'cancel',\n            text: 'Cancel'\n        },\n        {\n            type: 'submit',\n            name: 'save',\n            text: 'Save',\n            primary: true\n        }\n        ],\n        onSubmit: onSubmit(templates),\n        onChange: onChange(templates, updateDialog)\n    });\n    const updateDialog = (dialogApi, template, previewHtml) => {\n        const content = getPreviewContent(editor, previewHtml);\n        const bodyItems = [\n        {\n            type: 'listbox',\n            name: 'template',\n            label: 'Templates',\n            items: selectBoxItems\n        },\n        {\n            type: 'htmlpanel',\n            html: `<p aria-live=\"polite\">${ htmlEscape(template.value.description) }</p>`\n        },\n        {\n            label: 'Preview',\n            type: 'iframe',\n            name: 'preview',\n            sandboxed: false,\n            transparent: false\n        }\n        ];\n        const initialData = {\n        template: template.text,\n        preview: content\n        };\n        dialogApi.unblock();\n        dialogApi.redial(buildDialogSpec(bodyItems, initialData));\n        dialogApi.focus('template');\n    };\n    const dialogApi = editor.windowManager.open(buildDialogSpec([], {\n        template: '',\n        preview: ''\n    }));\n    dialogApi.block('Loading...');\n    getTemplateContent(templates[0]).then(previewHtml => {\n        updateDialog(dialogApi, templates[0], previewHtml);\n    }).catch(() => {\n        updateDialog(dialogApi, templates[0], '');\n        dialogApi.setEnabled('save', false);\n        loadFailedAlert(dialogApi);\n    });\n    };\n    const optTemplates = createTemplates();\n    optTemplates.each(openDialog);\n};\n\nconst showDialog = editor => templates => {\n    open(editor, templates);\n};\nconst register$1 = editor => {\n    editor.addCommand('mceInsertTemplate', curry(insertTemplate, editor));\n    editor.addCommand('mceTemplate', createTemplateList(editor, showDialog(editor)));\n};\n\nconst setup = editor => {\n    editor.on('PreProcess', o => {\n    const dom = editor.dom, dateFormat = getMdateFormat(editor);\n    global$2.each(dom.select('div', o.node), e => {\n        if (dom.hasClass(e, 'mceTmpl')) {\n        global$2.each(dom.select('*', e), e => {\n            if (hasAnyClasses(dom, e, getModificationDateClasses(editor))) {\n            e.innerHTML = getDateTime(editor, dateFormat);\n            }\n        });\n        replaceVals(editor, e);\n        }\n    });\n    });\n};\n\nconst onSetupEditable = editor => api => {\n    const nodeChanged = () => {\n    api.setEnabled(editor.selection.isEditable());\n    };\n    editor.on('NodeChange', nodeChanged);\n    nodeChanged();\n    return () => {\n    editor.off('NodeChange', nodeChanged);\n    };\n};\nconst register = editor => {\n    const onAction = () => editor.execCommand('mceTemplate');\n    editor.ui.registry.addButton('template', {\n    icon: 'template',\n    tooltip: 'Insert template',\n    onSetup: onSetupEditable(editor),\n    onAction\n    });\n    editor.ui.registry.addMenuItem('template', {\n    icon: 'template',\n    text: 'Insert template...',\n    onSetup: onSetupEditable(editor),\n    onAction\n    });\n};\n\nconst TemplatePlugin = () => {\n    // eslint-disable-next-line no-unused-vars\n    tinymce.PluginManager.add(\"template\", (editor, url) => {\n        register$2(editor);\n        register(editor);\n        register$1(editor);\n        setup(editor);\n    });\n}\n\nexport default TemplatePlugin;\n"],"names":["isType","type","value","x","t","Array","isArray","o","v","proto","constructor","String","prototype","isPrototypeOf","_a","name","hasProto","typeOf","isString","isObject","isFunction","never","global$2","tinymce","Tools","option","editor","options","get","register$2","registerOption","register","processor","default","isArrayOf","pred","i","len","length","translate","getCreationDateClasses","getModificationDateClasses","getSelectedContentClasses","getPreviewReplaceValues","getTemplateReplaceValues","getTemplates","getCdateFormat","getMdateFormat","getContentStyle","shouldUseContentCssCors","getBodyClass","addZeros","getDateTime","fmt","date","Date","daysShort","split","daysLong","monthsShort","monthsLong","replace","getFullYear","getYear","getMonth","getDate","getHours","getMinutes","getSeconds","getDay","Optional","tag","this","some","none","singletonNone","fold","onNone","onSome","isSome","isNone","map","mapper","bind","binder","exists","predicate","forall","filter","getOr","replacement","or","getOrThunk","thunk","orThunk","getOrDie","message","Error","from","a","isNullable","getOrNull","getOrUndefined","each","worker","toArray","toString","find","xs","findUntil","until","hasOwnProperty","Object","has","obj","key","call","global$1","Serializer","entitiesAttr","htmlEscape","html","match","hasAnyClasses","dom","n","classes","c","hasClass","parseAndSerialize","validate","schema","serialize","parser","parse","insert","replaceTemplateValues","templateValues","k","RegExp","replaceVals","scope","vl","select","e","insertTemplate","_ui","sel","selection","getContent","el","create","appendChild","cloneNode","innerHTML","execCommand","addVisual","global","open","templateList","createSelectBoxItems","templates","f","r","text","findTemplate","templateTitle","loadFailedAlert","api","windowManager","alert","focus","getTemplateContent","url","Promise","resolve","content","fetch","then","res","ok","reject","onChange","updateDialog","change","newTemplateTitle","getData","template","block","previewHtml","catch","setEnabled","onSubmit","data","close","createTemplates","notificationManager","index","isUrlTemplate","undefined","selected","title","description","selectBoxItems","buildDialogSpec","bodyItems","initialData","size","body","items","buttons","primary","dialogApi","getPreviewContent","indexOf","contentCssEntries","contentStyle","cors","contentCSS","documentBaseURI","toAbsolute","bodyClass","encode","preventClicksOnLinksScript","os","isMacOS","isiOS","directionality","getBody","dir","dirAttr","getURI","label","sandboxed","transparent","preview","unblock","redial","register$1","addCommand","fn","initialArgs","restArgs","all","concat","apply","curry","createTemplateList","callback","json","showDialog","onSetupEditable","nodeChanged","isEditable","on","off","TemplatePlugin","add","onAction","ui","registry","addButton","icon","tooltip","onSetup","addMenuItem","dateFormat","node","setup"],"sourceRoot":""}