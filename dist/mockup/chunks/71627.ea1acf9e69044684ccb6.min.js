(self.webpackChunk_plone_mockup=self.webpackChunk_plone_mockup||[]).push([[29504,71627],{29504:function(){!function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const e=(t,e,s)=>{const n="UL"===e?"InsertUnorderedList":"InsertOrderedList";t.execCommand(n,!1,!1===s?null:{"list-style-type":s})},s=t=>e=>e.options.get(t),n=s("advlist_number_styles"),r=s("advlist_bullet_styles"),l=t=>null==t,o=t=>!l(t);class i{constructor(t,e){this.tag=t,this.value=e}static some(t){return new i(!0,t)}static none(){return i.singletonNone}fold(t,e){return this.tag?e(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?i.some(t(this.value)):i.none()}bind(t){return this.tag?t(this.value):i.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:i.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(null!=t?t:"Called getOrDie on None")}static from(t){return o(t)?i.some(t):i.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}i.singletonNone=new i(!1);const a=Array.prototype.indexOf,u=(t,e)=>{return s=t,n=e,a.call(s,n)>-1;var s,n},d=Object.keys,c=(t,e)=>{const s={};return((t,e)=>{const s=d(t);for(let n=0,r=s.length;n<r;n++){const r=s[n];e(t[r],r)}})(t,(t,n)=>{const r=e(t,n);s[r.k]=r.v}),s};var h=tinymce.util.Tools.resolve("tinymce.util.Tools");const p=t=>e=>o(e)&&t.test(e.nodeName),g=p(/^(OL|UL|DL)$/),m=p(/^(TH|TD)$/),v=(t,e,s)=>((t,e,s)=>{for(let n=0,r=t.length;n<r;n++){const r=t[n];if(e(r,n))return i.some(r);if(s(r,n))break}return i.none()})(e,t=>g(t)&&!/\btox\-/.test(t.className),m).exists(e=>e.nodeName===s&&((t,e)=>t.dom.isChildOf(e,t.getBody()))(t,e)),y=t=>l(t)||"default"===t?"":t,f=(t,e)=>s=>((t,e)=>{const s=t.selection.getNode();return e({parents:t.dom.getParents(s),element:s}),t.on("NodeChange",e),()=>t.off("NodeChange",e)})(t,n=>((t,n)=>{const r=t.selection.getStart(!0);s.setActive(v(t,n,e)),s.setEnabled(!((t,e)=>{const s=t.dom.getParent(e,"ol,ul,dl");return((t,e)=>null!==e&&!t.dom.isEditable(e))(t,s)||!t.selection.isEditable()})(t,r))})(t,n.parents)),L=(t,s,n,r,l,o)=>{const a={"lower-latin":"lower-alpha","upper-latin":"upper-alpha","lower-alpha":"lower-latin","upper-alpha":"upper-latin"},d=(p=t=>u(o,t),c(a,(t,e)=>({k:e,v:p(t,e)})));var p;t.ui.registry.addSplitButton(s,{tooltip:n,icon:"OL"===l?"ordered-list":"unordered-list",presets:"listpreview",columns:"OL"===l?3:4,fetch:t=>{t(h.map(o,t=>{const e="OL"===l?"num":"bull",s="decimal"===t?"default":t,n=y(t),r=(t=>t.replace(/\-/g," ").replace(/\b\w/g,t=>t.toUpperCase()))(t);return{type:"choiceitem",value:n,icon:"list-"+e+"-"+s,text:r}}))},onAction:()=>t.execCommand(r),onItemAction:(s,n)=>{e(t,l,n)},select:e=>{const s=(t=>{const e=t.dom.getParent(t.selection.getNode(),"ol,ul"),s=t.dom.getStyle(e,"listStyleType");return i.from(s)})(t);return s.exists(t=>e===t||a[t]===e&&!d[e])},onSetup:f(t,l)})},O=(t,s,n,r,l,o)=>{o.length>1?L(t,s,n,r,l,o):((t,s,n,r,l,o)=>{t.ui.registry.addToggleButton(s,{active:!1,tooltip:n,icon:"OL"===l?"ordered-list":"unordered-list",onSetup:f(t,l),onAction:()=>t.queryCommandState(r)||""===o?t.execCommand(r):e(t,l,o)})})(t,s,n,r,l,y(o[0]))};t.add("advlist",t=>{t.hasPlugin("lists")?((t=>{const e=t.options.register;e("advlist_number_styles",{processor:"string[]",default:"default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman".split(",")}),e("advlist_bullet_styles",{processor:"string[]",default:"default,disc,circle,square".split(",")})})(t),(t=>{O(t,"numlist","Numbered list","InsertOrderedList","OL",n(t)),O(t,"bullist","Bullet list","InsertUnorderedList","UL",r(t))})(t),(t=>{t.addCommand("ApplyUnorderedListStyle",(s,n)=>{e(t,"UL",n["list-style-type"])}),t.addCommand("ApplyOrderedListStyle",(s,n)=>{e(t,"OL",n["list-style-type"])})})(t)):console.error("Please use the Lists plugin together with the List Styles plugin.")})}()},71627:function(t,e,s){s(29504)}}]);
//# sourceMappingURL=71627.ea1acf9e69044684ccb6.min.js.map