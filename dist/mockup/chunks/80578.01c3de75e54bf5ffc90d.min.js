(self.webpackChunk_plone_mockup=self.webpackChunk_plone_mockup||[]).push([[7847,80578],{7847:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(s=r=e,o=(n=String).prototype,o.isPrototypeOf(s)||(null===(c=r.constructor)||void 0===c?void 0:c.name)===n.name)?"string":t;var s,o;var r,n,c})(t)===e,s=t("string"),o=t("object"),r=t("array"),n=(c="function",e=>typeof e===c);var c,i=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),l=tinymce.util.Tools.resolve("tinymce.EditorManager"),a=tinymce.util.Tools.resolve("tinymce.Env"),p=tinymce.util.Tools.resolve("tinymce.util.Tools");const u=e=>t=>t.options.get(e),m=u("importcss_merge_classes"),f=u("importcss_exclusive"),h=u("importcss_selector_converter"),y=u("importcss_selector_filter"),_=u("importcss_groups"),d=u("importcss_append"),g=u("importcss_file_filter"),v=u("skin"),b=u("skin_url"),k=Array.prototype.push,x=(e,t)=>(e=>{const t=[];for(let s=0,o=e.length;s<o;++s){if(!r(e[s]))throw new Error("Arr.flatten item "+s+" was not an array, input: "+e);k.apply(t,e[s])}return t})(((e,t)=>{const s=e.length,o=new Array(s);for(let r=0;r<s;r++){const s=e[r];o[r]=t(s,r)}return o})(e,t)),T=/^\.(?:ephox|tiny-pageembed|mce)(?:[.-]+\w+)+$/,S=e=>s(e)?t=>-1!==t.indexOf(e):e instanceof RegExp?t=>e.test(t):e,w=(e,t,o)=>{const r=[],n={},c=(t,n)=>{let i,u=t.href;if(u=(e=>{const t=a.cacheSuffix;return s(e)&&(e=e.replace("?"+t,"").replace("&"+t,"")),e})(u),u&&(!o||o(u,n))&&!((e,t)=>{const s=v(e);if(s){const o=b(e),r=o?e.documentBaseURI.toAbsolute(o):l.baseURL+"/skins/ui/"+s,n=l.baseURL+"/skins/content/",c=e.editorManager.suffix;return t===r+"/content"+(e.inline?".inline":"")+`${c}.css`||-1!==t.indexOf(n)}return!1})(e,u)){p.each(t.imports,(e=>{c(e,!0)}));try{i=t.cssRules||t.rules}catch(e){}p.each(i,(e=>{e.styleSheet&&e.styleSheet?c(e.styleSheet,!0):(e=>e.selectorText)(e)&&p.each(e.selectorText.split(","),(e=>{r.push(p.trim(e))}))}))}};p.each(e.contentCSS,(e=>{n[e]=!0})),o||(o=(e,t)=>t||n[e]);try{p.each(t.styleSheets,(e=>{c(e)}))}catch(e){}return r},M=(e,t)=>{let s={};const o=/^(?:([a-z0-9\-_]+))?(\.[a-z0-9_\-\.]+)$/i.exec(t);if(!o)return;const r=o[1],n=o[2].substr(1).split(".").join(" "),c=p.makeMap("a,img");return o[1]?(s={title:t},e.schema.getTextBlockElements()[r]?s.block=r:e.schema.getBlockElements()[r]||c[r.toLowerCase()]?s.selector=r:s.inline=r):o[2]&&(s={inline:"span",title:t.substr(1),classes:n}),m(e)?s.classes=n:s.attributes={class:n},s},A=(e,t)=>null===t||f(e),E=e=>{e.on("init",(()=>{const t=(()=>{const e=[],t=[],s={};return{addItemToGroup:(e,o)=>{s[e]?s[e].push(o):(t.push(e),s[e]=[o])},addItem:t=>{e.push(t)},toFormats:()=>x(t,(e=>{const t=s[e];return 0===t.length?[]:[{title:e,items:t}]})).concat(e)}})(),s={},o=S(y(e)),r=(e=>p.map(e,(e=>p.extend({},e,{original:e,selectors:{},filter:S(e.filter)}))))(_(e)),n=(t,o)=>{if(((e,t,s,o)=>!(A(e,s)?t in o:t in s.selectors))(e,t,o,s)){((e,t,s,o)=>{A(e,s)?o[t]=!0:s.selectors[t]=!0})(e,t,o,s);const r=((e,t,s,o)=>{let r;const n=h(e);return r=o&&o.selector_converter?o.selector_converter:n||(()=>M(e,s)),r.call(t,s,o)})(e,e.plugins.importcss,t,o);if(r){const t=r.name||i.DOM.uniqueId();return e.formatter.register(t,r),{title:r.title,format:t}}}return null};p.each(w(e,e.getDoc(),S(g(e))),(e=>{if(!T.test(e)&&(!o||o(e))){const s=((e,t)=>p.grep(e,(e=>!e.filter||e.filter(t))))(r,e);if(s.length>0)p.each(s,(s=>{const o=n(e,s);o&&t.addItemToGroup(s.title,o)}));else{const s=n(e,null);s&&t.addItem(s)}}}));const c=t.toFormats();e.dispatch("addStyleModifications",{items:c,replace:!d(e)})}))};e.add("importcss",(e=>((e=>{const t=e.options.register,r=e=>s(e)||n(e)||o(e);t("importcss_merge_classes",{processor:"boolean",default:!0}),t("importcss_exclusive",{processor:"boolean",default:!0}),t("importcss_selector_converter",{processor:"function"}),t("importcss_selector_filter",{processor:r}),t("importcss_file_filter",{processor:r}),t("importcss_groups",{processor:"object[]"}),t("importcss_append",{processor:"boolean",default:!1})})(e),E(e),(e=>({convertSelectorToFormat:t=>M(e,t)}))(e))))}()},80578:function(e,t,s){s(7847)}}]);
//# sourceMappingURL=80578.01c3de75e54bf5ffc90d.min.js.map