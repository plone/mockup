(self.webpackChunk_plone_mockup=self.webpackChunk_plone_mockup||[]).push([[46439],{2957:function(){!function(){"use strict";const e=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||(null===(a=o.constructor)||void 0===a?void 0:a.name)===r.name)?"string":t;var n,o,r,a})(t)===e,t=e=>t=>typeof t===e,n=e("string"),o=e("array"),r=t("boolean"),a=t("number"),s=()=>{},i=e=>()=>e,l=i(!0);class c{constructor(e,t){this.tag=e,this.value=t}static some(e){return new c(!0,e)}static none(){return c.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?c.some(e(this.value)):c.none()}bind(e){return this.tag?e(this.value):c.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:c.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return null==e?c.none():c.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}c.singletonNone=new c(!1);const u=Array.prototype.slice,d=Array.prototype.push,m=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},p=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},g=(e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)},h=(e,t)=>(e=>{const t=[];for(let n=0,r=e.length;n<r;++n){if(!o(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);d.apply(t,e[n])}return t})(m(e,t)),b=Object.hasOwnProperty,f=(e,t)=>b.call(e,t),y=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var v=tinymce.util.Tools.resolve("tinymce.PluginManager");const w=i("[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]");var x=tinymce.util.Tools.resolve("tinymce.Env"),S=tinymce.util.Tools.resolve("tinymce.util.Tools");const k=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},C=(e,t)=>({element:e,offset:t}),T=(e,t)=>{((e,t)=>{const n=(e=>c.from(e.dom.parentNode).map(k))(e);n.each(n=>{n.dom.insertBefore(t.dom,e.dom)})})(e,t),((e,t)=>{e.dom.appendChild(t.dom)})(t,e)},A=(e=>{const t=t=>e(t)?c.from(t.dom.nodeValue):c.none();return{get:n=>{if(!e(n))throw new Error("Can only get text value of a text node");return t(n).getOr("")},getOption:t,set:(t,n)=>{if(!e(t))throw new Error("Can only set raw text value of a text node");t.dom.nodeValue=n}}})(e=>3===(e=>e.dom.nodeType)(e)),_=e=>A.get(e);var O=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const E=(e,t)=>e.isBlock(t)||f(e.schema.getVoidElements(),t.nodeName),N=(e,t)=>!e.isEditable(t),F=(e,t)=>!e.isBlock(t)&&f(e.schema.getWhitespaceElements(),t.nodeName),D=(e,t)=>((e,t)=>{const n=(e=>m(e.dom.childNodes,k))(e);return n.length>0&&t<n.length?C(n[t],0):C(e,t)})(k(e),t),R=(e,t,n,o,r,a=!0)=>{let s=a?t(!1):n;for(;s;){const n=N(e,s);if(n||F(e,s)){if(n?o.cef(s):o.boundary(s))break;s=t(!0)}else{if(E(e,s)){if(o.boundary(s))break}else 3===s.nodeType&&o.text(s);if(s===r)break;s=t(!1)}}},P=(e,t,n,o,r)=>{var a;if(((e,t)=>E(e,t)||N(e,t)||F(e,t)||((e,t)=>"true"===e.getContentEditable(t)&&t.parentNode&&!e.isEditable(t.parentNode))(e,t))(e,n))return;const s=null!==(a=e.getParent(o,e.isBlock))&&void 0!==a?a:e.getRoot(),i=new O(n,s),c=r?i.next.bind(i):i.prev.bind(i);R(e,c,n,{boundary:l,cef:l,text:e=>{r?t.fOffset+=e.length:t.sOffset+=e.length,t.elements.push(k(e))}})},M=(e,t,n,o,r,a=!0)=>{const s=new O(n,t),i=[];let l={sOffset:0,fOffset:0,elements:[]};P(e,l,n,t,!1);const c=()=>(l.elements.length>0&&(i.push(l),l={sOffset:0,fOffset:0,elements:[]}),!1);return R(e,s.next.bind(s),n,{boundary:c,cef:e=>(c(),r&&i.push(...r.cef(e)),!1),text:e=>{l.elements.push(k(e)),r&&r.text(e,l)}},o,a),o&&P(e,l,o,t,!0),c(),i},B=(e,t)=>t.collapsed?[]:((e,t)=>{const n=D(t.startContainer,t.startOffset),o=n.element.dom,r=D(t.endContainer,t.endOffset),a=r.element.dom;return M(e,t.commonAncestorContainer,o,a,{text:(e,t)=>{e===a?t.fOffset+=e.length-r.offset:e===o&&(t.sOffset+=n.offset)},cef:t=>(e=>{const t=u.call(e,0);return t.sort((e,t)=>((e,t)=>((e,t,n)=>!!(e.compareDocumentPosition(t)&n))(e,t,Node.DOCUMENT_POSITION_PRECEDING))(e.elements[0].dom,t.elements[0].dom)?1:-1),t})(h(((e,t)=>{const n=void 0===t?document:t.dom;return 1!==(o=n).nodeType&&9!==o.nodeType&&11!==o.nodeType||0===o.childElementCount?[]:m(n.querySelectorAll("*[contenteditable=true]"),k);var o})(0,k(t)),t=>{const n=t.dom;return M(e,n,n)}))},!1)})(e,t),$=(e,t)=>{const n=e.createRng();return n.selectNode(t),B(e,n)},j=(e,t)=>h(t,t=>{const n=t.elements,o=m(n,_).join(""),r=((e,t,n=0,o=e.length)=>{const r=t.regex;r.lastIndex=n;const a=[];let s;for(;s=r.exec(e);){const e=s[t.matchIndex],n=s.index+s[0].indexOf(e),i=n+e.length;if(i>o)break;a.push({start:n,finish:i}),r.lastIndex=i}return a})(o,e,t.sOffset,o.length-t.fOffset);return((e,t)=>{const n=(o=e,r=(e,n)=>{const o=_(n),r=e.last,a=r+o.length,s=h(t,(e,t)=>e.start<a&&e.finish>r?[{element:n,start:Math.max(r,e.start)-r,finish:Math.min(a,e.finish)-r,matchId:t}]:[]);return{results:e.results.concat(s),last:a}},a={results:[],last:0},p(o,(e,t)=>{a=r(a,e)}),a).results;var o,r,a;return((e,t)=>{if(0===e.length)return[];{let n=t(e[0]);const o=[];let r=[];for(let a=0,s=e.length;a<s;a++){const s=e[a],i=t(s);i!==n&&(o.push(r),r=[]),n=i,r.push(s)}return 0!==r.length&&o.push(r),o}})(n,e=>e.matchId)})(n,r)}),L=(e,t)=>{g(e,(e,o)=>{g(e,e=>{const s=k(t.cloneNode(!1));((e,t,o)=>{((e,t,o)=>{if(!(n(o)||r(o)||a(o)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,o+"")})(e.dom,"data-mce-index",o)})(s,0,o);const i=e.element.dom;if(i.length===e.finish&&0===e.start)T(e.element,s);else{i.length!==e.finish&&i.splitText(e.finish);const t=i.splitText(e.start);T(k(t),s)}})})},I=e=>e.getAttribute("data-mce-index"),z=e=>{var t;const n=e.parentNode;e.firstChild&&n.insertBefore(e.firstChild,e),null===(t=e.parentNode)||void 0===t||t.removeChild(e)},W=(e,t)=>{const n=[],o=S.toArray(e.getBody().getElementsByTagName("span"));if(o.length)for(let e=0;e<o.length;e++){const r=I(o[e]);null!==r&&r.length&&r===t.toString()&&n.push(o[e])}return n},q=(e,t,n)=>{const o=t.get();let r=o.index;const a=e.dom;n?r+1===o.count?r=0:r++:r-1==-1?r=o.count-1:r--,a.removeClass(W(e,o.index),"mce-match-marker-selected");const s=W(e,r);return s.length?(a.addClass(W(e,r),"mce-match-marker-selected"),e.selection.scrollIntoView(s[0]),r):-1},U=(e,t)=>{const n=t.parentNode;e.remove(t),n&&e.isEmpty(n)&&e.remove(n)},H=(e,t,n,o,r,a)=>{const s=e.selection,i=((e,t)=>{const n="("+e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return t?`(?:^|\\s|${w()})`+n+`(?=$|\\s|${w()})`:n})(n,r),l=s.isForward(),c=((e,t,n,o)=>{const r=e.dom.create("span",{"data-mce-bogus":1});r.className="mce-match-marker";const a=e.getBody();return J(e,t,!1),o?((e,t,n,o)=>{const r=n.getBookmark(),a=e.select("td[data-mce-selected],th[data-mce-selected]"),s=a.length>0?((e,t)=>h(t,t=>$(e,t)))(e,a):B(e,n.getRng()),i=j(t,s);return L(i,o),n.moveToBookmark(r),i.length})(e.dom,n,e.selection,r):((e,t,n,o)=>{const r=$(e,n),a=j(t,r);return L(a,o),a.length})(e.dom,n,a,r)})(e,t,{regex:new RegExp(i,o?"g":"gi"),matchIndex:1},a);if(x.browser.isSafari()&&s.setRng(s.getRng(),l),c){const s=q(e,t,!0);t.set({index:s,count:c,text:n,matchCase:o,wholeWord:r,inSelection:a})}return c},V=(e,t)=>{const n=q(e,t,!0);t.set({...t.get(),index:n})},Z=(e,t)=>{const n=q(e,t,!1);t.set({...t.get(),index:n})},K=e=>{const t=I(e);return null!==t&&t.length>0},G=(e,t,n,o,r)=>{const a=t.get(),s=a.index;let i,l=s;o=!1!==o;const c=e.getBody(),u=S.grep(S.toArray(c.getElementsByTagName("span")),K);for(let t=0;t<u.length;t++){const c=I(u[t]);let d=i=parseInt(c,10);if(r||d===a.index){for(n.length?(u[t].innerText=n,z(u[t])):U(e.dom,u[t]);u[++t];){if(d=parseInt(I(u[t]),10),d!==i){t--;break}U(e.dom,u[t])}o&&l--}else i>s&&u[t].setAttribute("data-mce-index",String(i-1))}return t.set({...a,count:r?0:a.count-1,index:l}),o?V(e,t):Z(e,t),!r&&t.get().count>0},J=(e,t,n)=>{let o,r;const a=t.get(),s=S.toArray(e.getBody().getElementsByTagName("span"));for(let e=0;e<s.length;e++){const t=I(s[e]);null!==t&&t.length&&(t===a.index.toString()&&(o||(o=s[e].firstChild),r=s[e].firstChild),z(s[e]))}if(t.set({...a,index:-1,count:0,text:""}),o&&r){const t=e.dom.createRng();return t.setStart(o,0),t.setEnd(r,r.data.length),!1!==n&&e.selection.setRng(t),t}},Q=(e,t)=>{const n=(()=>{const e=(e=>{const t=y(c.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(c.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(c.some(e))}}})(s);return{...e,on:t=>e.get().each(t)}})();e.undoManager.add();const o=S.trim(e.selection.getContent({format:"text"})),r=e=>{e.setEnabled("next",((e,t)=>t.get().count>1)(0,t)),e.setEnabled("prev",((e,t)=>t.get().count>1)(0,t))},a=(e,t)=>{p(["replace","replaceall","prev","next"],n=>e.setEnabled(n,!t))},i=(e,t)=>{t.redial(b(e,t.getData()))},l=(e,t)=>{x.browser.isSafari()&&x.deviceType.isTouch()&&("find"===t||"replace"===t||"replaceall"===t)&&e.focus(t)},u=n=>{J(e,t,!1),a(n,!0),r(n)},d=n=>{const o=n.getData(),s=t.get();if(o.findtext.length){if(s.text===o.findtext&&s.matchCase===o.matchcase&&s.wholeWord===o.wholewords)V(e,t);else{const r=H(e,t,o.findtext,o.matchcase,o.wholewords,o.inselection);r<=0&&i(!0,n),a(n,0===r)}r(n)}else u(n)},m=t.get(),g={findtext:o,replacetext:"",wholewords:m.wholeWord,matchcase:m.matchCase,inselection:m.inSelection},h=e=>{const t=[{type:"label",label:"Find",for:"findtext",items:[{type:"bar",items:[{type:"input",name:"findtext",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]}]},{type:"input",name:"replacetext",label:"Replace with",inputMode:"search"}];return e&&t.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"}),t},b=(n,o)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:h(n)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:o,onChange:(e,o)=>{n&&i(!1,e),"findtext"===o.name&&t.get().count>0&&u(e)},onAction:(n,o)=>{const a=n.getData();switch(o.name){case"find":d(n);break;case"replace":G(e,t,a.replacetext)?r(n):u(n);break;case"replaceall":G(e,t,a.replacetext,!0,!0),u(n);break;case"prev":Z(e,t),r(n);break;case"next":V(e,t),r(n);break;case"matchcase":case"wholewords":case"inselection":i(!1,n),(e=>{const n=e.getData(),o=t.get();t.set({...o,matchCase:n.matchcase,wholeWord:n.wholewords,inSelection:n.inselection})})(n),u(n)}l(n,o.name)},onSubmit:e=>{d(e),l(e,"find")},onClose:()=>{e.focus(),J(e,t),e.undoManager.add()}});n.set(e.windowManager.open(b(!1,g),{inline:"toolbar"}))},Y=(e,t)=>()=>{Q(e,t)};v.add("searchreplace",e=>{const t=y({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return((e,t)=>{e.addCommand("SearchReplace",()=>{Q(e,t)})})(e,t),((e,t)=>{e.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:Y(e,t),icon:"search"}),e.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:Y(e,t),icon:"search",shortcut:"Meta+F"}),e.shortcuts.add("Meta+F","",Y(e,t))})(e,t),((e,t)=>({done:n=>J(e,t,n),find:(n,o,r,a=!1)=>H(e,t,n,o,r,a),next:()=>V(e,t),prev:()=>Z(e,t),replace:(n,o,r)=>G(e,t,n,o,r)}))(e,t)})}()},5638:function(){!function(){"use strict";const e=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||(null===(a=o.constructor)||void 0===a?void 0:a.name)===r.name)?"string":t;var n,o,r,a})(t)===e,t=e=>t=>typeof t===e,n=e=>t=>e===t,o=e("string"),r=e("object"),a=e("array"),s=n(null),i=t("boolean"),l=n(void 0),c=e=>!(e=>null==e)(e),u=t("function"),d=t("number"),m=()=>{},p=e=>()=>e;function g(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const h=p(!1),b=p(!0);class f{constructor(e,t){this.tag=e,this.value=t}static some(e){return new f(!0,e)}static none(){return f.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?f.some(e(this.value)):f.none()}bind(e){return this.tag?e(this.value):f.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:f.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return c(e)?f.some(e):f.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}f.singletonNone=new f(!1);const y=Array.prototype.push,v=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},w=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},x=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},S=(e,t)=>((e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return f.some(r);if(n(r,o))break}return f.none()})(e,t,h),k=Object.keys,C=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},T="undefined"!=typeof window?window:Function("return this;")(),A=(e,t)=>((e,t)=>{let n=null!=t?t:T;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),_=e=>{const t=C(f.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(f.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(f.some(e))}}},O=()=>_(e=>e.unbind()),E=(e,t,n=0,o)=>{const r=e.indexOf(t,n);return-1!==r&&(!!l(o)||r+t.length<=o)};var N=tinymce.util.Tools.resolve("tinymce.PluginManager");const F=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},D=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},R=()=>P(0,0),P=(e,t)=>({major:e,minor:t}),M={nu:P,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?R():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}})(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return P(o(1),o(2))})(e,n)},unknown:R},B=(e,t)=>{const n=String(t).toLowerCase();return S(e,e=>e.search(n))},$=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,j=e=>t=>E(t,e),L=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>E(e,"edge/")&&E(e,"chrome")&&E(e,"safari")&&E(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,$],search:e=>E(e,"chrome")&&!E(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>E(e,"msie")||E(e,"trident")},{name:"Opera",versionRegexes:[$,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:j("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:j("firefox")},{name:"Safari",versionRegexes:[$,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(E(e,"safari")||E(e,"mobile/"))&&E(e,"applewebkit")}],I=[{name:"Windows",search:j("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>E(e,"iphone")||E(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:j("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:j("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:j("linux"),versionRegexes:[]},{name:"Solaris",search:j("sunos"),versionRegexes:[]},{name:"FreeBSD",search:j("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:j("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],z={browsers:p(L),oses:p(I)},W="Edge",q="Chromium",U="Opera",H="Firefox",V="Safari",Z=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(W),isChromium:o(q),isIE:o("IE"),isOpera:o(U),isFirefox:o(H),isSafari:o(V)}},K=()=>Z({current:void 0,version:M.unknown()}),G=Z,J=(p(W),p(q),p("IE"),p(U),p(H),p(V),"Windows"),Q="Android",Y="Linux",X="macOS",ee="Solaris",te="FreeBSD",ne="ChromeOS",oe=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(J),isiOS:o("iOS"),isAndroid:o(Q),isMacOS:o(X),isLinux:o(Y),isSolaris:o(ee),isFreeBSD:o(te),isChromeOS:o(ne)}},re=()=>oe({current:void 0,version:M.unknown()}),ae=oe,se=(p(J),p("iOS"),p(Q),p(Y),p(X),p(ee),p(te),p(ne),(e,t,n)=>{const o=z.browsers(),r=z.oses(),a=t.bind(e=>((e,t)=>((e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n]);if(o.isSome())return o}return f.none()})(t.brands,t=>{const n=t.brand.toLowerCase();return S(e,e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())}).map(e=>({current:e.name,version:M.nu(parseInt(t.version,10),0)}))}))(o,e)).orThunk(()=>((e,t)=>B(e,t).map(e=>{const n=M.detect(e.versionRegexes,t);return{current:e.name,version:n}}))(o,e)).fold(K,G),s=((e,t)=>B(e,t).map(e=>{const n=M.detect(e.versionRegexes,t);return{current:e.name,version:n}}))(r,e).fold(re,ae),i=((e,t,n,o)=>{const r=e.isiOS()&&!0===/ipad/i.test(n),a=e.isiOS()&&!r,s=e.isiOS()||e.isAndroid(),i=s||o("(pointer:coarse)"),l=r||!a&&s&&o("(min-device-width:768px)"),c=a||s&&!l,u=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!c&&!l&&!u;return{isiPad:p(r),isiPhone:p(a),isTablet:p(l),isPhone:p(c),isTouch:p(i),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:p(u),isDesktop:p(d)}})(s,a,e,n);return{browser:a,os:s,deviceType:i}}),ie=e=>window.matchMedia(e).matches;let le=(e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)})(()=>se(window.navigator.userAgent,f.from(window.navigator.userAgentData),ie));const ce=Object.getPrototypeOf,ue=e=>{const t=A("ownerDocument.defaultView",e);return r(e)&&((e=>((e,t)=>{const n=((e,t)=>A(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n})("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(ce(e).constructor.name))},de=e=>t=>(e=>e.dom.nodeType)(t)===e,me=de(1),pe=de(3),ge=de(11),he=e=>F(e.dom.ownerDocument),be=e=>v(e.dom.childNodes,F),fe=e=>{const t=(e=>F(e.dom.getRootNode()))(e);return ge(n=t)&&c(n.dom.host)?f.some(t):f.none();var n},ye=e=>F(e.dom.host),ve=e=>{const t=F((e=>{if(c(e.target)){const t=F(e.target);if(me(t)&&c(t.dom.shadowRoot)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return(e=>0<e.length?f.some(e[0]):f.none())(t)}}return f.from(e.target)})(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),r=(a=o,s=n,(...e)=>a(s.apply(null,e)));var a,s;return((e,t,n,o,r,a,s)=>({target:e,x:t,y:n,stop:o,prevent:r,kill:a,raw:s}))(t,e.clientX,e.clientY,n,o,r,e)},we=(e,t,n,o)=>{e.dom.removeEventListener(t,n,o)},xe=b,Se=(e,t,n)=>((e,t,n,o)=>((e,t,n,o,r)=>{const a=((e,t)=>n=>{e(n)&&t(ve(n))})(n,o);return e.dom.addEventListener(t,a,r),{unbind:g(we,e,t,a,r)}})(e,t,n,o,!1))(e,t,xe,n),ke=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},Ce=(e,t)=>{e.dom.removeAttribute(t)},Te=e=>void 0!==e.style&&u(e.style.getPropertyValue),Ae=e=>{const t=pe(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return fe(F(t)).fold(()=>n.body.contains(t),(o=Ae,r=ye,e=>o(r(e))));var o,r},_e=(e,t,n)=>{if(!o(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Te(e)&&e.style.setProperty(t,n)},Oe=(e,t,n)=>{const o=e.dom;_e(o,t,n)},Ee=(e,t)=>{const n=e.dom;((e,t)=>{const n=k(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}})(t,(e,t)=>{_e(n,t,e)})},Ne=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||Ae(e)?o:Fe(n,t)},Fe=(e,t)=>Te(e)?e.style.getPropertyValue(t):"",De=(e,t)=>({left:e,top:t,translate:(n,o)=>De(e+n,t+o)}),Re=De,Pe=e=>{const t=void 0===e?window:e;return le().browser.isFirefox()?f.none():f.from(t.visualViewport)},Me=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),Be=e=>{const t=void 0===e?window:e,n=t.document,o=(e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return Re(n,o)})(F(n));return Pe(t).fold(()=>{const e=t.document.documentElement,n=e.clientWidth,r=e.clientHeight;return Me(o.left,o.top,n,r)},e=>Me(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height))},$e=(e,t,n)=>Pe(n).map(n=>{const o=e=>t(ve(e));return n.addEventListener(e,o),{unbind:()=>n.removeEventListener(e,o)}}).getOrThunk(()=>({unbind:m}));var je=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Le=tinymce.util.Tools.resolve("tinymce.Env");const Ie=(e,t)=>{e.dispatch("FullscreenStateChanged",{state:t}),e.dispatch("ResizeEditor")},ze=e=>e.options.get("fullscreen_native"),We=e=>{return e.dom===(void 0!==(t=he(e).dom).fullscreenElement?t.fullscreenElement:void 0!==t.msFullscreenElement?t.msFullscreenElement:void 0!==t.webkitFullscreenElement?t.webkitFullscreenElement:null);var t},qe="data-ephox-mobile-fullscreen-style",Ue="position:absolute!important;",He="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",Ve=Le.os.isAndroid(),Ze=(e,t,n)=>{const r=t=>n=>{const r=ke(n,"style"),a=void 0===r?"no-styles":r.trim();a!==t&&(((e,t,n)=>{((e,t,n)=>{if(!(o(n)||i(n)||d(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(e.dom,t,n)})(n,qe,a),Ee(n,e.parseStyle(t)))},s=((e,t,n)=>((e,t,n)=>x(((e,t)=>{const n=u(t)?t:h;let o=e.dom;const r=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){const e=o.parentNode,t=F(e);if(r.push(t),!0===n(t))break;o=e}return r})(e,n),t))(e,e=>D(e,t),n))(t,"*"),l=(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);y.apply(t,e[n])}return t})(v(s,e=>((e,t)=>(e=>{return x((e=>f.from(e.dom.parentNode).map(F))(n=e).map(be).map(e=>x(e,e=>{return t=e,!(n.dom===t.dom);var t})).getOr([]),e=>D(e,t));var n})(e))(e,"*:not(.tox-silver-sink)"))),c=(e=>{const t=Ne(e,"background-color");return void 0!==t&&""!==t?"background-color:"+t+"!important":"background-color:rgb(255,255,255)!important;"})(n);w(l,r("display:none!important;")),w(s,r(Ue+He+c)),r((!0===Ve?"":Ue)+He+c)(t)},Ke=je.DOM,Ge=Pe().fold(()=>({bind:m,unbind:m}),e=>{const t=(()=>{const e=_(m);return{...e,on:t=>e.get().each(t)}})(),n=O(),o=O(),r=(e=>{let t=null;return{cancel:()=>{s(t)||(clearTimeout(t),t=null)},throttle:(...n)=>{s(t)&&(t=setTimeout(()=>{t=null,e.apply(null,n)},50))}}})(()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0,window.requestAnimationFrame(()=>{t.on(t=>Ee(t,{top:e.offsetTop+"px",left:e.offsetLeft+"px",height:e.height+"px",width:e.width+"px"}))})});return{bind:e=>{t.set(e),r.throttle(),n.set($e("resize",r.throttle)),o.set($e("scroll",r.throttle))},unbind:()=>{t.on(()=>{n.clear(),o.clear()}),t.clear()}}}),Je=(e,t)=>{const n=document.body,o=document.documentElement,r=e.getContainer(),a=F(r),s=(i=a,f.from(i.dom.nextSibling).map(F)).filter(e=>(e=>me(e)&&ue(e.dom))(e)&&(e=>(e=>void 0!==e.dom.classList)(e)&&e.dom.classList.contains("tox-silver-sink"))(e));var i;const l=(e=>{const t=F(e.getElement());return fe(t).map(ye).getOrThunk(()=>(e=>{const t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return F(t)})(he(t)))})(e),c=t.get(),u=F(e.getBody()),d=Le.deviceType.isTouch(),m=r.style,p=e.iframeElement,g=null==p?void 0:p.style,h=e=>{e(n,"tox-fullscreen"),e(o,"tox-fullscreen"),e(r,"tox-fullscreen"),fe(a).map(e=>ye(e).dom).each(t=>{e(t,"tox-fullscreen"),e(t,"tox-shadowhost")})},b=()=>{d&&(e=>{const t=(e=>{const t=document;return 1!==(n=t).nodeType&&9!==n.nodeType&&11!==n.nodeType||0===n.childElementCount?[]:v(t.querySelectorAll(e),F);var n})("["+qe+"]");w(t,t=>{const n=ke(t,qe);n&&"no-styles"!==n?Ee(t,e.parseStyle(n)):Ce(t,"style"),Ce(t,qe)})})(e.dom),h(Ke.removeClass),Ge.unbind(),f.from(t.get()).each(e=>e.fullscreenChangeHandler.unbind())};if(c)c.fullscreenChangeHandler.unbind(),ze(e)&&We(l)&&(e=>{const t=e.dom;t.exitFullscreen?t.exitFullscreen():t.msExitFullscreen?t.msExitFullscreen():t.webkitCancelFullScreen&&t.webkitCancelFullScreen()})(he(l)),g.width=c.iframeWidth,g.height=c.iframeHeight,m.width=c.containerWidth,m.height=c.containerHeight,m.top=c.containerTop,m.left=c.containerLeft,x=s,S=c.sinkCssPosition,k=(e,t)=>{Oe(e,"position",t)},x.isSome()&&S.isSome()?f.some(k(x.getOrDie(),S.getOrDie())):f.none(),b(),y=c.scrollPos,window.scrollTo(y.x,y.y),t.set(null),Ie(e,!1),e.off("remove",b);else{const n=Se(he(l),void 0!==document.fullscreenElement?"fullscreenchange":void 0!==document.msFullscreenElement?"MSFullscreenChange":void 0!==document.webkitFullscreenElement?"webkitfullscreenchange":"fullscreenchange",n=>{ze(e)&&(We(l)||null===t.get()||Je(e,t))}),o={scrollPos:Be(window),containerWidth:m.width,containerHeight:m.height,containerTop:m.top,containerLeft:m.left,iframeWidth:g.width,iframeHeight:g.height,fullscreenChangeHandler:n,sinkCssPosition:s.map(e=>Ne(e,"position"))};d&&Ze(e.dom,a,u),g.width=g.height="100%",m.width=m.height="",h(Ke.addClass),s.each(e=>{Oe(e,"position","fixed")}),Ge.bind(a),e.on("remove",b),t.set(o),ze(e)&&(e=>{const t=e.dom;t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen()})(l),Ie(e,!0)}var y,x,S,k};var Qe=tinymce.util.Tools.resolve("tinymce.util.VK");const Ye=(e,t)=>n=>{n.setActive(null!==t.get());const o=e=>n.setActive(e.state);return e.on("FullscreenStateChanged",o),()=>e.off("FullscreenStateChanged",o)};N.add("fullscreen",e=>{const t=C(null);return e.inline||((e=>{(0,e.options.register)("fullscreen_native",{processor:"boolean",default:!1})})(e),((e,t)=>{e.addCommand("mceFullScreen",()=>{Je(e,t)})})(e,t),((e,t)=>{const n=()=>e.execCommand("mceFullScreen");e.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:n,onSetup:Ye(e,t),context:"any"}),e.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:n,onSetup:Ye(e,t),shortcut:"Meta+Shift+F",context:"any"})})(e,t),((e,t)=>{e.on("init",()=>{e.on("keydown",e=>{e.keyCode!==Qe.TAB||e.metaKey||e.ctrlKey||!t.get()||e.preventDefault()})})})(e,t),e.addShortcut("Meta+Shift+F","","mceFullScreen")),(e=>({isFullscreen:()=>null!==e.get()}))(t)})}()},7828:function(e,t,n){n(83393)},13550:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>!(e=>null==e)(e),n=()=>{};class o{constructor(e,t){this.tag=e,this.value=t}static some(e){return new o(!0,e)}static none(){return o.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?o.some(e(this.value)):o.none()}bind(e){return this.tag?e(this.value):o.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:o.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return t(e)?o.some(e):o.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}o.singletonNone=new o(!1);const r=e=>((e,t)=>t>=0&&t<e.length?o.some(e[t]):o.none())(e,0),a="undefined"!=typeof window?window:Function("return this;")(),s=(i=/^\s+|\s+$/g,e=>e.replace(i,""));var i,l=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");const c=function(e,t){const n=window.Prism;window.Prism={manual:!0};var o=function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,o={},r={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof a?new a(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var o,a;switch(n=n||{},r.util.type(t)){case"Object":if(a=r.util.objId(t),n[a])return n[a];for(var s in o={},n[a]=o,t)t.hasOwnProperty(s)&&(o[s]=e(t[s],n));return o;case"Array":return a=r.util.objId(t),n[a]?n[a]:(o=[],n[a]=o,t.forEach(function(t,r){o[r]=e(t,n)}),o);default:return t}},getLanguage:function(e){for(;e;){var n=t.exec(e.className);if(n)return n[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,n){e.className=e.className.replace(RegExp(t,"gi"),""),e.classList.add("language-"+n)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(o){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(o.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var o="no-"+t;e;){var r=e.classList;if(r.contains(t))return!0;if(r.contains(o))return!1;e=e.parentElement}return!!n}},languages:{plain:o,plaintext:o,text:o,txt:o,extend:function(e,t){var n=r.util.clone(r.languages[e]);for(var o in t)n[o]=t[o];return n},insertBefore:function(e,t,n,o){var a=(o=o||r.languages)[e],s={};for(var i in a)if(a.hasOwnProperty(i)){if(i==t)for(var l in n)n.hasOwnProperty(l)&&(s[l]=n[l]);n.hasOwnProperty(i)||(s[i]=a[i])}var c=o[e];return o[e]=s,r.languages.DFS(r.languages,function(t,n){n===c&&t!=e&&(this[t]=s)}),s},DFS:function e(t,n,o,a){a=a||{};var s=r.util.objId;for(var i in t)if(t.hasOwnProperty(i)){n.call(t,i,t[i],o||i);var l=t[i],c=r.util.type(l);"Object"!==c||a[s(l)]?"Array"!==c||a[s(l)]||(a[s(l)]=!0,e(l,n,i,a)):(a[s(l)]=!0,e(l,n,null,a))}}},plugins:{},highlightAll:function(e,t){r.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var o={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",o),o.elements=Array.prototype.slice.apply(o.container.querySelectorAll(o.selector)),r.hooks.run("before-all-elements-highlight",o);for(var a,s=0;a=o.elements[s++];)r.highlightElement(a,!0===t,o.callback)},highlightElement:function(t,n,o){var a=r.util.getLanguage(t),s=r.languages[a];r.util.setLanguage(t,a);var i=t.parentElement;i&&"pre"===i.nodeName.toLowerCase()&&r.util.setLanguage(i,a);var l={element:t,language:a,grammar:s,code:t.textContent};function c(e){l.highlightedCode=e,r.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,r.hooks.run("after-highlight",l),r.hooks.run("complete",l),o&&o.call(l.element)}if(r.hooks.run("before-sanity-check",l),(i=l.element.parentElement)&&"pre"===i.nodeName.toLowerCase()&&!i.hasAttribute("tabindex")&&i.setAttribute("tabindex","0"),!l.code)return r.hooks.run("complete",l),void(o&&o.call(l.element));if(r.hooks.run("before-highlight",l),l.grammar)if(n&&e.Worker){var u=new Worker(r.filename);u.onmessage=function(e){c(e.data)},u.postMessage(JSON.stringify({language:l.language,code:l.code,immediateClose:!0}))}else c(r.highlight(l.code,l.grammar,l.language));else c(r.util.encode(l.code))},highlight:function(e,t,n){var o={code:e,grammar:t,language:n};if(r.hooks.run("before-tokenize",o),!o.grammar)throw new Error('The language "'+o.language+'" has no grammar.');return o.tokens=r.tokenize(o.code,o.grammar),r.hooks.run("after-tokenize",o),a.stringify(r.util.encode(o.tokens),o.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var o in n)t[o]=n[o];delete t.rest}var r=new l;return c(r,r.head,e),i(e,r,t,r.head,0),function(e){var t=[],n=e.head.next;for(;n!==e.tail;)t.push(n.value),n=n.next;return t}(r)},hooks:{all:{},add:function(e,t){var n=r.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=r.hooks.all[e];if(n&&n.length)for(var o,a=0;o=n[a++];)o(t)}},Token:a};function a(e,t,n,o){this.type=e,this.content=t,this.alias=n,this.length=0|(o||"").length}function s(e,t,n,o){e.lastIndex=t;var r=e.exec(n);if(r&&o&&r[1]){var a=r[1].length;r.index+=a,r[0]=r[0].slice(a)}return r}function i(e,t,n,o,l,d){for(var m in n)if(n.hasOwnProperty(m)&&n[m]){var p=n[m];p=Array.isArray(p)?p:[p];for(var g=0;g<p.length;++g){if(d&&d.cause==m+","+g)return;var h=p[g],b=h.inside,f=!!h.lookbehind,y=!!h.greedy,v=h.alias;if(y&&!h.pattern.global){var w=h.pattern.toString().match(/[imsuy]*$/)[0];h.pattern=RegExp(h.pattern.source,w+"g")}for(var x=h.pattern||h,S=o.next,k=l;S!==t.tail&&!(d&&k>=d.reach);k+=S.value.length,S=S.next){var C=S.value;if(t.length>e.length)return;if(!(C instanceof a)){var T,A=1;if(y){if(!(T=s(x,k,e,f))||T.index>=e.length)break;var _=T.index,O=T.index+T[0].length,E=k;for(E+=S.value.length;_>=E;)E+=(S=S.next).value.length;if(k=E-=S.value.length,S.value instanceof a)continue;for(var N=S;N!==t.tail&&(E<O||"string"==typeof N.value);N=N.next)A++,E+=N.value.length;A--,C=e.slice(k,E),T.index-=k}else if(!(T=s(x,0,C,f)))continue;_=T.index;var F=T[0],D=C.slice(0,_),R=C.slice(_+F.length),P=k+C.length;d&&P>d.reach&&(d.reach=P);var M=S.prev;if(D&&(M=c(t,M,D),k+=D.length),u(t,M,A),S=c(t,M,new a(m,b?r.tokenize(F,b):F,v,F)),R&&c(t,S,R),A>1){var B={cause:m+","+g,reach:P};i(e,t,n,S.prev,k,B),d&&B.reach>d.reach&&(d.reach=B.reach)}}}}}}function l(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function c(e,t,n){var o=t.next,r={value:n,prev:t,next:o};return t.next=r,o.prev=r,e.length++,r}function u(e,t,n){for(var o=t.next,r=0;r<n&&o!==e.tail;r++)o=o.next;t.next=o,o.prev=t,e.length-=r}if(e.Prism=r,a.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var o="";return t.forEach(function(t){o+=e(t,n)}),o}var a={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},s=t.alias;s&&(Array.isArray(s)?Array.prototype.push.apply(a.classes,s):a.classes.push(s)),r.hooks.run("wrap",a);var i="";for(var l in a.attributes)i+=" "+l+'="'+(a.attributes[l]||"").replace(/"/g,"&quot;")+'"';return"<"+a.tag+' class="'+a.classes.join(" ")+'"'+i+">"+a.content+"</"+a.tag+">"},!e.document)return e.addEventListener?(r.disableWorkerMessageHandler||e.addEventListener("message",function(t){var n=JSON.parse(t.data),o=n.language,a=n.code,s=n.immediateClose;e.postMessage(r.highlight(a,r.languages[o],o)),s&&e.close()},!1),r):r;var d=r.util.currentScript();function m(){r.manual||r.highlightAll()}if(d&&(r.filename=d.src,d.hasAttribute("data-manual")&&(r.manual=!0)),!r.manual){var p=document.readyState;"loading"===p||"interactive"===p&&d&&d.defer?document.addEventListener("DOMContentLoaded",m):window.requestAnimationFrame?window.requestAnimationFrame(m):window.setTimeout(m,16)}return r}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});
/**
     * Prism: Lightweight, robust, elegant syntax highlighting
     *
     * @license MIT <https://opensource.org/licenses/MIT>
     * @author Lea Verou <https://lea.verou.me>
     * @namespace
     * @public
     */return void 0!==t&&t.exports&&(t.exports=o),void 0!==e&&(e.Prism=o),o.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(e){function t(e,t){return"___"+e.toUpperCase()+t+"___"}Object.defineProperties(e.languages["markup-templating"]={},{buildPlaceholders:{value:function(n,o,r,a){if(n.language===o){var s=n.tokenStack=[];n.code=n.code.replace(r,function(e){if("function"==typeof a&&!a(e))return e;for(var r,i=s.length;-1!==n.code.indexOf(r=t(o,i));)++i;return s[i]=e,r}),n.grammar=e.languages.markup}}},tokenizePlaceholders:{value:function(n,o){if(n.language===o&&n.tokenStack){n.grammar=e.languages[o];var r=0,a=Object.keys(n.tokenStack);!function s(i){for(var l=0;l<i.length&&!(r>=a.length);l++){var c=i[l];if("string"==typeof c||c.content&&"string"==typeof c.content){var u=a[r],d=n.tokenStack[u],m="string"==typeof c?c:c.content,p=t(o,u),g=m.indexOf(p);if(g>-1){++r;var h=m.substring(0,g),b=new e.Token(o,e.tokenize(d,n.grammar),"language-"+o,d),f=m.substring(g+p.length),y=[];h&&y.push.apply(y,s([h])),y.push(b),f&&y.push.apply(y,s([f])),"string"==typeof c?i.splice.apply(i,[l,1].concat(y)):c.content=y}}else c.content&&s(c.content)}return i}(n.tokens)}}}})}(o),o.languages.c=o.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),o.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),o.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},o.languages.c.string],char:o.languages.c.char,comment:o.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:o.languages.c}}}}),o.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete o.languages.c.boolean,function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return t.source});e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return t.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return n})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(o),function(e){function t(e,t){return e.replace(/<<(\d+)>>/g,function(e,n){return"(?:"+t[+n]+")"})}function n(e,n,o){return RegExp(t(e,n),o||"")}function o(e,t){for(var n=0;n<t;n++)e=e.replace(/<<self>>/g,function(){return"(?:"+e+")"});return e.replace(/<<self>>/g,"[^\\s\\S]")}var r="bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",a="class enum interface record struct",s="add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",i="abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield";function l(e){return"\\b(?:"+e.trim().replace(/ /g,"|")+")\\b"}var c=l(a),u=RegExp(l(r+" "+a+" "+s+" "+i)),d=l(a+" "+s+" "+i),m=l(r+" "+a+" "+i),p=o(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),g=o(/\((?:[^()]|<<self>>)*\)/.source,2),h=/@?\b[A-Za-z_]\w*\b/.source,b=t(/<<0>>(?:\s*<<1>>)?/.source,[h,p]),f=t(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[d,b]),y=/\[\s*(?:,\s*)*\]/.source,v=t(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[f,y]),w=t(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[p,g,y]),x=t(/\(<<0>>+(?:,<<0>>+)+\)/.source,[w]),S=t(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[x,f,y]),k={keyword:u,punctuation:/[<>()?,.:[\]]/},C=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,T=/"(?:\\.|[^\\"\r\n])*"/.source,A=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;e.languages.csharp=e.languages.extend("clike",{string:[{pattern:n(/(^|[^$\\])<<0>>/.source,[A]),lookbehind:!0,greedy:!0},{pattern:n(/(^|[^@$\\])<<0>>/.source,[T]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:n(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[f]),lookbehind:!0,inside:k},{pattern:n(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[h,S]),lookbehind:!0,inside:k},{pattern:n(/(\busing\s+)<<0>>(?=\s*=)/.source,[h]),lookbehind:!0},{pattern:n(/(\b<<0>>\s+)<<1>>/.source,[c,b]),lookbehind:!0,inside:k},{pattern:n(/(\bcatch\s*\(\s*)<<0>>/.source,[f]),lookbehind:!0,inside:k},{pattern:n(/(\bwhere\s+)<<0>>/.source,[h]),lookbehind:!0},{pattern:n(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[v]),lookbehind:!0,inside:k},{pattern:n(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[S,m,h]),inside:k}],keyword:u,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),e.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),e.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:n(/([(,]\s*)<<0>>(?=\s*:)/.source,[h]),lookbehind:!0,alias:"punctuation"}}),e.languages.insertBefore("csharp","class-name",{namespace:{pattern:n(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[h]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:n(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[g]),lookbehind:!0,alias:"class-name",inside:k},"return-type":{pattern:n(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[S,f]),inside:k,alias:"class-name"},"constructor-invocation":{pattern:n(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[S]),lookbehind:!0,inside:k,alias:"class-name"},"generic-method":{pattern:n(/<<0>>\s*<<1>>(?=\s*\()/.source,[h,p]),inside:{function:n(/^<<0>>/.source,[h]),generic:{pattern:RegExp(p),alias:"class-name",inside:k}}},"type-list":{pattern:n(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[c,b,h,S,u.source,g,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:n(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[b,g]),lookbehind:!0,greedy:!0,inside:e.languages.csharp},keyword:u,"class-name":{pattern:RegExp(S),greedy:!0,inside:k},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var _=T+"|"+C,O=t(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[_]),E=o(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[O]),2),N=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,F=t(/<<0>>(?:\s*\(<<1>>*\))?/.source,[f,E]);e.languages.insertBefore("csharp","class-name",{attribute:{pattern:n(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[N,F]),lookbehind:!0,greedy:!0,inside:{target:{pattern:n(/^<<0>>(?=\s*:)/.source,[N]),alias:"keyword"},"attribute-arguments":{pattern:n(/\(<<0>>*\)/.source,[E]),inside:e.languages.csharp},"class-name":{pattern:RegExp(f),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var D=/:[^}\r\n]+/.source,R=o(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[O]),2),P=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[R,D]),M=o(t(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[_]),2),B=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[M,D]);function $(t,o){return{interpolation:{pattern:n(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[t]),lookbehind:!0,inside:{"format-string":{pattern:n(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[o,D]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:e.languages.csharp}}},string:/[\s\S]+/}}e.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:n(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[P]),lookbehind:!0,greedy:!0,inside:$(P,R)},{pattern:n(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[B]),lookbehind:!0,greedy:!0,inside:$(B,M)}],char:{pattern:RegExp(C),greedy:!0}}),e.languages.dotnet=e.languages.cs=e.languages.csharp}(o),function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(o),function(e){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,o={pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};e.languages.java=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[o,{pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:o.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+n+/[A-Z]\w*\b/.source),lookbehind:!0,inside:o.inside}],keyword:t,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":o,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+n+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:o.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+n+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:o.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return t.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(o),o.languages.javascript=o.languages.extend("clike",{"class-name":[o.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),o.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,o.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:o.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:o.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:o.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:o.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:o.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),o.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:o.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),o.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),o.languages.markup&&(o.languages.markup.tag.addInlined("script","javascript"),o.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),o.languages.js=o.languages.javascript,o.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},o.languages.markup.tag.inside["attr-value"].inside.entity=o.languages.markup.entity,o.languages.markup.doctype.inside["internal-subset"].inside=o.languages.markup,o.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Object.defineProperty(o.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:o.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};r["language-"+t]={pattern:/[\s\S]+/,inside:o.languages[t]};var a={};a[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:r},o.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(o.languages.markup.tag,"addAttribute",{value:function(e,t){o.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:o.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),o.languages.html=o.languages.markup,o.languages.mathml=o.languages.markup,o.languages.svg=o.languages.markup,o.languages.xml=o.languages.extend("markup",{}),o.languages.ssml=o.languages.xml,o.languages.atom=o.languages.xml,o.languages.rss=o.languages.xml,function(e){var t=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,n=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],o=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,r=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,a=/[{}\[\](),:;]/;e.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:t,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:o,operator:r,punctuation:a};var s={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:e.languages.php},i=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:s}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:s}}];e.languages.insertBefore("php","variable",{string:i,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:t,string:i,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,number:o,operator:r,punctuation:a}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),e.hooks.add("before-tokenize",function(t){if(/<\?/.test(t.code)){e.languages["markup-templating"].buildPlaceholders(t,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g)}}),e.hooks.add("after-tokenize",function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"php")})}(o),o.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},o.languages.python["string-interpolation"].inside.interpolation.inside.rest=o.languages.python,o.languages.py=o.languages.python,function(e){e.languages.ruby=e.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),e.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var t={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:e.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete e.languages.ruby.function;var n="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",o=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;e.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+n+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+o),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+o+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),e.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+n),greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+n),greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete e.languages.ruby.string,e.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),e.languages.rb=e.languages.ruby}(o),window.Prism=n,o}(void 0,void 0),u=e=>t=>t.options.get(e),d=u("codesample_languages"),m=u("codesample_global_prismjs"),p=e=>a.Prism&&m(e)?a.Prism:c,g=e=>t(e)&&"PRE"===e.nodeName&&-1!==e.className.indexOf("language-"),h=e=>{const t=e.selection?e.selection.getNode():null;return g(t)?o.some(t):o.none()},b=e=>{const t=(e=>{const t=d(e);return t||[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}]})(e),n=r(t).fold((a="",()=>a),e=>e.value);var a;const s=((e,t)=>h(e).fold(()=>t,e=>{const n=e.className.match(/language-(\w+)/);return n?n[1]:t}))(e,n),i=(e=>h(e).bind(e=>o.from(e.textContent)).getOr(""))(e);e.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"listbox",name:"language",label:"Language",items:t},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:s,code:i},onSubmit:t=>{const n=t.getData();((e,t,n)=>{const o=e.dom;e.undoManager.transact(()=>{const r=h(e);return n=l.DOM.encode(n),r.fold(()=>{e.insertContent('<pre id="__new" class="language-'+t+'">'+n+"</pre>");const r=o.select("#__new")[0];o.setAttrib(r,"id",null),e.selection.select(r)},r=>{o.setAttrib(r,"class","language-"+t),r.innerHTML=n,p(e).highlightElement(r),e.selection.select(r)})})})(e,n.language,n.code),t.close()}})};var f=tinymce.util.Tools.resolve("tinymce.util.Tools");const y=(e,t=n)=>n=>{const o=()=>{n.setEnabled(e.selection.isEditable()),t(n)};return e.on("NodeChange",o),o(),()=>{e.off("NodeChange",o)}};e.add("codesample",e=>{(e=>{const t=e.options.register;t("codesample_languages",{processor:"object[]"}),t("codesample_global_prismjs",{processor:"boolean",default:!1})})(e),(e=>{e.on("PreProcess",t=>{const n=e.dom,o=n.select("pre[contenteditable=false]",t.node);f.each(f.grep(o,g),e=>{const t=e.textContent;let o;for(n.setAttrib(e,"class",s(n.getAttrib(e,"class"))),n.setAttrib(e,"contentEditable",null),n.setAttrib(e,"data-mce-highlighted",null);o=e.firstChild;)e.removeChild(o);n.add(e,"code").textContent=t})}),e.on("SetContent",()=>{const t=e.dom,n=f.grep(t.select("pre"),e=>g(e)&&"true"!==t.getAttrib(e,"data-mce-highlighted"));n.length&&e.undoManager.transact(()=>{f.each(n,n=>{var o;f.each(t.select("br",n),n=>{t.replace(e.getDoc().createTextNode("\n"),n)}),n.innerHTML=t.encode(null!==(o=n.textContent)&&void 0!==o?o:""),p(e).highlightElement(n),t.setAttrib(n,"data-mce-highlighted",!0),n.className=s(n.className)})})}),e.on("PreInit",()=>{e.parser.addNodeFilter("pre",e=>{var t;for(let n=0,o=e.length;n<o;n++){const o=e[n];-1!==(null!==(t=o.attr("class"))&&void 0!==t?t:"").indexOf("language-")&&(o.attr("contenteditable","false"),o.attr("data-mce-highlighted","false"))}})})})(e),(e=>{const t=()=>e.execCommand("codesample");e.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:t,onSetup:y(e,t=>{t.setActive((e=>{const t=e.selection.getStart();return e.dom.is(t,'pre[class*="language-"]')})(e))})}),e.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:t,onSetup:y(e)})})(e),(e=>{e.addCommand("codesample",()=>{const t=e.selection.getNode();e.selection.isCollapsed()||g(t)?b(e):e.formatter.toggle("code")})})(e),e.on("dblclick",t=>{g(t.target)&&b(e)})})}()},17536:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>!(e=>null==e)(e),n=()=>{};class o{constructor(e,t){this.tag=e,this.value=t}static some(e){return new o(!0,e)}static none(){return o.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?o.some(e(this.value)):o.none()}bind(e){return this.tag?e(this.value):o.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:o.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return t(e)?o.some(e):o.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}o.singletonNone=new o(!1);const r="undefined"!=typeof window?window:Function("return this;")(),a=(s=/^\s+|\s+$/g,e=>e.replace(s,""));var s,i=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");const l=function(){const e=window.Prism;window.Prism={manual:!0};var t=function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,o={},r={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof a?new a(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var o,a;switch(n=n||{},r.util.type(t)){case"Object":if(a=r.util.objId(t),n[a])return n[a];for(var s in o={},n[a]=o,t)t.hasOwnProperty(s)&&(o[s]=e(t[s],n));return o;case"Array":return a=r.util.objId(t),n[a]?n[a]:(o=[],n[a]=o,t.forEach(function(t,r){o[r]=e(t,n)}),o);default:return t}},getLanguage:function(e){for(;e;){var n=t.exec(e.className);if(n)return n[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,n){e.className=e.className.replace(RegExp(t,"gi"),""),e.classList.add("language-"+n)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(o){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(o.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var o="no-"+t;e;){var r=e.classList;if(r.contains(t))return!0;if(r.contains(o))return!1;e=e.parentElement}return!!n}},languages:{plain:o,plaintext:o,text:o,txt:o,extend:function(e,t){var n=r.util.clone(r.languages[e]);for(var o in t)n[o]=t[o];return n},insertBefore:function(e,t,n,o){var a=(o=o||r.languages)[e],s={};for(var i in a)if(a.hasOwnProperty(i)){if(i==t)for(var l in n)n.hasOwnProperty(l)&&(s[l]=n[l]);n.hasOwnProperty(i)||(s[i]=a[i])}var c=o[e];return o[e]=s,r.languages.DFS(r.languages,function(t,n){n===c&&t!=e&&(this[t]=s)}),s},DFS:function e(t,n,o,a){a=a||{};var s=r.util.objId;for(var i in t)if(t.hasOwnProperty(i)){n.call(t,i,t[i],o||i);var l=t[i],c=r.util.type(l);"Object"!==c||a[s(l)]?"Array"!==c||a[s(l)]||(a[s(l)]=!0,e(l,n,i,a)):(a[s(l)]=!0,e(l,n,null,a))}}},plugins:{},highlightAll:function(e,t){r.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var o={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",o),o.elements=Array.prototype.slice.apply(o.container.querySelectorAll(o.selector)),r.hooks.run("before-all-elements-highlight",o);for(var a,s=0;a=o.elements[s++];)r.highlightElement(a,!0===t,o.callback)},highlightElement:function(t,n,o){var a=r.util.getLanguage(t),s=r.languages[a];r.util.setLanguage(t,a);var i=t.parentElement;i&&"pre"===i.nodeName.toLowerCase()&&r.util.setLanguage(i,a);var l={element:t,language:a,grammar:s,code:t.textContent};function c(e){l.highlightedCode=e,r.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,r.hooks.run("after-highlight",l),r.hooks.run("complete",l),o&&o.call(l.element)}if(r.hooks.run("before-sanity-check",l),(i=l.element.parentElement)&&"pre"===i.nodeName.toLowerCase()&&!i.hasAttribute("tabindex")&&i.setAttribute("tabindex","0"),!l.code)return r.hooks.run("complete",l),void(o&&o.call(l.element));if(r.hooks.run("before-highlight",l),l.grammar)if(n&&e.Worker){var u=new Worker(r.filename);u.onmessage=function(e){c(e.data)},u.postMessage(JSON.stringify({language:l.language,code:l.code,immediateClose:!0}))}else c(r.highlight(l.code,l.grammar,l.language));else c(r.util.encode(l.code))},highlight:function(e,t,n){var o={code:e,grammar:t,language:n};if(r.hooks.run("before-tokenize",o),!o.grammar)throw new Error('The language "'+o.language+'" has no grammar.');return o.tokens=r.tokenize(o.code,o.grammar),r.hooks.run("after-tokenize",o),a.stringify(r.util.encode(o.tokens),o.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var o in n)t[o]=n[o];delete t.rest}var r=new l;return c(r,r.head,e),i(e,r,t,r.head,0),function(e){for(var t=[],n=e.head.next;n!==e.tail;)t.push(n.value),n=n.next;return t}(r)},hooks:{all:{},add:function(e,t){var n=r.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=r.hooks.all[e];if(n&&n.length)for(var o,a=0;o=n[a++];)o(t)}},Token:a};function a(e,t,n,o){this.type=e,this.content=t,this.alias=n,this.length=0|(o||"").length}function s(e,t,n,o){e.lastIndex=t;var r=e.exec(n);if(r&&o&&r[1]){var a=r[1].length;r.index+=a,r[0]=r[0].slice(a)}return r}function i(e,t,n,o,l,d){for(var m in n)if(n.hasOwnProperty(m)&&n[m]){var p=n[m];p=Array.isArray(p)?p:[p];for(var g=0;g<p.length;++g){if(d&&d.cause==m+","+g)return;var h=p[g],b=h.inside,f=!!h.lookbehind,y=!!h.greedy,v=h.alias;if(y&&!h.pattern.global){var w=h.pattern.toString().match(/[imsuy]*$/)[0];h.pattern=RegExp(h.pattern.source,w+"g")}for(var x=h.pattern||h,S=o.next,k=l;S!==t.tail&&!(d&&k>=d.reach);k+=S.value.length,S=S.next){var C=S.value;if(t.length>e.length)return;if(!(C instanceof a)){var T,A=1;if(y){if(!(T=s(x,k,e,f))||T.index>=e.length)break;var _=T.index,O=T.index+T[0].length,E=k;for(E+=S.value.length;_>=E;)E+=(S=S.next).value.length;if(k=E-=S.value.length,S.value instanceof a)continue;for(var N=S;N!==t.tail&&(E<O||"string"==typeof N.value);N=N.next)A++,E+=N.value.length;A--,C=e.slice(k,E),T.index-=k}else if(!(T=s(x,0,C,f)))continue;_=T.index;var F=T[0],D=C.slice(0,_),R=C.slice(_+F.length),P=k+C.length;d&&P>d.reach&&(d.reach=P);var M=S.prev;if(D&&(M=c(t,M,D),k+=D.length),u(t,M,A),S=c(t,M,new a(m,b?r.tokenize(F,b):F,v,F)),R&&c(t,S,R),A>1){var B={cause:m+","+g,reach:P};i(e,t,n,S.prev,k,B),d&&B.reach>d.reach&&(d.reach=B.reach)}}}}}}function l(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function c(e,t,n){var o=t.next,r={value:n,prev:t,next:o};return t.next=r,o.prev=r,e.length++,r}function u(e,t,n){for(var o=t.next,r=0;r<n&&o!==e.tail;r++)o=o.next;t.next=o,o.prev=t,e.length-=r}if(e.Prism=r,a.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var o="";return t.forEach(function(t){o+=e(t,n)}),o}var a={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},s=t.alias;s&&(Array.isArray(s)?Array.prototype.push.apply(a.classes,s):a.classes.push(s)),r.hooks.run("wrap",a);var i="";for(var l in a.attributes)i+=" "+l+'="'+(a.attributes[l]||"").replace(/"/g,"&quot;")+'"';return"<"+a.tag+' class="'+a.classes.join(" ")+'"'+i+">"+a.content+"</"+a.tag+">"},!e.document)return e.addEventListener?(r.disableWorkerMessageHandler||e.addEventListener("message",function(t){var n=JSON.parse(t.data),o=n.language,a=n.code,s=n.immediateClose;e.postMessage(r.highlight(a,r.languages[o],o)),s&&e.close()},!1),r):r;var d=r.util.currentScript();function m(){r.manual||r.highlightAll()}if(d&&(r.filename=d.src,d.hasAttribute("data-manual")&&(r.manual=!0)),!r.manual){var p=document.readyState;"loading"===p||"interactive"===p&&d&&d.defer?document.addEventListener("DOMContentLoaded",m):window.requestAnimationFrame?window.requestAnimationFrame(m):window.setTimeout(m,16)}return r}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});
/**
     * Prism: Lightweight, robust, elegant syntax highlighting
     *
     * @license MIT <https://opensource.org/licenses/MIT>
     * @author Lea Verou <https://lea.verou.me>
     * @namespace
     * @public
     */return t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(e){function t(e,t){return"___"+e.toUpperCase()+t+"___"}Object.defineProperties(e.languages["markup-templating"]={},{buildPlaceholders:{value:function(n,o,r,a){if(n.language===o){var s=n.tokenStack=[];n.code=n.code.replace(r,function(e){if("function"==typeof a&&!a(e))return e;for(var r,i=s.length;-1!==n.code.indexOf(r=t(o,i));)++i;return s[i]=e,r}),n.grammar=e.languages.markup}}},tokenizePlaceholders:{value:function(n,o){if(n.language===o&&n.tokenStack){n.grammar=e.languages[o];var r=0,a=Object.keys(n.tokenStack);!function s(i){for(var l=0;l<i.length&&!(r>=a.length);l++){var c=i[l];if("string"==typeof c||c.content&&"string"==typeof c.content){var u=a[r],d=n.tokenStack[u],m="string"==typeof c?c:c.content,p=t(o,u),g=m.indexOf(p);if(g>-1){++r;var h=m.substring(0,g),b=new e.Token(o,e.tokenize(d,n.grammar),"language-"+o,d),f=m.substring(g+p.length),y=[];h&&y.push.apply(y,s([h])),y.push(b),f&&y.push.apply(y,s([f])),"string"==typeof c?i.splice.apply(i,[l,1].concat(y)):c.content=y}}else c.content&&s(c.content)}return i}(n.tokens)}}}})}(t),t.languages.c=t.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),t.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),t.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},t.languages.c.string],char:t.languages.c.char,comment:t.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:t.languages.c}}}}),t.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete t.languages.c.boolean,function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return t.source});e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return t.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return n})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(t),function(e){function t(e,t){return e.replace(/<<(\d+)>>/g,function(e,n){return"(?:"+t[+n]+")"})}function n(e,n,o){return RegExp(t(e,n),o||"")}function o(e,t){for(var n=0;n<t;n++)e=e.replace(/<<self>>/g,function(){return"(?:"+e+")"});return e.replace(/<<self>>/g,"[^\\s\\S]")}var r="bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",a="class enum interface record struct",s="add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",i="abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield";function l(e){return"\\b(?:"+e.trim().replace(/ /g,"|")+")\\b"}var c=l(a),u=RegExp(l(r+" "+a+" "+s+" "+i)),d=l(a+" "+s+" "+i),m=l(r+" "+a+" "+i),p=o(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),g=o(/\((?:[^()]|<<self>>)*\)/.source,2),h=/@?\b[A-Za-z_]\w*\b/.source,b=t(/<<0>>(?:\s*<<1>>)?/.source,[h,p]),f=t(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[d,b]),y=/\[\s*(?:,\s*)*\]/.source,v=t(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[f,y]),w=t(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[p,g,y]),x=t(/\(<<0>>+(?:,<<0>>+)+\)/.source,[w]),S=t(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[x,f,y]),k={keyword:u,punctuation:/[<>()?,.:[\]]/},C=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,T=/"(?:\\.|[^\\"\r\n])*"/.source,A=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;e.languages.csharp=e.languages.extend("clike",{string:[{pattern:n(/(^|[^$\\])<<0>>/.source,[A]),lookbehind:!0,greedy:!0},{pattern:n(/(^|[^@$\\])<<0>>/.source,[T]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:n(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[f]),lookbehind:!0,inside:k},{pattern:n(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[h,S]),lookbehind:!0,inside:k},{pattern:n(/(\busing\s+)<<0>>(?=\s*=)/.source,[h]),lookbehind:!0},{pattern:n(/(\b<<0>>\s+)<<1>>/.source,[c,b]),lookbehind:!0,inside:k},{pattern:n(/(\bcatch\s*\(\s*)<<0>>/.source,[f]),lookbehind:!0,inside:k},{pattern:n(/(\bwhere\s+)<<0>>/.source,[h]),lookbehind:!0},{pattern:n(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[v]),lookbehind:!0,inside:k},{pattern:n(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[S,m,h]),inside:k}],keyword:u,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),e.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),e.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:n(/([(,]\s*)<<0>>(?=\s*:)/.source,[h]),lookbehind:!0,alias:"punctuation"}}),e.languages.insertBefore("csharp","class-name",{namespace:{pattern:n(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[h]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:n(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[g]),lookbehind:!0,alias:"class-name",inside:k},"return-type":{pattern:n(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[S,f]),inside:k,alias:"class-name"},"constructor-invocation":{pattern:n(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[S]),lookbehind:!0,inside:k,alias:"class-name"},"generic-method":{pattern:n(/<<0>>\s*<<1>>(?=\s*\()/.source,[h,p]),inside:{function:n(/^<<0>>/.source,[h]),generic:{pattern:RegExp(p),alias:"class-name",inside:k}}},"type-list":{pattern:n(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[c,b,h,S,u.source,g,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:n(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[b,g]),lookbehind:!0,greedy:!0,inside:e.languages.csharp},keyword:u,"class-name":{pattern:RegExp(S),greedy:!0,inside:k},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var _=T+"|"+C,O=t(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[_]),E=o(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[O]),2),N=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,F=t(/<<0>>(?:\s*\(<<1>>*\))?/.source,[f,E]);e.languages.insertBefore("csharp","class-name",{attribute:{pattern:n(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[N,F]),lookbehind:!0,greedy:!0,inside:{target:{pattern:n(/^<<0>>(?=\s*:)/.source,[N]),alias:"keyword"},"attribute-arguments":{pattern:n(/\(<<0>>*\)/.source,[E]),inside:e.languages.csharp},"class-name":{pattern:RegExp(f),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var D=/:[^}\r\n]+/.source,R=o(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[O]),2),P=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[R,D]),M=o(t(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[_]),2),B=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[M,D]);function $(t,o){return{interpolation:{pattern:n(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[t]),lookbehind:!0,inside:{"format-string":{pattern:n(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[o,D]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:e.languages.csharp}}},string:/[\s\S]+/}}e.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:n(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[P]),lookbehind:!0,greedy:!0,inside:$(P,R)},{pattern:n(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[B]),lookbehind:!0,greedy:!0,inside:$(B,M)}],char:{pattern:RegExp(C),greedy:!0}}),e.languages.dotnet=e.languages.cs=e.languages.csharp}(t),function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(t),function(e){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,o={pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};e.languages.java=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[o,{pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:o.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+n+/[A-Z]\w*\b/.source),lookbehind:!0,inside:o.inside}],keyword:t,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":o,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+n+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:o.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+n+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:o.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return t.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(t),t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(e,n){var o={};o["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[n]},o.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:o}};r["language-"+n]={pattern:/[\s\S]+/,inside:t.languages[n]};var a={};a[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:r},t.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(e,n){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:t.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,function(e){var t=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,n=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],o=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,r=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,a=/[{}\[\](),:;]/;e.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:t,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:o,operator:r,punctuation:a};var s={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:e.languages.php},i=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:s}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:s}}];e.languages.insertBefore("php","variable",{string:i,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:t,string:i,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,number:o,operator:r,punctuation:a}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),e.hooks.add("before-tokenize",function(t){/<\?/.test(t.code)&&e.languages["markup-templating"].buildPlaceholders(t,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g)}),e.hooks.add("after-tokenize",function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"php")})}(t),t.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},t.languages.python["string-interpolation"].inside.interpolation.inside.rest=t.languages.python,t.languages.py=t.languages.python,function(e){e.languages.ruby=e.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),e.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var t={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:e.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete e.languages.ruby.function;var n="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",o=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;e.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+n+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+o),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+o+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),e.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+n),greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+n),greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete e.languages.ruby.string,e.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),e.languages.rb=e.languages.ruby}(t),window.Prism=e,t}(),c=e=>t=>t.options.get(e),u=c("codesample_languages"),d=c("codesample_global_prismjs"),m=e=>r.Prism&&d(e)?r.Prism:l,p=e=>t(e)&&"PRE"===e.nodeName&&-1!==e.className.indexOf("language-"),g=e=>{const t=e.selection?e.selection.getNode():null;return p(t)?o.some(t):o.none()},h=e=>{const t=(e=>u(e)||[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}])(e),n=(r=t,(e=>0<e.length?o.some(e[0]):o.none())(r)).fold(()=>"",e=>e.value);var r;const a=((e,t)=>g(e).fold(()=>t,e=>{const n=e.className.match(/language-(\w+)/);return n?n[1]:t}))(e,n),s=(e=>g(e).bind(e=>o.from(e.textContent)).getOr(""))(e);e.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"listbox",name:"language",label:"Language",items:t},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:a,code:s},onSubmit:t=>{const n=t.getData();((e,t,n)=>{const o=e.dom;e.undoManager.transact(()=>{const r=g(e);return n=i.DOM.encode(n),r.fold(()=>{e.insertContent('<pre id="__new" class="language-'+t+'">'+n+"</pre>");const r=o.select("#__new")[0];o.setAttrib(r,"id",null),e.selection.select(r)},r=>{o.setAttrib(r,"class","language-"+t),r.innerHTML=n,m(e).highlightElement(r),e.selection.select(r)})})})(e,n.language,n.code),t.close()}})};var b=tinymce.util.Tools.resolve("tinymce.util.Tools");const f=(e,t=n)=>n=>{const o=()=>{n.setEnabled(e.selection.isEditable()),t(n)};return e.on("NodeChange",o),o(),()=>{e.off("NodeChange",o)}};e.add("codesample",e=>{(e=>{const t=e.options.register;t("codesample_languages",{processor:"object[]"}),t("codesample_global_prismjs",{processor:"boolean",default:!1})})(e),(e=>{e.on("PreProcess",t=>{const n=e.dom,o=n.select("pre[contenteditable=false]",t.node);b.each(b.grep(o,p),e=>{const t=e.textContent;let o;for(n.setAttrib(e,"class",a(n.getAttrib(e,"class"))),n.setAttrib(e,"contentEditable",null),n.setAttrib(e,"data-mce-highlighted",null);o=e.firstChild;)e.removeChild(o);n.add(e,"code").textContent=t})}),e.on("SetContent",()=>{const t=e.dom,n=b.grep(t.select("pre"),e=>p(e)&&"true"!==t.getAttrib(e,"data-mce-highlighted"));n.length&&e.undoManager.transact(()=>{b.each(n,n=>{var o;b.each(t.select("br",n),n=>{t.replace(e.getDoc().createTextNode("\n"),n)}),n.innerHTML=t.encode(null!==(o=n.textContent)&&void 0!==o?o:""),m(e).highlightElement(n),t.setAttrib(n,"data-mce-highlighted",!0),n.className=a(n.className)})})}),e.on("PreInit",()=>{e.parser.addNodeFilter("pre",e=>{var t;for(let n=0,o=e.length;n<o;n++){const o=e[n];-1!==(null!==(t=o.attr("class"))&&void 0!==t?t:"").indexOf("language-")&&(o.attr("contenteditable","false"),o.attr("data-mce-highlighted","false"))}})})})(e),(e=>{const t=()=>e.execCommand("codesample");e.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:t,onSetup:f(e,t=>{t.setActive((e=>{const t=e.selection.getStart();return e.dom.is(t,'pre[class*="language-"]')})(e))})}),e.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:t,onSetup:f(e)})})(e),(e=>{e.addCommand("codesample",()=>{const t=e.selection.getNode();e.selection.isCollapsed()||p(t)?h(e):e.formatter.toggle("code")})})(e),e.on("dblclick",t=>{p(t.target)&&h(e)})})}()},18896:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>typeof t===e,n=t("boolean"),o=t("number"),r=e=>t=>t.options.get(e),a=r("nonbreaking_force_tab"),s=r("nonbreaking_wrap"),i=(e,t)=>{let n="";for(let o=0;o<t;o++)n+=e;return n},l=(e,t)=>{const n=s(e)||e.plugins.visualchars?`<span class="${(e=>!!e.plugins.visualchars&&e.plugins.visualchars.isEnabled())(e)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap"}" contenteditable="false">${i("&nbsp;",t)}</span>`:i("&nbsp;",t);e.undoManager.transact(()=>e.insertContent(n))};var c=tinymce.util.Tools.resolve("tinymce.util.VK");const u=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("nonbreaking",e=>{(e=>{const t=e.options.register;t("nonbreaking_force_tab",{processor:e=>n(e)?{value:e?3:0,valid:!0}:o(e)?{value:e,valid:!0}:{valid:!1,message:"Must be a boolean or number."},default:!1}),t("nonbreaking_wrap",{processor:"boolean",default:!0})})(e),(e=>{e.addCommand("mceNonBreaking",()=>{l(e,1)})})(e),(e=>{const t=()=>e.execCommand("mceNonBreaking");e.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:t,onSetup:u(e)}),e.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:t,onSetup:u(e)})})(e),(e=>{const t=a(e);t>0&&e.on("keydown",n=>{if(n.keyCode===c.TAB&&!n.isDefaultPrevented()){if(n.shiftKey)return;n.preventDefault(),n.stopImmediatePropagation(),l(e,t)}})})(e)})}()},22612:function(){!function(){"use strict";const e=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(a=String).prototype,o.isPrototypeOf(n)||(null===(s=r.constructor)||void 0===s?void 0:s.name)===a.name)?"string":t;var n,o;var r,a,s})(t)===e,t=e=>t=>typeof t===e,n=e=>t=>e===t,o=e("string"),r=e("object"),a=e("array"),s=n(null),i=t("boolean"),l=n(void 0),c=e=>!(e=>null==e)(e),u=t("function"),d=t("number"),m=()=>{},p=e=>()=>e;function g(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const h=p(!1),b=p(!0);class f{constructor(e,t){this.tag=e,this.value=t}static some(e){return new f(!0,e)}static none(){return f.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?f.some(e(this.value)):f.none()}bind(e){return this.tag?e(this.value):f.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:f.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return c(e)?f.some(e):f.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}f.singletonNone=new f(!1);const y=Array.prototype.push,v=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},w=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},x=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},S=(e,t)=>((e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return f.some(r);if(n(r,o))break}return f.none()})(e,t,h),k=(e,t)=>(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);y.apply(t,e[n])}return t})(v(e,t)),C=e=>((e,t)=>t>=0&&t<e.length?f.some(e[t]):f.none())(e,0),T=Object.keys,A=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},_="undefined"!=typeof window?window:Function("return this;")(),O=(e,t)=>((e,t)=>{let n=null!=t?t:_;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),E=e=>{const t=A(f.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(f.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(f.some(e))}}},N=()=>E(e=>e.unbind()),F=(e,t,n=0,o)=>{const r=e.indexOf(t,n);return-1!==r&&(!!l(o)||r+t.length<=o)};var D=tinymce.util.Tools.resolve("tinymce.PluginManager");const R=e=>({isFullscreen:()=>null!==e.get()}),P=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},M={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return P(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return P(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return P(n)},fromDom:P,fromPoint:(e,t,n)=>f.from(e.dom.elementFromPoint(t,n)).map(P)},B=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},$=()=>j(0,0),j=(e,t)=>({major:e,minor:t}),L={nu:j,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?$():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}})(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return j(o(1),o(2))})(e,n)},unknown:$},I=(e,t)=>((e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return f.none()})(t.brands,t=>{const n=t.brand.toLowerCase();return S(e,e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())}).map(e=>({current:e.name,version:L.nu(parseInt(t.version,10),0)}))}),z=(e,t)=>{const n=String(t).toLowerCase();return S(e,e=>e.search(n))},W=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,q=e=>t=>F(t,e),U=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>F(e,"edge/")&&F(e,"chrome")&&F(e,"safari")&&F(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,W],search:e=>F(e,"chrome")&&!F(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>F(e,"msie")||F(e,"trident")},{name:"Opera",versionRegexes:[W,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:q("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:q("firefox")},{name:"Safari",versionRegexes:[W,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(F(e,"safari")||F(e,"mobile/"))&&F(e,"applewebkit")}],H=[{name:"Windows",search:q("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>F(e,"iphone")||F(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:q("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:q("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:q("linux"),versionRegexes:[]},{name:"Solaris",search:q("sunos"),versionRegexes:[]},{name:"FreeBSD",search:q("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:q("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],V={browsers:p(U),oses:p(H)},Z="Edge",K="Chromium",G="Opera",J="Firefox",Q="Safari",Y=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(Z),isChromium:o(K),isIE:o("IE"),isOpera:o(G),isFirefox:o(J),isSafari:o(Q)}},X={unknown:()=>Y({current:void 0,version:L.unknown()}),nu:Y,edge:p(Z),chromium:p(K),ie:p("IE"),opera:p(G),firefox:p(J),safari:p(Q)},ee="Windows",te="Android",ne="Linux",oe="macOS",re="Solaris",ae="FreeBSD",se="ChromeOS",ie=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(ee),isiOS:o("iOS"),isAndroid:o(te),isMacOS:o(oe),isLinux:o(ne),isSolaris:o(re),isFreeBSD:o(ae),isChromeOS:o(se)}},le={unknown:()=>ie({current:void 0,version:L.unknown()}),nu:ie,windows:p(ee),ios:p("iOS"),android:p(te),linux:p(ne),macos:p(oe),solaris:p(re),freebsd:p(ae),chromeos:p(se)},ce=(e,t,n)=>{const o=V.browsers(),r=V.oses(),a=t.bind(e=>I(o,e)).orThunk(()=>((e,t)=>z(e,t).map(e=>{const n=L.detect(e.versionRegexes,t);return{current:e.name,version:n}}))(o,e)).fold(X.unknown,X.nu),s=((e,t)=>z(e,t).map(e=>{const n=L.detect(e.versionRegexes,t);return{current:e.name,version:n}}))(r,e).fold(le.unknown,le.nu),i=((e,t,n,o)=>{const r=e.isiOS()&&!0===/ipad/i.test(n),a=e.isiOS()&&!r,s=e.isiOS()||e.isAndroid(),i=s||o("(pointer:coarse)"),l=r||!a&&s&&o("(min-device-width:768px)"),c=a||s&&!l,u=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!c&&!l&&!u;return{isiPad:p(r),isiPhone:p(a),isTablet:p(l),isPhone:p(c),isTouch:p(i),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:p(u),isDesktop:p(d)}})(s,a,e,n);return{browser:a,os:s,deviceType:i}},ue=e=>window.matchMedia(e).matches;let de=(e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)})(()=>ce(window.navigator.userAgent,f.from(window.navigator.userAgentData),ue));const me=(e,t)=>{const n=((e,t)=>O(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n},pe=Object.getPrototypeOf,ge=e=>{const t=O("ownerDocument.defaultView",e);return r(e)&&((e=>me("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(pe(e).constructor.name))},he=e=>t=>(e=>e.dom.nodeType)(t)===e,be=he(1),fe=he(3),ye=he(11),ve=e=>M.fromDom(e.dom.ownerDocument),we=e=>(e=>f.from(e.dom.parentNode).map(M.fromDom))(e).map(xe).map(t=>x(t,t=>{return n=t,!(e.dom===n.dom);var n})).getOr([]),xe=e=>v(e.dom.childNodes,M.fromDom),Se=e=>{const t=(e=>M.fromDom(e.dom.getRootNode()))(e);return ye(n=t)&&c(n.dom.host)?f.some(t):f.none();var n},ke=e=>M.fromDom(e.dom.host),Ce=e=>c(e.dom.shadowRoot),Te=e=>{const t=M.fromDom((e=>{if(c(e.target)){const t=M.fromDom(e.target);if(be(t)&&Ce(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return C(t)}}return f.from(e.target)})(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),r=(a=o,s=n,(...e)=>a(s.apply(null,e)));var a,s;return((e,t,n,o,r,a,s)=>({target:e,x:t,y:n,stop:o,prevent:r,kill:a,raw:s}))(t,e.clientX,e.clientY,n,o,r,e)},Ae=(e,t,n,o,r)=>{const a=((e,t)=>n=>{e(n)&&t(Te(n))})(n,o);return e.dom.addEventListener(t,a,r),{unbind:g(_e,e,t,a,r)}},_e=(e,t,n,o)=>{e.dom.removeEventListener(t,n,o)},Oe=b,Ee=(e,t,n)=>((e,t,n,o)=>Ae(e,t,n,o,!1))(e,t,Oe,n),Ne=(e,t,n)=>{((e,t,n)=>{if(!(o(n)||i(n)||d(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(e.dom,t,n)},Fe=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},De=(e,t)=>{e.dom.removeAttribute(t)},Re=e=>void 0!==e.style&&u(e.style.getPropertyValue),Pe=e=>{const t=fe(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return Se(M.fromDom(t)).fold(()=>n.body.contains(t),(o=Pe,r=ke,e=>o(r(e))));var o,r},Me=(e,t,n)=>{if(!o(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Re(e)&&e.style.setProperty(t,n)},Be=(e,t,n)=>{const o=e.dom;Me(o,t,n)},$e=(e,t)=>{const n=e.dom;((e,t)=>{const n=T(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}})(t,(e,t)=>{Me(n,t,e)})},je=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||Pe(e)?o:Le(n,t)},Le=(e,t)=>Re(e)?e.style.getPropertyValue(t):"",Ie=(e,t)=>({left:e,top:t,translate:(n,o)=>Ie(e+n,t+o)}),ze=Ie,We=(e,t,n)=>x(((e,t)=>{const n=u(t)?t:h;let o=e.dom;const r=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){const e=o.parentNode,t=M.fromDom(e);if(r.push(t),!0===n(t))break;o=e}return r})(e,n),t),qe=e=>((e,t)=>{const n=void 0===t?document:t.dom;return 1!==(o=n).nodeType&&9!==o.nodeType&&11!==o.nodeType||0===o.childElementCount?[]:v(n.querySelectorAll(e),M.fromDom);var o})(e),Ue=(e,t,n)=>We(e,e=>B(e,t),n),He=(e,t)=>((e,t)=>x(we(e),t))(e,e=>B(e,t)),Ve=e=>{const t=void 0===e?window:e;return de().browser.isFirefox()?f.none():f.from(t.visualViewport)},Ze=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),Ke=e=>{const t=void 0===e?window:e,n=t.document,o=(e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return ze(n,o)})(M.fromDom(n));return Ve(t).fold(()=>{const e=t.document.documentElement,n=e.clientWidth,r=e.clientHeight;return Ze(o.left,o.top,n,r)},e=>Ze(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height))},Ge=(e,t,n)=>Ve(n).map(n=>{const o=e=>t(Te(e));return n.addEventListener(e,o),{unbind:()=>n.removeEventListener(e,o)}}).getOrThunk(()=>({unbind:m}));var Je=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Qe=tinymce.util.Tools.resolve("tinymce.Env");const Ye=(e,t)=>{e.dispatch("FullscreenStateChanged",{state:t}),e.dispatch("ResizeEditor")},Xe=(et="fullscreen_native",e=>e.options.get(et));var et;const tt=e=>{const t=M.fromDom(e.getElement());return Se(t).map(ke).getOrThunk(()=>(e=>{const t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return M.fromDom(t)})(ve(t)))},nt=e=>{return e.dom===(void 0!==(t=ve(e).dom).fullscreenElement?t.fullscreenElement:void 0!==t.msFullscreenElement?t.msFullscreenElement:void 0!==t.webkitFullscreenElement?t.webkitFullscreenElement:null);var t},ot="data-ephox-mobile-fullscreen-style",rt="position:absolute!important;",at="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",st=Qe.os.isAndroid(),it=(e,t,n)=>{const o=t=>n=>{const o=Fe(n,"style"),r=void 0===o?"no-styles":o.trim();r!==t&&(Ne(n,ot,r),$e(n,e.parseStyle(t)))},r=Ue(t,"*"),a=k(r,e=>He(e,"*:not(.tox-silver-sink)")),s=(e=>{const t=je(e,"background-color");return void 0!==t&&""!==t?"background-color:"+t+"!important":"background-color:rgb(255,255,255)!important;"})(n);w(a,o("display:none!important;")),w(r,o(rt+at+s));o((!0===st?"":rt)+at+s)(t)},lt=Je.DOM,ct=Ve().fold(()=>({bind:m,unbind:m}),e=>{const t=(()=>{const e=E(m);return{...e,on:t=>e.get().each(t)}})(),n=N(),o=N(),r=((e,t)=>{let n=null;return{cancel:()=>{s(n)||(clearTimeout(n),n=null)},throttle:(...o)=>{s(n)&&(n=setTimeout(()=>{n=null,e.apply(null,o)},t))}}})(()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0,window.requestAnimationFrame(()=>{t.on(t=>$e(t,{top:e.offsetTop+"px",left:e.offsetLeft+"px",height:e.height+"px",width:e.width+"px"}))})},50);return{bind:e=>{t.set(e),r.throttle(),n.set(Ge("resize",r.throttle)),o.set(Ge("scroll",r.throttle))},unbind:()=>{t.on(()=>{n.clear(),o.clear()}),t.clear()}}}),ut=(e,t)=>{const n=document.body,o=document.documentElement,r=e.getContainer(),a=M.fromDom(r),s=(i=a,f.from(i.dom.nextSibling).map(M.fromDom)).filter(e=>(e=>be(e)&&ge(e.dom))(e)&&((e,t)=>(e=>void 0!==e.dom.classList)(e)&&e.dom.classList.contains(t))(e,"tox-silver-sink"));var i;const l=tt(e),c=t.get(),u=M.fromDom(e.getBody()),d=Qe.deviceType.isTouch(),m=r.style,p=e.iframeElement,g=null==p?void 0:p.style,h=e=>{e(n,"tox-fullscreen"),e(o,"tox-fullscreen"),e(r,"tox-fullscreen"),Se(a).map(e=>ke(e).dom).each(t=>{e(t,"tox-fullscreen"),e(t,"tox-shadowhost")})},b=()=>{d&&(e=>{const t=qe("["+ot+"]");w(t,t=>{const n=Fe(t,ot);n&&"no-styles"!==n?$e(t,e.parseStyle(n)):De(t,"style"),De(t,ot)})})(e.dom),h(lt.removeClass),ct.unbind(),f.from(t.get()).each(e=>e.fullscreenChangeHandler.unbind())};if(c)c.fullscreenChangeHandler.unbind(),Xe(e)&&nt(l)&&(e=>{const t=e.dom;t.exitFullscreen?t.exitFullscreen():t.msExitFullscreen?t.msExitFullscreen():t.webkitCancelFullScreen&&t.webkitCancelFullScreen()})(ve(l)),g.width=c.iframeWidth,g.height=c.iframeHeight,m.width=c.containerWidth,m.height=c.containerHeight,m.top=c.containerTop,m.left=c.containerLeft,v=s,x=c.sinkCssPosition,S=(e,t)=>{Be(e,"position",t)},v.isSome()&&x.isSome()?f.some(S(v.getOrDie(),x.getOrDie())):f.none(),b(),y=c.scrollPos,window.scrollTo(y.x,y.y),t.set(null),Ye(e,!1),e.off("remove",b);else{const n=Ee(ve(l),void 0!==document.fullscreenElement?"fullscreenchange":void 0!==document.msFullscreenElement?"MSFullscreenChange":void 0!==document.webkitFullscreenElement?"webkitfullscreenchange":"fullscreenchange",n=>{Xe(e)&&(nt(l)||null===t.get()||ut(e,t))}),o={scrollPos:Ke(window),containerWidth:m.width,containerHeight:m.height,containerTop:m.top,containerLeft:m.left,iframeWidth:g.width,iframeHeight:g.height,fullscreenChangeHandler:n,sinkCssPosition:s.map(e=>je(e,"position"))};d&&it(e.dom,a,u),g.width=g.height="100%",m.width=m.height="",h(lt.addClass),s.each(e=>{Be(e,"position","fixed")}),ct.bind(a),e.on("remove",b),t.set(o),Xe(e)&&(e=>{const t=e.dom;t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen()})(l),Ye(e,!0)}var y,v,x,S};var dt=tinymce.util.Tools.resolve("tinymce.util.VK");const mt=(e,t)=>n=>{n.setActive(null!==t.get());const o=e=>n.setActive(e.state);return e.on("FullscreenStateChanged",o),()=>e.off("FullscreenStateChanged",o)};D.add("fullscreen",e=>{const t=A(null);return e.inline||((e=>{(0,e.options.register)("fullscreen_native",{processor:"boolean",default:!1})})(e),((e,t)=>{e.addCommand("mceFullScreen",()=>{ut(e,t)})})(e,t),((e,t)=>{const n=()=>e.execCommand("mceFullScreen");e.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:n,onSetup:mt(e,t),context:"any"}),e.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:n,onSetup:mt(e,t),shortcut:"Meta+Shift+F",context:"any"})})(e,t),((e,t)=>{e.on("init",()=>{e.on("keydown",e=>{e.keyCode!==dt.TAB||e.metaKey||e.ctrlKey||!t.get()||e.preventDefault()})})})(e,t),e.addShortcut("Meta+Shift+F","","mceFullScreen")),R(t)})}()},22903:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env");const n=e=>t=>t.options.get(e),o=n("pagebreak_separator"),r=n("pagebreak_split_block"),a="mce-pagebreak",s=e=>{const n=`<img src="${t.transparentSrc}" class="${a}" data-mce-resize="false" data-mce-placeholder />`;return e?`<p>${n}</p>`:n},i=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("pagebreak",e=>{(e=>{const t=e.options.register;t("pagebreak_separator",{processor:"string",default:"\x3c!-- pagebreak --\x3e"}),t("pagebreak_split_block",{processor:"boolean",default:!1})})(e),(e=>{e.addCommand("mcePageBreak",()=>{e.insertContent(s(r(e)))})})(e),(e=>{const t=()=>e.execCommand("mcePageBreak");e.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:t,onSetup:i(e)}),e.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:t,onSetup:i(e)})})(e),(e=>{const t=o(e),n=()=>r(e),i=new RegExp(t.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,e=>"\\"+e),"gi");e.on("BeforeSetContent",e=>{e.content=e.content.replace(i,s(n()))}),e.on("PreInit",()=>{e.serializer.addNodeFilter("img",o=>{let r,s,i=o.length;for(;i--;)if(r=o[i],s=r.attr("class"),s&&-1!==s.indexOf(a)){const o=r.parent;if(o&&e.schema.getBlockElements()[o.name]&&n()){o.type=3,o.value=t,o.raw=!0,r.remove();continue}r.type=3,r.value=t,r.raw=!0}})})})(e),(e=>{e.on("ResolveName",t=>{"IMG"===t.target.nodeName&&e.dom.hasClass(t.target,a)&&(t.name="pagebreak")})})(e)})}()},24855:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(a=String).prototype,o.isPrototypeOf(n)||(null===(s=r.constructor)||void 0===s?void 0:s.name)===a.name)?"string":t;var n,o;var r,a,s})(t)===e,n=t("string"),o=t("object"),r=t("array"),a=e=>!(e=>null==e)(e),s=(i="function",e=>typeof e===i);var i;class l{constructor(e,t){this.tag=e,this.value=t}static some(e){return new l(!0,e)}static none(){return l.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?l.some(e(this.value)):l.none()}bind(e){return this.tag?e(this.value):l.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:l.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return a(e)?l.some(e):l.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}l.singletonNone=new l(!1);Array.prototype.slice;const c=Array.prototype.push,u=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},d=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!r(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);c.apply(t,e[n])}return t};s(Array.from)&&Array.from;const m=Object.keys,p=Object.hasOwnProperty,g=(e,t)=>h(e,t)?l.from(e[t]):l.none(),h=(e,t)=>p.call(e,t),b=(e,t)=>((e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t)(e,t,0),f=e=>t=>t.options.get(e),y=f("audio_template_callback"),v=f("video_template_callback"),w=f("iframe_template_callback"),x=f("media_live_embeds"),S=f("media_filter_html"),k=f("media_url_resolver"),C=f("media_alt_source"),T=f("media_poster"),A=f("media_dimensions");var _=tinymce.util.Tools.resolve("tinymce.util.Tools"),O=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),E=tinymce.util.Tools.resolve("tinymce.html.DomParser");const N=O.DOM,F=e=>e.replace(/px$/,""),D=e=>{const t=e.attr("style"),n=t?N.parseStyle(t):{};return{type:"ephox-embed-iri",source:e.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:g(n,"max-width").map(F).getOr(""),height:g(n,"max-height").map(F).getOr("")}},R=(e,t)=>{let n={};for(let o=E({validate:!1,forced_root_block:!1},t).parse(e);o;o=o.walk())if(1===o.type){const e=o.name;if(o.attr("data-ephox-embed-iri")){n=D(o);break}n.source||"param"!==e||(n.source=o.attr("movie")),"iframe"!==e&&"object"!==e&&"embed"!==e&&"video"!==e&&"audio"!==e||(n.type||(n.type=e),n=_.extend(o.attributes.map,n)),"source"===e&&(n.source?n.altsource||(n.altsource=o.attr("src")):n.source=o.attr("src")),"img"!==e||n.poster||(n.poster=o.attr("src"))}return n.source=n.source||n.src||"",n.altsource=n.altsource||"",n.poster=n.poster||"",n},P=e=>{var t;const n=null!==(t=e.toLowerCase().split(".").pop())&&void 0!==t?t:"";return g({mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},n).getOr("")};var M=tinymce.util.Tools.resolve("tinymce.html.Node"),B=tinymce.util.Tools.resolve("tinymce.html.Serializer");const $=(e,t={})=>E({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...t},e),j=O.DOM,L=e=>/^[0-9.]+$/.test(e)?e+"px":e,I=(e,t)=>{const n=t.attr("style"),o=n?j.parseStyle(n):{};a(e.width)&&(o["max-width"]=L(e.width)),a(e.height)&&(o["max-height"]=L(e.height)),t.attr("style",j.serializeStyle(o))},z=["source","altsource"],W=(e,t,n,o)=>{let r=0,a=0;const s=$(o);s.addNodeFilter("source",e=>r=e.length);const i=s.parse(e);for(let e=i;e;e=e.walk())if(1===e.type){const o=e.name;if(e.attr("data-ephox-embed-iri")){I(t,e);break}switch(o){case"video":case"object":case"embed":case"img":case"iframe":void 0!==t.height&&void 0!==t.width&&(e.attr("width",t.width),e.attr("height",t.height))}if(n)switch(o){case"video":e.attr("poster",t.poster),e.attr("src",null);for(let n=r;n<2;n++)if(t[z[n]]){const o=new M("source",1);o.attr("src",t[z[n]]),o.attr("type",t[z[n]+"mime"]||null),e.append(o)}break;case"iframe":e.attr("src",t.source);break;case"object":const n=e.getAll("img").length>0;if(t.poster&&!n){e.attr("src",t.poster);const n=new M("img",1);n.attr("src",t.poster),n.attr("width",t.width),n.attr("height",t.height),e.append(n)}break;case"source":if(a<2&&(e.attr("src",t[z[a]]),e.attr("type",t[z[a]+"mime"]||null),!t[z[a]])){e.remove();continue}a++;break;case"img":t.poster||e.remove()}}return B({},o).serialize(i)},q=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],U=(e,t)=>{const n=(e=>{const t=e.match(/^(https?:\/\/|www\.)(.+)$/i);return t&&t.length>1?"www."===t[1]?"https://":t[1]:"https://"})(t),o=e.regex.exec(t);let r=n+e.url;if(a(o))for(let e=0;e<o.length;e++)r=r.replace("$"+e,()=>o[e]?o[e]:"");return r.replace(/\?$/,"")},H=e=>{const t=q.filter(t=>t.regex.test(e));return t.length>0?_.extend({},t[0],{url:U(t[0],e)}):null},V=(e,t)=>{var n;const o=_.extend({},t);if(!o.source&&(_.extend(o,R(null!==(n=o.embed)&&void 0!==n?n:"",e.schema)),!o.source))return"";o.altsource||(o.altsource=""),o.poster||(o.poster=""),o.source=e.convertURL(o.source,"source"),o.altsource=e.convertURL(o.altsource,"source"),o.sourcemime=P(o.source),o.altsourcemime=P(o.altsource),o.poster=e.convertURL(o.poster,"poster");const r=H(o.source);if(r&&(o.source=r.url,o.type=r.type,o.allowfullscreen=r.allowFullscreen,o.width=o.width||String(r.w),o.height=o.height||String(r.h)),o.embed)return W(o.embed,o,!0,e.schema);{const t=y(e),n=v(e),r=w(e);return o.width=o.width||"300",o.height=o.height||"150",_.each(o,(t,n)=>{o[n]=e.dom.encode(""+t)}),"iframe"===o.type?((e,t)=>{if(t)return t(e);{const t=e.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+e.source+'" width="'+e.width+'" height="'+e.height+'"'+t+"></iframe>"}})(o,r):"application/x-shockwave-flash"===o.sourcemime?(e=>{let t='<object data="'+e.source+'" width="'+e.width+'" height="'+e.height+'" type="application/x-shockwave-flash">';return e.poster&&(t+='<img src="'+e.poster+'" width="'+e.width+'" height="'+e.height+'" />'),t+="</object>",t})(o):-1!==o.sourcemime.indexOf("audio")?((e,t)=>t?t(e):'<audio controls="controls" src="'+e.source+'">'+(e.altsource?'\n<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</audio>")(o,t):((e,t)=>t?t(e):'<video width="'+e.width+'" height="'+e.height+'"'+(e.poster?' poster="'+e.poster+'"':"")+' controls="controls">\n<source src="'+e.source+'"'+(e.sourcemime?' type="'+e.sourcemime+'"':"")+" />\n"+(e.altsource?'<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</video>")(o,n)}},Z=e=>e.hasAttribute("data-mce-object")||e.hasAttribute("data-ephox-embed-iri"),K={},G=e=>t=>V(e,t),J=(e,t)=>{const n=k(e);return n?((e,t,n)=>new Promise((o,r)=>{const a=n=>(n.html&&(K[e.source]=n),o({url:e.source,html:n.html?n.html:t(e)}));K[e.source]?a(K[e.source]):n({url:e.source}).then(a).catch(r)}))(t,G(e),n):((e,t)=>Promise.resolve({html:t(e),url:e.source}))(t,G(e))},Q=(e,t)=>{const n={};return g(e,"dimensions").each(e=>{u(["width","height"],o=>{g(t,o).orThunk(()=>g(e,o)).each(e=>n[o]=e)})}),n},Y=(e,t)=>{const n=t&&"dimensions"!==t?((e,t)=>g(t,e).bind(e=>g(e,"meta")))(t,e).getOr({}):{},r=((e,t,n)=>r=>{const a=()=>g(e,r),s=()=>g(t,r),i=e=>g(e,"value").bind(e=>e.length>0?l.some(e):l.none());return{[r]:(r===n?a().bind(e=>o(e)?i(e).orThunk(s):s().orThunk(()=>l.from(e))):s().orThunk(()=>a().bind(e=>o(e)?i(e):l.from(e)))).getOr("")}})(e,n,t);return{...r("source"),...r("altsource"),...r("poster"),...r("embed"),...Q(e,n)}},X=e=>{const t={...e,source:{value:g(e,"source").getOr("")},altsource:{value:g(e,"altsource").getOr("")},poster:{value:g(e,"poster").getOr("")}};return u(["width","height"],n=>{g(e,n).each(e=>{const o=t.dimensions||{};o[n]=e,t.dimensions=o})}),t},ee=e=>t=>{const n=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.";e.notificationManager.open({type:"error",text:n})},te=(e,t)=>o=>{if(n(o.url)&&o.url.trim().length>0){const n=o.html,r={...R(n,t.schema),source:o.url,embed:n};e.setData(X(r))}},ne=(e,t)=>{const n=e.dom.select("*[data-mce-object]");e.insertContent(t),((e,t)=>{const n=e.dom.select("*[data-mce-object]");for(let e=0;e<t.length;e++)for(let o=n.length-1;o>=0;o--)t[e]===n[o]&&n.splice(o,1);e.selection.select(n[0])})(e,n),e.nodeChanged()},oe=(e,t)=>a(t)&&"ephox-embed-iri"===t&&a(H(e)),re=(e,t)=>((e,t)=>e.width!==t.width||e.height!==t.height)(e,t)&&oe(t.source,e.type),ae=(e,t,n)=>{var o,r;t.embed=re(e,t)&&A(n)?V(n,{...t,embed:""}):W(null!==(o=t.embed)&&void 0!==o?o:"",t,!1,n.schema),t.embed&&(e.source===t.source||(r=t.source,h(K,r)))?ne(n,t.embed):J(n,t).then(e=>{ne(n,e.html)}).catch(ee(n))},se=e=>{const t=(e=>{const t=e.selection.getNode(),n=Z(t)?e.serializer.serialize(t,{selection:!0}):"",o=R(n,e.schema),r=(()=>{if(oe(o.source,o.type)){const n=e.dom.getRect(t);return{width:n.w.toString().replace(/px$/,""),height:n.h.toString().replace(/px$/,"")}}return{}})();return{embed:n,...o,...r}})(e),n=(e=>{let t=e;return{get:()=>t,set:e=>{t=e}}})(t),o=X(t),r=A(e)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],a={title:"General",name:"general",items:d([[{name:"source",type:"urlinput",filetype:"media",label:"Source",picker_text:"Browse files"}],r])},s={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},i=[];C(e)&&i.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),T(e)&&i.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const l={title:"Advanced",name:"advanced",items:i},c=[a,s];i.length>0&&c.push(l);const u={type:"tabpanel",tabs:c},m=e.windowManager.open({title:"Insert/Edit Media",size:"normal",body:u,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:t=>{const o=Y(t.getData());ae(n.get(),o,e),t.close()},onChange:(t,o)=>{switch(o.name){case"source":((t,n)=>{const o=Y(n.getData(),"source");t.source!==o.source&&(te(m,e)({url:o.source,html:""}),J(e,o).then(te(m,e)).catch(ee(e)))})(n.get(),t);break;case"embed":(t=>{var n;const o=Y(t.getData()),r=R(null!==(n=o.embed)&&void 0!==n?n:"",e.schema);t.setData(X(r))})(t);break;case"dimensions":case"altsource":case"poster":((t,n,o)=>{const r=Y(t.getData(),n),a=re(o,r)&&A(e)?{...r,embed:""}:r,s=V(e,a);t.setData(X({...a,embed:s}))})(t,o.name,n.get())}n.set(Y(t.getData()))},initialData:o})};var ie=tinymce.util.Tools.resolve("tinymce.Env");const le=e=>{const t=e.name;return"iframe"===t||"video"===t||"audio"===t},ce=(e,t,n,o=null)=>{const r=e.attr(n);return a(r)?r:h(t,n)?null:o},ue=(e,t,n)=>{const o="img"===t.name||"video"===e.name,r=o?"300":null,a="audio"===e.name?"30":"150",s=o?a:null;t.attr({width:ce(e,n,"width",r),height:ce(e,n,"height",s)})},de=(e,t)=>{const n=t.name,o=new M("img",1);return pe(e,t,o),ue(t,o,{}),o.attr({style:t.attr("style"),src:ie.transparentSrc,"data-mce-object":n,class:"mce-object mce-object-"+n}),o},me=(e,t)=>{var n;const o=t.name,r=new M("span",1);r.attr({contentEditable:"false",style:t.attr("style"),"data-mce-object":o,class:"mce-preview-object mce-object-"+o}),pe(e,t,r);const s=e.dom.parseStyle(null!==(n=t.attr("style"))&&void 0!==n?n:""),i=new M(o,1);if(ue(t,i,s),i.attr({src:t.attr("src"),style:t.attr("style"),class:t.attr("class")}),"iframe"===o)i.attr({allowfullscreen:t.attr("allowfullscreen"),frameborder:"0",sandbox:t.attr("sandbox"),referrerpolicy:t.attr("referrerpolicy")});else{u(["controls","crossorigin","currentTime","loop","muted","poster","preload"],e=>{i.attr(e,t.attr(e))});const n=r.attr("data-mce-html");a(n)&&((e,t,n,o)=>{const r=$(e.schema).parse(o,{context:t});for(;r.firstChild;)n.append(r.firstChild)})(e,o,i,unescape(n))}const l=new M("span",1);return l.attr("class","mce-shim"),r.append(i),r.append(l),r},pe=(e,t,n)=>{var o;const r=null!==(o=t.attributes)&&void 0!==o?o:[];let a=r.length;for(;a--;){const t=r[a].name;let o=r[a].value;"width"===t||"height"===t||"style"===t||b(t,"data-mce-")||("data"!==t&&"src"!==t||(o=e.convertURL(o,t)),n.attr("data-mce-p-"+t,o))}const s=B({inner:!0},e.schema),i=new M("div",1);u(t.children(),e=>i.append(e));const l=s.serialize(i);l&&(n.attr("data-mce-html",escape(l)),n.empty())},ge=e=>{const t=e.attr("class");return n(t)&&/\btiny-pageembed\b/.test(t)},he=e=>{let t=e;for(;t=t.parent;)if(t.attr("data-ephox-embed-iri")||ge(t))return!0;return!1},be=(e,t,n)=>{const o=(0,e.options.get)("xss_sanitization"),r=S(e);return $(e.schema,{sanitize:o,validate:r}).parse(n,{context:t})},fe=e=>{e.on("PreInit",()=>{const{schema:t,serializer:n,parser:o}=e,r=t.getBoolAttrs();u("webkitallowfullscreen mozallowfullscreen".split(" "),e=>{r[e]={}}),((e,t)=>{const n=m(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}})({embed:["wmode"]},(e,n)=>{const o=t.getElementRule(n);o&&u(e,e=>{o.attributes[e]={},o.attributesOrder.push(e)})}),o.addNodeFilter("iframe,video,audio,object,embed",(e=>t=>{let n,o=t.length;for(;o--;)n=t[o],n.parent&&(n.parent.attr("data-mce-object")||(le(n)&&x(e)?he(n)||n.replace(me(e,n)):he(n)||n.replace(de(e,n))))})(e)),n.addAttributeFilter("data-mce-object",(t,n)=>{var o;let r=t.length;for(;r--;){const a=t[r];if(!a.parent)continue;const s=a.attr(n),i=new M(s,1);if("audio"!==s){const e=a.attr("class");e&&-1!==e.indexOf("mce-preview-object")&&a.firstChild?i.attr({width:a.firstChild.attr("width"),height:a.firstChild.attr("height")}):i.attr({width:a.attr("width"),height:a.attr("height")})}i.attr({style:a.attr("style")});const l=null!==(o=a.attributes)&&void 0!==o?o:[];let c=l.length;for(;c--;){const e=l[c].name;0===e.indexOf("data-mce-p-")&&i.attr(e.substr(11),l[c].value)}const d=a.attr("data-mce-html");if(d){const t=be(e,s,unescape(d));u(t.children(),e=>i.append(e))}a.replace(i)}})}),e.on("SetContent",()=>{const t=e.dom;u(t.select("span.mce-preview-object"),e=>{0===t.select("span.mce-shim",e).length&&t.add(e,"span",{class:"mce-shim"})})})},ye=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("media",e=>((e=>{const t=e.options.register;t("audio_template_callback",{processor:"function"}),t("video_template_callback",{processor:"function"}),t("iframe_template_callback",{processor:"function"}),t("media_live_embeds",{processor:"boolean",default:!0}),t("media_filter_html",{processor:"boolean",default:!0}),t("media_url_resolver",{processor:"function"}),t("media_alt_source",{processor:"boolean",default:!0}),t("media_poster",{processor:"boolean",default:!0}),t("media_dimensions",{processor:"boolean",default:!0})})(e),(e=>{e.addCommand("mceMedia",()=>{se(e)})})(e),(e=>{const t=()=>e.execCommand("mceMedia");e.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:t,onSetup:t=>{const n=e.selection;t.setActive(Z(n.getNode()));const o=n.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",t.setActive).unbind,r=ye(e)(t);return()=>{o(),r()}}}),e.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:t,onSetup:ye(e)})})(e),(e=>{e.on("ResolveName",e=>{let t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)})})(e),fe(e),(e=>{e.on("mousedown",t=>{const n=e.dom.getParent(t.target,".mce-preview-object");n&&"2"===e.dom.getAttrib(n,"data-mce-selected")&&t.stopImmediatePropagation()}),e.on("click keyup touchend",()=>{const t=e.selection.getNode();t&&e.dom.hasClass(t,"mce-preview-object")&&e.dom.getAttrib(t,"data-mce-selected")&&t.setAttribute("data-mce-selected","2")}),e.on("ObjectResized",t=>{const n=t.target;if(n.getAttribute("data-mce-object")){let o=n.getAttribute("data-mce-html");o&&(o=unescape(o),n.setAttribute("data-mce-html",escape(W(o,{width:String(t.width),height:String(t.height)},!1,e.schema))))}})})(e),(e=>({showDialog:()=>{se(e)}}))(e)))}()},27524:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(a=String).prototype,o.isPrototypeOf(n)||(null===(s=r.constructor)||void 0===s?void 0:s.name)===a.name)?"string":t;var n,o;var r,a,s})(t)===e,n=e=>t=>typeof t===e,o=t("string"),r=t("object"),a=t("array"),s=n("boolean"),i=e=>!(e=>null==e)(e),l=n("function"),c=n("number"),u=()=>{},d=e=>()=>e,m=(e,t)=>e===t;const p=e=>t=>!e(t),g=d(!1);class h{constructor(e,t){this.tag=e,this.value=t}static some(e){return new h(!0,e)}static none(){return h.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?h.some(e(this.value)):h.none()}bind(e){return this.tag?e(this.value):h.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:h.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return i(e)?h.some(e):h.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}h.singletonNone=new h(!1);const b=Array.prototype.slice,f=Array.prototype.indexOf,y=Array.prototype.push,v=(e,t)=>{return n=e,o=t,f.call(n,o)>-1;var n,o},w=(e,t)=>{for(let n=0,o=e.length;n<o;n++){if(t(e[n],n))return!0}return!1},x=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},S=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},k=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},C=(e,t,n)=>(S(e,(e,o)=>{n=t(n,e,o)}),n),T=(e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return h.some(r);if(n(r,o))break}return h.none()},A=(e,t)=>T(e,t,g),_=(e,t)=>(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);y.apply(t,e[n])}return t})(x(e,t)),O=e=>{const t=b.call(e,0);return t.reverse(),t},E=(e,t)=>t>=0&&t<e.length?h.some(e[t]):h.none(),N=e=>E(e,0),F=e=>E(e,e.length-1),D=(e,t)=>{const n=[],o=l(t)?e=>w(n,n=>t(n,e)):e=>v(n,e);for(let t=0,r=e.length;t<r;t++){const r=e[t];o(r)||n.push(r)}return n},R=Object.keys,P=(e,t)=>{const n=R(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},M=(e,t)=>{const n={};var o;return((e,t,n,o)=>{P(e,(e,r)=>{(t(e,r)?n:o)(e,r)})})(e,t,(o=n,(e,t)=>{o[t]=e}),u),n},B="undefined"!=typeof window?window:Function("return this;")(),$=(e,t,n=m)=>e.exists(e=>n(e,t)),j=(e,t,n)=>e.isSome()&&t.isSome()?h.some(n(e.getOrDie(),t.getOrDie())):h.none(),L=(e,t)=>((e,t)=>{let n=null!=t?t:B;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),I=(z=/^\s+|\s+$/g,e=>e.replace(z,""));var z;const W=e=>"\ufeff"===e,q=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},U={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return q(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return q(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return q(n)},fromDom:q,fromPoint:(e,t,n)=>h.from(e.dom.elementFromPoint(t,n)).map(q)},H=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},V=(e,t)=>e.dom===t.dom,Z=H,K=(e,t)=>{const n=((e,t)=>L(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n},G=Object.getPrototypeOf,J=e=>{const t=L("ownerDocument.defaultView",e);return r(e)&&((e=>K("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(G(e).constructor.name))},Q=e=>e.dom.nodeName.toLowerCase(),Y=e=>e.dom.nodeType,X=e=>t=>Y(t)===e,ee=e=>te(e)&&J(e.dom),te=X(1),ne=X(3),oe=X(11),re=e=>t=>te(t)&&Q(t)===e,ae=e=>h.from(e.dom.parentNode).map(U.fromDom),se=e=>x(e.dom.childNodes,U.fromDom),ie=(e,t)=>{const n=e.dom.childNodes;return h.from(n[t]).map(U.fromDom)},le=e=>ie(e,0),ce=e=>ie(e,e.dom.childNodes.length-1),ue=e=>{const t=(e=>U.fromDom(e.dom.getRootNode()))(e);return oe(n=t)&&i(n.dom.host)?h.some(t):h.none();var n},de=e=>U.fromDom(e.dom.host),me=(e,t)=>{ae(e).each(n=>{n.dom.insertBefore(t.dom,e.dom)})},pe=(e,t)=>{const n=(e=>h.from(e.dom.nextSibling).map(U.fromDom))(e);n.fold(()=>{ae(e).each(e=>{ge(e,t)})},e=>{me(e,t)})},ge=(e,t)=>{e.dom.appendChild(t.dom)},he=(e,t)=>{S(t,t=>{ge(e,t)})},be=(e,t)=>{const n=e.dom;P(t,(e,t)=>{((e,t,n)=>{if(!(o(n)||s(n)||c(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(n,t,e)})},fe=e=>C(e.dom.attributes,(e,t)=>(e[t.name]=t.value,e),{}),ye=e=>{e.dom.textContent="",S(se(e),e=>{ve(e)})},ve=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},we=e=>((e,t)=>U.fromDom(e.dom.cloneNode(t)))(e,!0),xe=(e,t)=>{const n=((e,t)=>{const n=U.fromTag(t),o=fe(e);return be(n,o),n})(e,t);pe(e,n);const o=se(e);return he(n,o),ve(e),n},Se=e=>x(e,U.fromDom),ke=e=>{const t=ne(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return ue(U.fromDom(t)).fold(()=>n.body.contains(t),(o=ke,r=de,e=>o(r(e))));var o,r},Ce=(e,t,n)=>{if(!o(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);(e=>void 0!==e.style&&l(e.style.getPropertyValue))(e)&&e.style.setProperty(t,n)},Te=(e,t,n)=>{const o=e.dom;Ce(o,t,n)},Ae=(e,t)=>{const n=(t||document).createDocumentFragment();return S(e,e=>{n.appendChild(e.dom)}),U.fromDom(n)};var _e=(e,t,n,o,r)=>e(n,o)?h.some(n):l(r)&&r(n)?h.none():t(n,o,r);const Oe=(e,t,n)=>{let o=e.dom;const r=l(n)?n:g;for(;o.parentNode;){o=o.parentNode;const e=U.fromDom(o);if(t(e))return h.some(e);if(r(e))break}return h.none()},Ee=(e,t,n)=>_e((e,t)=>t(e),Oe,e,t,n),Ne=(e,t,n)=>Oe(e,e=>H(e,t),n),Fe=e=>{return _e((e,t)=>H(e,t),Ne,e,"[contenteditable]",t);var t},De=e=>e.dom.contentEditable,Re=(e,t)=>{return n=e,o=function(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}(V,t),Oe(n,o,r).isSome();var n,o,r};var Pe=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Me=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Be=tinymce.util.Tools.resolve("tinymce.util.VK"),$e=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),je=tinymce.util.Tools.resolve("tinymce.util.Tools");const Le=e=>t=>i(t)&&t.nodeName.toLowerCase()===e,Ie=e=>t=>i(t)&&e.test(t.nodeName),ze=e=>i(e)&&3===e.nodeType,We=e=>i(e)&&1===e.nodeType,qe=Ie(/^(OL|UL|DL)$/),Ue=Ie(/^(OL|UL)$/),He=Le("ol"),Ve=Ie(/^(LI|DT|DD)$/),Ze=Ie(/^(DT|DD)$/),Ke=Ie(/^(TH|TD)$/),Ge=Le("br"),Je=(e,t)=>i(t)&&t.nodeName in e.schema.getTextBlockElements(),Qe=(e,t)=>i(e)&&e.nodeName in t,Ye=(e,t)=>i(t)&&t.nodeName in e.schema.getVoidElements(),Xe=(e,t,n)=>{const o=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&o},et=(e,t)=>e.isChildOf(t,e.getRoot()),tt=e=>t=>t.options.get(e),nt=tt("lists_indent_on_tab"),ot=tt("forced_root_block"),rt=tt("forced_root_block_attrs"),at=(e,t,n={})=>{const o=e.dom,r=e.schema.getBlockElements(),a=o.createFragment(),s=ot(e),i=rt(e);let l,c,u=!1;for(c=o.create(s,{...i,...n.style?{style:n.style}:{}}),Qe(t.firstChild,r)||a.appendChild(c);l=t.firstChild;){const e=l.nodeName;u||"SPAN"===e&&"bookmark"===l.getAttribute("data-mce-type")||(u=!0),Qe(l,r)?(a.appendChild(l),c=null):(c||(c=o.create(s,i),a.appendChild(c)),c.appendChild(l))}return!u&&c&&c.appendChild(o.create("br",{"data-mce-bogus":"1"})),a},st=$e.DOM,it=(e,t,n)=>{const o=st.select('span[data-mce-type="bookmark"]',t),r=at(e,n),a=st.createRng();a.setStartAfter(n),a.setEndAfter(t);const s=a.extractContents();for(let t=s.firstChild;t;t=t.firstChild)if("LI"===t.nodeName&&e.dom.isEmpty(t)){st.remove(t);break}e.dom.isEmpty(s)||st.insertAfter(s,t),st.insertAfter(r,t);const i=n.parentElement;i&&Xe(e.dom,i)&&(e=>{const t=e.parentNode;t&&je.each(o,e=>{t.insertBefore(e,n.parentNode)}),st.remove(e)})(i),st.remove(n),Xe(e.dom,t)&&st.remove(t)},lt=re("dd"),ct=re("dt"),ut=(e,t)=>{var n;lt(t)?xe(t,"dt"):ct(t)&&(n=t,h.from(n.dom.parentElement).map(U.fromDom)).each(n=>it(e,n.dom,t.dom))},dt=e=>{ct(e)&&xe(e,"dd")},mt=(e,t)=>{if(ze(e))return{container:e,offset:t};const n=Pe.getNode(e,t);return ze(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&ze(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&ze(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},pt=e=>{const t=e.cloneRange(),n=mt(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);const o=mt(e.endContainer,e.endOffset);return t.setEnd(o.container,o.offset),t},gt=["OL","UL","DL"],ht=gt.join(","),bt=(e,t)=>{const n=t||e.selection.getStart(!0);return e.dom.getParent(n,ht,wt(e,n))},ft=e=>{const t=bt(e),n=e.selection.getSelectedBlocks();return((e,t)=>i(e)&&1===t.length&&t[0]===e)(t,n)?(e=>k(e.querySelectorAll(ht),qe))(t):k(n,e=>qe(e)&&t!==e)},yt=e=>{const t=e.selection.getSelectedBlocks();return k(((e,t)=>{const n=je.map(t,t=>e.dom.getParent(t,"li,dd,dt",wt(e,t))||t);return D(n)})(e,t),Ve)},vt=(e,t)=>{const n=e.dom.getParents(t,"TD,TH");return n.length>0?n[0]:e.getBody()},wt=(e,t)=>{const n=e.dom.getParents(t,e.dom.isBlock),o=A(n,t=>{return(t=>t.nodeName.toLowerCase()!==ot(e))(t)&&(n=e.schema,!qe(o=t)&&!Ve(o)&&w(gt,e=>n.isValidChild(o.nodeName,e)));var n,o});return o.getOr(e.getBody())},xt=(e,t)=>{const n=e.dom.getParents(t,"ol,ul",wt(e,t));return F(n)},St=e=>{const t=(e=>{const t=xt(e,e.selection.getStart()),n=k(e.selection.getSelectedBlocks(),Ue);return t.toArray().concat(n)})(e),n=(e=>{const t=e.selection.getStart();return e.dom.getParents(t,"ol,ul",wt(e,t))})(e);return A(n,e=>{return t=U.fromDom(e),ae(t).exists(e=>Ve(e.dom)&&le(e).exists(e=>!qe(e.dom))&&ce(e).exists(e=>!qe(e.dom)));var t}).fold(()=>kt(e,t),e=>[e])},kt=(e,t)=>{const n=x(t,t=>xt(e,t).getOr(t));return D(n)},Ct=e=>/\btox\-/.test(e.className),Tt=(e,t)=>T(e,qe,Ke).exists(e=>e.nodeName===t&&!Ct(e)),At=(e,t)=>null!==t&&!e.dom.isEditable(t),_t=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return At(e,n)||!e.selection.isEditable()},Ot=(e,t)=>{const n=e.selection.getNode();return t({parents:e.dom.getParents(n),element:n}),e.on("NodeChange",t),()=>e.off("NodeChange",t)},Et=(e,t,n)=>e.dispatch("ListMutation",{action:t,element:n}),Nt=e=>Z(e,"OL,UL"),Ft=e=>le(e).exists(Nt),Dt=e=>"listAttributes"in e,Rt=e=>"isComment"in e,Pt=e=>e.depth>0,Mt=e=>e.isSelected,Bt=e=>{const t=se(e),n=ce(e).exists(Nt)?t.slice(0,-1):t;return x(n,we)},$t=(e,t)=>{ge(e.item,t.list)},jt=(e,t)=>{const n={list:U.fromTag(t,e),item:U.fromTag("li",e)};return ge(n.list,n.item),n},Lt=(e,t,n)=>{const o=t.slice(0,n.depth);return F(o).each(t=>{if(Dt(n)){const o=((e,t,n)=>{const o=U.fromTag("li",e);return be(o,t),he(o,n),o})(e,n.itemAttributes,n.content);((e,t)=>{ge(e.list,t),e.item=t})(t,o),((e,t)=>{Q(e.list)!==t.listType&&(e.list=xe(e.list,t.listType)),be(e.list,t.listAttributes)})(t,n)}else if((e=>"isFragment"in e)(n))he(t.item,n.content);else{const e=U.fromHtml(`\x3c!--${n.content}--\x3e`);ge(t.list,e)}}),o},It=(e,t,n)=>{const o=((e,t,n)=>{const o=[];for(let r=0;r<n;r++)o.push(jt(e,Dt(t)?t.listType:t.parentListType));return o})(e,n,n.depth-t.length);var r;return(e=>{for(let t=1;t<e.length;t++)$t(e[t-1],e[t])})(o),((e,t)=>{for(let t=0;t<e.length-1;t++)Te(e[t].item,"list-style-type","none");F(e).each(e=>{Dt(t)&&(be(e.list,t.listAttributes),be(e.item,t.itemAttributes)),he(e.item,t.content)})})(o,n),r=o,j(F(t),N(r),$t),t.concat(o)},zt=(e,t)=>{let n=h.none();const o=C(t,(t,o,r)=>Rt(o)?0===r?(n=h.some(o),t):Lt(e,t,o):o.depth>t.length?It(e,t,o):Lt(e,t,o),[]);return n.each(e=>{const t=U.fromHtml(`\x3c!--${e.content}--\x3e`);N(o).each(e=>{((e,t)=>{le(e).fold(()=>{ge(e,t)},n=>{e.dom.insertBefore(t.dom,n.dom)})})(e.list,t)})}),N(o).map(e=>e.list)},Wt=e=>(S(e,(t,n)=>{((e,t)=>{const n=e[t].depth,o=e=>e.depth===n&&!e.dirty,r=e=>e.depth<n;return T(O(e.slice(0,t)),o,r).orThunk(()=>T(e.slice(t+1),o,r))})(e,n).fold(()=>{t.dirty&&Dt(t)&&(e=>{e.listAttributes=M(e.listAttributes,(e,t)=>"start"!==t)})(t)},e=>{return o=e,void(Dt(n=t)&&Dt(o)&&(n.listType=o.listType,n.listAttributes={...o.listAttributes}));var n,o})}),e),qt=(e,t,n,o)=>{var r,a;if(8===Y(a=o)||"#comment"===Q(a))return[{depth:e+1,content:null!==(r=o.dom.nodeValue)&&void 0!==r?r:"",dirty:!1,isSelected:!1,isComment:!0}];t.each(e=>{V(e.start,o)&&n.set(!0)});const s=((e,t,n)=>ae(e).filter(te).map(o=>({depth:t,dirty:!1,isSelected:n,content:Bt(e),itemAttributes:fe(e),listAttributes:fe(o),listType:Q(o),isInPreviousLi:!1})))(o,e,n.get());t.each(e=>{V(e.end,o)&&n.set(!1)});const i=ce(o).filter(Nt).map(o=>Ht(e,t,n,o)).getOr([]);return s.toArray().concat(i)},Ut=(e,t,n,o)=>le(o).filter(Nt).fold(()=>qt(e,t,n,o),r=>{const a=C(se(o),(o,a,s)=>{if(0===s)return o;if(Z(a,"LI"))return o.concat(qt(e,t,n,a));{const t={isFragment:!0,depth:e,content:[a],isSelected:!1,dirty:!1,parentListType:Q(r)};return o.concat(t)}},[]);return Ht(e,t,n,r).concat(a)}),Ht=(e,t,n,o)=>_(se(o),o=>(Nt(o)?Ht:Ut)(e+1,t,n,o)),Vt=(e,t)=>_(((e,t)=>{if(0===e.length)return[];{let n=t(e[0]);const o=[];let r=[];for(let a=0,s=e.length;a<s;a++){const s=e[a],i=t(s);i!==n&&(o.push(r),r=[]),n=i,r.push(s)}return 0!==r.length&&o.push(r),o}})(t,Pt),t=>N(t).exists(Pt)?((e,t)=>{const n=Wt(t);return zt(e.contentDocument,n).toArray()})(e,t):((e,t)=>{const n=Wt(t);return x(n,t=>{const n=Rt(t)?Ae([U.fromHtml(`\x3c!--${t.content}--\x3e`)]):Ae(t.content),o=Dt(t)?t.itemAttributes:{};return U.fromDom(at(e,n.dom,o))})})(e,t)),Zt=(e,t,n)=>{const o=((e,t)=>{const n=(()=>{let e=!1;return{get:()=>e,set:t=>{e=t}}})();return x(e,e=>({sourceList:e,entries:Ht(0,t,n,e)}))})(t,(e=>{const t=x(yt(e),U.fromDom);return j(A(t,p(Ft)),A(O(t),p(Ft)),(e,t)=>({start:e,end:t}))})(e));S(o,t=>{((e,t)=>{S(k(e,Mt),e=>((e,t)=>{switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}t.dirty=!0})(t,e))})(t.entries,n);const o=Vt(e,t.entries);var r;S(o,t=>{Et(e,"Indent"===n?"IndentList":"OutdentList",t.dom)}),r=t.sourceList,S(o,e=>{me(r,e)}),ve(t.sourceList)})},Kt=(e,t)=>{const n=Se(St(e)),o=Se((e=>k(yt(e),Ze))(e));let r=!1;if(n.length||o.length){const a=e.selection.getBookmark();Zt(e,n,t),((e,t,n)=>{S(n,"Indent"===t?dt:t=>ut(e,t))})(e,t,o),e.selection.moveToBookmark(a),e.selection.setRng(pt(e.selection.getRng())),e.nodeChanged(),r=!0}return r},Gt=(e,t)=>!(e=>{const t=bt(e);return At(e,t)||!e.selection.isEditable()})(e)&&Kt(e,t),Jt=e=>Gt(e,"Indent"),Qt=e=>Gt(e,"Outdent"),Yt=e=>Gt(e,"Flatten");var Xt=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const en=$e.DOM,tn=e=>{const t={},n=n=>{let o=e[n?"startContainer":"endContainer"],r=e[n?"startOffset":"endOffset"];if(We(o)){const e=en.create("span",{"data-mce-type":"bookmark"});o.hasChildNodes()?(r=Math.min(r,o.childNodes.length-1),n?o.insertBefore(e,o.childNodes[r]):en.insertAfter(e,o.childNodes[r])):o.appendChild(e),o=e,r=0}t[n?"startContainer":"endContainer"]=o,t[n?"startOffset":"endOffset"]=r};return n(!0),e.collapsed||n(),t},nn=e=>{const t=t=>{let n=e[t?"startContainer":"endContainer"],o=e[t?"startOffset":"endOffset"];if(n){if(We(n)&&n.parentNode){const e=n;o=(e=>{var t;let n=null===(t=e.parentNode)||void 0===t?void 0:t.firstChild,o=0;for(;n;){if(n===e)return o;We(n)&&"bookmark"===n.getAttribute("data-mce-type")||o++,n=n.nextSibling}return-1})(n),n=n.parentNode,en.remove(e),!n.hasChildNodes()&&en.isBlock(n)&&n.appendChild(en.create("br"))}e[t?"startContainer":"endContainer"]=n,e[t?"startOffset":"endOffset"]=o}};t(!0),t();const n=en.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),pt(n)},on=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},rn=(e,t)=>{je.each(t,(t,n)=>{e.setAttribute(n,t)})},an=(e,t,n)=>{((e,t,n)=>{const o=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",o)})(e,t,n),((e,t,n)=>{rn(t,n["list-attributes"]),je.each(e.select("li",t),e=>{rn(e,n["list-item-attributes"])})})(e,t,n)},sn=(e,t)=>i(t)&&!Qe(t,e.schema.getBlockElements()),ln=(e,t,n,o)=>{let r=t[n?"startContainer":"endContainer"];const a=t[n?"startOffset":"endOffset"];We(r)&&(r=r.childNodes[Math.min(a,r.childNodes.length-1)]||r),!n&&Ge(r.nextSibling)&&(r=r.nextSibling);const s=(t,n)=>{var r;const a=new Me(t,(t=>{for(;!e.dom.isBlock(t)&&t.parentNode&&o!==t;)t=t.parentNode;return t})(t)),s=n?"next":"prev";let i;for(;i=a[s]();)if(!Ye(e,i)&&!W(i.textContent)&&0!==(null===(r=i.textContent)||void 0===r?void 0:r.length))return h.some(i);return h.none()};if(n&&ze(r))if(W(r.textContent))r=s(r,!1).getOr(r);else for(null!==r.parentNode&&sn(e,r.parentNode)&&(r=r.parentNode);null!==r.previousSibling&&(sn(e,r.previousSibling)||ze(r.previousSibling));)r=r.previousSibling;if(!n&&ze(r))if(W(r.textContent))r=s(r,!0).getOr(r);else for(null!==r.parentNode&&sn(e,r.parentNode)&&(r=r.parentNode);null!==r.nextSibling&&(sn(e,r.nextSibling)||ze(r.nextSibling));)r=r.nextSibling;for(;r.parentNode!==o;){const t=r.parentNode;if(Je(e,r))return r;if(/^(TD|TH)$/.test(t.nodeName))return r;r=t}return r},cn=(e,t,n)=>{const o=e.selection.getRng();let r="LI";const a=wt(e,((e,t)=>{const n=e.selection.getStart(!0),o=ln(e,t,!0,e.getBody());return Re(U.fromDom(o),U.fromDom(t.commonAncestorContainer))?t.commonAncestorContainer:n})(e,o)),s=e.dom;if("false"===s.getContentEditable(e.selection.getNode()))return;"DL"===(t=t.toUpperCase())&&(r="DT");const i=tn(o),l=k(((e,t,n)=>{const o=[],r=e.dom,a=ln(e,t,!0,n),s=ln(e,t,!1,n);let i;const l=[];for(let e=a;e&&(l.push(e),e!==s);e=e.nextSibling);return je.each(l,t=>{var a;if(Je(e,t))return o.push(t),void(i=null);if(r.isBlock(t)||Ge(t))return Ge(t)&&r.remove(t),void(i=null);const s=t.nextSibling;Xt.isBookmarkNode(t)&&(qe(s)||Je(e,s)||!s&&t.parentNode===n)?i=null:(i||(i=r.create("p"),null===(a=t.parentNode)||void 0===a||a.insertBefore(i,t),o.push(i)),i.appendChild(t))}),o})(e,o,a),e.dom.isEditable);je.each(l,o=>{let a;const i=o.previousSibling,l=o.parentNode;Ve(l)||(i&&qe(i)&&i.nodeName===t&&((e,t,n)=>{const o=e.getStyle(t,"list-style-type");let r=n?n["list-style-type"]:"";return r=null===r?"":r,o===r})(s,i,n)?(a=i,o=s.rename(o,r),i.appendChild(o)):(a=s.create(t),l.insertBefore(a,o),a.appendChild(o),o=s.rename(o,r)),((e,t,n)=>{je.each(n,n=>e.setStyle(t,n,""))})(s,o,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),an(s,a,n),dn(e.dom,a))}),e.selection.setRng(nn(i))},un=(e,t,n)=>{return((e,t)=>qe(e)&&e.nodeName===(null==t?void 0:t.nodeName))(t,n)&&((e,t,n)=>e.getStyle(t,"list-style-type",!0)===e.getStyle(n,"list-style-type",!0))(e,t,n)&&(o=n,t.className===o.className);var o},dn=(e,t)=>{let n,o=t.nextSibling;if(un(e,t,o)){const r=o;for(;n=r.firstChild;)t.appendChild(n);e.remove(r)}if(o=t.previousSibling,un(e,t,o)){const r=o;for(;n=r.lastChild;)t.insertBefore(n,t.firstChild);e.remove(r)}},mn=(e,t,n,o)=>{if(t.nodeName!==n){const r=e.dom.rename(t,n);an(e.dom,r,o),Et(e,on(n),r)}else an(e.dom,t,o),Et(e,on(n),t)},pn=(e,t,n,o)=>{if(t.classList.forEach((e,n,o)=>{e.startsWith("tox-")&&(o.remove(e),0===o.length&&t.removeAttribute("class"))}),t.nodeName!==n){const r=e.dom.rename(t,n);an(e.dom,r,o),Et(e,on(n),r)}else an(e.dom,t,o),Et(e,on(n),t)},gn=e=>"list-style-type"in e,hn=(e,t,n)=>{const o=bt(e);if(_t(e,o))return;const a=ft(e),s=r(n)?n:{};a.length>0?((e,t,n,o,r)=>{const a=qe(t);if(!a||t.nodeName!==o||gn(r)||Ct(t)){cn(e,o,r);const s=tn(e.selection.getRng()),i=a?[t,...n]:n,l=a&&Ct(t)?pn:mn;je.each(i,t=>{l(e,t,o,r)}),e.selection.setRng(nn(s))}else Yt(e)})(e,o,a,t,s):((e,t,n,o)=>{if(t!==e.getBody())if(t)if(t.nodeName!==n||gn(o)||Ct(t)){const r=tn(e.selection.getRng());Ct(t)&&t.classList.forEach((e,n,o)=>{e.startsWith("tox-")&&(o.remove(e),0===o.length&&t.removeAttribute("class"))}),an(e.dom,t,o);const a=e.dom.rename(t,n);dn(e.dom,a),e.selection.setRng(nn(r)),cn(e,n,o),Et(e,on(n),a)}else Yt(e);else cn(e,n,o),Et(e,on(n),t)})(e,o,t,s)},bn=$e.DOM,fn=(e,t)=>{const n=je.grep(e.select("ol,ul",t));je.each(n,t=>{((e,t)=>{const n=t.parentElement;if(n&&"LI"===n.nodeName&&n.firstChild===t){const o=n.previousSibling;o&&"LI"===o.nodeName?(o.appendChild(t),Xe(e,n)&&bn.remove(n)):bn.setStyle(n,"listStyleType","none")}if(qe(n)){const e=n.previousSibling;e&&"LI"===e.nodeName&&e.appendChild(t)}})(e,t)})},yn=(e,t,n,o)=>{let r=t.startContainer;const a=t.startOffset;if(ze(r)&&(n?a<r.data.length:a>0))return r;const s=e.schema.getNonEmptyElements();We(r)&&(r=Pe.getNode(r,a));const i=new Me(r,o);n&&((e,t)=>!!Ge(t)&&e.isBlock(t.nextSibling)&&!Ge(t.previousSibling))(e.dom,r)&&i.next();const l=n?i.next.bind(i):i.prev2.bind(i);for(;r=l();){if("LI"===r.nodeName&&!r.hasChildNodes())return r;if(s[r.nodeName])return r;if(ze(r)&&r.data.length>0)return r}return null},vn=(e,t)=>{const n=t.childNodes;return 1===n.length&&!qe(n[0])&&e.isBlock(n[0])},wn=e=>h.from(e).map(U.fromDom).filter(ee).exists(e=>((e,t=!1)=>ke(e)?e.dom.isContentEditable:Fe(e).fold(d(t),e=>"true"===De(e)))(e)&&!v(["details"],Q(e))),xn=(e,t,n)=>{let o;const r=vn(e,n)?n.firstChild:n;if(((e,t)=>{vn(e,t)&&wn(t.firstChild)&&e.remove(t.firstChild,!0)})(e,t),!Xe(e,t,!0))for(;o=t.firstChild;)r.appendChild(o)},Sn=(e,t,n)=>{let o;const r=t.parentNode;if(!et(e,t)||!et(e,n))return;qe(n.lastChild)&&(o=n.lastChild),r===n.lastChild&&Ge(r.previousSibling)&&e.remove(r.previousSibling);const a=n.lastChild;a&&Ge(a)&&t.hasChildNodes()&&e.remove(a),Xe(e,n,!0)&&ye(U.fromDom(n)),xn(e,t,n),o&&n.appendChild(o);const s=((e,t)=>{const n=e.dom,o=t.dom;return n!==o&&n.contains(o)})(U.fromDom(n),U.fromDom(t))?e.getParents(t,qe,n):[];e.remove(t),S(s,t=>{Xe(e,t)&&t!==e.getRoot()&&e.remove(t)})},kn=(e,t,n,o)=>{const r=e.dom;if(r.isEmpty(o))((e,t,n)=>{ye(U.fromDom(n)),Sn(e.dom,t,n),e.selection.setCursorLocation(n,0)})(e,n,o);else{const a=tn(t);Sn(r,n,o),e.selection.setRng(nn(a))}},Cn=(e,t)=>{const n=e.dom,o=e.selection,r=o.getStart(),a=vt(e,r),s=n.getParent(o.getStart(),"LI",a);if(s){const r=s.parentElement;if(r===e.getBody()&&Xe(n,r))return!0;const i=pt(o.getRng()),l=n.getParent(yn(e,i,t,a),"LI",a),c=l&&(t?n.isChildOf(s,l):n.isChildOf(l,s));if(l&&l!==s&&!c)return e.undoManager.transact(()=>{var n,o;t?kn(e,i,l,s):(null===(o=(n=s).parentNode)||void 0===o?void 0:o.firstChild)===n?Qt(e):((e,t,n,o)=>{const r=tn(t);Sn(e.dom,n,o);const a=nn(r);e.selection.setRng(a)})(e,i,s,l)}),!0;if(c&&!t&&l!==s){const t=i.commonAncestorContainer.parentElement;return!(!t||n.isChildOf(l,t))&&(e.undoManager.transact(()=>{const o=tn(i);xn(n,t,l),t.remove();const r=nn(o);e.selection.setRng(r)}),!0)}if(!l&&!t&&0===i.startOffset&&0===i.endOffset)return e.undoManager.transact(()=>{Yt(e)}),!0}return!1},Tn=(e,t)=>{const n=e.dom,o=e.selection.getStart(),r=vt(e,o),a=n.getParent(o,n.isBlock,r);if(a&&n.isEmpty(a,void 0,{checkRootAsContent:!0})){const o=pt(e.selection.getRng()),s=yn(e,o,t,r),i=n.getParent(s,"LI",r);if(s&&i){const l=e=>v(["td","th","caption"],Q(e)),c=e=>e.dom===r;return!!((e,t,n=m)=>j(e,t,n).getOr(e.isNone()&&t.isNone()))(Ee(U.fromDom(i),l,c),Ee(U.fromDom(o.startContainer),l,c),V)&&(e.undoManager.transact(()=>{const o=i.parentNode;((e,t,n)=>{const o=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),o&&e.isEmpty(o)&&e.remove(o)})(n,a,r),dn(n,o),e.selection.select(s,!0),e.selection.collapse(t)}),!0)}}return!1},An=e=>{const t=e.selection.getStart(),n=vt(e,t);return e.dom.getParent(t,"LI,DT,DD",n)||yt(e).length>0},_n=(e,t)=>{const n=e.selection;return!_t(e,n.getNode())&&(n.isCollapsed()?((e,t)=>Cn(e,t)||Tn(e,t))(e,t):(e=>!!An(e)&&(e.undoManager.transact(()=>{let t=!0;const n=()=>t=!1;e.on("input",n),e.execCommand("Delete"),e.off("input",n),t&&e.dispatch("input"),fn(e.dom,e.getBody())}),!0))(e))},On=e=>{const t=O(I(e).split("")),n=x(t,(e,t)=>{const n=e.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,t)*n});return C(n,(e,t)=>e+t,0)},En=e=>{if(--e<0)return"";{const t=e%26,n=Math.floor(e/26);return En(n)+String.fromCharCode("A".charCodeAt(0)+t)}},Nn=e=>{const t=parseInt(e.start,10);return $(e.listStyleType,"upper-alpha")?En(t):$(e.listStyleType,"lower-alpha")?En(t).toLowerCase():e.start},Fn=e=>{const t=bt(e);He(t)&&!_t(e,t)&&e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Nn({start:e.dom.getAttrib(t,"start","1"),listStyleType:h.from(e.dom.getStyle(t,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:t=>{(e=>{switch((e=>/^[0-9]+$/.test(e)?2:/^[A-Z]+$/.test(e)?0:(e=>/^[a-z]+$/.test(e))(e)?1:e.length>0?4:3)(e)){case 2:return h.some({listStyleType:h.none(),start:e});case 0:return h.some({listStyleType:h.some("upper-alpha"),start:On(e).toString()});case 1:return h.some({listStyleType:h.some("lower-alpha"),start:On(e).toString()});case 3:return h.some({listStyleType:h.none(),start:""});case 4:return h.none()}})(t.getData().start).each(t=>{e.execCommand("mceListUpdate",!1,{attrs:{start:"1"===t.start?"":t.start},styles:{"list-style-type":t.listStyleType.getOr("")}})}),t.close()}})},Dn=(e,t)=>()=>{const n=bt(e);return i(n)&&n.nodeName===t},Rn=e=>{e.addCommand("mceListProps",()=>{Fn(e)})},Pn=e=>{e.on("BeforeExecCommand",t=>{const n=t.command.toLowerCase();"indent"===n?Jt(e):"outdent"===n&&Qt(e)}),e.addCommand("InsertUnorderedList",(t,n)=>{hn(e,"UL",n)}),e.addCommand("InsertOrderedList",(t,n)=>{hn(e,"OL",n)}),e.addCommand("InsertDefinitionList",(t,n)=>{hn(e,"DL",n)}),e.addCommand("RemoveList",()=>{Yt(e)}),Rn(e),e.addCommand("mceListUpdate",(t,n)=>{r(n)&&((e,t)=>{const n=bt(e);null===n||_t(e,n)||e.undoManager.transact(()=>{r(t.styles)&&e.dom.setStyles(n,t.styles),r(t.attrs)&&P(t.attrs,(t,o)=>e.dom.setAttrib(n,o,t))})})(e,n)}),e.addQueryStateHandler("InsertUnorderedList",Dn(e,"UL")),e.addQueryStateHandler("InsertOrderedList",Dn(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",Dn(e,"DL"))};var Mn=tinymce.util.Tools.resolve("tinymce.html.Node");const Bn=e=>3===e.type,$n=e=>0===e.length,jn=e=>{const t=(t,n)=>{const o=Mn.create("li");S(t,e=>o.append(e)),n?e.insert(o,n,!0):e.append(o)},n=C(e.children(),(e,n)=>Bn(n)?[...e,n]:$n(e)||Bn(n)?e:(t(e,n),[]),[]);$n(n)||t(n)},Ln=e=>{nt(e)&&(e=>{e.on("keydown",t=>{t.keyCode!==Be.TAB||Be.metaKeyPressed(t)||e.undoManager.transact(()=>{(t.shiftKey?Qt(e):Jt(e))&&t.preventDefault()})})})(e),(e=>{e.on("ExecCommand",t=>{const n=t.command.toLowerCase();"delete"!==n&&"forwarddelete"!==n||!An(e)||fn(e.dom,e.getBody())}),e.on("keydown",t=>{t.keyCode===Be.BACKSPACE?_n(e,!1)&&t.preventDefault():t.keyCode===Be.DELETE&&_n(e,!0)&&t.preventDefault()})})(e)},In=(e,t)=>n=>(n.setEnabled(e.selection.isEditable()),Ot(e,o=>{n.setActive(Tt(o.parents,t)),n.setEnabled(!_t(e,o.element)&&e.selection.isEditable())})),zn=(e,t)=>n=>Ot(e,o=>n.setEnabled(Tt(o.parents,t)&&!_t(e,o.element)));e.add("lists",e=>((e=>{(0,e.options.register)("lists_indent_on_tab",{processor:"boolean",default:!0})})(e),(e=>{e.on("PreInit",()=>{const{parser:t}=e;t.addNodeFilter("ul,ol",e=>S(e,jn))})})(e),e.hasPlugin("rtc",!0)?Rn(e):(Ln(e),Pn(e)),(e=>{const t=t=>()=>e.execCommand(t);e.hasPlugin("advlist")||(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:In(e,"OL")}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:In(e,"UL")}))})(e),(e=>{const t={text:"List properties...",icon:"ordered-list",onAction:()=>e.execCommand("mceListProps"),onSetup:zn(e,"OL")};e.ui.registry.addMenuItem("listprops",t),e.ui.registry.addContextMenu("lists",{update:t=>{const n=bt(e,t);return He(n)?["listprops"]:[]}})})(e),(e=>({backspaceDelete:t=>{_n(e,t)}}))(e)))}()},27813:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>()=>e,n=t(!1);class o{constructor(e,t){this.tag=e,this.value=t}static some(e){return new o(!0,e)}static none(){return o.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?o.some(e(this.value)):o.none()}bind(e){return this.tag?e(this.value):o.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:o.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return null==e?o.none():o.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}o.singletonNone=new o(!1);const r=(e,t)=>((e,t,n)=>{for(let r=0,a=e.length;r<a;r++){const a=e[r];if(t(a,r))return o.some(a);if(n(a,r))break}return o.none()})(e,t,n),a=(e,t,n=0,o)=>{const r=e.indexOf(t,n);return-1!==r&&(!!(e=>void 0===e)(o)||r+t.length<=o)},s=()=>i(0,0),i=(e,t)=>({major:e,minor:t}),l={nu:i,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?s():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}})(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return i(o(1),o(2))})(e,n)},unknown:s},c=(e,t)=>{const n=String(t).toLowerCase();return r(e,e=>e.search(n))},u=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,d=e=>t=>a(t,e),m=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>a(e,"edge/")&&a(e,"chrome")&&a(e,"safari")&&a(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,u],search:e=>a(e,"chrome")&&!a(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>a(e,"msie")||a(e,"trident")},{name:"Opera",versionRegexes:[u,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:d("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:d("firefox")},{name:"Safari",versionRegexes:[u,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(a(e,"safari")||a(e,"mobile/"))&&a(e,"applewebkit")}],p=[{name:"Windows",search:d("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>a(e,"iphone")||a(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:d("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:d("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:d("linux"),versionRegexes:[]},{name:"Solaris",search:d("sunos"),versionRegexes:[]},{name:"FreeBSD",search:d("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:d("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],g={browsers:t(m),oses:t(p)},h="Edge",b="Chromium",f="Opera",y="Firefox",v="Safari",w=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(h),isChromium:o(b),isIE:o("IE"),isOpera:o(f),isFirefox:o(y),isSafari:o(v)}},x=()=>w({current:void 0,version:l.unknown()}),S=w,k=(t(h),t(b),t("IE"),t(f),t(y),t(v),"Windows"),C="Android",T="Linux",A="macOS",_="Solaris",O="FreeBSD",E="ChromeOS",N=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(k),isiOS:o("iOS"),isAndroid:o(C),isMacOS:o(A),isLinux:o(T),isSolaris:o(_),isFreeBSD:o(O),isChromeOS:o(E)}},F=()=>N({current:void 0,version:l.unknown()}),D=N,R=(t(k),t("iOS"),t(C),t(T),t(A),t(_),t(O),t(E),(e,n,a)=>{const s=g.browsers(),i=g.oses(),u=n.bind(e=>((e,t)=>((e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n]);if(o.isSome())return o}return o.none()})(t.brands,t=>{const n=t.brand.toLowerCase();return r(e,e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())}).map(e=>({current:e.name,version:l.nu(parseInt(t.version,10),0)}))}))(s,e)).orThunk(()=>((e,t)=>c(e,t).map(e=>{const n=l.detect(e.versionRegexes,t);return{current:e.name,version:n}}))(s,e)).fold(x,S),d=((e,t)=>c(e,t).map(e=>{const n=l.detect(e.versionRegexes,t);return{current:e.name,version:n}}))(i,e).fold(F,D),m=((e,n,o,r)=>{const a=e.isiOS()&&!0===/ipad/i.test(o),s=e.isiOS()&&!a,i=e.isiOS()||e.isAndroid(),l=i||r("(pointer:coarse)"),c=a||!s&&i&&r("(min-device-width:768px)"),u=s||i&&!c,d=n.isSafari()&&e.isiOS()&&!1===/safari/i.test(o),m=!u&&!c&&!d;return{isiPad:t(a),isiPhone:t(s),isTablet:t(c),isPhone:t(u),isTouch:t(l),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:t(d),isDesktop:t(m)}})(d,u,e,a);return{browser:u,os:d,deviceType:m}}),P=e=>window.matchMedia(e).matches;let M=(e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)})(()=>R(window.navigator.userAgent,o.from(window.navigator.userAgentData),P));const B=()=>M();var $=tinymce.util.Tools.resolve("tinymce.util.Tools");const j=e=>t=>t.options.get(e),L=j("content_style"),I=j("content_css_cors"),z=j("body_class"),W=j("body_id");e.add("preview",e=>{(e=>{e.addCommand("mcePreview",()=>{(e=>{const t=(e=>{var t;let n="";const o=e.dom.encode,r=null!==(t=L(e))&&void 0!==t?t:"";n+=`<base href="${o(e.documentBaseURI.getURI())}">`;const a=I(e)?' crossorigin="anonymous"':"";$.each(e.contentCSS,t=>{n+='<link type="text/css" rel="stylesheet" href="'+o(e.documentBaseURI.toAbsolute(t))+'"'+a+">"}),r&&(n+='<style type="text/css">'+r+"</style>");const s=W(e),i=z(e),l=e.getBody().dir,c=l?' dir="'+o(l)+'"':"";return"<!DOCTYPE html><html><head>"+n+'</head><body id="'+o(s)+'" class="mce-content-body '+o(i)+'"'+c+">"+e.getContent()+(()=>{const e=B().os.isMacOS()||B().os.isiOS();return`<script>(${(e=>{document.addEventListener("click",t=>{for(let n=t.target;n;n=n.parentNode)if("A"===n.nodeName){const o=n.getAttribute("href");if(o&&o.startsWith("#")){t.preventDefault();const e=document.getElementById(o.substring(1));return void(e&&e.scrollIntoView({behavior:"smooth"}))}(e?t.metaKey:t.ctrlKey&&!t.altKey)||t.preventDefault()}},!1)}).toString()})(${e})<\/script>`})()+"</body></html>"})(e);e.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:t}}).focus("close")})(e)})})(e),(e=>{const t=()=>e.execCommand("mcePreview");e.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:t,context:"any"}),e.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:t,context:"any"})})(e)})}()},31148:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");e.add("code",e=>((e=>{e.addCommand("mceCodeEditor",()=>{(e=>{const t=(e=>e.getContent({source_view:!0}))(e);e.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:t},onSubmit:t=>{((e,t)=>{e.focus(),e.undoManager.transact(()=>{e.setContent(t)}),e.selection.setCursorLocation(),e.nodeChanged()})(e,t.getData().code),t.close()}})})(e)})})(e),(e=>{const t=()=>e.execCommand("mceCodeEditor");e.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:t}),e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:t})})(e),{}))}()},33846:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||(null===(a=o.constructor)||void 0===a?void 0:a.name)===r.name)?"string":t;var n,o,r,a})(t)===e,n=e=>t=>typeof t===e,o=t("string"),r=t("object"),a=t("array"),s=n("boolean"),i=e=>!(e=>null==e)(e),l=n("function"),c=n("number"),u=()=>{},d=e=>()=>e,m=(e,t)=>e===t,p=e=>t=>!e(t),g=d(!1);class h{constructor(e,t){this.tag=e,this.value=t}static some(e){return new h(!0,e)}static none(){return h.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?h.some(e(this.value)):h.none()}bind(e){return this.tag?e(this.value):h.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:h.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return i(e)?h.some(e):h.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}h.singletonNone=new h(!1);const b=Array.prototype.slice,f=Array.prototype.indexOf,y=Array.prototype.push,v=(e,t)=>{return n=e,o=t,f.call(n,o)>-1;var n,o},w=(e,t)=>{for(let n=0,o=e.length;n<o;n++)if(t(e[n],n))return!0;return!1},x=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},S=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},k=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},C=(e,t,n)=>(S(e,(e,o)=>{n=t(n,e,o)}),n),T=(e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return h.some(r);if(n(r,o))break}return h.none()},A=(e,t)=>T(e,t,g),_=(e,t)=>(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);y.apply(t,e[n])}return t})(x(e,t)),O=e=>{const t=b.call(e,0);return t.reverse(),t},E=(e,t)=>t>=0&&t<e.length?h.some(e[t]):h.none(),N=e=>E(e,0),F=e=>E(e,e.length-1),D=(e,t)=>{const n=[],o=l(t)?e=>w(n,n=>t(n,e)):e=>v(n,e);for(let t=0,r=e.length;t<r;t++){const r=e[t];o(r)||n.push(r)}return n},R=Object.keys,P=(e,t)=>{const n=R(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},M="undefined"!=typeof window?window:Function("return this;")(),B=(e,t,n=m)=>e.exists(e=>n(e,t)),$=(e,t,n)=>e.isSome()&&t.isSome()?h.some(n(e.getOrDie(),t.getOrDie())):h.none(),j=(e,t)=>((e,t)=>{let n=null!=t?t:M;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),L=(I=/^\s+|\s+$/g,e=>e.replace(I,""));var I;const z=e=>"\ufeff"===e,W=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},q=(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return W(n.childNodes[0])},U=(e,t)=>{const n=(t||document).createElement(e);return W(n)},H=W,V=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Z=(e,t)=>e.dom===t.dom,K=V,G=Object.getPrototypeOf,J=e=>e.dom.nodeName.toLowerCase(),Q=e=>e.dom.nodeType,Y=e=>t=>Q(t)===e,X=e=>ee(e)&&(e=>{const t=j("ownerDocument.defaultView",e);return r(e)&&((e=>((e,t)=>{const n=((e,t)=>j(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n})("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(G(e).constructor.name))})(e.dom),ee=Y(1),te=Y(3),ne=Y(11),oe=e=>t=>ee(t)&&J(t)===e,re=e=>h.from(e.dom.parentNode).map(H),ae=e=>x(e.dom.childNodes,H),se=(e,t)=>{const n=e.dom.childNodes;return h.from(n[t]).map(H)},ie=e=>se(e,0),le=e=>se(e,e.dom.childNodes.length-1),ce=e=>H(e.dom.host),ue=(e,t)=>{re(e).each(n=>{n.dom.insertBefore(t.dom,e.dom)})},de=(e,t)=>{e.dom.appendChild(t.dom)},me=(e,t)=>{S(t,t=>{de(e,t)})},pe=(e,t)=>{const n=e.dom;P(t,(e,t)=>{((e,t,n)=>{if(!(o(n)||s(n)||c(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(n,t,e)})},ge=e=>C(e.dom.attributes,(e,t)=>(e[t.name]=t.value,e),{}),he=e=>{e.dom.textContent="",S(ae(e),e=>{be(e)})},be=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},fe=e=>(e=>H(e.dom.cloneNode(!0)))(e),ye=(e,t)=>{const n=((e,t)=>{const n=U(t),o=ge(e);return pe(n,o),n})(e,t);var o,r;r=n,(e=>h.from(e.dom.nextSibling).map(H))(o=e).fold(()=>{re(o).each(e=>{de(e,r)})},e=>{ue(e,r)});const a=ae(e);return me(n,a),be(e),n},ve=e=>x(e,H),we=e=>{const t=te(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return(e=>{const t=(e=>H(e.dom.getRootNode()))(e);return ne(n=t)&&i(n.dom.host)?h.some(t):h.none();var n})(H(t)).fold(()=>n.body.contains(t),(o=we,r=ce,e=>o(r(e))));var o,r},xe=(e,t,n)=>{((e,t,n)=>{if(!o(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);(e=>void 0!==e.style&&l(e.style.getPropertyValue))(e)&&e.style.setProperty(t,n)})(e.dom,t,n)},Se=(e,t)=>{const n=(t||document).createDocumentFragment();return S(e,e=>{n.appendChild(e.dom)}),H(n)};var ke=(e,t,n,o,r)=>e(n,o)?h.some(n):l(r)&&r(n)?h.none():t(n,o,r);const Ce=(e,t,n)=>{let o=e.dom;const r=l(n)?n:g;for(;o.parentNode;){o=o.parentNode;const e=H(o);if(t(e))return h.some(e);if(r(e))break}return h.none()},Te=(e,t,n)=>ke((e,t)=>t(e),Ce,e,t,n),Ae=(e,t,n)=>Ce(e,e=>V(e,t),n);var _e=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Oe=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Ee=tinymce.util.Tools.resolve("tinymce.util.VK"),Ne=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Fe=tinymce.util.Tools.resolve("tinymce.util.Tools");const De=e=>t=>i(t)&&t.nodeName.toLowerCase()===e,Re=e=>t=>i(t)&&e.test(t.nodeName),Pe=e=>i(e)&&3===e.nodeType,Me=e=>i(e)&&1===e.nodeType,Be=Re(/^(OL|UL|DL)$/),$e=Re(/^(OL|UL)$/),je=De("ol"),Le=Re(/^(LI|DT|DD)$/),Ie=Re(/^(DT|DD)$/),ze=Re(/^(TH|TD)$/),We=De("br"),qe=(e,t)=>i(t)&&t.nodeName in e.schema.getTextBlockElements(),Ue=(e,t)=>i(e)&&e.nodeName in t,He=(e,t)=>i(t)&&t.nodeName in e.schema.getVoidElements(),Ve=(e,t,n)=>{const o=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&o},Ze=(e,t)=>e.isChildOf(t,e.getRoot()),Ke=e=>t=>t.options.get(e),Ge=Ke("lists_indent_on_tab"),Je=Ke("forced_root_block"),Qe=Ke("forced_root_block_attrs"),Ye=(e,t,n={})=>{const o=e.dom,r=e.schema.getBlockElements(),a=o.createFragment(),s=Je(e),i=Qe(e);let l,c,u=!1;for(c=o.create(s,{...i,...n.style?{style:n.style}:{}}),Ue(t.firstChild,r)||a.appendChild(c);l=t.firstChild;){const e=l.nodeName;u||"SPAN"===e&&"bookmark"===l.getAttribute("data-mce-type")||(u=!0),Ue(l,r)?(a.appendChild(l),c=null):(c||(c=o.create(s,i),a.appendChild(c)),c.appendChild(l))}return!u&&c&&c.appendChild(o.create("br",{"data-mce-bogus":"1"})),a},Xe=Ne.DOM,et=oe("dd"),tt=oe("dt"),nt=e=>{tt(e)&&ye(e,"dd")},ot=(e,t)=>{if(Pe(e))return{container:e,offset:t};const n=_e.getNode(e,t);return Pe(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&Pe(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&Pe(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},rt=e=>{const t=e.cloneRange(),n=ot(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);const o=ot(e.endContainer,e.endOffset);return t.setEnd(o.container,o.offset),t},at=["OL","UL","DL"],st=at.join(","),it=(e,t)=>{const n=t||e.selection.getStart(!0);return e.dom.getParent(n,st,ut(e,n))},lt=e=>{const t=e.selection.getSelectedBlocks();return k(((e,t)=>{const n=Fe.map(t,t=>e.dom.getParent(t,"li,dd,dt",ut(e,t))||t);return D(n)})(e,t),Le)},ct=(e,t)=>{const n=e.dom.getParents(t,"TD,TH");return n.length>0?n[0]:e.getBody()},ut=(e,t)=>{const n=e.dom.getParents(t,e.dom.isBlock),o=A(n,t=>{return(t=>t.nodeName.toLowerCase()!==Je(e))(t)&&(n=e.schema,!Be(o=t)&&!Le(o)&&w(at,e=>n.isValidChild(o.nodeName,e)));var n,o});return o.getOr(e.getBody())},dt=(e,t)=>{const n=e.dom.getParents(t,"ol,ul",ut(e,t));return F(n)},mt=e=>/\btox\-/.test(e.className),pt=(e,t)=>T(e,Be,ze).exists(e=>e.nodeName===t&&!mt(e)),gt=(e,t)=>null!==t&&!e.dom.isEditable(t),ht=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return gt(e,n)||!e.selection.isEditable()},bt=(e,t)=>{const n=e.selection.getNode();return t({parents:e.dom.getParents(n),element:n}),e.on("NodeChange",t),()=>e.off("NodeChange",t)},ft=(e,t,n)=>e.dispatch("ListMutation",{action:t,element:n}),yt=e=>K(e,"OL,UL"),vt=e=>ie(e).exists(yt),wt=e=>"listAttributes"in e,xt=e=>"isComment"in e,St=e=>e.depth>0,kt=e=>e.isSelected,Ct=e=>{const t=ae(e),n=le(e).exists(yt)?t.slice(0,-1):t;return x(n,fe)},Tt=(e,t)=>{de(e.item,t.list)},At=(e,t)=>{const n={list:U(t,e),item:U("li",e)};return de(n.list,n.item),n},_t=(e,t,n)=>{const o=t.slice(0,n.depth);return F(o).each(t=>{if(wt(n)){const o=((e,t,n)=>{const o=U("li",e);return pe(o,t),me(o,n),o})(e,n.itemAttributes,n.content);((e,t)=>{de(e.list,t),e.item=t})(t,o),((e,t)=>{J(e.list)!==t.listType&&(e.list=ye(e.list,t.listType)),pe(e.list,t.listAttributes)})(t,n)}else if((e=>"isFragment"in e)(n))me(t.item,n.content);else{const e=q(`\x3c!--${n.content}--\x3e`);de(t.list,e)}}),o},Ot=e=>(S(e,(t,n)=>{((e,t)=>{const n=e[t].depth,o=e=>e.depth===n&&!e.dirty,r=e=>e.depth<n;return T(O(e.slice(0,t)),o,r).orThunk(()=>T(e.slice(t+1),o,r))})(e,n).fold(()=>{t.dirty&&wt(t)&&(e=>{e.listAttributes=(e=>{const t={};var n;return((e,t,n,o)=>{P(e,(e,r)=>{(t(e,r)?n:o)(e,r)})})(e,(e,t)=>"start"!==t,(n=t,(e,t)=>{n[t]=e}),u),t})(e.listAttributes)})(t)},e=>{return o=e,void(wt(n=t)&&wt(o)&&(n.listType=o.listType,n.listAttributes={...o.listAttributes}));var n,o})}),e),Et=(e,t,n,o)=>{var r,a;if(8===Q(a=o)||"#comment"===J(a))return[{depth:e+1,content:null!==(r=o.dom.nodeValue)&&void 0!==r?r:"",dirty:!1,isSelected:!1,isComment:!0}];t.each(e=>{Z(e.start,o)&&n.set(!0)});const s=((e,t,n)=>re(e).filter(ee).map(o=>({depth:t,dirty:!1,isSelected:n,content:Ct(e),itemAttributes:ge(e),listAttributes:ge(o),listType:J(o),isInPreviousLi:!1})))(o,e,n.get());t.each(e=>{Z(e.end,o)&&n.set(!1)});const i=le(o).filter(yt).map(o=>Ft(e,t,n,o)).getOr([]);return s.toArray().concat(i)},Nt=(e,t,n,o)=>ie(o).filter(yt).fold(()=>Et(e,t,n,o),r=>{const a=C(ae(o),(o,a,s)=>{if(0===s)return o;if(K(a,"LI"))return o.concat(Et(e,t,n,a));{const t={isFragment:!0,depth:e,content:[a],isSelected:!1,dirty:!1,parentListType:J(r)};return o.concat(t)}},[]);return Ft(e,t,n,r).concat(a)}),Ft=(e,t,n,o)=>_(ae(o),o=>(yt(o)?Ft:Nt)(e+1,t,n,o)),Dt=(e,t,n)=>{const o=((e,t)=>{const n=(()=>{let e=!1;return{get:()=>e,set:t=>{e=t}}})();return x(e,e=>({sourceList:e,entries:Ft(0,t,n,e)}))})(t,(e=>{const t=x(lt(e),H);return $(A(t,p(vt)),A(O(t),p(vt)),(e,t)=>({start:e,end:t}))})(e));S(o,t=>{((e,t)=>{S(k(e,kt),e=>((e,t)=>{switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}t.dirty=!0})(t,e))})(t.entries,n);const o=((e,t)=>_(((e,t)=>{if(0===e.length)return[];{let n=t(e[0]);const o=[];let r=[];for(let a=0,s=e.length;a<s;a++){const s=e[a],i=t(s);i!==n&&(o.push(r),r=[]),n=i,r.push(s)}return 0!==r.length&&o.push(r),o}})(t,St),t=>N(t).exists(St)?((e,t)=>{const n=Ot(t);return((e,t)=>{let n=h.none();const o=C(t,(t,o,r)=>xt(o)?0===r?(n=h.some(o),t):_t(e,t,o):o.depth>t.length?((e,t,n)=>{const o=((e,t,n)=>{const o=[];for(let r=0;r<n;r++)o.push(At(e,wt(t)?t.listType:t.parentListType));return o})(e,n,n.depth-t.length);var r;return(e=>{for(let t=1;t<e.length;t++)Tt(e[t-1],e[t])})(o),((e,t)=>{for(let t=0;t<e.length-1;t++)xe(e[t].item,"list-style-type","none");F(e).each(e=>{wt(t)&&(pe(e.list,t.listAttributes),pe(e.item,t.itemAttributes)),me(e.item,t.content)})})(o,n),r=o,$(F(t),N(r),Tt),t.concat(o)})(e,t,o):_t(e,t,o),[]);return n.each(e=>{const t=q(`\x3c!--${e.content}--\x3e`);N(o).each(e=>{((e,t)=>{ie(e).fold(()=>{de(e,t)},n=>{e.dom.insertBefore(t.dom,n.dom)})})(e.list,t)})}),N(o).map(e=>e.list)})(e.contentDocument,n).toArray()})(e,t):((e,t)=>{const n=Ot(t);return x(n,t=>{const n=xt(t)?Se([q(`\x3c!--${t.content}--\x3e`)]):Se(t.content),o=wt(t)?t.itemAttributes:{};return H(Ye(e,n.dom,o))})})(e,t)))(e,t.entries);var r;S(o,t=>{ft(e,"Indent"===n?"IndentList":"OutdentList",t.dom)}),r=t.sourceList,S(o,e=>{ue(r,e)}),be(t.sourceList)})},Rt=(e,t)=>{const n=ve((e=>{const t=(e=>{const t=dt(e,e.selection.getStart()),n=k(e.selection.getSelectedBlocks(),$e);return t.toArray().concat(n)})(e),n=(e=>{const t=e.selection.getStart();return e.dom.getParents(t,"ol,ul",ut(e,t))})(e);return A(n,e=>{return t=H(e),re(t).exists(e=>Le(e.dom)&&ie(e).exists(e=>!Be(e.dom))&&le(e).exists(e=>!Be(e.dom)));var t}).fold(()=>((e,t)=>{const n=x(t,t=>dt(e,t).getOr(t));return D(n)})(e,t),e=>[e])})(e)),o=ve((e=>k(lt(e),Ie))(e));let r=!1;if(n.length||o.length){const a=e.selection.getBookmark();Dt(e,n,t),((e,t,n)=>{S(n,"Indent"===t?nt:t=>((e,t)=>{var n;et(t)?ye(t,"dt"):tt(t)&&(n=t,h.from(n.dom.parentElement).map(H)).each(n=>((e,t,n)=>{const o=Xe.select('span[data-mce-type="bookmark"]',t),r=Ye(e,n),a=Xe.createRng();a.setStartAfter(n),a.setEndAfter(t);const s=a.extractContents();for(let t=s.firstChild;t;t=t.firstChild)if("LI"===t.nodeName&&e.dom.isEmpty(t)){Xe.remove(t);break}e.dom.isEmpty(s)||Xe.insertAfter(s,t),Xe.insertAfter(r,t);const i=n.parentElement;i&&Ve(e.dom,i)&&(e=>{const t=e.parentNode;t&&Fe.each(o,e=>{t.insertBefore(e,n.parentNode)}),Xe.remove(e)})(i),Xe.remove(n),Ve(e.dom,t)&&Xe.remove(t)})(e,n.dom,t.dom))})(e,t))})(e,t,o),e.selection.moveToBookmark(a),e.selection.setRng(rt(e.selection.getRng())),e.nodeChanged(),r=!0}return r},Pt=(e,t)=>!(e=>{const t=it(e);return gt(e,t)||!e.selection.isEditable()})(e)&&Rt(e,t),Mt=e=>Pt(e,"Indent"),Bt=e=>Pt(e,"Outdent"),$t=e=>Pt(e,"Flatten");var jt=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const Lt=Ne.DOM,It=e=>{const t={},n=n=>{let o=e[n?"startContainer":"endContainer"],r=e[n?"startOffset":"endOffset"];if(Me(o)){const e=Lt.create("span",{"data-mce-type":"bookmark"});o.hasChildNodes()?(r=Math.min(r,o.childNodes.length-1),n?o.insertBefore(e,o.childNodes[r]):Lt.insertAfter(e,o.childNodes[r])):o.appendChild(e),o=e,r=0}t[n?"startContainer":"endContainer"]=o,t[n?"startOffset":"endOffset"]=r};return n(!0),e.collapsed||n(),t},zt=e=>{const t=t=>{let n=e[t?"startContainer":"endContainer"],o=e[t?"startOffset":"endOffset"];if(n){if(Me(n)&&n.parentNode){const e=n;o=(e=>{var t;let n=null===(t=e.parentNode)||void 0===t?void 0:t.firstChild,o=0;for(;n;){if(n===e)return o;Me(n)&&"bookmark"===n.getAttribute("data-mce-type")||o++,n=n.nextSibling}return-1})(n),n=n.parentNode,Lt.remove(e),!n.hasChildNodes()&&Lt.isBlock(n)&&n.appendChild(Lt.create("br"))}e[t?"startContainer":"endContainer"]=n,e[t?"startOffset":"endOffset"]=o}};t(!0),t();const n=Lt.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),rt(n)},Wt=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},qt=(e,t)=>{Fe.each(t,(t,n)=>{e.setAttribute(n,t)})},Ut=(e,t,n)=>{((e,t,n)=>{const o=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",o)})(e,t,n),((e,t,n)=>{qt(t,n["list-attributes"]),Fe.each(e.select("li",t),e=>{qt(e,n["list-item-attributes"])})})(e,t,n)},Ht=(e,t)=>i(t)&&!Ue(t,e.schema.getBlockElements()),Vt=(e,t,n,o)=>{let r=t[n?"startContainer":"endContainer"];const a=t[n?"startOffset":"endOffset"];Me(r)&&(r=r.childNodes[Math.min(a,r.childNodes.length-1)]||r),!n&&We(r.nextSibling)&&(r=r.nextSibling);const s=(t,n)=>{var r;const a=new Oe(t,(t=>{for(;!e.dom.isBlock(t)&&t.parentNode&&o!==t;)t=t.parentNode;return t})(t)),s=n?"next":"prev";let i;for(;i=a[s]();)if(!He(e,i)&&!z(i.textContent)&&0!==(null===(r=i.textContent)||void 0===r?void 0:r.length))return h.some(i);return h.none()};if(n&&Pe(r))if(z(r.textContent))r=s(r,!1).getOr(r);else for(null!==r.parentNode&&Ht(e,r.parentNode)&&(r=r.parentNode);null!==r.previousSibling&&(Ht(e,r.previousSibling)||Pe(r.previousSibling));)r=r.previousSibling;if(!n&&Pe(r))if(z(r.textContent))r=s(r,!0).getOr(r);else for(null!==r.parentNode&&Ht(e,r.parentNode)&&(r=r.parentNode);null!==r.nextSibling&&(Ht(e,r.nextSibling)||Pe(r.nextSibling));)r=r.nextSibling;for(;r.parentNode!==o;){const t=r.parentNode;if(qe(e,r))return r;if(/^(TD|TH)$/.test(t.nodeName))return r;r=t}return r},Zt=(e,t,n)=>{const o=e.selection.getRng();let r="LI";const a=ut(e,((e,t)=>{const n=e.selection.getStart(!0),o=Vt(e,t,!0,e.getBody());return r=H(o),a=H(t.commonAncestorContainer),s=r,i=function(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}(Z,a),Ce(s,i,void 0).isSome()?t.commonAncestorContainer:n;var r,a,s,i})(e,o)),s=e.dom;if("false"===s.getContentEditable(e.selection.getNode()))return;"DL"===(t=t.toUpperCase())&&(r="DT");const i=It(o),l=k(((e,t,n)=>{const o=[],r=e.dom,a=Vt(e,t,!0,n),s=Vt(e,t,!1,n);let i;const l=[];for(let e=a;e&&(l.push(e),e!==s);e=e.nextSibling);return Fe.each(l,t=>{var a;if(qe(e,t))return o.push(t),void(i=null);if(r.isBlock(t)||We(t))return We(t)&&r.remove(t),void(i=null);const s=t.nextSibling;jt.isBookmarkNode(t)&&(Be(s)||qe(e,s)||!s&&t.parentNode===n)?i=null:(i||(i=r.create("p"),null===(a=t.parentNode)||void 0===a||a.insertBefore(i,t),o.push(i)),i.appendChild(t))}),o})(e,o,a),e.dom.isEditable);Fe.each(l,o=>{let a;const i=o.previousSibling,l=o.parentNode;Le(l)||(i&&Be(i)&&i.nodeName===t&&((e,t,n)=>{const o=e.getStyle(t,"list-style-type");let r=n?n["list-style-type"]:"";return r=null===r?"":r,o===r})(s,i,n)?(a=i,o=s.rename(o,r),i.appendChild(o)):(a=s.create(t),l.insertBefore(a,o),a.appendChild(o),o=s.rename(o,r)),((e,t)=>{Fe.each(["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"],n=>e.setStyle(t,n,""))})(s,o),Ut(s,a,n),Gt(e.dom,a))}),e.selection.setRng(zt(i))},Kt=(e,t,n)=>{return((e,t)=>Be(e)&&e.nodeName===(null==t?void 0:t.nodeName))(t,n)&&((e,t,n)=>e.getStyle(t,"list-style-type",!0)===e.getStyle(n,"list-style-type",!0))(e,t,n)&&(o=n,t.className===o.className);var o},Gt=(e,t)=>{let n,o=t.nextSibling;if(Kt(e,t,o)){const r=o;for(;n=r.firstChild;)t.appendChild(n);e.remove(r)}if(o=t.previousSibling,Kt(e,t,o)){const r=o;for(;n=r.lastChild;)t.insertBefore(n,t.firstChild);e.remove(r)}},Jt=(e,t,n,o)=>{if(t.nodeName!==n){const r=e.dom.rename(t,n);Ut(e.dom,r,o),ft(e,Wt(n),r)}else Ut(e.dom,t,o),ft(e,Wt(n),t)},Qt=(e,t,n,o)=>{if(t.classList.forEach((e,n,o)=>{e.startsWith("tox-")&&(o.remove(e),0===o.length&&t.removeAttribute("class"))}),t.nodeName!==n){const r=e.dom.rename(t,n);Ut(e.dom,r,o),ft(e,Wt(n),r)}else Ut(e.dom,t,o),ft(e,Wt(n),t)},Yt=e=>"list-style-type"in e,Xt=(e,t,n)=>{const o=it(e);if(ht(e,o))return;const a=(e=>{const t=it(e),n=e.selection.getSelectedBlocks();return((e,t)=>i(e)&&1===t.length&&t[0]===e)(t,n)?(e=>k(e.querySelectorAll(st),Be))(t):k(n,e=>Be(e)&&t!==e)})(e),s=r(n)?n:{};a.length>0?((e,t,n,o,r)=>{const a=Be(t);if(!a||t.nodeName!==o||Yt(r)||mt(t)){Zt(e,o,r);const s=It(e.selection.getRng()),i=a?[t,...n]:n,l=a&&mt(t)?Qt:Jt;Fe.each(i,t=>{l(e,t,o,r)}),e.selection.setRng(zt(s))}else $t(e)})(e,o,a,t,s):((e,t,n,o)=>{if(t!==e.getBody())if(t)if(t.nodeName!==n||Yt(o)||mt(t)){const r=It(e.selection.getRng());mt(t)&&t.classList.forEach((e,n,o)=>{e.startsWith("tox-")&&(o.remove(e),0===o.length&&t.removeAttribute("class"))}),Ut(e.dom,t,o);const a=e.dom.rename(t,n);Gt(e.dom,a),e.selection.setRng(zt(r)),Zt(e,n,o),ft(e,Wt(n),a)}else $t(e);else Zt(e,n,o),ft(e,Wt(n),t)})(e,o,t,s)},en=Ne.DOM,tn=(e,t)=>{const n=Fe.grep(e.select("ol,ul",t));Fe.each(n,t=>{((e,t)=>{const n=t.parentElement;if(n&&"LI"===n.nodeName&&n.firstChild===t){const o=n.previousSibling;o&&"LI"===o.nodeName?(o.appendChild(t),Ve(e,n)&&en.remove(n)):en.setStyle(n,"listStyleType","none")}if(Be(n)){const e=n.previousSibling;e&&"LI"===e.nodeName&&e.appendChild(t)}})(e,t)})},nn=(e,t,n,o)=>{let r=t.startContainer;const a=t.startOffset;if(Pe(r)&&(n?a<r.data.length:a>0))return r;const s=e.schema.getNonEmptyElements();Me(r)&&(r=_e.getNode(r,a));const i=new Oe(r,o);n&&((e,t)=>!!We(t)&&e.isBlock(t.nextSibling)&&!We(t.previousSibling))(e.dom,r)&&i.next();const l=n?i.next.bind(i):i.prev2.bind(i);for(;r=l();){if("LI"===r.nodeName&&!r.hasChildNodes())return r;if(s[r.nodeName])return r;if(Pe(r)&&r.data.length>0)return r}return null},on=(e,t)=>{const n=t.childNodes;return 1===n.length&&!Be(n[0])&&e.isBlock(n[0])},rn=(e,t,n)=>{let o;const r=on(e,n)?n.firstChild:n;if(((e,t)=>{on(e,t)&&(e=>h.from(e).map(H).filter(X).exists(e=>((e,t=!1)=>{return we(e)?e.dom.isContentEditable:(n=e,ke((e,t)=>V(e,t),Ae,n,"[contenteditable]",void 0)).fold(d(t),e=>"true"===(e=>e.dom.contentEditable)(e));var n})(e)&&!v(["details"],J(e))))(t.firstChild)&&e.remove(t.firstChild,!0)})(e,t),!Ve(e,t,!0))for(;o=t.firstChild;)r.appendChild(o)},an=(e,t,n)=>{let o;const r=t.parentNode;if(!Ze(e,t)||!Ze(e,n))return;Be(n.lastChild)&&(o=n.lastChild),r===n.lastChild&&We(r.previousSibling)&&e.remove(r.previousSibling);const a=n.lastChild;a&&We(a)&&t.hasChildNodes()&&e.remove(a),Ve(e,n,!0)&&he(H(n)),rn(e,t,n),o&&n.appendChild(o);const s=((e,t)=>{const n=e.dom,o=t.dom;return n!==o&&n.contains(o)})(H(n),H(t))?e.getParents(t,Be,n):[];e.remove(t),S(s,t=>{Ve(e,t)&&t!==e.getRoot()&&e.remove(t)})},sn=e=>{const t=e.selection.getStart(),n=ct(e,t);return e.dom.getParent(t,"LI,DT,DD",n)||lt(e).length>0},ln=(e,t)=>{const n=e.selection;return!ht(e,n.getNode())&&(n.isCollapsed()?((e,t)=>((e,t)=>{const n=e.dom,o=e.selection,r=o.getStart(),a=ct(e,r),s=n.getParent(o.getStart(),"LI",a);if(s){const r=s.parentElement;if(r===e.getBody()&&Ve(n,r))return!0;const i=rt(o.getRng()),l=n.getParent(nn(e,i,t,a),"LI",a),c=l&&(t?n.isChildOf(s,l):n.isChildOf(l,s));if(l&&l!==s&&!c)return e.undoManager.transact(()=>{var n,o;t?((e,t,n,o)=>{const r=e.dom;if(r.isEmpty(o))((e,t,n)=>{he(H(n)),an(e.dom,t,n),e.selection.setCursorLocation(n,0)})(e,n,o);else{const a=It(t);an(r,n,o),e.selection.setRng(zt(a))}})(e,i,l,s):(null===(o=(n=s).parentNode)||void 0===o?void 0:o.firstChild)===n?Bt(e):((e,t,n,o)=>{const r=It(t);an(e.dom,n,o);const a=zt(r);e.selection.setRng(a)})(e,i,s,l)}),!0;if(c&&!t&&l!==s){const t=i.commonAncestorContainer.parentElement;return!(!t||n.isChildOf(l,t)||(e.undoManager.transact(()=>{const o=It(i);rn(n,t,l),t.remove();const r=zt(o);e.selection.setRng(r)}),0))}if(!l&&!t&&0===i.startOffset&&0===i.endOffset)return e.undoManager.transact(()=>{$t(e)}),!0}return!1})(e,t)||((e,t)=>{const n=e.dom,o=e.selection.getStart(),r=ct(e,o),a=n.getParent(o,n.isBlock,r);if(a&&n.isEmpty(a,void 0,{checkRootAsContent:!0})){const o=rt(e.selection.getRng()),s=nn(e,o,t,r),i=n.getParent(s,"LI",r);if(s&&i){const l=e=>v(["td","th","caption"],J(e)),c=e=>e.dom===r;return!!((e,t,n=m)=>$(e,t,n).getOr(e.isNone()&&t.isNone()))(Te(H(i),l,c),Te(H(o.startContainer),l,c),Z)&&(e.undoManager.transact(()=>{const o=i.parentNode;((e,t,n)=>{const o=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),o&&e.isEmpty(o)&&e.remove(o)})(n,a,r),Gt(n,o),e.selection.select(s,!0),e.selection.collapse(t)}),!0)}}return!1})(e,t))(e,t):(e=>!!sn(e)&&(e.undoManager.transact(()=>{let t=!0;const n=()=>t=!1;e.on("input",n),e.execCommand("Delete"),e.off("input",n),t&&e.dispatch("input"),tn(e.dom,e.getBody())}),!0))(e))},cn=e=>{const t=O(L(e).split("")),n=x(t,(e,t)=>{const n=e.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,t)*n});return C(n,(e,t)=>e+t,0)},un=e=>{if(--e<0)return"";{const t=e%26,n=Math.floor(e/26);return un(n)+String.fromCharCode("A".charCodeAt(0)+t)}},dn=e=>{const t=parseInt(e.start,10);return B(e.listStyleType,"upper-alpha")?un(t):B(e.listStyleType,"lower-alpha")?un(t).toLowerCase():e.start},mn=(e,t)=>()=>{const n=it(e);return i(n)&&n.nodeName===t},pn=e=>{e.addCommand("mceListProps",()=>{(e=>{const t=it(e);je(t)&&!ht(e,t)&&e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:dn({start:e.dom.getAttrib(t,"start","1"),listStyleType:h.from(e.dom.getStyle(t,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:t=>{(e=>{switch((e=>/^[0-9]+$/.test(e)?2:/^[A-Z]+$/.test(e)?0:/^[a-z]+$/.test(e)?1:e.length>0?4:3)(e)){case 2:return h.some({listStyleType:h.none(),start:e});case 0:return h.some({listStyleType:h.some("upper-alpha"),start:cn(e).toString()});case 1:return h.some({listStyleType:h.some("lower-alpha"),start:cn(e).toString()});case 3:return h.some({listStyleType:h.none(),start:""});case 4:return h.none()}})(t.getData().start).each(t=>{e.execCommand("mceListUpdate",!1,{attrs:{start:"1"===t.start?"":t.start},styles:{"list-style-type":t.listStyleType.getOr("")}})}),t.close()}})})(e)})};var gn=tinymce.util.Tools.resolve("tinymce.html.Node");const hn=e=>3===e.type,bn=e=>0===e.length,fn=e=>{const t=(t,n)=>{const o=gn.create("li");S(t,e=>o.append(e)),n?e.insert(o,n,!0):e.append(o)},n=C(e.children(),(e,n)=>hn(n)?[...e,n]:bn(e)||hn(n)?e:(t(e,n),[]),[]);bn(n)||t(n)},yn=(e,t)=>n=>(n.setEnabled(e.selection.isEditable()),bt(e,o=>{n.setActive(pt(o.parents,t)),n.setEnabled(!ht(e,o.element)&&e.selection.isEditable())})),vn=(e,t)=>n=>bt(e,o=>n.setEnabled(pt(o.parents,t)&&!ht(e,o.element)));e.add("lists",e=>((e=>{(0,e.options.register)("lists_indent_on_tab",{processor:"boolean",default:!0})})(e),(e=>{e.on("PreInit",()=>{const{parser:t}=e;t.addNodeFilter("ul,ol",e=>S(e,fn))})})(e),e.hasPlugin("rtc",!0)?pn(e):((e=>{Ge(e)&&(e=>{e.on("keydown",t=>{t.keyCode!==Ee.TAB||Ee.metaKeyPressed(t)||e.undoManager.transact(()=>{(t.shiftKey?Bt(e):Mt(e))&&t.preventDefault()})})})(e),(e=>{e.on("ExecCommand",t=>{const n=t.command.toLowerCase();"delete"!==n&&"forwarddelete"!==n||!sn(e)||tn(e.dom,e.getBody())}),e.on("keydown",t=>{t.keyCode===Ee.BACKSPACE?ln(e,!1)&&t.preventDefault():t.keyCode===Ee.DELETE&&ln(e,!0)&&t.preventDefault()})})(e)})(e),(e=>{e.on("BeforeExecCommand",t=>{const n=t.command.toLowerCase();"indent"===n?Mt(e):"outdent"===n&&Bt(e)}),e.addCommand("InsertUnorderedList",(t,n)=>{Xt(e,"UL",n)}),e.addCommand("InsertOrderedList",(t,n)=>{Xt(e,"OL",n)}),e.addCommand("InsertDefinitionList",(t,n)=>{Xt(e,"DL",n)}),e.addCommand("RemoveList",()=>{$t(e)}),pn(e),e.addCommand("mceListUpdate",(t,n)=>{r(n)&&((e,t)=>{const n=it(e);null===n||ht(e,n)||e.undoManager.transact(()=>{r(t.styles)&&e.dom.setStyles(n,t.styles),r(t.attrs)&&P(t.attrs,(t,o)=>e.dom.setAttrib(n,o,t))})})(e,n)}),e.addQueryStateHandler("InsertUnorderedList",mn(e,"UL")),e.addQueryStateHandler("InsertOrderedList",mn(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",mn(e,"DL"))})(e)),(e=>{const t=t=>()=>e.execCommand(t);e.hasPlugin("advlist")||(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:yn(e,"OL")}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:yn(e,"UL")}))})(e),(e=>{const t={text:"List properties...",icon:"ordered-list",onAction:()=>e.execCommand("mceListProps"),onSetup:vn(e,"OL")};e.ui.registry.addMenuItem("listprops",t),e.ui.registry.addContextMenu("lists",{update:t=>{const n=it(e,t);return je(n)?["listprops"]:[]}})})(e),(e=>({backspaceDelete:t=>{ln(e,t)}}))(e)))}()},34328:function(){!function(){"use strict";const e=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(a=String).prototype,o.isPrototypeOf(n)||(null===(s=r.constructor)||void 0===s?void 0:s.name)===a.name)?"string":t;var n,o;var r,a,s})(t)===e,t=e=>t=>typeof t===e,n=e("string"),o=e("object"),r=(a=null,e=>a===e);var a;const s=t("boolean"),i=t("function"),l=t("number");class c{constructor(e,t){this.tag=e,this.value=t}static some(e){return new c(!0,e)}static none(){return c.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?c.some(e(this.value)):c.none()}bind(e){return this.tag?e(this.value):c.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:c.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return(e=>null==e)(e)?c.none():c.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}c.singletonNone=new c(!1);Array.prototype.slice;const u=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}};i(Array.from)&&Array.from;const d=Object.keys,m=(e,t)=>{const n=d(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},p="undefined"!=typeof window?window:Function("return this;")(),g=(e,t)=>((e,t)=>{let n=null!=t?t:p;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t);var h=tinymce.util.Tools.resolve("tinymce.PluginManager");const b=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},f={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return b(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return b(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return b(n)},fromDom:b,fromPoint:(e,t,n)=>c.from(e.dom.elementFromPoint(t,n)).map(b)},y=(e,t)=>{const n=((e,t)=>g(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n},v=Object.getPrototypeOf,w=e=>{const t=g("ownerDocument.defaultView",e);return o(e)&&((e=>y("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(v(e).constructor.name))},x=e=>e.dom.nodeValue,S=e=>t=>(e=>e.dom.nodeType)(t)===e,k=e=>C(e)&&w(e.dom),C=S(1),T=S(3),A=(e,t,o)=>{((e,t,o)=>{if(!(n(o)||s(o)||l(o)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,o+"")})(e.dom,t,o)},_=(e,t)=>{e.dom.removeAttribute(t)},O=(e,t)=>{const n=((e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n})(e,t);return void 0===n||""===n?[]:n.split(" ")},E=e=>void 0!==e.dom.classList,N=(e,t)=>((e,t,n)=>{const o=O(e,t).concat([n]);return A(e,t,o.join(" ")),!0})(e,"class",t),F=(e,t)=>((e,t,n)=>{const o=((e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n})(O(e,t),e=>e!==n);return o.length>0?A(e,t,o.join(" ")):_(e,t),!1})(e,"class",t),D=e=>{const t=E(e)?e.dom.classList:(e=>O(e,"class"))(e);0===t.length&&_(e,"class")},R=e=>e.dom.contentEditable,P={" ":"nbsp","­":"shy"},M=(e,t)=>{let n="";return m(e,(e,t)=>{n+=t}),new RegExp("["+n+"]",t?"g":"")},B=M(P),$=M(P,!0),j=(e=>{let t="";return m(e,e=>{t&&(t+=","),t+="span.mce-"+e}),t})(P),L="mce-nbsp",I=e=>'<span data-mce-bogus="1" class="mce-'+P[e]+'">'+e+"</span>",z=e=>"span"===e.nodeName.toLowerCase()&&e.classList.contains("mce-nbsp-wrap"),W=e=>{const t=x(e);return T(e)&&n(t)&&B.test(t)},q=(e,t,n)=>{let o=[];const r=((e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o})(e.dom.childNodes,f.fromDom),a=e=>z(e.dom)||!(e=>k(e)&&"false"===R(e))(e);return u(r,e=>{n&&a(e)&&t(e)&&(o=o.concat([e])),o=o.concat(q(e,t,((e,t)=>{if(k(e)&&!z(e.dom)){const t=R(e);if("true"===t)return!0;if("false"===t)return!1}return t})(e,n)))}),o},U=(e,t)=>{const n=e.dom,o=q(f.fromDom(t),W,e.dom.isEditable(t));u(o,t=>{var o;const r=t.dom.parentNode;if(z(r))a=f.fromDom(r),s=L,E(a)?a.dom.classList.add(s):N(a,s);else{const r=n.encode(null!==(o=x(t))&&void 0!==o?o:"").replace($,I),a=n.create("div",{},r);let s;for(;s=a.lastChild;)n.insertAfter(s,t.dom);e.dom.remove(t.dom)}var a,s})},H=(e,t)=>{const n=e.dom.select(j,t);u(n,t=>{z(t)?((e,t)=>{E(e)?e.dom.classList.remove(t):F(e,t);D(e)})(f.fromDom(t),L):e.dom.remove(t,!0)})},V=e=>{const t=e.getBody(),n=e.selection.getBookmark();let o=((e,t)=>{for(;e.parentNode;){if(e.parentNode===t)return t;e=e.parentNode}})(e.selection.getNode(),t);o=void 0!==o?o:t,H(e,o),U(e,o),e.selection.moveToBookmark(n)},Z=(e,t)=>{((e,t)=>{e.dispatch("VisualChars",{state:t})})(e,t.get());const n=e.getBody();!0===t.get()?U(e,n):H(e,n)},K=(e,t)=>{e.addCommand("mceVisualChars",()=>{((e,t)=>{t.set(!t.get());const n=e.selection.getBookmark();Z(e,t),e.selection.moveToBookmark(n)})(e,t)})},G=(J="visualchars_default_state",e=>e.options.get(J));var J;const Q=(e,t)=>{const n=((e,t)=>{let n=null;return{cancel:()=>{r(n)||(clearTimeout(n),n=null)},throttle:(...o)=>{r(n)&&(n=setTimeout(()=>{n=null,e.apply(null,o)},t))}}})(()=>{V(e)},300);e.on("keydown",o=>{!0===t.get()&&(13===o.keyCode?V(e):n.throttle())}),e.on("remove",n.cancel)},Y=(e,t)=>n=>{n.setActive(t.get());const o=e=>n.setActive(e.state);return e.on("VisualChars",o),()=>e.off("VisualChars",o)};h.add("visualchars",e=>{(e=>{(0,e.options.register)("visualchars_default_state",{processor:"boolean",default:!1})})(e);const t=(e=>{let t=e;return{get:()=>t,set:e=>{t=e}}})(G(e));return K(e,t),((e,t)=>{const n=()=>e.execCommand("mceVisualChars");e.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:n,onSetup:Y(e,t),context:"any"}),e.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:n,onSetup:Y(e,t),context:"any"})})(e,t),Q(e,t),((e,t)=>{e.on("init",()=>{Z(e,t)})})(e,t),(e=>({isEnabled:()=>e.get()}))(t)})}()},47816:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>null===e,n=e=>e,o=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},r=10,a=[new RegExp("[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),new RegExp("[-'\\.‘’․﹒＇．]"),new RegExp("[:··״‧︓﹕：]"),new RegExp("[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]"),new RegExp("[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]"),new RegExp("\\r"),new RegExp("\\n"),new RegExp("[\v\f\u2028\u2029]"),new RegExp("[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]"),new RegExp("[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\ufeff￹-￻]"),new RegExp("[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]"),new RegExp("[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]"),new RegExp("@")],s=new RegExp("^[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]$"),i=a,l=e=>{let t=13;const n=i.length;for(let o=0;o<n;++o){const n=i[o];if(n&&n.test(e)){t=o;break}}return t},c=(e,t)=>{const n=e[t],o=e[t+1];if(t<0||t>e.length-1&&0!==t)return!1;if(0===n&&0===o)return!1;const a=e[t+2];if(0===n&&(2===o||1===o||12===o)&&0===a)return!1;const s=e[t-1];return(2!==n&&1!==n&&12!==o||0!==o||0!==s)&&(4!==n&&0!==n||4!==o&&0!==o)&&(3!==n&&1!==n||4!==o||4!==s)&&(4!==n||3!==o&&1!==o||4!==a)&&(8!==n&&9!==n||0!==o&&4!==o&&o!==r&&8!==o&&9!==o)&&(8!==o&&(9!==o||0!==a&&4!==a&&a!==r&&8!==a&&9!==a)||0!==n&&4!==n&&n!==r&&8!==n&&9!==n)&&(5!==n||6!==o)&&(7===n||5===n||6===n||7===o||5===o||6===o||(n!==r||o!==r)&&(11!==o||0!==n&&4!==n&&n!==r&&11!==n)&&(11!==n||0!==o&&4!==o&&o!==r)&&12!==n)},u=/^\s+$/,d=s,m=e=>"http"===e||"https"===e,p=(e,t)=>{const n=((e,t)=>{let n;for(n=t;n<e.length&&!u.test(e[n]);n++);return n})(e,t+1);return"://"===e.slice(t+1,n).join("").substr(0,3)?n:t},g=(e,t,n)=>((e,t,n)=>{n={includeWhitespace:!1,includePunctuation:!1,...n};const r=o(e,t);return((e,t,n,o)=>{const r=[],a=[];let s=[];for(let i=0;i<n.length;++i)if(s.push(e[i]),c(n,i)){const n=t[i];if((o.includeWhitespace||!u.test(n))&&(o.includePunctuation||!d.test(n))){const n=i-s.length+1,o=i+1,l=t.slice(n,o).join("");if(m(l)){const n=p(t,i),r=e.slice(o,n);Array.prototype.push.apply(s,r),i=n}"."===t[i+1]&&/^([a-zA-Z]\.)+$/.test(l+".")?(s.push(e[i+1]),a.push({start:n,end:o+1})):a.push({start:n,end:o}),r.push(s)}s=[]}return{words:r,indices:a}})(e,r,(e=>{const t=(e=>{const t={};return n=>{if(t[n])return t[n];{const o=e(n);return t[n]=o,o}}})(l);return o(e,t)})(r),n)})(e,t,n).words;var h=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const b=(e,t)=>{const n=t.getBlockElements(),o=t.getVoidElements(),r=e=>n[e.nodeName]||o[e.nodeName],a=[];let s="";const i=new h(e,e);let l;for(;l=i.next();)3===l.nodeType?s+=l.data.replace(/\uFEFF/g,""):r(l)&&s.length&&(a.push(s),s="");return s.length&&a.push(s),a},f=e=>e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,y=(e,t)=>{const o=(e=>e.replace(/\u200B/g,""))(b(e,t).join("\n"));return g(o.split(""),n).length},v=(e,t)=>{const n=b(e,t).join("");return f(n)},w=(e,t)=>{const n=b(e,t).join("").replace(/\s/g,"");return f(n)},x=(e,t)=>()=>t(e.getBody(),e.schema),S=(e,t)=>()=>t(e.selection.getRng().cloneContents(),e.schema),k=e=>x(e,y);var C=tinymce.util.Tools.resolve("tinymce.util.Delay");const T=(e,t)=>{((e,t)=>{e.dispatch("wordCountUpdate",{wordCount:{words:t.body.getWordCount(),characters:t.body.getCharacterCount(),charactersWithoutSpaces:t.body.getCharacterCountWithoutSpaces()}})})(e,t)},A=(e,n,o)=>{const r=((e,n)=>{let o=null;return{cancel:()=>{t(o)||(clearTimeout(o),o=null)},throttle:(...r)=>{t(o)&&(o=setTimeout(()=>{o=null,e.apply(null,r)},n))}}})(()=>T(e,n),o);e.on("init",()=>{T(e,n),C.setEditorTimeout(e,()=>{e.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",r.throttle)},0),e.on("remove",r.cancel)})};((t=300)=>{e.add("wordcount",e=>{const n=(e=>({body:{getWordCount:k(e),getCharacterCount:x(e,v),getCharacterCountWithoutSpaces:x(e,w)},selection:{getWordCount:S(e,y),getCharacterCount:S(e,v),getCharacterCountWithoutSpaces:S(e,w)},getCount:k(e)}))(e);return((e,t)=>{e.addCommand("mceWordCount",()=>((e,t)=>{e.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(t.body.getWordCount()),String(t.selection.getWordCount())],["Characters (no spaces)",String(t.body.getCharacterCountWithoutSpaces()),String(t.selection.getCharacterCountWithoutSpaces())],["Characters",String(t.body.getCharacterCount()),String(t.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})})(e,t))})(e,n),(e=>{const t=()=>e.execCommand("mceWordCount");e.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:t,context:"any"}),e.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:t,context:"any"})})(e),A(e,n,t),n})})()}()},47821:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||(null===(a=o.constructor)||void 0===a?void 0:a.name)===r.name)?"string":t;var n,o,r,a})(t)===e,n=e=>t=>typeof t===e,o=t("string"),r=t("array"),a=n("boolean"),s=e=>void 0===e,i=e=>!(e=>null==e)(e),l=n("function"),c=n("number"),u=()=>{},d=e=>()=>e,m=e=>e,p=(e,t)=>e===t;function g(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const h=e=>{e()},b=d(!1),f=d(!0);class y{constructor(e,t){this.tag=e,this.value=t}static some(e){return new y(!0,e)}static none(){return y.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?y.some(e(this.value)):y.none()}bind(e){return this.tag?e(this.value):y.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:y.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return i(e)?y.some(e):y.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}y.singletonNone=new y(!1),Array.prototype.slice;const v=Array.prototype.indexOf,w=Array.prototype.push,x=(e,t)=>((e,t)=>v.call(e,t))(e,t)>-1,S=(e,t)=>{for(let n=0,o=e.length;n<o;n++)if(t(e[n],n))return!0;return!1},k=(e,t)=>{const n=[];for(let o=0;o<e;o++)n.push(t(o));return n},C=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},T=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},A=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},_=(e,t,n)=>(T(e,(e,o)=>{n=t(n,e,o)}),n),O=(e,t)=>((e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return y.some(r);if(n(r,o))break}return y.none()})(e,t,b),E=(e,t)=>(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!r(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);w.apply(t,e[n])}return t})(C(e,t)),N=(e,t)=>{for(let n=0,o=e.length;n<o;++n)if(!0!==t(e[n],n))return!1;return!0},F=(e,t)=>t>=0&&t<e.length?y.some(e[t]):y.none();l(Array.from)&&Array.from;const D=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return y.none()},R=Object.keys,P=Object.hasOwnProperty,M=(e,t)=>{const n=R(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},B=(e,t)=>{const n={};var o;return((e,t,n,o)=>{M(e,(e,r)=>{(t(e,r)?n:o)(e,r)})})(e,t,(o=n,(e,t)=>{o[t]=e}),u),n},$=e=>R(e).length,j=(e,t)=>L(e,t)?y.from(e[t]):y.none(),L=(e,t)=>P.call(e,t),I=(e,t)=>L(e,t)&&void 0!==e[t]&&null!==e[t],z=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},W=(e,t,n=p)=>e.exists(e=>n(e,t)),q=(e,t,n)=>e.isSome()&&t.isSome()?y.some(n(e.getOrDie(),t.getOrDie())):y.none(),U=(e,t)=>((e,t)=>""===t||e.length>=t.length&&e.substr(0,0+t.length)===t)(e,t),H=(V=/^\s+|\s+$/g,e=>e.replace(V,""));var V;const Z=e=>e.length>0,K=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?y.none():y.some(n)},G=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},J={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return G(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return G(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return G(n)},fromDom:G,fromPoint:(e,t,n)=>y.from(e.dom.elementFromPoint(t,n)).map(G)},Q=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},Y=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,X=(e,t)=>e.dom===t.dom,ee=Q,te=e=>e.dom.nodeName.toLowerCase(),ne=e=>e.dom.nodeType,oe=e=>t=>ne(t)===e,re=oe(1),ae=oe(3),se=oe(9),ie=oe(11),le=e=>t=>re(t)&&te(t)===e,ce=e=>y.from(e.dom.parentNode).map(J.fromDom),ue=e=>y.from(e.dom.nextSibling).map(J.fromDom),de=e=>C(e.dom.childNodes,J.fromDom),me=e=>J.fromDom(e.dom.host),pe=(e,t)=>{ce(e).each(n=>{n.dom.insertBefore(t.dom,e.dom)})},ge=(e,t)=>{ue(e).fold(()=>{ce(e).each(e=>{he(e,t)})},e=>{pe(e,t)})},he=(e,t)=>{e.dom.appendChild(t.dom)},be=(e,t)=>{T(t,(n,o)=>{const r=0===o?e:t[o-1];ge(r,n)})},fe=(e,t,n)=>{if(!(o(n)||a(n)||c(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},ye=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},ve=(e,t)=>y.from(ye(e,t)),we=(e,t)=>{e.dom.removeAttribute(t)},xe=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Se=e=>C(e,J.fromDom),ke=e=>void 0!==e.style&&l(e.style.getPropertyValue),Ce=e=>{const t=ae(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return(e=>{const t=(e=>J.fromDom(e.dom.getRootNode()))(e);return ie(n=t)&&i(n.dom.host)?y.some(t):y.none();var n})(J.fromDom(t)).fold(()=>n.body.contains(t),(o=Ce,r=me,e=>o(r(e))));var o,r},Te=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||Ce(e)?o:Ae(n,t)},Ae=(e,t)=>ke(e)?e.style.getPropertyValue(t):"",_e=(e,t)=>{const n=e.dom,o=Ae(n,t);return y.from(o).filter(e=>e.length>0)},Oe=(e,t)=>{const n=n=>{const o=t(n);if(o<=0||null===o){const t=Te(n,e);return parseFloat(t)||0}return o},o=(e,t)=>_(t,(t,n)=>{const o=Te(e,n),r=void 0===o?0:parseInt(o,10);return isNaN(r)?t:t+r},0);return{set:(t,n)=>{if(!c(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);const o=t.dom;ke(o)&&(o.style[e]=n+"px")},get:n,getOuter:n,aggregate:o,max:(e,t,n)=>{const r=o(e,n);return t>r?t-r:0}}},Ee=(e,t,n)=>((e,t)=>(e=>{const t=parseFloat(e);return isNaN(t)?y.none():y.some(t)})(e).getOr(t))(Te(e,t),n);Oe("width",e=>e.dom.offsetWidth),Oe("width",e=>{const t=e.dom;return Ce(e)?t.getBoundingClientRect().width:t.offsetWidth});const Ne=(e=>{const t=t=>e(t)?y.from(t.dom.nodeValue):y.none();return{get:n=>{if(!e(n))throw new Error("Can only get text value of a text node");return t(n).getOr("")},getOption:t,set:(t,n)=>{if(!e(t))throw new Error("Can only set raw text value of a text node");t.dom.nodeValue=n}}})(ae);var Fe=(e,t,n,o,r)=>e(n,o)?y.some(n):l(r)&&r(n)?y.none():t(n,o,r);const De=(e,t,n)=>{let o=e.dom;const r=l(n)?n:b;for(;o.parentNode;){o=o.parentNode;const e=J.fromDom(o);if(t(e))return y.some(e);if(r(e))break}return y.none()},Re=(e,t,n)=>De(e,e=>Q(e,t),n),Pe=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return Y(n)?y.none():y.from(n.querySelector(e)).map(J.fromDom)})(t,e),Me=(e,t,n)=>Fe((e,t)=>Q(e,t),Re,e,t,n),Be=(e,t=!1)=>{return Ce(e)?e.dom.isContentEditable:(n=e,Me(n,"[contenteditable]")).fold(d(t),e=>"true"===$e(e));var n},$e=e=>e.dom.contentEditable,je=(e,t)=>{let n=[];return T(de(e),e=>{t(e)&&(n=n.concat([e])),n=n.concat(je(e,t))}),n},Le=(e,t)=>(e=>A(de(e),e=>Q(e,t)))(e),Ie=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return Y(n)?[]:C(n.querySelectorAll(e),J.fromDom)})(t,e),ze=e=>t=>X(t,(e=>J.fromDom(e.getBody()))(e)),We=e=>/^\d+(\.\d+)?$/.test(e)?e+"px":e,qe=e=>J.fromDom(e.selection.getStart()),Ue=["tfoot","thead","tbody","colgroup"],He=(e,t,n)=>({element:e,rowspan:t,colspan:n}),Ve=(e,t,n)=>({element:e,cells:t,section:n}),Ze=(e,t,n=0)=>ve(e,t).map(e=>parseInt(e,10)).getOr(n),Ke=(e,t)=>Ge(e,t,f),Ge=(e,t,n)=>E(de(e),e=>Q(e,t)?n(e)?[e]:[]:Ge(e,t,n)),Je=(e,t)=>Me(e,"table",t),Qe=e=>Ke(e,"tr"),Ye=e=>Je(e).fold(d([]),e=>Le(e,"colgroup")),Xe=le("th"),et=(e,t)=>e&&t?"sectionCells":e?"section":"cells",tt=e=>ce(e).map(e=>{const t=te(e);return(e=>x(Ue,e))(t)?t:"tbody"}).getOr("tbody"),nt=e=>ve(e,"data-snooker-locked-cols").bind(e=>y.from(e.match(/\d+/g))).map(e=>((e,t)=>{const n={};for(let o=0,r=e.length;o<r;o++){const r=e[o];n[String(r)]=t(r,o)}return n})(e,f)),ot=(e,t)=>e+","+t,rt=e=>{const t=(e=>{const t=Qe(e);return((e,t)=>C(e,e=>{if("colgroup"===te(e)){const t=C((e=>Q(e,"colgroup")?Le(e,"col"):E(Ye(e),e=>Le(e,"col")))(e),e=>{const t=Ze(e,"span",1);return He(e,1,t)});return Ve(e,t,"colgroup")}{const n=C((e=>Ke(e,"th,td"))(e),e=>{const t=Ze(e,"rowspan",1),n=Ze(e,"colspan",1);return He(e,t,n)});return Ve(e,n,t(e))}}))([...Ye(e),...t],tt)})(e);return(e=>{const t={},n=[];var o;const r=(o=e,F(o,0)).map(e=>e.element).bind(Je).bind(nt).getOr({});let a=0,s=0,i=0;const{pass:l,fail:c}=(e=>{const t=[],n=[];for(let r=0,a=e.length;r<a;r++){const a=e[r];(o=a,"colgroup"===o.section?t:n).push(a)}var o;return{pass:t,fail:n}})(e);T(c,e=>{const o=[];T(e.cells,e=>{let n=0;for(;void 0!==t[ot(i,n)];)n++;const a=I(r,n.toString()),l=((e,t,n,o,r,a)=>({element:e,rowspan:t,colspan:n,row:o,column:r,isLocked:a}))(e.element,e.rowspan,e.colspan,i,n,a);for(let o=0;o<e.colspan;o++)for(let r=0;r<e.rowspan;r++){const e=n+o,a=ot(i+r,e);t[a]=l,s=Math.max(s,e+1)}o.push(l)}),a++,n.push(Ve(e.element,o,e.section)),i++});const{columns:u,colgroups:d}=(e=>F(e,e.length-1))(l).map(e=>{const t=(e=>{const t={};let n=0;return T(e.cells,e=>{const o=e.colspan;k(o,r=>{const a=n+r;t[a]=((e,t,n)=>({element:e,colspan:t,column:n}))(e.element,o,a)}),n+=o}),t})(e),n=((e,t)=>({element:e,columns:t}))(e.element,((e,t)=>{const n=[];return M(e,(e,o)=>{n.push(t(e,o))}),n})(t,m));return{colgroups:[n],columns:t}}).getOrThunk(()=>({colgroups:[],columns:{}})),p=((e,t)=>({rows:e,columns:t}))(a,s);return{grid:p,access:t,all:n,columns:u,colgroups:d}})(t)},at=(e,t,n)=>y.from(e.access[ot(t,n)]),st=(e,t,n)=>{const o=((e,t)=>{const n=E(e.all,e=>e.cells);return A(n,t)})(e,e=>n(t,e.element));return o.length>0?y.some(o[0]):y.none()},it=(e,t)=>y.from(e.columns[t]),lt=(e,t)=>D(e.all,e=>O(e.cells,e=>X(t,e.element))),ct=(e,t)=>((e,t,n)=>{const o=(e=>{const t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t})(C(t.selection,t=>{return(o=t,((e,t,n=b)=>n(t)?y.none():x(e,te(t))?y.some(t):Re(t,e.join(","),e=>Q(e,"table")||n(e)))(["td","th"],o,void 0)).bind(t=>lt(e,t)).filter(n);var o}));return r=o,o.length>0?y.some(r):y.none();var r})(e,t,f),ut=(e,t)=>N(t,t=>((e,t)=>lt(e,t).exists(e=>!e.isLocked))(e,t)),dt=(e,t)=>((e,t)=>t.mergable)(0,t).filter(t=>ut(e,t.cells)),mt=(e,t)=>((e,t)=>t.unmergable)(0,t).filter(t=>ut(e,t)),pt=le("col"),gt=le("colgroup"),ht=e=>t=>{const n=[],o=o=>{const r="td"===e?{scope:null}:{},a=t.replace(o,e,r);return n.push({item:o,sub:a}),a};return{replaceOrInit:(e,t)=>{if((e=>"tr"===te(e)||gt(e))(e)||pt(e))return e;{const r=e;return((e,t)=>O(n,n=>t(n.item,e)))(r,t).fold(()=>o(r),n=>t(e,n.item)?n.sub:o(r))}}}};var bt=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];const ft=(e,t,n,o)=>{const r=t(e,n);return a=(n,o)=>{const r=t(e,o);return yt(e,n,r)},s=r,((e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)})(o,(e,t)=>{s=a(s,e)}),s;var a,s},yt=(e,t,n)=>t.bind(t=>n.filter(g(e.eq,t))),vt={up:d({selector:Re,closest:Me,predicate:De,all:(e,t)=>{const n=l(t)?t:b;let o=e.dom;const r=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){const e=o.parentNode,t=J.fromDom(e);if(r.push(t),!0===n(t))break;o=e}return r}}),down:d({selector:Ie,predicate:je}),styles:d({get:Te,getRaw:_e,set:(e,t,n)=>{((e,t,n)=>{if(!o(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);ke(e)&&e.style.setProperty(t,n)})(e.dom,t,n)},remove:(e,t)=>{((e,t)=>{ke(e)&&e.style.removeProperty(t)})(e.dom,t),W(ve(e,"style").map(H),"")&&we(e,"style")}}),attrs:d({get:ye,set:(e,t,n)=>{fe(e.dom,t,n)},remove:we,copyTo:(e,t)=>{((e,t)=>{const n=e.dom;M(t,(e,t)=>{fe(n,t,e)})})(t,_(e.dom.attributes,(e,t)=>(e[t.name]=t.value,e),{}))}}),insert:d({before:pe,after:ge,afterAll:be,append:he,appendAll:(e,t)=>{T(t,t=>{he(e,t)})},prepend:(e,t)=>{(e=>(e=>{const t=e.dom.childNodes;return y.from(t[0]).map(J.fromDom)})(e))(e).fold(()=>{he(e,t)},n=>{e.dom.insertBefore(t.dom,n.dom)})},wrap:(e,t)=>{pe(e,t),he(t,e)}}),remove:d({unwrap:e=>{const t=de(e);t.length>0&&be(e,t),xe(e)},remove:xe}),create:d({nu:J.fromTag,clone:e=>J.fromDom(e.dom.cloneNode(!1)),text:J.fromText}),query:d({comparePosition:(e,t)=>e.dom.compareDocumentPosition(t.dom),prevSibling:e=>y.from(e.dom.previousSibling).map(J.fromDom),nextSibling:ue}),property:d({children:de,name:te,parent:ce,document:e=>{return(t=e,se(t)?t:J.fromDom(t.dom.ownerDocument)).dom;var t},isText:ae,isComment:e=>8===ne(e)||"#comment"===te(e),isElement:re,isSpecial:e=>{const t=te(e);return x(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)},getLanguage:e=>re(e)?ve(e,"lang"):y.none(),getText:e=>Ne.get(e),setText:(e,t)=>Ne.set(e,t),isBoundary:e=>!!re(e)&&("body"===te(e)||x(bt,te(e))),isEmptyTag:e=>!!re(e)&&x(["br","img","hr","input"],te(e)),isNonEditable:e=>re(e)&&"false"===ye(e,"contenteditable")}),eq:X,is:ee};ht("th"),ht("td");const wt=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,xt=rt;var St=tinymce.util.Tools.resolve("tinymce.util.Tools");const kt=(e,t,n)=>{const o=e.select("td,th",t);let r;for(let t=0;t<o.length;t++){const a=e.getStyle(o[t],n);if(s(r)&&(r=a),r!==a)return""}return r},Ct=(e,t,n)=>{St.each("left center right".split(" "),o=>{o!==n&&e.formatter.remove("align"+o,{},t)}),n&&e.formatter.apply("align"+n,{},t)},Tt=(e,t,n)=>{e.dispatch("TableModified",{...n,table:t})};var At=tinymce.util.Tools.resolve("tinymce.Env");const _t=k(5,e=>{const t=`${e+1}px`;return{title:t,value:t}}),Ot=C(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],e=>({title:e,value:e.toLowerCase()})),Et="100%",Nt=e=>{var t;const n=e.dom,o=null!==(t=n.getParent(e.selection.getStart(),n.isBlock))&&void 0!==t?t:e.getBody();return(e=>(e=>{const t=e.dom;return((e,t,n,o)=>t-Ee(e,`padding-${n}`,0)-Ee(e,`padding-${o}`,0)-Ee(e,`border-${n}-width`,0)-Ee(e,`border-${o}-width`,0))(e,t.getBoundingClientRect().width||t.offsetWidth,"left","right")})(e))(J.fromDom(o))+"px"},Ft=e=>t=>t.options.get(e),Dt=Ft("table_sizing_mode"),Rt=Ft("table_border_widths"),Pt=Ft("table_border_styles"),Mt=Ft("table_cell_advtab"),Bt=Ft("table_row_advtab"),$t=Ft("table_advtab"),jt=Ft("table_appearance_options"),Lt=Ft("table_grid"),It=Ft("table_style_by_css"),zt=Ft("table_cell_class_list"),Wt=Ft("table_row_class_list"),qt=Ft("table_class_list"),Ut=Ft("table_toolbar"),Ht=Ft("table_background_color_map"),Vt=Ft("table_border_color_map"),Zt=e=>"fixed"===Dt(e),Kt=e=>"responsive"===Dt(e),Gt=e=>{const t=e.options,n=t.get("table_default_styles");return t.isSet("table_default_styles")?n:((e,t)=>Kt(e)||!It(e)?t:Zt(e)?{...t,width:Nt(e)}:{...t,width:Et})(e,n)},Jt=e=>{const t=e.options,n=t.get("table_default_attributes");return t.isSet("table_default_attributes")?n:((e,t)=>Kt(e)||It(e)?t:Zt(e)?{...t,width:Nt(e)}:{...t,width:Et})(e,n)},Qt=e=>Re(e,"table"),Yt=m,Xt=e=>{const t=(e,t)=>ve(e,t).exists(e=>parseInt(e,10)>1);return e.length>0&&N(e,e=>t(e,"rowspan")||t(e,"colspan"))?y.some(e):y.none()},en=(e,t,n)=>{return t.length<=1?y.none():(o=e,r=n.firstSelectedSelector,a=n.lastSelectedSelector,((e,t,n)=>Pe(e,t).bind(t=>Pe(e,n).bind(e=>{return(n=Qt,o=[t,e],((e,t,n)=>n.length>0?((e,t,n,o)=>o(e,t,n[0],n.slice(1)))(e,t,n,ft):y.none())(vt,(e,t)=>n(t),o)).map(n=>({first:t,last:e,table:n}));var n,o})))(o,r,a).bind(e=>{const t=e=>X(o,e),n="thead,tfoot,tbody,table",r=Re(e.first,n,t),a=Re(e.last,n,t);return r.bind(t=>a.bind(n=>X(t,n)?((e,t,n)=>((e,t,n)=>((e,t,n)=>{const o=st(e,t,X),r=st(e,n,X);return o.bind(e=>r.map(t=>{return n=e,o=t,{startRow:Math.min(n.row,o.row),startCol:Math.min(n.column,o.column),finishRow:Math.max(n.row+n.rowspan-1,o.row+o.rowspan-1),finishCol:Math.max(n.column+n.colspan-1,o.column+o.colspan-1)};var n,o}))})(e,t,n).bind(t=>((e,t)=>{let n=!0;const o=g(wt,t);for(let r=t.startRow;r<=t.finishRow;r++)for(let a=t.startCol;a<=t.finishCol;a++)n=n&&at(e,r,a).exists(o);return n?y.some(t):y.none()})(e,t)))(xt(e),t,n))(e.table,e.first,e.last):y.none()))})).map(e=>({bounds:e,cells:t}));var o,r,a},tn="data-mce-selected",nn="data-mce-first-selected",on="data-mce-last-selected",rn={selected:tn,selectedSelector:"td["+tn+"],th["+tn+"]",firstSelected:nn,firstSelectedSelector:"td["+nn+"],th["+nn+"]",lastSelected:on,lastSelectedSelector:"td["+on+"],th["+on+"]"},an=e=>(t,n)=>{const o=te(t),r="col"===o||"colgroup"===o?Je(a=t).bind(e=>((e,t)=>((e,t)=>{const n=Ie(e,t);return n.length>0?y.some(n):y.none()})(e,t))(e,rn.firstSelectedSelector)).fold(d(a),e=>e[0]):t;var a;return Me(r,e,n)},sn=an("th,td,caption"),ln=an("th,td"),cn=e=>Se(e.model.table.getSelectedCells()),un=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],dn=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,mn=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,pn=e=>{return(t=e,U(t,"#")?(e=>e.substring(1))(t):t).toUpperCase();var t},gn=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},hn=e=>{return t=gn(e.red)+gn(e.green)+gn(e.blue),{value:pn(t)};var t},bn=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,fn=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,yn=(e,t,n,o)=>({red:e,green:t,blue:n,alpha:o}),vn=(e,t,n,o)=>{const r=parseInt(e,10),a=parseInt(t,10),s=parseInt(n,10),i=parseFloat(o);return yn(r,a,s,i)},wn=e=>{const t=bn.exec(e);if(null!==t)return y.some(vn(t[1],t[2],t[3],"1"));const n=fn.exec(e);return null!==n?y.some(vn(n[1],n[2],n[3],n[4])):y.none()},xn=(e,t,n)=>o=>{const r=(e=>{const t=z(y.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(y.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(y.some(e))}}})(e=>e.unbind()),a=!Z(n),s=()=>{const s=cn(e),i=o=>e.formatter.match(t,{value:n},o.dom,a);a?(o.setActive(!S(s,i)),r.set(e.formatter.formatChanged(t,e=>o.setActive(!e),!0))):(o.setActive(N(s,i)),r.set(e.formatter.formatChanged(t,o.setActive,!1,{value:n})))};return e.initialized?s():e.on("init",s),r.clear},Sn=e=>I(e,"menu"),kn=e=>C(e,e=>{const t=e.text||e.title||"";return Sn(e)?{text:t,items:kn(e.menu)}:{text:t,value:e.value}}),Cn=e=>e.length?y.some(kn([{text:"Select...",value:"mce-no-match"},...e])):y.none(),Tn=(e,t,n,o)=>C(t,t=>{const r=t.text||t.title;return Sn(t)?{type:"nestedmenuitem",text:r,getSubmenuItems:()=>Tn(e,t.menu,n,o)}:{text:r,type:"togglemenuitem",onAction:()=>o(t.value),onSetup:xn(e,n,t.value)}}),An=(e,t)=>n=>{e.execCommand("mceTableApplyCellStyle",!1,{[t]:n})},_n=e=>E(e,e=>Sn(e)?[{...e,menu:_n(e.menu)}]:Z(e.value)?[e]:[]),On=(e,t,n,o)=>r=>r(Tn(e,t,n,o)),En=(e,t,n)=>{const o=C(t,e=>{return{text:e.title,value:"#"+(n=e.value,(t=n,(e=>dn.test(e)||mn.test(e))(t)?y.some({value:pn(t)}):y.none()).orThunk(()=>wn(n).map(hn)).getOrThunk(()=>{const e=document.createElement("canvas");e.height=1,e.width=1;const t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),t.fillStyle="#FFFFFF",t.fillStyle=n,t.fillRect(0,0,1,1);const o=t.getImageData(0,0,1,1).data,r=o[0],a=o[1],s=o[2],i=o[3];return hn(yn(r,a,s,i))})).value,type:"choiceitem"};var t,n});return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:o.length>0?o:void 0,allowCustomColors:!1},onAction:t=>{const o="remove"===t.value?"":t.value;e.execCommand("mceTableApplyCellStyle",!1,{[n]:o})}}]},Nn=e=>()=>{const t="header"===e.queryCommandValue("mceTableRowType")?"body":"header";e.execCommand("mceTableRowType",!1,{type:t})},Fn=e=>()=>{const t="th"===e.queryCommandValue("mceTableColType")?"td":"th";e.execCommand("mceTableColType",!1,{type:t})},Dn=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:un}],Rn=e=>Dn.concat((e=>Cn(zt(e)).map(e=>({name:"class",type:"listbox",label:"Class",items:e})))(e).toArray()),Pn=(e,t)=>{const n=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(kn(Pt(e)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:"cell"===t?[{name:"borderwidth",type:"input",label:"Border width"}].concat(n):n}},Mn=(e,t)=>{const n=e.dom;return{setAttrib:(e,o)=>{n.setAttrib(t,e,o)},setStyle:(e,o)=>{n.setStyle(t,e,o)},setFormat:(n,o)=>{""===o?e.formatter.remove(n,{value:null},t,!0):e.formatter.apply(n,{value:o},t)}}},Bn=e=>{return U(e,"rgb")?wn(t=e).map(hn).map(e=>"#"+e.value).getOr(t):e;var t},$n=e=>{const t=J.fromDom(e);return{borderwidth:_e(t,"border-width").getOr(""),borderstyle:_e(t,"border-style").getOr(""),bordercolor:_e(t,"border-color").map(Bn).getOr(""),backgroundcolor:_e(t,"background-color").map(Bn).getOr("")}},jn=e=>{const t=e[0],n=e.slice(1);return T(n,e=>{T(R(t),n=>{M(e,(e,o)=>{const r=t[n];""!==r&&n===o&&r!==e&&(t[n]="class"===n?"mce-no-match":"")})})}),t},Ln=(e,t,n,o)=>O(e,e=>!s(n.formatter.matchNode(o,t+e))).getOr(""),In=g(Ln,["left","center","right"],"align"),zn=g(Ln,["top","middle","bottom"],"valign"),Wn=e=>Je(J.fromDom(e)).map(t=>((e,t)=>{const n=rt(e);return ct(n,t).bind(e=>{const t=e[e.length-1],o=e[0].row,r=t.row+t.rowspan;return(e=>{const t=C(e,e=>(e=>{const t="thead"===e.section,n=W((e=>{const t=A(e,e=>Xe(e.element));return 0===t.length?y.some("td"):t.length===e.length?y.some("th"):y.none()})(e.cells),"th");return"tfoot"===e.section?{type:"footer"}:t||n?{type:"header",subType:et(t,n)}:{type:"body"}})(e).type),n=x(t,"header"),o=x(t,"footer");if(n||o){const e=x(t,"body");return!n||e||o?n||e||!o?y.none():y.some("footer"):y.some("header")}return y.some("body")})(n.all.slice(o,r))}).getOr("")})(t,{selection:Se(e.cells)})).getOr(""),qn=(e,t)=>{const n=rt(e),o=(e=>E(e.all,e=>e.cells))(n),r=A(o,e=>S(t,t=>X(e.element,t)));return C(r,e=>({element:e.element.dom,column:it(n,e.column).map(e=>e.element.dom)}))},Un=(e,t,n,o)=>{const r=o.getData();o.close(),e.undoManager.transact(()=>{((e,t,n,o)=>{const r=B(o,(e,t)=>n[t]!==e);$(r)>0&&t.length>=1&&Je(t[0]).each(n=>{const a=qn(n,t),s=$(B(r,(e,t)=>"scope"!==t&&"celltype"!==t))>0,i=L(r,"celltype");(s||L(r,"scope"))&&((e,t,n,o)=>{const r=1===t.length;T(t,t=>{const a=t.element,s=r?f:o,i=Mn(e,a);((e,t,n,o)=>{o("scope")&&e.setAttrib("scope",n.scope),o("class")&&"mce-no-match"!==n.class&&e.setAttrib("class",n.class),o("width")&&t.setStyle("width",We(n.width))})(i,t.column.map(t=>Mn(e,t)).getOr(i),n,s),Mt(e)&&((e,t,n)=>{n("backgroundcolor")&&e.setFormat("tablecellbackgroundcolor",t.backgroundcolor),n("bordercolor")&&e.setFormat("tablecellbordercolor",t.bordercolor),n("borderstyle")&&e.setFormat("tablecellborderstyle",t.borderstyle),n("borderwidth")&&e.setFormat("tablecellborderwidth",We(t.borderwidth))})(i,n,s),o("halign")&&Ct(e,a,n.halign),o("valign")&&((e,t,n)=>{St.each("top middle bottom".split(" "),o=>{o!==n&&e.formatter.remove("valign"+o,{},t)}),n&&e.formatter.apply("valign"+n,{},t)})(e,a,n.valign)})})(e,a,o,g(L,r)),i&&((e,t)=>{e.execCommand("mceTableCellType",!1,{type:t.celltype,no_events:!0})})(e,o),Tt(e,n.dom,{structure:i,style:s})})})(e,t,n,r),e.focus()})},Hn=e=>{const t=cn(e);if(0===t.length)return;const n=((e,t)=>{const n=Je(t[0]).map(n=>C(qn(n,t),t=>((e,t,n,o)=>{const r=e.dom;return{width:(s=o.getOr(t),i="width",r.getStyle(s,i)||r.getAttrib(s,i)),scope:r.getAttrib(t,"scope"),celltype:(a=t,a.nodeName.toLowerCase()),class:r.getAttrib(t,"class",""),halign:In(e,t),valign:zn(e,t),...n?$n(t):{}};var a,s,i})(e,t.element,Mt(e),t.column)));return jn(n.getOrDie())})(e,t),o={type:"tabpanel",tabs:[{title:"General",name:"general",items:Rn(e)},Pn(e,"cell")]},r={type:"panel",items:[{type:"grid",columns:2,items:Rn(e)}]};e.windowManager.open({title:"Cell Properties",size:"normal",body:Mt(e)?o:r,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:n,onSubmit:g(Un,e,t,n)})},Vn=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Zn=e=>Vn.concat((e=>Cn(Wt(e)).map(e=>({name:"class",type:"listbox",label:"Class",items:e})))(e).toArray()),Kn=(e,t,n,o)=>{const r=o.getData();o.close(),e.undoManager.transact(()=>{((e,t,n,o)=>{const r=B(o,(e,t)=>n[t]!==e);if($(r)>0){const n=L(r,"type"),a=!n||$(r)>1;a&&((e,t,n,o)=>{const r=1===t.length?f:o;T(t,t=>{const a=Le(J.fromDom(t),"td,th"),s=Mn(e,t);((e,t,n)=>{n("class")&&"mce-no-match"!==t.class&&e.setAttrib("class",t.class),n("height")&&e.setStyle("height",We(t.height))})(s,n,r),Bt(e)&&((e,t,n)=>{n("backgroundcolor")&&e.setStyle("background-color",t.backgroundcolor),n("bordercolor")&&e.setStyle("border-color",t.bordercolor),n("borderstyle")&&e.setStyle("border-style",t.borderstyle)})(s,n,r),o("height")&&T(a,t=>{e.dom.setStyle(t.dom,"height",null)}),o("align")&&Ct(e,t,n.align)})})(e,t,o,g(L,r)),n&&((e,t)=>{e.execCommand("mceTableRowType",!1,{type:t.type,no_events:!0})})(e,o),Je(J.fromDom(t[0])).each(t=>Tt(e,t.dom,{structure:n,style:a}))}})(e,t,n,r),e.focus()})},Gn=e=>{const t=((e,t)=>{const n=ln(e),o=n.bind(e=>Je(e)).map(e=>Qe(e));return q(n,o,(e,n)=>A(n,n=>S(Se(n.dom.cells),n=>"1"===ye(n,t)||X(n,e)))).getOr([])})(qe(e),rn.selected);if(0===t.length)return;const n=C(t,t=>((e,t,n)=>{const o=e.dom;return{height:o.getStyle(t,"height")||o.getAttrib(t,"height"),class:o.getAttrib(t,"class",""),type:Wn(t),align:In(e,t),...n?$n(t):{}}})(e,t.dom,Bt(e))),o=jn(n),r={type:"tabpanel",tabs:[{title:"General",name:"general",items:Zn(e)},Pn(e,"row")]},a={type:"panel",items:[{type:"grid",columns:2,items:Zn(e)}]};e.windowManager.open({title:"Row Properties",size:"normal",body:Bt(e)?r:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onSubmit:g(Kn,e,C(t,e=>e.dom),o)})},Jn=(e,t,n)=>{const o=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],r=jt(e)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],a=t.length>0?[{name:"class",type:"listbox",label:"Class",items:t}]:[];return o.concat([{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}]).concat(r).concat([{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]).concat(a)},Qn=(e,t,n,r)=>{if("TD"===t.tagName||"TH"===t.tagName)o(n)&&i(r)?e.setStyle(t,n,r):e.setStyles(t,n);else if(t.children)for(let o=0;o<t.children.length;o++)Qn(e,t.children[o],n,r)},Yn=(e,t,n,o)=>{const r=e.dom,a=o.getData(),i=B(a,(e,t)=>n[t]!==e);o.close(),e.undoManager.transact(()=>{if(!t){const n=K(a.cols).getOr(1),o=K(a.rows).getOr(1);e.execCommand("mceInsertTable",!1,{rows:o,columns:n}),t=ln(qe(e),ze(e)).bind(t=>Je(t,ze(e))).map(e=>e.dom).getOrDie()}if($(i)>0){const n={border:L(i,"border"),bordercolor:L(i,"bordercolor"),cellpadding:L(i,"cellpadding")};((e,t,n,o)=>{const r=e.dom,a={},i={},l=It(e),c=$t(e),u=0===parseFloat(n.border);if(s(n.class)||"mce-no-match"===n.class||(a.class=n.class),i.height=We(n.height),l?i.width=We(n.width):r.getAttrib(t,"width")&&(a.width=(e=>e?e.replace(/px$/,""):"")(n.width)),l?(u?(a.border=0,i["border-width"]=""):(i["border-width"]=We(n.border),a.border=1),i["border-spacing"]=We(n.cellspacing)):(a.border=u?0:n.border,a.cellpadding=n.cellpadding,a.cellspacing=n.cellspacing),l&&t.children){const e={};if(u?e["border-width"]="":o.border&&(e["border-width"]=We(n.border)),o.cellpadding&&(e.padding=We(n.cellpadding)),c&&o.bordercolor&&(e["border-color"]=n.bordercolor),!(e=>{for(const t in e)if(P.call(e,t))return!1;return!0})(e))for(let n=0;n<t.children.length;n++)Qn(r,t.children[n],e)}if(c){const e=n;i["background-color"]=e.backgroundcolor,i["border-color"]=e.bordercolor,i["border-style"]=e.borderstyle}r.setStyles(t,{...Gt(e),...i}),r.setAttribs(t,{...Jt(e),...a})})(e,t,a,n);const o=r.select("caption",t)[0];(o&&!a.caption||!o&&a.caption)&&e.execCommand("mceTableToggleCaption"),Ct(e,t,a.align)}if(e.focus(),e.addVisual(),$(i)>0){const n=L(i,"caption"),o=!n||$(i)>1;Tt(e,t,{structure:n,style:o})}})},Xn=(e,t)=>{const n=e.dom;let o,r=((e,t)=>{const n=Gt(e),o=Jt(e),r=t?{borderstyle:j(n,"border-style").getOr(""),bordercolor:Bn(j(n,"border-color").getOr("")),backgroundcolor:Bn(j(n,"background-color").getOr(""))}:{};return{height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:"",...n,...o,...r,...(()=>{const t=n["border-width"];return It(e)&&t?{border:t}:j(o,"border").fold(()=>({}),e=>({border:e}))})(),...{...j(n,"border-spacing").or(j(o,"cellspacing")).fold(()=>({}),e=>({cellspacing:e})),...j(n,"border-padding").or(j(o,"cellpadding")).fold(()=>({}),e=>({cellpadding:e}))}}})(e,$t(e));t?(r.cols="1",r.rows="1",$t(e)&&(r.borderstyle="",r.bordercolor="",r.backgroundcolor="")):(o=n.getParent(e.selection.getStart(),"table",e.getBody()),o?r=((e,t,n)=>{const o=e.dom,r=It(e)?o.getStyle(t,"border-spacing")||o.getAttrib(t,"cellspacing"):o.getAttrib(t,"cellspacing")||o.getStyle(t,"border-spacing"),a=It(e)?kt(o,t,"padding")||o.getAttrib(t,"cellpadding"):o.getAttrib(t,"cellpadding")||kt(o,t,"padding");return{width:o.getStyle(t,"width")||o.getAttrib(t,"width"),height:o.getStyle(t,"height")||o.getAttrib(t,"height"),cellspacing:null!=r?r:"",cellpadding:null!=a?a:"",border:((t,n)=>{const o=_e(J.fromDom(n),"border-width");return It(e)&&o.isSome()?o.getOr(""):t.getAttrib(n,"border")||kt(e.dom,n,"border-width")||kt(e.dom,n,"border")||""})(o,t),caption:!!o.select("caption",t)[0],class:o.getAttrib(t,"class",""),align:In(e,t),...n?$n(t):{}}})(e,o,$t(e)):$t(e)&&(r.borderstyle="",r.bordercolor="",r.backgroundcolor=""));const a=Cn(qt(e));a.isSome()&&r.class&&(r.class=r.class.replace(/\s*mce\-item\-table\s*/g,""));const s={type:"grid",columns:2,items:Jn(e,a.getOr([]),t)},i=$t(e)?{type:"tabpanel",tabs:[{title:"General",name:"general",items:[s]},Pn(e,"table")]}:{type:"panel",items:[s]};e.windowManager.open({title:"Table Properties",size:"normal",body:i,onSubmit:g(Yn,e,o,r),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r})},eo=e=>{const t=z(y.none()),n=z([]);let o=y.none();const r=le("caption"),a=e=>o.forall(t=>!t[e]),s=()=>sn(qe(e),ze(e)).bind(t=>{return n=q(Je(t),sn((e=>J.fromDom(e.selection.getEnd()))(e),ze(e)).bind(Je),(n,o)=>X(n,o)?r(t)?y.some((e=>({element:e,mergable:y.none(),unmergable:y.none(),selection:[e]}))(t)):y.some(((e,t,n)=>({element:n,mergable:en(t,e,rn),unmergable:Xt(e),selection:Yt(e)}))(cn(e),n,t)):y.none()),n.bind(m);var n}),i=e=>Je(e.element).map(t=>{const n=rt(t),o=ct(n,e).getOr([]),r=_(o,(e,t)=>(t.isLocked&&(e.onAny=!0,0===t.column?e.onFirst=!0:t.column+t.colspan>=n.grid.columns&&(e.onLast=!0)),e),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:dt(n,e).isSome(),unmergeable:mt(n,e).isSome(),locked:r}}),l=()=>{t.set((e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)})(s)()),o=t.get().bind(i),T(n.get(),h)},c=e=>(e(),n.set(n.get().concat([e])),()=>{n.set(A(n.get(),t=>t!==e))}),u=(n,o)=>c(()=>t.get().fold(()=>{n.setEnabled(!1)},t=>{n.setEnabled(!o(t)&&e.selection.isEditable())})),d=(n,o,r)=>c(()=>t.get().fold(()=>{n.setEnabled(!1),n.setActive(!1)},t=>{n.setEnabled(!o(t)&&e.selection.isEditable()),n.setActive(r(t))})),p=e=>o.exists(t=>t.locked[e]),g=(t,n)=>o=>d(o,e=>r(e.element),()=>e.queryCommandValue(t)===n),f=g("mceTableRowType","header"),v=g("mceTableColType","th");return e.on("NodeChange ExecCommand TableSelectorChange",l),{onSetupTable:e=>u(e,e=>!1),onSetupCellOrRow:e=>u(e,e=>r(e.element)),onSetupColumn:e=>t=>u(t,t=>r(t.element)||p(e)),onSetupPasteable:e=>t=>u(t,t=>r(t.element)||e().isNone()),onSetupPasteableColumn:(e,t)=>n=>u(n,n=>r(n.element)||e().isNone()||p(t)),onSetupMergeable:e=>u(e,e=>a("mergeable")),onSetupUnmergeable:e=>u(e,e=>a("unmergeable")),resetTargets:l,onSetupTableWithCaption:t=>d(t,b,t=>Je(t.element,ze(e)).exists(e=>((e,t)=>(e=>O(e.dom.childNodes,e=>{return n=J.fromDom(e),Q(n,t);var n}).map(J.fromDom))(e))(e,"caption").isSome())),onSetupTableRowHeaders:f,onSetupTableColumnHeaders:v,targets:t.get}};var to=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const no="x-tinymce/dom-table-",oo=no+"rows",ro=no+"columns",ao=e=>{var t;const n=null!==(t=to.read())&&void 0!==t?t:[];return D(n,t=>y.from(t.getType(e)))},so=()=>ao(oo),io=()=>ao(ro),lo=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}},co=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("table",e=>{const t=eo(e);(e=>{const t=e.options.register;t("table_border_widths",{processor:"object[]",default:_t}),t("table_border_styles",{processor:"object[]",default:Ot}),t("table_cell_advtab",{processor:"boolean",default:!0}),t("table_row_advtab",{processor:"boolean",default:!0}),t("table_advtab",{processor:"boolean",default:!0}),t("table_appearance_options",{processor:"boolean",default:!0}),t("table_grid",{processor:"boolean",default:!At.deviceType.isTouch()}),t("table_cell_class_list",{processor:"object[]",default:[]}),t("table_row_class_list",{processor:"object[]",default:[]}),t("table_class_list",{processor:"object[]",default:[]}),t("table_toolbar",{processor:"string",default:"tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"}),t("table_background_color_map",{processor:"object[]",default:[]}),t("table_border_color_map",{processor:"object[]",default:[]})})(e),(e=>{M({mceTableProps:g(Xn,e,!1),mceTableRowProps:g(Gn,e),mceTableCellProps:g(Hn,e),mceInsertTableDialog:g(Xn,e,!0)},(t,n)=>e.addCommand(n,()=>{return n=t,void((e=>{return(t=e,n=le("table"),Fe((e,t)=>t(e),De,t,n,void 0)).forall(Be);var t,n})(qe(e))&&n());var n}))})(e),((e,t)=>{const n=t=>()=>e.execCommand(t),o=(t,o)=>!!e.queryCommandSupported(o.command)&&(e.ui.registry.addMenuItem(t,{...o,onAction:l(o.onAction)?o.onAction:n(o.command)}),!0),r=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addToggleMenuItem(t,{...o,onAction:l(o.onAction)?o.onAction:n(o.command)})},a=t=>{e.execCommand("mceInsertTable",!1,{rows:t.numRows,columns:t.numColumns})},s=[o("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:t.onSetupCellOrRow}),o("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:t.onSetupCellOrRow}),o("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:t.onSetupCellOrRow}),o("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:t.onSetupCellOrRow}),o("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:t.onSetupCellOrRow}),o("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:t.onSetupCellOrRow}),o("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:t.onSetupPasteable(so)}),o("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:t.onSetupPasteable(so)})],i=[o("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:t.onSetupColumn("onFirst")}),o("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:t.onSetupColumn("onLast")}),o("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:t.onSetupColumn("onAny")}),o("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:t.onSetupColumn("onAny")}),o("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:t.onSetupColumn("onAny")}),o("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:t.onSetupPasteableColumn(io,"onFirst")}),o("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:t.onSetupPasteableColumn(io,"onLast")})],c=[o("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:t.onSetupCellOrRow}),o("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:t.onSetupMergeable}),o("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:t.onSetupUnmergeable})];Lt(e)?e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:a}],onSetup:co(e)}):e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:n("mceInsertTableDialog"),onSetup:co(e)}),e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:n("mceInsertTableDialog"),onSetup:co(e)}),o("tableprops",{text:"Table properties",onSetup:t.onSetupTable,command:"mceTableProps"}),o("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:t.onSetupTable,command:"mceTableDelete"}),x(s,!0)&&e.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:d("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),x(i,!0)&&e.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:d("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),x(c,!0)&&e.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:d("tablecellprops tablemergecells tablesplitcells")}),e.ui.registry.addContextMenu("table",{update:()=>(t.resetTargets(),t.targets().fold(d(""),e=>"caption"===te(e.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const u=_n(qt(e));0!==u.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Tn(e,u,"tableclass",t=>e.execCommand("mceTableToggleClass",!1,t)),onSetup:t.onSetupTable});const m=_n(zt(e));0!==m.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Tn(e,m,"tablecellclass",t=>e.execCommand("mceTableCellToggleClass",!1,t)),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Tn(e,un,"tablecellverticalalign",An(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Tn(e,Rt(e),"tablecellborderwidth",An(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Tn(e,Pt(e),"tablecellborderstyle",An(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>En(e,Ht(e),"background-color"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>En(e,Vt(e),"border-color"),onSetup:t.onSetupCellOrRow})),r("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),r("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Nn(e),onSetup:t.onSetupTableRowHeaders}),r("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Fn(e),onSetup:t.onSetupTableRowHeaders})})(e,t),((e,t)=>{e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:lo(e),fetch:e=>e("inserttable | cell row column | advtablesort | tableprops deletetable")});const n=t=>()=>e.execCommand(t),o=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addButton(t,{...o,onAction:l(o.onAction)?o.onAction:n(o.command)})},r=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addToggleButton(t,{...o,onAction:l(o.onAction)?o.onAction:n(o.command)})};o("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:t.onSetupTable}),o("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:t.onSetupTable}),o("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:t.onSetupCellOrRow}),o("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:t.onSetupMergeable}),o("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:t.onSetupUnmergeable}),o("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:t.onSetupCellOrRow}),o("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:t.onSetupCellOrRow}),o("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:t.onSetupCellOrRow}),o("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:t.onSetupCellOrRow}),o("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:t.onSetupColumn("onFirst")}),o("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:t.onSetupColumn("onLast")}),o("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:t.onSetupColumn("onAny")}),o("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:t.onSetupCellOrRow}),o("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:t.onSetupCellOrRow}),o("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:t.onSetupPasteable(so)}),o("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:t.onSetupPasteable(so)}),o("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:t.onSetupColumn("onAny")}),o("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:t.onSetupColumn("onAny")}),o("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:t.onSetupPasteableColumn(io,"onFirst")}),o("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:t.onSetupPasteableColumn(io,"onLast")}),o("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:lo(e)});const a=_n(qt(e));0!==a.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:On(e,a,"tableclass",t=>e.execCommand("mceTableToggleClass",!1,t)),onSetup:t.onSetupTable});const s=_n(zt(e));0!==s.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:On(e,s,"tablecellclass",t=>e.execCommand("mceTableCellToggleClass",!1,t)),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:On(e,un,"tablecellverticalalign",An(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:On(e,Rt(e),"tablecellborderwidth",An(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:On(e,Pt(e),"tablecellborderstyle",An(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:t=>t(En(e,Ht(e),"background-color")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:t=>t(En(e,Vt(e),"border-color")),onSetup:t.onSetupCellOrRow})),r("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),r("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Nn(e),onSetup:t.onSetupTableRowHeaders}),r("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Fn(e),onSetup:t.onSetupTableColumnHeaders})})(e,t),(e=>{const t=Ut(e);t.length>0&&e.ui.registry.addContextToolbar("table",{predicate:t=>e.dom.is(t,"table")&&e.getBody().contains(t)&&e.dom.isEditable(t.parentNode),items:t,scope:"node",position:"node"})})(e)})}()},50193:function(e,t,n){n(13550)},51190:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(n=null,e=>n===e);var n;const o=e=>e,r=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},a=e=>e.replace(/\uFEFF/g,""),s={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\ufeff￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:"[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]"},i=0,l=1,c=2,u=3,d=4,m=5,p=6,g=7,h=8,b=9,f=10,y=11,v=12,w=13,x=[new RegExp(s.aletter),new RegExp(s.midnumlet),new RegExp(s.midletter),new RegExp(s.midnum),new RegExp(s.numeric),new RegExp(s.cr),new RegExp(s.lf),new RegExp(s.newline),new RegExp(s.extend),new RegExp(s.format),new RegExp(s.katakana),new RegExp(s.extendnumlet),new RegExp("@")],S=new RegExp("^"+s.punctuation+"$"),k=x,C=w,T=e=>{let t=C;const n=k.length;for(let o=0;o<n;++o){const n=k[o];if(n&&n.test(e)){t=o;break}}return t},A=(e,t)=>{const n=e[t],o=e[t+1];if(t<0||t>e.length-1&&0!==t)return!1;if(n===i&&o===i)return!1;const r=e[t+2];if(n===i&&(o===c||o===l||o===v)&&r===i)return!1;const a=e[t-1];return(n!==c&&n!==l&&o!==v||o!==i||a!==i)&&((n!==d&&n!==i||o!==d&&o!==i)&&((n!==u&&n!==l||o!==d||a!==d)&&((n!==d||o!==u&&o!==l||r!==d)&&((n!==h&&n!==b||o!==i&&o!==d&&o!==f&&o!==h&&o!==b)&&(o!==h&&(o!==b||r!==i&&r!==d&&r!==f&&r!==h&&r!==b)||n!==i&&n!==d&&n!==f&&n!==h&&n!==b)&&((n!==m||o!==p)&&(n===g||n===m||n===p||(o===g||o===m||o===p||(n!==f||o!==f)&&((o!==y||n!==i&&n!==d&&n!==f&&n!==y)&&((n!==y||o!==i&&o!==d&&o!==f)&&n!==v)))))))))},_=/^\s+$/,O=S,E=e=>"http"===e||"https"===e,N=(e,t)=>{const n=((e,t)=>{let n;for(n=t;n<e.length&&!_.test(e[n]);n++);return n})(e,t+1);return"://"===e.slice(t+1,n).join("").substr(0,3)?n:t},F=(e,t,n)=>{n={includeWhitespace:!1,includePunctuation:!1,...n};const o=r(e,t);return((e,t,n,o)=>{const r=[],a=[];let s=[];for(let i=0;i<n.length;++i)if(s.push(e[i]),A(n,i)){const n=t[i];if((o.includeWhitespace||!_.test(n))&&(o.includePunctuation||!O.test(n))){const n=i-s.length+1,o=i+1,l=t.slice(n,o).join("");if(E(l)){const n=N(t,i),r=e.slice(o,n);Array.prototype.push.apply(s,r),i=n}"."===t[i+1]&&/^([a-zA-Z]\.)+$/.test(l+".")?(s.push(e[i+1]),a.push({start:n,end:o+1})):a.push({start:n,end:o}),r.push(s)}s=[]}return{words:r,indices:a}})(e,o,(e=>{const t=(e=>{const t={};return n=>{if(t[n])return t[n];{const o=e(n);return t[n]=o,o}}})(T);return r(e,t)})(o),n)},D=(e,t,n)=>F(e,t,n).words;var R=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const P=(e,t)=>{const n=t.getBlockElements(),o=t.getVoidElements(),r=e=>n[e.nodeName]||o[e.nodeName],s=[];let i="";const l=new R(e,e);let c;for(;c=l.next();)3===c.nodeType?i+=a(c.data):r(c)&&i.length&&(s.push(i),i="");return i.length&&s.push(i),s},M=e=>e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,B=(e,t)=>{const n=(e=>e.replace(/\u200B/g,""))(P(e,t).join("\n"));return D(n.split(""),o).length},$=(e,t)=>{const n=P(e,t).join("");return M(n)},j=(e,t)=>{const n=P(e,t).join("").replace(/\s/g,"");return M(n)},L=(e,t)=>()=>t(e.getBody(),e.schema),I=(e,t)=>()=>t(e.selection.getRng().cloneContents(),e.schema),z=e=>L(e,B),W=(e,t)=>{e.addCommand("mceWordCount",()=>((e,t)=>{e.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(t.body.getWordCount()),String(t.selection.getWordCount())],["Characters (no spaces)",String(t.body.getCharacterCountWithoutSpaces()),String(t.selection.getCharacterCountWithoutSpaces())],["Characters",String(t.body.getCharacterCount()),String(t.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})})(e,t))};var q=tinymce.util.Tools.resolve("tinymce.util.Delay");const U=(e,t)=>{((e,t)=>{e.dispatch("wordCountUpdate",{wordCount:{words:t.body.getWordCount(),characters:t.body.getCharacterCount(),charactersWithoutSpaces:t.body.getCharacterCountWithoutSpaces()}})})(e,t)},H=(e,n,o)=>{const r=((e,n)=>{let o=null;return{cancel:()=>{t(o)||(clearTimeout(o),o=null)},throttle:(...r)=>{t(o)&&(o=setTimeout(()=>{o=null,e.apply(null,r)},n))}}})(()=>U(e,n),o);e.on("init",()=>{U(e,n),q.setEditorTimeout(e,()=>{e.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",r.throttle)},0),e.on("remove",r.cancel)})};((t=300)=>{e.add("wordcount",e=>{const n=(e=>({body:{getWordCount:z(e),getCharacterCount:L(e,$),getCharacterCountWithoutSpaces:L(e,j)},selection:{getWordCount:I(e,B),getCharacterCount:I(e,$),getCharacterCountWithoutSpaces:I(e,j)},getCount:z(e)}))(e);return W(e,n),(e=>{const t=()=>e.execCommand("mceWordCount");e.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:t,context:"any"}),e.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:t,context:"any"})})(e),H(e,n,t),n})})()}()},52171:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(n=void 0,e=>n===e);var n;const o=e=>()=>e,r=o(!1);class a{constructor(e,t){this.tag=e,this.value=t}static some(e){return new a(!0,e)}static none(){return a.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?a.some(e(this.value)):a.none()}bind(e){return this.tag?e(this.value):a.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:a.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return(e=>null==e)(e)?a.none():a.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}a.singletonNone=new a(!1);const s=(e,t)=>((e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return a.some(r);if(n(r,o))break}return a.none()})(e,t,r),i=(e,n,o=0,r)=>{const a=e.indexOf(n,o);return-1!==a&&(!!t(r)||a+n.length<=r)},l=()=>c(0,0),c=(e,t)=>({major:e,minor:t}),u={nu:c,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?l():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}})(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return c(o(1),o(2))})(e,n)},unknown:l},d=(e,t)=>((e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return a.none()})(t.brands,t=>{const n=t.brand.toLowerCase();return s(e,e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())}).map(e=>({current:e.name,version:u.nu(parseInt(t.version,10),0)}))}),m=(e,t)=>{const n=String(t).toLowerCase();return s(e,e=>e.search(n))},p=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,g=e=>t=>i(t,e),h=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>i(e,"edge/")&&i(e,"chrome")&&i(e,"safari")&&i(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,p],search:e=>i(e,"chrome")&&!i(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>i(e,"msie")||i(e,"trident")},{name:"Opera",versionRegexes:[p,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:g("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:g("firefox")},{name:"Safari",versionRegexes:[p,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(i(e,"safari")||i(e,"mobile/"))&&i(e,"applewebkit")}],b=[{name:"Windows",search:g("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>i(e,"iphone")||i(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:g("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:g("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:g("linux"),versionRegexes:[]},{name:"Solaris",search:g("sunos"),versionRegexes:[]},{name:"FreeBSD",search:g("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:g("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],f={browsers:o(h),oses:o(b)},y="Edge",v="Chromium",w="Opera",x="Firefox",S="Safari",k=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(y),isChromium:o(v),isIE:o("IE"),isOpera:o(w),isFirefox:o(x),isSafari:o(S)}},C={unknown:()=>k({current:void 0,version:u.unknown()}),nu:k,edge:o(y),chromium:o(v),ie:o("IE"),opera:o(w),firefox:o(x),safari:o(S)},T="Windows",A="Android",_="Linux",O="macOS",E="Solaris",N="FreeBSD",F="ChromeOS",D=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(T),isiOS:o("iOS"),isAndroid:o(A),isMacOS:o(O),isLinux:o(_),isSolaris:o(E),isFreeBSD:o(N),isChromeOS:o(F)}},R={unknown:()=>D({current:void 0,version:u.unknown()}),nu:D,windows:o(T),ios:o("iOS"),android:o(A),linux:o(_),macos:o(O),solaris:o(E),freebsd:o(N),chromeos:o(F)},P=(e,t,n)=>{const r=f.browsers(),a=f.oses(),s=t.bind(e=>d(r,e)).orThunk(()=>((e,t)=>m(e,t).map(e=>{const n=u.detect(e.versionRegexes,t);return{current:e.name,version:n}}))(r,e)).fold(C.unknown,C.nu),i=((e,t)=>m(e,t).map(e=>{const n=u.detect(e.versionRegexes,t);return{current:e.name,version:n}}))(a,e).fold(R.unknown,R.nu),l=((e,t,n,r)=>{const a=e.isiOS()&&!0===/ipad/i.test(n),s=e.isiOS()&&!a,i=e.isiOS()||e.isAndroid(),l=i||r("(pointer:coarse)"),c=a||!s&&i&&r("(min-device-width:768px)"),u=s||i&&!c,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),m=!u&&!c&&!d;return{isiPad:o(a),isiPhone:o(s),isTablet:o(c),isPhone:o(u),isTouch:o(l),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:o(d),isDesktop:o(m)}})(i,s,e,n);return{browser:s,os:i,deviceType:l}},M=e=>window.matchMedia(e).matches;let B=(e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)})(()=>P(window.navigator.userAgent,a.from(window.navigator.userAgentData),M));const $=()=>B(),j=()=>{const e=$().os.isMacOS()||$().os.isiOS();return`<script>(${(e=>{document.addEventListener("click",t=>{for(let n=t.target;n;n=n.parentNode)if("A"===n.nodeName){const o=n.getAttribute("href");if(o&&o.startsWith("#")){t.preventDefault();const e=document.getElementById(o.substring(1));return void(e&&e.scrollIntoView({behavior:"smooth"}))}(e?t.metaKey:t.ctrlKey&&!t.altKey)||t.preventDefault()}},!1)}).toString()})(${e})<\/script>`};var L=tinymce.util.Tools.resolve("tinymce.util.Tools");const I=e=>t=>t.options.get(e),z=I("content_style"),W=I("content_css_cors"),q=I("body_class"),U=I("body_id"),H=e=>{const t=(e=>{var t;let n="";const o=e.dom.encode,r=null!==(t=z(e))&&void 0!==t?t:"";n+=`<base href="${o(e.documentBaseURI.getURI())}">`;const a=W(e)?' crossorigin="anonymous"':"";L.each(e.contentCSS,t=>{n+='<link type="text/css" rel="stylesheet" href="'+o(e.documentBaseURI.toAbsolute(t))+'"'+a+">"}),r&&(n+='<style type="text/css">'+r+"</style>");const s=U(e),i=q(e),l=e.getBody().dir,c=l?' dir="'+o(l)+'"':"";return"<!DOCTYPE html><html><head>"+n+'</head><body id="'+o(s)+'" class="mce-content-body '+o(i)+'"'+c+">"+e.getContent()+j()+"</body></html>"})(e);e.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:t}}).focus("close")};e.add("preview",e=>{(e=>{e.addCommand("mcePreview",()=>{H(e)})})(e),(e=>{const t=()=>e.execCommand("mcePreview");e.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:t,context:"any"}),e.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:t,context:"any"})})(e)})}()},53847:function(e,t,n){n(31148)},55081:function(e,t,n){n(51190)},55775:function(e,t,n){n(27524)},56912:function(e,t,n){n(85645)},57235:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(a=String).prototype,o.isPrototypeOf(n)||(null===(s=r.constructor)||void 0===s?void 0:s.name)===a.name)?"string":t;var n,o;var r,a,s})(t)===e,n=e=>t=>typeof t===e,o=t("string"),r=t("array"),a=n("boolean"),s=(i=void 0,e=>i===e);var i;const l=e=>!(e=>null==e)(e),c=n("function"),u=n("number"),d=()=>{},m=e=>()=>e,p=e=>e,g=(e,t)=>e===t;function h(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const b=e=>{e()},f=m(!1),y=m(!0);class v{constructor(e,t){this.tag=e,this.value=t}static some(e){return new v(!0,e)}static none(){return v.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?v.some(e(this.value)):v.none()}bind(e){return this.tag?e(this.value):v.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:v.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return l(e)?v.some(e):v.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}v.singletonNone=new v(!1);Array.prototype.slice;const w=Array.prototype.indexOf,x=Array.prototype.push,S=(e,t)=>((e,t)=>w.call(e,t))(e,t)>-1,k=(e,t)=>{for(let n=0,o=e.length;n<o;n++){if(t(e[n],n))return!0}return!1},C=(e,t)=>{const n=[];for(let o=0;o<e;o++)n.push(t(o));return n},T=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},A=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},_=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},O=(e,t,n)=>(A(e,(e,o)=>{n=t(n,e,o)}),n),E=(e,t)=>((e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return v.some(r);if(n(r,o))break}return v.none()})(e,t,f),N=(e,t)=>(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!r(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);x.apply(t,e[n])}return t})(T(e,t)),F=(e,t)=>{for(let n=0,o=e.length;n<o;++n){if(!0!==t(e[n],n))return!1}return!0},D=(e,t)=>t>=0&&t<e.length?v.some(e[t]):v.none();c(Array.from)&&Array.from;const R=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return v.none()},P=Object.keys,M=Object.hasOwnProperty,B=(e,t)=>{const n=P(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},$=(e,t)=>{const n={};var o;return((e,t,n,o)=>{B(e,(e,r)=>{(t(e,r)?n:o)(e,r)})})(e,t,(o=n,(e,t)=>{o[t]=e}),d),n},j=e=>((e,t)=>{const n=[];return B(e,(e,o)=>{n.push(t(e,o))}),n})(e,p),L=e=>P(e).length,I=(e,t)=>z(e,t)?v.from(e[t]):v.none(),z=(e,t)=>M.call(e,t),W=(e,t)=>z(e,t)&&void 0!==e[t]&&null!==e[t],q=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},U=(e,t,n=g)=>e.exists(e=>n(e,t)),H=e=>{const t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t},V=(e,t,n)=>e.isSome()&&t.isSome()?v.some(n(e.getOrDie(),t.getOrDie())):v.none(),Z=()=>(e=>{const t=q(v.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(v.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(v.some(e))}}})(e=>e.unbind()),K=(e,t)=>((e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t)(e,t,0),G=(J=/^\s+|\s+$/g,e=>e.replace(J,""));var J;const Q=e=>e.length>0,Y=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?v.none():v.some(n)},X=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},ee={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return X(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return X(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return X(n)},fromDom:X,fromPoint:(e,t,n)=>v.from(e.dom.elementFromPoint(t,n)).map(X)},te=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},ne=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,oe=(e,t)=>e.dom===t.dom,re=te,ae=e=>e.dom.nodeName.toLowerCase(),se=e=>e.dom.nodeType,ie=e=>t=>se(t)===e,le=e=>8===se(e)||"#comment"===ae(e),ce=ie(1),ue=ie(3),de=ie(9),me=ie(11),pe=e=>t=>ce(t)&&ae(t)===e,ge=e=>{return de(e)?e:(t=e,ee.fromDom(t.dom.ownerDocument));var t},he=e=>v.from(e.dom.parentNode).map(ee.fromDom),be=(e,t)=>{const n=c(t)?t:f;let o=e.dom;const r=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){const e=o.parentNode,t=ee.fromDom(e);if(r.push(t),!0===n(t))break;o=e}return r},fe=e=>v.from(e.dom.previousSibling).map(ee.fromDom),ye=e=>v.from(e.dom.nextSibling).map(ee.fromDom),ve=e=>T(e.dom.childNodes,ee.fromDom),we=e=>((e,t)=>{const n=e.dom.childNodes;return v.from(n[t]).map(ee.fromDom)})(e,0),xe=e=>{const t=(e=>ee.fromDom(e.dom.getRootNode()))(e);return me(n=t)&&l(n.dom.host)?v.some(t):v.none();var n},Se=e=>ee.fromDom(e.dom.host),ke=(e,t)=>{he(e).each(n=>{n.dom.insertBefore(t.dom,e.dom)})},Ce=(e,t)=>{ye(e).fold(()=>{he(e).each(e=>{Ae(e,t)})},e=>{ke(e,t)})},Te=(e,t)=>{we(e).fold(()=>{Ae(e,t)},n=>{e.dom.insertBefore(t.dom,n.dom)})},Ae=(e,t)=>{e.dom.appendChild(t.dom)},_e=(e,t)=>{ke(e,t),Ae(t,e)},Oe=(e,t)=>{A(t,(n,o)=>{const r=0===o?e:t[o-1];Ce(r,n)})},Ee=(e,t)=>{A(t,t=>{Ae(e,t)})},Ne=(e,t,n)=>{if(!(o(n)||a(n)||u(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Fe=(e,t,n)=>{Ne(e.dom,t,n)},De=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},Re=(e,t)=>v.from(De(e,t)),Pe=(e,t)=>{e.dom.removeAttribute(t)},Me=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Be=e=>{const t=ve(e);t.length>0&&Oe(e,t),Me(e)},$e=e=>T(e,ee.fromDom),je=e=>void 0!==e.style&&c(e.style.getPropertyValue),Le=e=>{const t=ue(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return xe(ee.fromDom(t)).fold(()=>n.body.contains(t),(o=Le,r=Se,e=>o(r(e))));var o,r},Ie=(e,t,n)=>{((e,t,n)=>{if(!o(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);je(e)&&e.style.setProperty(t,n)})(e.dom,t,n)},ze=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||Le(e)?o:We(n,t)},We=(e,t)=>je(e)?e.style.getPropertyValue(t):"",qe=(e,t)=>{const n=e.dom,o=We(n,t);return v.from(o).filter(e=>e.length>0)},Ue=(e,t)=>{((e,t)=>{je(e)&&e.style.removeProperty(t)})(e.dom,t),U(Re(e,"style").map(G),"")&&Pe(e,"style")},He=(e,t)=>{const n=n=>{const o=t(n);if(o<=0||null===o){const t=ze(n,e);return parseFloat(t)||0}return o},o=(e,t)=>O(t,(t,n)=>{const o=ze(e,n),r=void 0===o?0:parseInt(o,10);return isNaN(r)?t:t+r},0);return{set:(t,n)=>{if(!u(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);const o=t.dom;je(o)&&(o.style[e]=n+"px")},get:n,getOuter:n,aggregate:o,max:(e,t,n)=>{const r=o(e,n);return t>r?t-r:0}}},Ve=(e,t)=>(e=>{const t=parseFloat(e);return isNaN(t)?v.none():v.some(t)})(e).getOr(t),Ze=(e,t,n)=>Ve(ze(e,t),n),Ke=(e,t)=>{const n=e.dom,o=n.getBoundingClientRect().width||n.offsetWidth;return"border-box"===t?o:((e,t,n,o)=>t-Ze(e,`padding-${n}`,0)-Ze(e,`padding-${o}`,0)-Ze(e,`border-${n}-width`,0)-Ze(e,`border-${o}-width`,0))(e,o,"left","right")};He("width",e=>e.dom.offsetWidth),He("width",e=>{const t=e.dom;return Le(e)?t.getBoundingClientRect().width:t.offsetWidth});const Ge=e=>Ke(e,"content-box"),Je=((e,t)=>{const n=t=>e(t)?v.from(t.dom.nodeValue):v.none();return{get:o=>{if(!e(o))throw new Error("Can only get "+t+" value of a "+t+" node");return n(o).getOr("")},getOption:n,set:(n,o)=>{if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=o}}})(ue,"text"),Qe=e=>Je.get(e),Ye=(e,t)=>Je.set(e,t);var Xe=(e,t,n,o,r)=>e(n,o)?v.some(n):c(r)&&r(n)?v.none():t(n,o,r);const et=(e,t,n)=>{let o=e.dom;const r=c(n)?n:f;for(;o.parentNode;){o=o.parentNode;const e=ee.fromDom(o);if(t(e))return v.some(e);if(r(e))break}return v.none()},tt=(e,t,n)=>et(e,e=>te(e,t),n),nt=(e,t)=>((e,t)=>E(e.dom.childNodes,e=>t(ee.fromDom(e))).map(ee.fromDom))(e,e=>te(e,t)),ot=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return ne(n)?v.none():v.from(n.querySelector(e)).map(ee.fromDom)})(t,e),rt=(e,t,n)=>Xe((e,t)=>te(e,t),tt,e,t,n),at=(e,t=!1)=>{return Le(e)?e.dom.isContentEditable:(n=e,rt(n,"[contenteditable]")).fold(m(t),e=>"true"===st(e));var n},st=e=>e.dom.contentEditable,it=(e,t)=>{let n=[];return A(ve(e),e=>{t(e)&&(n=n.concat([e])),n=n.concat(it(e,t))}),n},lt=(e,t)=>((e,t)=>_(ve(e),t))(e,e=>te(e,t)),ct=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return ne(n)?[]:T(n.querySelectorAll(e),ee.fromDom)})(t,e),ut=e=>t=>oe(t,(e=>ee.fromDom(e.getBody()))(e)),dt=e=>/^\d+(\.\d+)?$/.test(e)?e+"px":e,mt=e=>ee.fromDom(e.selection.getStart()),pt=e=>{return(t=e,n=pe("table"),Xe((e,t)=>t(e),et,t,n,o)).forall(at);var t,n,o},gt=["tfoot","thead","tbody","colgroup"],ht=(e,t,n)=>({element:e,rowspan:t,colspan:n}),bt=(e,t,n)=>({element:e,cells:t,section:n}),ft=(e,t,n=0)=>Re(e,t).map(e=>parseInt(e,10)).getOr(n),yt=(e,t)=>vt(e,t,y),vt=(e,t,n)=>N(ve(e),e=>te(e,t)?n(e)?[e]:[]:vt(e,t,n)),wt=(e,t)=>((e,t,n=f)=>n(t)?v.none():S(e,ae(t))?v.some(t):tt(t,e.join(","),e=>te(e,"table")||n(e)))(["td","th"],e,t),xt=(e,t)=>rt(e,"table",t),St=e=>yt(e,"tr"),kt=e=>xt(e).fold(m([]),e=>lt(e,"colgroup")),Ct=pe("th"),Tt=(e,t)=>e&&t?"sectionCells":e?"section":"cells",At=e=>{const t=_(e,e=>Ct(e.element));return 0===t.length?v.some("td"):t.length===e.length?v.some("th"):v.none()},_t=e=>{const t=T(e,e=>(e=>{const t="thead"===e.section,n=U(At(e.cells),"th");return"tfoot"===e.section?{type:"footer"}:t||n?{type:"header",subType:Tt(t,n)}:{type:"body"}})(e).type),n=S(t,"header"),o=S(t,"footer");if(n||o){const e=S(t,"body");return!n||e||o?n||e||!o?v.none():v.some("footer"):v.some("header")}return v.some("body")},Ot=(e,t)=>T(e,e=>{if("colgroup"===ae(e)){const t=T((e=>te(e,"colgroup")?lt(e,"col"):N(kt(e),e=>lt(e,"col")))(e),e=>{const t=ft(e,"span",1);return ht(e,1,t)});return bt(e,t,"colgroup")}{const n=T((e=>yt(e,"th,td"))(e),e=>{const t=ft(e,"rowspan",1),n=ft(e,"colspan",1);return ht(e,t,n)});return bt(e,n,t(e))}}),Et=e=>he(e).map(e=>{const t=ae(e);return(e=>S(gt,e))(t)?t:"tbody"}).getOr("tbody"),Nt=e=>Re(e,"data-snooker-locked-cols").bind(e=>v.from(e.match(/\d+/g))).map(e=>((e,t)=>{const n={};for(let o=0,r=e.length;o<r;o++){const r=e[o];n[String(r)]=t(r,o)}return n})(e,y)),Ft=(e,t)=>e+","+t,Dt=(e,t)=>{const n=N(e.all,e=>e.cells);return _(n,t)},Rt=e=>{const t={},n=[];var o;const r=(o=e,D(o,0)).map(e=>e.element).bind(xt).bind(Nt).getOr({});let a=0,s=0,i=0;const{pass:l,fail:c}=((e,t)=>{const n=[],o=[];for(let r=0,a=e.length;r<a;r++){const a=e[r];(t(a,r)?n:o).push(a)}return{pass:n,fail:o}})(e,e=>"colgroup"===e.section);A(c,e=>{const o=[];A(e.cells,e=>{let n=0;for(;void 0!==t[Ft(i,n)];)n++;const a=W(r,n.toString()),l=((e,t,n,o,r,a)=>({element:e,rowspan:t,colspan:n,row:o,column:r,isLocked:a}))(e.element,e.rowspan,e.colspan,i,n,a);for(let o=0;o<e.colspan;o++)for(let r=0;r<e.rowspan;r++){const e=n+o,a=Ft(i+r,e);t[a]=l,s=Math.max(s,e+1)}o.push(l)}),a++,n.push(bt(e.element,o,e.section)),i++});const{columns:u,colgroups:d}=(e=>D(e,e.length-1))(l).map(e=>{const t=(e=>{const t={};let n=0;return A(e.cells,e=>{const o=e.colspan;C(o,r=>{const a=n+r;t[a]=((e,t,n)=>({element:e,colspan:t,column:n}))(e.element,o,a)}),n+=o}),t})(e),n=((e,t)=>({element:e,columns:t}))(e.element,j(t));return{colgroups:[n],columns:t}}).getOrThunk(()=>({colgroups:[],columns:{}})),m=((e,t)=>({rows:e,columns:t}))(a,s);return{grid:m,access:t,all:n,columns:u,colgroups:d}},Pt=e=>{const t=(e=>{const t=St(e),n=[...kt(e),...t];return Ot(n,Et)})(e);return Rt(t)},Mt=(e,t,n)=>v.from(e.access[Ft(t,n)]),Bt=(e,t,n)=>{const o=Dt(e,e=>n(t,e.element));return o.length>0?v.some(o[0]):v.none()},$t=e=>N(e.all,e=>e.cells),jt=(e,t)=>v.from(e.columns[t]),Lt=(e,t)=>R(e.all,e=>E(e.cells,e=>oe(t,e.element))),It=(e,t,n)=>{const o=T(t.selection,t=>wt(t).bind(t=>Lt(e,t)).filter(n)),r=H(o);return a=r.length>0,s=r,a?v.some(s):v.none();var a,s},zt=(e,t)=>It(e,t,y),Wt=(e,t)=>F(t,t=>((e,t)=>Lt(e,t).exists(e=>!e.isLocked))(e,t)),qt=(e,t)=>((e,t)=>t.mergable)(0,t).filter(t=>Wt(e,t.cells)),Ut=(e,t)=>((e,t)=>t.unmergable)(0,t).filter(t=>Wt(e,t)),Ht=pe("col"),Vt=pe("colgroup"),Zt=e=>"tr"===ae(e)||Vt(e),Kt=e=>t=>{const n=[],o=o=>{const r="td"===e?{scope:null}:{},a=t.replace(o,e,r);return n.push({item:o,sub:a}),a};return{replaceOrInit:(e,t)=>{if(Zt(e)||Ht(e))return e;{const r=e;return((e,t)=>E(n,n=>t(n.item,e)))(r,t).fold(()=>o(r),n=>t(e,n.item)?n.sub:o(r))}}}};var Gt=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];const Jt=(e,t,n,o)=>{const r=t(e,n);return a=(n,o)=>{const r=t(e,o);return Qt(e,n,r)},s=r,((e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)})(o,(e,t)=>{s=a(s,e,t)}),s;var a,s},Qt=(e,t,n)=>t.bind(t=>n.filter(h(e.eq,t))),Yt=(e,t,n)=>n.length>0?((e,t,n,o)=>o(e,t,n[0],n.slice(1)))(e,t,n,Jt):v.none(),Xt={up:m({selector:tt,closest:rt,predicate:et,all:be}),down:m({selector:ct,predicate:it}),styles:m({get:ze,getRaw:qe,set:Ie,remove:Ue}),attrs:m({get:De,set:Fe,remove:Pe,copyTo:(e,t)=>{((e,t)=>{const n=e.dom;B(t,(e,t)=>{Ne(n,t,e)})})(t,O(e.dom.attributes,(e,t)=>(e[t.name]=t.value,e),{}))}}),insert:m({before:ke,after:Ce,afterAll:Oe,append:Ae,appendAll:Ee,prepend:Te,wrap:_e}),remove:m({unwrap:Be,remove:Me}),create:m({nu:ee.fromTag,clone:e=>ee.fromDom(e.dom.cloneNode(!1)),text:ee.fromText}),query:m({comparePosition:(e,t)=>e.dom.compareDocumentPosition(t.dom),prevSibling:fe,nextSibling:ye}),property:m({children:ve,name:ae,parent:he,document:e=>ge(e).dom,isText:ue,isComment:le,isElement:ce,isSpecial:e=>{const t=ae(e);return S(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)},getLanguage:e=>ce(e)?Re(e,"lang"):v.none(),getText:Qe,setText:Ye,isBoundary:e=>!!ce(e)&&("body"===ae(e)||S(Gt,ae(e))),isEmptyTag:e=>!!ce(e)&&S(["br","img","hr","input"],ae(e)),isNonEditable:e=>ce(e)&&"false"===De(e,"contenteditable")}),eq:oe,is:re};Kt("th"),Kt("td");const en=(e,t)=>{const n=Pt(e);return zt(n,t).bind(e=>{const t=e[e.length-1],o=e[0].row,r=t.row+t.rowspan,a=n.all.slice(o,r);return _t(a)}).getOr("")},tn=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,nn=(e,t,n)=>{const o=Bt(e,t,oe),r=Bt(e,n,oe);return o.bind(e=>r.map(t=>{return n=e,o=t,r=Math.min(n.row,o.row),a=Math.min(n.column,o.column),s=Math.max(n.row+n.rowspan-1,o.row+o.rowspan-1),i=Math.max(n.column+n.colspan-1,o.column+o.colspan-1),{startRow:r,startCol:a,finishRow:s,finishCol:i};var n,o,r,a,s,i}))},on=(e,t,n)=>nn(e,t,n).bind(t=>((e,t)=>{let n=!0;const o=h(tn,t);for(let r=t.startRow;r<=t.finishRow;r++)for(let a=t.startCol;a<=t.finishCol;a++)n=n&&Mt(e,r,a).exists(o);return n?v.some(t):v.none()})(e,t)),rn=Pt;var an=tinymce.util.Tools.resolve("tinymce.util.Tools");const sn=(e,t,n)=>{const o=e.select("td,th",t);let r;for(let t=0;t<o.length;t++){const a=e.getStyle(o[t],n);if(s(r)&&(r=a),r!==a)return""}return r},ln=(e,t,n)=>{an.each("left center right".split(" "),o=>{o!==n&&e.formatter.remove("align"+o,{},t)}),n&&e.formatter.apply("align"+n,{},t)},cn=(e,t,n)=>{e.dispatch("TableModified",{...n,table:t})};var un=tinymce.util.Tools.resolve("tinymce.Env");const dn=C(5,e=>{const t=`${e+1}px`;return{title:t,value:t}}),mn=T(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],e=>({title:e,value:e.toLowerCase()})),pn="100%",gn=e=>{var t;const n=e.dom,o=null!==(t=n.getParent(e.selection.getStart(),n.isBlock))&&void 0!==t?t:e.getBody();return Ge(ee.fromDom(o))+"px"},hn=e=>t=>t.options.get(e),bn=hn("table_sizing_mode"),fn=hn("table_border_widths"),yn=hn("table_border_styles"),vn=hn("table_cell_advtab"),wn=hn("table_row_advtab"),xn=hn("table_advtab"),Sn=hn("table_appearance_options"),kn=hn("table_grid"),Cn=hn("table_style_by_css"),Tn=hn("table_cell_class_list"),An=hn("table_row_class_list"),_n=hn("table_class_list"),On=hn("table_toolbar"),En=hn("table_background_color_map"),Nn=hn("table_border_color_map"),Fn=e=>"fixed"===bn(e),Dn=e=>"responsive"===bn(e),Rn=e=>{const t=e.options,n=t.get("table_default_styles");return t.isSet("table_default_styles")?n:((e,t)=>Dn(e)||!Cn(e)?t:Fn(e)?{...t,width:gn(e)}:{...t,width:pn})(e,n)},Pn=e=>{const t=e.options,n=t.get("table_default_attributes");return t.isSet("table_default_attributes")?n:((e,t)=>Dn(e)||Cn(e)?t:Fn(e)?{...t,width:gn(e)}:{...t,width:pn})(e,n)},Mn=e=>tt(e,"table"),Bn=(e,t,n)=>ot(e,t).bind(t=>ot(e,n).bind(e=>{return(n=Mn,o=[t,e],Yt(Xt,(e,t)=>n(t),o)).map(n=>({first:t,last:e,table:n}));var n,o})),$n=(e,t)=>((e,t)=>{const n=ct(e,t);return n.length>0?v.some(n):v.none()})(e,t),jn=(e,t,n)=>Bn(e,t,n).bind(t=>{const n=t=>oe(e,t),o="thead,tfoot,tbody,table",r=tt(t.first,o,n),a=tt(t.last,o,n);return r.bind(e=>a.bind(n=>oe(e,n)?((e,t,n)=>{const o=rn(e);return on(o,t,n)})(t.table,t.first,t.last):v.none()))}),Ln=p,In=e=>{const t=(e,t)=>Re(e,t).exists(e=>parseInt(e,10)>1);return e.length>0&&F(e,e=>t(e,"rowspan")||t(e,"colspan"))?v.some(e):v.none()},zn=(e,t,n)=>t.length<=1?v.none():jn(e,n.firstSelectedSelector,n.lastSelectedSelector).map(e=>({bounds:e,cells:t})),Wn="data-mce-selected",qn="data-mce-first-selected",Un="data-mce-last-selected",Hn={selected:Wn,selectedSelector:"td["+Wn+"],th["+Wn+"]",firstSelected:qn,firstSelectedSelector:"td["+qn+"],th["+qn+"]",lastSelected:Un,lastSelectedSelector:"td["+Un+"],th["+Un+"]"},Vn=e=>(t,n)=>{const o=ae(t),r="col"===o||"colgroup"===o?xt(a=t).bind(e=>$n(e,Hn.firstSelectedSelector)).fold(m(a),e=>e[0]):t;var a;return rt(r,e,n)},Zn=Vn("th,td,caption"),Kn=Vn("th,td"),Gn=e=>$e(e.model.table.getSelectedCells()),Jn=(e,t)=>{const n=Kn(e),o=n.bind(e=>xt(e)).map(e=>St(e));return V(n,o,(e,n)=>_(n,n=>k($e(n.dom.cells),n=>"1"===De(n,t)||oe(n,e)))).getOr([])},Qn=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Yn=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Xn=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,eo=e=>{return(t=e,n="#",K(t,n)?((e,t)=>e.substring(t))(t,n.length):t).toUpperCase();var t,n},to=e=>(e=>Yn.test(e)||Xn.test(e))(e)?v.some({value:eo(e)}):v.none(),no=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},oo=e=>(e=>({value:eo(e)}))(no(e.red)+no(e.green)+no(e.blue)),ro=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,ao=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,so=(e,t,n,o)=>({red:e,green:t,blue:n,alpha:o}),io=(e,t,n,o)=>{const r=parseInt(e,10),a=parseInt(t,10),s=parseInt(n,10),i=parseFloat(o);return so(r,a,s,i)},lo=e=>{const t=ro.exec(e);if(null!==t)return v.some(io(t[1],t[2],t[3],"1"));const n=ao.exec(e);return null!==n?v.some(io(n[1],n[2],n[3],n[4])):v.none()},co=(e,t,n)=>o=>{const r=Z(),a=!Q(n);const s=()=>{const s=Gn(e),i=o=>e.formatter.match(t,{value:n},o.dom,a);a?(o.setActive(!k(s,i)),r.set(e.formatter.formatChanged(t,e=>o.setActive(!e),!0))):(o.setActive(F(s,i)),r.set(e.formatter.formatChanged(t,o.setActive,!1,{value:n})))};return e.initialized?s():e.on("init",s),r.clear},uo=e=>W(e,"menu"),mo=e=>T(e,e=>{const t=e.text||e.title||"";return uo(e)?{text:t,items:mo(e.menu)}:{text:t,value:e.value}}),po=e=>e.length?v.some(mo([{text:"Select...",value:"mce-no-match"},...e])):v.none(),go=(e,t,n,o)=>T(t,t=>{const r=t.text||t.title;return uo(t)?{type:"nestedmenuitem",text:r,getSubmenuItems:()=>go(e,t.menu,n,o)}:{text:r,type:"togglemenuitem",onAction:()=>o(t.value),onSetup:co(e,n,t.value)}}),ho=(e,t)=>n=>{e.execCommand("mceTableApplyCellStyle",!1,{[t]:n})},bo=e=>N(e,e=>uo(e)?[{...e,menu:bo(e.menu)}]:Q(e.value)?[e]:[]),fo=(e,t,n,o)=>r=>r(go(e,t,n,o)),yo=(e,t,n)=>{const o=T(t,e=>{return{text:e.title,value:"#"+(t=e.value,to(t).orThunk(()=>lo(t).map(oo)).getOrThunk(()=>{const e=document.createElement("canvas");e.height=1,e.width=1;const n=e.getContext("2d");n.clearRect(0,0,e.width,e.height),n.fillStyle="#FFFFFF",n.fillStyle=t,n.fillRect(0,0,1,1);const o=n.getImageData(0,0,1,1).data,r=o[0],a=o[1],s=o[2],i=o[3];return oo(so(r,a,s,i))})).value,type:"choiceitem"};var t});return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:o.length>0?o:void 0,allowCustomColors:!1},onAction:t=>{const o="remove"===t.value?"":t.value;e.execCommand("mceTableApplyCellStyle",!1,{[n]:o})}}]},vo=e=>()=>{const t="header"===e.queryCommandValue("mceTableRowType")?"body":"header";e.execCommand("mceTableRowType",!1,{type:t})},wo=e=>()=>{const t="th"===e.queryCommandValue("mceTableColType")?"td":"th";e.execCommand("mceTableColType",!1,{type:t})},xo=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Qn}],So=e=>xo.concat((e=>po(Tn(e)).map(e=>({name:"class",type:"listbox",label:"Class",items:e})))(e).toArray()),ko=(e,t)=>{const n=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(mo(yn(e)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:"cell"===t?[{name:"borderwidth",type:"input",label:"Border width"}].concat(n):n}},Co=(e,t)=>{const n=e.dom;return{setAttrib:(e,o)=>{n.setAttrib(t,e,o)},setStyle:(e,o)=>{n.setStyle(t,e,o)},setFormat:(n,o)=>{""===o?e.formatter.remove(n,{value:null},t,!0):e.formatter.apply(n,{value:o},t)}}},To=e=>{return K(e,"rgb")?lo(t=e).map(oo).map(e=>"#"+e.value).getOr(t):e;var t},Ao=e=>{const t=ee.fromDom(e);return{borderwidth:qe(t,"border-width").getOr(""),borderstyle:qe(t,"border-style").getOr(""),bordercolor:qe(t,"border-color").map(To).getOr(""),backgroundcolor:qe(t,"background-color").map(To).getOr("")}},_o=e=>{const t=e[0],n=e.slice(1);return A(n,e=>{A(P(t),n=>{B(e,(e,o)=>{const r=t[n];""!==r&&n===o&&r!==e&&(t[n]="class"===n?"mce-no-match":"")})})}),t},Oo=(e,t,n,o)=>E(e,e=>!s(n.formatter.matchNode(o,t+e))).getOr(""),Eo=h(Oo,["left","center","right"],"align"),No=h(Oo,["top","middle","bottom"],"valign"),Fo=e=>xt(ee.fromDom(e)).map(t=>{const n={selection:$e(e.cells)};return en(t,n)}).getOr(""),Do=(e,t)=>{const n=Pt(e),o=$t(n),r=_(o,e=>k(t,t=>oe(e.element,t)));return T(r,e=>({element:e.element.dom,column:jt(n,e.column).map(e=>e.element.dom)}))},Ro=(e,t,n,o)=>{const r=1===t.length;A(t,t=>{const a=t.element,s=r?y:o,i=Co(e,a);((e,t,n,o)=>{o("scope")&&e.setAttrib("scope",n.scope),o("class")&&"mce-no-match"!==n.class&&e.setAttrib("class",n.class),o("width")&&t.setStyle("width",dt(n.width))})(i,t.column.map(t=>Co(e,t)).getOr(i),n,s),vn(e)&&((e,t,n)=>{n("backgroundcolor")&&e.setFormat("tablecellbackgroundcolor",t.backgroundcolor),n("bordercolor")&&e.setFormat("tablecellbordercolor",t.bordercolor),n("borderstyle")&&e.setFormat("tablecellborderstyle",t.borderstyle),n("borderwidth")&&e.setFormat("tablecellborderwidth",dt(t.borderwidth))})(i,n,s),o("halign")&&ln(e,a,n.halign),o("valign")&&((e,t,n)=>{an.each("top middle bottom".split(" "),o=>{o!==n&&e.formatter.remove("valign"+o,{},t)}),n&&e.formatter.apply("valign"+n,{},t)})(e,a,n.valign)})},Po=(e,t,n,o)=>{const r=o.getData();o.close(),e.undoManager.transact(()=>{((e,t,n,o)=>{const r=$(o,(e,t)=>n[t]!==e);L(r)>0&&t.length>=1&&xt(t[0]).each(n=>{const a=Do(n,t),s=L($(r,(e,t)=>"scope"!==t&&"celltype"!==t))>0,i=z(r,"celltype");(s||z(r,"scope"))&&Ro(e,a,o,h(z,r)),i&&((e,t)=>{e.execCommand("mceTableCellType",!1,{type:t.celltype,no_events:!0})})(e,o),cn(e,n.dom,{structure:i,style:s})})})(e,t,n,r),e.focus()})},Mo=(e,t)=>{const n=xt(t[0]).map(n=>T(Do(n,t),t=>((e,t,n,o)=>{const r=e.dom,a=o.getOr(t);return{width:(i=a,l="width",r.getStyle(i,l)||r.getAttrib(i,l)),scope:r.getAttrib(t,"scope"),celltype:(s=t,s.nodeName.toLowerCase()),class:r.getAttrib(t,"class",""),halign:Eo(e,t),valign:No(e,t),...n?Ao(t):{}};var s,i,l})(e,t.element,vn(e),t.column)));return _o(n.getOrDie())},Bo=e=>{const t=Gn(e);if(0===t.length)return;const n=Mo(e,t),o={type:"tabpanel",tabs:[{title:"General",name:"general",items:So(e)},ko(e,"cell")]},r={type:"panel",items:[{type:"grid",columns:2,items:So(e)}]};e.windowManager.open({title:"Cell Properties",size:"normal",body:vn(e)?o:r,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:n,onSubmit:h(Po,e,t,n)})},$o=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],jo=e=>$o.concat((e=>po(An(e)).map(e=>({name:"class",type:"listbox",label:"Class",items:e})))(e).toArray()),Lo=(e,t,n,o)=>{const r=1===t.length?y:o;A(t,t=>{const a=lt(ee.fromDom(t),"td,th"),s=Co(e,t);((e,t,n)=>{n("class")&&"mce-no-match"!==t.class&&e.setAttrib("class",t.class),n("height")&&e.setStyle("height",dt(t.height))})(s,n,r),wn(e)&&((e,t,n)=>{n("backgroundcolor")&&e.setStyle("background-color",t.backgroundcolor),n("bordercolor")&&e.setStyle("border-color",t.bordercolor),n("borderstyle")&&e.setStyle("border-style",t.borderstyle)})(s,n,r),o("height")&&A(a,t=>{e.dom.setStyle(t.dom,"height",null)}),o("align")&&ln(e,t,n.align)})},Io=(e,t,n,o)=>{const r=o.getData();o.close(),e.undoManager.transact(()=>{((e,t,n,o)=>{const r=$(o,(e,t)=>n[t]!==e);if(L(r)>0){const n=z(r,"type"),a=!n||L(r)>1;a&&Lo(e,t,o,h(z,r)),n&&((e,t)=>{e.execCommand("mceTableRowType",!1,{type:t.type,no_events:!0})})(e,o),xt(ee.fromDom(t[0])).each(t=>cn(e,t.dom,{structure:n,style:a}))}})(e,t,n,r),e.focus()})},zo=e=>{const t=Jn(mt(e),Hn.selected);if(0===t.length)return;const n=T(t,t=>((e,t,n)=>{const o=e.dom;return{height:o.getStyle(t,"height")||o.getAttrib(t,"height"),class:o.getAttrib(t,"class",""),type:Fo(t),align:Eo(e,t),...n?Ao(t):{}}})(e,t.dom,wn(e))),o=_o(n),r={type:"tabpanel",tabs:[{title:"General",name:"general",items:jo(e)},ko(e,"row")]},a={type:"panel",items:[{type:"grid",columns:2,items:jo(e)}]};e.windowManager.open({title:"Row Properties",size:"normal",body:wn(e)?r:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onSubmit:h(Io,e,T(t,e=>e.dom),o)})},Wo=(e,t,n)=>{const o=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],r=Sn(e)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],a=t.length>0?[{name:"class",type:"listbox",label:"Class",items:t}]:[];return o.concat([{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}]).concat(r).concat([{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]).concat(a)},qo=(e,t,n,r)=>{if("TD"===t.tagName||"TH"===t.tagName)o(n)&&l(r)?e.setStyle(t,n,r):e.setStyles(t,n);else if(t.children)for(let o=0;o<t.children.length;o++)qo(e,t.children[o],n,r)},Uo=(e,t,n,o)=>{const r=e.dom,a={},i={},l=Cn(e),c=xn(e),u=0===parseFloat(n.border);if(s(n.class)||"mce-no-match"===n.class||(a.class=n.class),i.height=dt(n.height),l?i.width=dt(n.width):r.getAttrib(t,"width")&&(a.width=(e=>e?e.replace(/px$/,""):"")(n.width)),l?(u?(a.border=0,i["border-width"]=""):(i["border-width"]=dt(n.border),a.border=1),i["border-spacing"]=dt(n.cellspacing)):(a.border=u?0:n.border,a.cellpadding=n.cellpadding,a.cellspacing=n.cellspacing),l&&t.children){const e={};if(u?e["border-width"]="":o.border&&(e["border-width"]=dt(n.border)),o.cellpadding&&(e.padding=dt(n.cellpadding)),c&&o.bordercolor&&(e["border-color"]=n.bordercolor),!(e=>{for(const t in e)if(M.call(e,t))return!1;return!0})(e))for(let n=0;n<t.children.length;n++)qo(r,t.children[n],e)}if(c){const e=n;i["background-color"]=e.backgroundcolor,i["border-color"]=e.bordercolor,i["border-style"]=e.borderstyle}r.setStyles(t,{...Rn(e),...i}),r.setAttribs(t,{...Pn(e),...a})},Ho=(e,t,n,o)=>{const r=e.dom,a=o.getData(),s=$(a,(e,t)=>n[t]!==e);o.close(),e.undoManager.transact(()=>{if(!t){const n=Y(a.cols).getOr(1),o=Y(a.rows).getOr(1);e.execCommand("mceInsertTable",!1,{rows:o,columns:n}),t=Kn(mt(e),ut(e)).bind(t=>xt(t,ut(e))).map(e=>e.dom).getOrDie()}if(L(s)>0){const n={border:z(s,"border"),bordercolor:z(s,"bordercolor"),cellpadding:z(s,"cellpadding")};Uo(e,t,a,n);const o=r.select("caption",t)[0];(o&&!a.caption||!o&&a.caption)&&e.execCommand("mceTableToggleCaption"),ln(e,t,a.align)}if(e.focus(),e.addVisual(),L(s)>0){const n=z(s,"caption"),o=!n||L(s)>1;cn(e,t,{structure:n,style:o})}})},Vo=(e,t)=>{const n=e.dom;let o,r=((e,t)=>{const n=Rn(e),o=Pn(e),r=t?{borderstyle:I(n,"border-style").getOr(""),bordercolor:To(I(n,"border-color").getOr("")),backgroundcolor:To(I(n,"background-color").getOr(""))}:{};return{height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:"",...n,...o,...r,...(()=>{const t=n["border-width"];return Cn(e)&&t?{border:t}:I(o,"border").fold(()=>({}),e=>({border:e}))})(),...{...I(n,"border-spacing").or(I(o,"cellspacing")).fold(()=>({}),e=>({cellspacing:e})),...I(n,"border-padding").or(I(o,"cellpadding")).fold(()=>({}),e=>({cellpadding:e}))}}})(e,xn(e));t?(r.cols="1",r.rows="1",xn(e)&&(r.borderstyle="",r.bordercolor="",r.backgroundcolor="")):(o=n.getParent(e.selection.getStart(),"table",e.getBody()),o?r=((e,t,n)=>{const o=e.dom,r=Cn(e)?o.getStyle(t,"border-spacing")||o.getAttrib(t,"cellspacing"):o.getAttrib(t,"cellspacing")||o.getStyle(t,"border-spacing"),a=Cn(e)?sn(o,t,"padding")||o.getAttrib(t,"cellpadding"):o.getAttrib(t,"cellpadding")||sn(o,t,"padding");return{width:o.getStyle(t,"width")||o.getAttrib(t,"width"),height:o.getStyle(t,"height")||o.getAttrib(t,"height"),cellspacing:null!=r?r:"",cellpadding:null!=a?a:"",border:((t,n)=>{const o=qe(ee.fromDom(n),"border-width");return Cn(e)&&o.isSome()?o.getOr(""):t.getAttrib(n,"border")||sn(e.dom,n,"border-width")||sn(e.dom,n,"border")||""})(o,t),caption:!!o.select("caption",t)[0],class:o.getAttrib(t,"class",""),align:Eo(e,t),...n?Ao(t):{}}})(e,o,xn(e)):xn(e)&&(r.borderstyle="",r.bordercolor="",r.backgroundcolor=""));const a=po(_n(e));a.isSome()&&r.class&&(r.class=r.class.replace(/\s*mce\-item\-table\s*/g,""));const s={type:"grid",columns:2,items:Wo(e,a.getOr([]),t)},i=xn(e)?{type:"tabpanel",tabs:[{title:"General",name:"general",items:[s]},ko(e,"table")]}:{type:"panel",items:[s]};e.windowManager.open({title:"Table Properties",size:"normal",body:i,onSubmit:h(Ho,e,o,r),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r})},Zo=e=>{B({mceTableProps:h(Vo,e,!1),mceTableRowProps:h(zo,e),mceTableCellProps:h(Bo,e),mceInsertTableDialog:h(Vo,e,!0)},(t,n)=>e.addCommand(n,()=>{return n=t,void(pt(mt(e))&&n());var n}))},Ko=e=>{const t=q(v.none()),n=q([]);let o=v.none();const r=pe("caption"),a=e=>o.forall(t=>!t[e]),s=()=>Zn((e=>ee.fromDom(e.selection.getEnd()))(e),ut(e)),i=()=>Zn(mt(e),ut(e)).bind(t=>{return n=V(xt(t),s().bind(xt),(n,o)=>oe(n,o)?r(t)?v.some((e=>({element:e,mergable:v.none(),unmergable:v.none(),selection:[e]}))(t)):v.some(((e,t,n)=>({element:n,mergable:zn(t,e,Hn),unmergable:In(e),selection:Ln(e)}))(Gn(e),n,t)):v.none()),n.bind(p);var n}),l=e=>xt(e.element).map(t=>{const n=Pt(t),o=zt(n,e).getOr([]),r=O(o,(e,t)=>(t.isLocked&&(e.onAny=!0,0===t.column?e.onFirst=!0:t.column+t.colspan>=n.grid.columns&&(e.onLast=!0)),e),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:qt(n,e).isSome(),unmergeable:Ut(n,e).isSome(),locked:r}}),c=()=>{t.set((e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)})(i)()),o=t.get().bind(l),A(n.get(),b)},u=e=>(e(),n.set(n.get().concat([e])),()=>{n.set(_(n.get(),t=>t!==e))}),d=(n,o)=>u(()=>t.get().fold(()=>{n.setEnabled(!1)},t=>{n.setEnabled(!o(t)&&e.selection.isEditable())})),m=(n,o,r)=>u(()=>t.get().fold(()=>{n.setEnabled(!1),n.setActive(!1)},t=>{n.setEnabled(!o(t)&&e.selection.isEditable()),n.setActive(r(t))})),g=e=>o.exists(t=>t.locked[e]),h=(t,n)=>o=>m(o,e=>r(e.element),()=>e.queryCommandValue(t)===n),y=h("mceTableRowType","header"),w=h("mceTableColType","th");return e.on("NodeChange ExecCommand TableSelectorChange",c),{onSetupTable:e=>d(e,e=>!1),onSetupCellOrRow:e=>d(e,e=>r(e.element)),onSetupColumn:e=>t=>d(t,t=>r(t.element)||g(e)),onSetupPasteable:e=>t=>d(t,t=>r(t.element)||e().isNone()),onSetupPasteableColumn:(e,t)=>n=>d(n,n=>r(n.element)||e().isNone()||g(t)),onSetupMergeable:e=>d(e,e=>a("mergeable")),onSetupUnmergeable:e=>d(e,e=>a("unmergeable")),resetTargets:c,onSetupTableWithCaption:t=>m(t,f,t=>xt(t.element,ut(e)).exists(e=>nt(e,"caption").isSome())),onSetupTableRowHeaders:y,onSetupTableColumnHeaders:w,targets:t.get}};var Go=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Jo="x-tinymce/dom-table-",Qo=Jo+"rows",Yo=Jo+"columns",Xo=e=>{var t;const n=null!==(t=Go.read())&&void 0!==t?t:[];return R(n,t=>v.from(t.getType(e)))},er=()=>Xo(Qo),tr=()=>Xo(Yo),nr=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}},or=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}},rr=e=>{const t=Ko(e);(e=>{const t=e.options.register;t("table_border_widths",{processor:"object[]",default:dn}),t("table_border_styles",{processor:"object[]",default:mn}),t("table_cell_advtab",{processor:"boolean",default:!0}),t("table_row_advtab",{processor:"boolean",default:!0}),t("table_advtab",{processor:"boolean",default:!0}),t("table_appearance_options",{processor:"boolean",default:!0}),t("table_grid",{processor:"boolean",default:!un.deviceType.isTouch()}),t("table_cell_class_list",{processor:"object[]",default:[]}),t("table_row_class_list",{processor:"object[]",default:[]}),t("table_class_list",{processor:"object[]",default:[]}),t("table_toolbar",{processor:"string",default:"tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"}),t("table_background_color_map",{processor:"object[]",default:[]}),t("table_border_color_map",{processor:"object[]",default:[]})})(e),Zo(e),((e,t)=>{const n=t=>()=>e.execCommand(t),o=(t,o)=>!!e.queryCommandSupported(o.command)&&(e.ui.registry.addMenuItem(t,{...o,onAction:c(o.onAction)?o.onAction:n(o.command)}),!0),r=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addToggleMenuItem(t,{...o,onAction:c(o.onAction)?o.onAction:n(o.command)})},a=t=>{e.execCommand("mceInsertTable",!1,{rows:t.numRows,columns:t.numColumns})},s=[o("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:t.onSetupCellOrRow}),o("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:t.onSetupCellOrRow}),o("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:t.onSetupCellOrRow}),o("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:t.onSetupCellOrRow}),o("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:t.onSetupCellOrRow}),o("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:t.onSetupCellOrRow}),o("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:t.onSetupPasteable(er)}),o("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:t.onSetupPasteable(er)})],i=[o("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:t.onSetupColumn("onFirst")}),o("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:t.onSetupColumn("onLast")}),o("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:t.onSetupColumn("onAny")}),o("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:t.onSetupColumn("onAny")}),o("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:t.onSetupColumn("onAny")}),o("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:t.onSetupPasteableColumn(tr,"onFirst")}),o("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:t.onSetupPasteableColumn(tr,"onLast")})],l=[o("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:t.onSetupCellOrRow}),o("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:t.onSetupMergeable}),o("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:t.onSetupUnmergeable})];kn(e)?e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:a}],onSetup:or(e)}):e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:n("mceInsertTableDialog"),onSetup:or(e)}),e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:n("mceInsertTableDialog"),onSetup:or(e)}),o("tableprops",{text:"Table properties",onSetup:t.onSetupTable,command:"mceTableProps"}),o("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:t.onSetupTable,command:"mceTableDelete"}),S(s,!0)&&e.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:m("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),S(i,!0)&&e.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:m("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),S(l,!0)&&e.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:m("tablecellprops tablemergecells tablesplitcells")}),e.ui.registry.addContextMenu("table",{update:()=>(t.resetTargets(),t.targets().fold(m(""),e=>"caption"===ae(e.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const u=bo(_n(e));0!==u.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>go(e,u,"tableclass",t=>e.execCommand("mceTableToggleClass",!1,t)),onSetup:t.onSetupTable});const d=bo(Tn(e));0!==d.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>go(e,d,"tablecellclass",t=>e.execCommand("mceTableCellToggleClass",!1,t)),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>go(e,Qn,"tablecellverticalalign",ho(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>go(e,fn(e),"tablecellborderwidth",ho(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>go(e,yn(e),"tablecellborderstyle",ho(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>yo(e,En(e),"background-color"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>yo(e,Nn(e),"border-color"),onSetup:t.onSetupCellOrRow})),r("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),r("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:vo(e),onSetup:t.onSetupTableRowHeaders}),r("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:wo(e),onSetup:t.onSetupTableRowHeaders})})(e,t),((e,t)=>{e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:nr(e),fetch:e=>e("inserttable | cell row column | advtablesort | tableprops deletetable")});const n=t=>()=>e.execCommand(t),o=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addButton(t,{...o,onAction:c(o.onAction)?o.onAction:n(o.command)})},r=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addToggleButton(t,{...o,onAction:c(o.onAction)?o.onAction:n(o.command)})};o("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:t.onSetupTable}),o("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:t.onSetupTable}),o("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:t.onSetupCellOrRow}),o("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:t.onSetupMergeable}),o("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:t.onSetupUnmergeable}),o("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:t.onSetupCellOrRow}),o("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:t.onSetupCellOrRow}),o("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:t.onSetupCellOrRow}),o("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:t.onSetupCellOrRow}),o("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:t.onSetupColumn("onFirst")}),o("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:t.onSetupColumn("onLast")}),o("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:t.onSetupColumn("onAny")}),o("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:t.onSetupCellOrRow}),o("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:t.onSetupCellOrRow}),o("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:t.onSetupPasteable(er)}),o("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:t.onSetupPasteable(er)}),o("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:t.onSetupColumn("onAny")}),o("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:t.onSetupColumn("onAny")}),o("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:t.onSetupPasteableColumn(tr,"onFirst")}),o("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:t.onSetupPasteableColumn(tr,"onLast")}),o("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:nr(e)});const a=bo(_n(e));0!==a.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:fo(e,a,"tableclass",t=>e.execCommand("mceTableToggleClass",!1,t)),onSetup:t.onSetupTable});const s=bo(Tn(e));0!==s.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:fo(e,s,"tablecellclass",t=>e.execCommand("mceTableCellToggleClass",!1,t)),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:fo(e,Qn,"tablecellverticalalign",ho(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:fo(e,fn(e),"tablecellborderwidth",ho(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:fo(e,yn(e),"tablecellborderstyle",ho(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:t=>t(yo(e,En(e),"background-color")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:t=>t(yo(e,Nn(e),"border-color")),onSetup:t.onSetupCellOrRow})),r("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),r("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:vo(e),onSetup:t.onSetupTableRowHeaders}),r("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:wo(e),onSetup:t.onSetupTableColumnHeaders})})(e,t),(e=>{const t=t=>e.dom.is(t,"table")&&e.getBody().contains(t)&&e.dom.isEditable(t.parentNode),n=On(e);n.length>0&&e.ui.registry.addContextToolbar("table",{predicate:t,items:n,scope:"node",position:"node"})})(e)};e.add("table",rr)}()},57426:function(e,t,n){n(24855)},59638:function(e,t,n){n(52171)},63026:function(){!function(){"use strict";const e=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||(null===(a=o.constructor)||void 0===a?void 0:a.name)===r.name)?"string":t;var n,o,r,a})(t)===e,t=e=>t=>typeof t===e,n=e("string"),o=e("object"),r=e=>null===e,a=t("boolean"),s=t("function"),i=t("number");class l{constructor(e,t){this.tag=e,this.value=t}static some(e){return new l(!0,e)}static none(){return l.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?l.some(e(this.value)):l.none()}bind(e){return this.tag?e(this.value):l.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:l.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return null==e?l.none():l.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}l.singletonNone=new l(!1),Array.prototype.slice;const c=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)};s(Array.from)&&Array.from;const u=Object.keys,d=(e,t)=>{const n=u(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},m="undefined"!=typeof window?window:Function("return this;")(),p=(e,t)=>((e,t)=>{let n=null!=t?t:m;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t);var g=tinymce.util.Tools.resolve("tinymce.PluginManager");const h=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},b=Object.getPrototypeOf,f=e=>e.dom.nodeValue,y=e=>t=>(e=>e.dom.nodeType)(t)===e,v=e=>w(e)&&(e=>{const t=p("ownerDocument.defaultView",e);return o(e)&&((e=>((e,t)=>{const n=((e,t)=>p(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n})("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(b(e).constructor.name))})(e.dom),w=y(1),x=y(3),S=(e,t,o)=>{((e,t,o)=>{if(!(n(o)||a(o)||i(o)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,o+"")})(e.dom,t,o)},k=(e,t)=>{e.dom.removeAttribute(t)},C=(e,t)=>{const n=((e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n})(e,t);return void 0===n||""===n?[]:n.split(" ")},T=e=>void 0!==e.dom.classList,A=e=>e.dom.contentEditable,_={" ":"nbsp","­":"shy"},O=(e,t)=>{let n="";return d(e,(e,t)=>{n+=t}),new RegExp("["+n+"]",t?"g":"")},E=O(_),N=O(_,!0),F=(e=>{let t="";return d(e,e=>{t&&(t+=","),t+="span.mce-"+e}),t})(_),D="mce-nbsp",R=e=>'<span data-mce-bogus="1" class="mce-'+_[e]+'">'+e+"</span>",P=e=>"span"===e.nodeName.toLowerCase()&&e.classList.contains("mce-nbsp-wrap"),M=e=>{const t=f(e);return x(e)&&n(t)&&E.test(t)},B=(e,t,n)=>{let o=[];const r=((e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o})(e.dom.childNodes,h);return c(r,e=>{var r;n&&(P((r=e).dom)||!(e=>v(e)&&"false"===A(e))(r))&&t(e)&&(o=o.concat([e])),o=o.concat(B(e,t,((e,t)=>{if(v(e)&&!P(e.dom)){const t=A(e);if("true"===t)return!0;if("false"===t)return!1}return t})(e,n)))}),o},$=(e,t)=>{const n=e.dom,o=B(h(t),M,e.dom.isEditable(t));c(o,t=>{var o;const r=t.dom.parentNode;if(P(r))a=h(r),s=D,T(a)?a.dom.classList.add(s):((e,t)=>{((e,t,n)=>{const o=C(e,t).concat([n]);S(e,t,o.join(" "))})(e,"class",t)})(a,s);else{const r=n.encode(null!==(o=f(t))&&void 0!==o?o:"").replace(N,R),a=n.create("div",{},r);let s;for(;s=a.lastChild;)n.insertAfter(s,t.dom);e.dom.remove(t.dom)}var a,s})},j=(e,t)=>{const n=e.dom.select(F,t);c(n,t=>{var n,o;P(t)?(n=h(t),o=D,T(n)?n.dom.classList.remove(o):((e,t)=>{((e,t,n)=>{const o=(e=>{const t=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];r!==n&&t.push(r)}return t})(C(e,t));o.length>0?S(e,t,o.join(" ")):k(e,t)})(e,"class",t)})(n,o),(e=>{const t=T(e)?e.dom.classList:(e=>C(e,"class"))(e);0===t.length&&k(e,"class")})(n)):e.dom.remove(t,!0)})},L=e=>{const t=e.getBody(),n=e.selection.getBookmark();let o=((e,t)=>{for(;e.parentNode;){if(e.parentNode===t)return t;e=e.parentNode}})(e.selection.getNode(),t);o=void 0!==o?o:t,j(e,o),$(e,o),e.selection.moveToBookmark(n)},I=(e,t)=>{((e,t)=>{e.dispatch("VisualChars",{state:t})})(e,t.get());const n=e.getBody();!0===t.get()?$(e,n):j(e,n)},z=(e,t)=>n=>{n.setActive(t.get());const o=e=>n.setActive(e.state);return e.on("VisualChars",o),()=>e.off("VisualChars",o)};g.add("visualchars",e=>{(e=>{(0,e.options.register)("visualchars_default_state",{processor:"boolean",default:!1})})(e);const t=(e=>{let t=e;return{get:()=>t,set:e=>{t=e}}})((e=>e.options.get("visualchars_default_state"))(e));return((e,t)=>{e.addCommand("mceVisualChars",()=>{((e,t)=>{t.set(!t.get());const n=e.selection.getBookmark();I(e,t),e.selection.moveToBookmark(n)})(e,t)})})(e,t),((e,t)=>{const n=()=>e.execCommand("mceVisualChars");e.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:n,onSetup:z(e,t),context:"any"}),e.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:n,onSetup:z(e,t),context:"any"})})(e,t),((e,t)=>{const n=(e=>{let t=null;return{cancel:()=>{r(t)||(clearTimeout(t),t=null)},throttle:(...n)=>{r(t)&&(t=setTimeout(()=>{t=null,e.apply(null,n)},300))}}})(()=>{L(e)});e.on("keydown",o=>{!0===t.get()&&(13===o.keyCode?L(e):n.throttle())}),e.on("remove",n.cancel)})(e,t),((e,t)=>{e.on("init",()=>{I(e,t)})})(e,t),(e=>({isEnabled:()=>e.get()}))(t)})}()},83393:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>typeof t===e,n=t("boolean"),o=t("number"),r=e=>t=>t.options.get(e),a=r("nonbreaking_force_tab"),s=r("nonbreaking_wrap"),i=(e,t)=>{let n="";for(let o=0;o<t;o++)n+=e;return n},l=(e,t)=>{const n=s(e)||e.plugins.visualchars?`<span class="${(e=>!!e.plugins.visualchars&&e.plugins.visualchars.isEnabled())(e)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap"}" contenteditable="false">${i("&nbsp;",t)}</span>`:i("&nbsp;",t);e.undoManager.transact(()=>e.insertContent(n))};var c=tinymce.util.Tools.resolve("tinymce.util.VK");const u=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("nonbreaking",e=>{(e=>{const t=e.options.register;t("nonbreaking_force_tab",{processor:e=>n(e)?{value:e?3:0,valid:!0}:o(e)?{value:e,valid:!0}:{valid:!1,message:"Must be a boolean or number."},default:!1}),t("nonbreaking_wrap",{processor:"boolean",default:!0})})(e),(e=>{e.addCommand("mceNonBreaking",()=>{l(e,1)})})(e),(e=>{const t=()=>e.execCommand("mceNonBreaking");e.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:t,onSetup:u(e)}),e.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:t,onSetup:u(e)})})(e),(e=>{const t=a(e);t>0&&e.on("keydown",n=>{if(n.keyCode===c.TAB&&!n.isDefaultPrevented()){if(n.shiftKey)return;n.preventDefault(),n.stopImmediatePropagation(),l(e,t)}})})(e)})}()},85645:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env");const n=e=>t=>t.options.get(e),o=n("pagebreak_separator"),r=n("pagebreak_split_block"),a="mce-pagebreak",s=e=>{const n=`<img src="${t.transparentSrc}" class="${a}" data-mce-resize="false" data-mce-placeholder />`;return e?`<p>${n}</p>`:n},i=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("pagebreak",e=>{(e=>{const t=e.options.register;t("pagebreak_separator",{processor:"string",default:"\x3c!-- pagebreak --\x3e"}),t("pagebreak_split_block",{processor:"boolean",default:!1})})(e),(e=>{e.addCommand("mcePageBreak",()=>{e.insertContent(s(r(e)))})})(e),(e=>{const t=()=>e.execCommand("mcePageBreak");e.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:t,onSetup:i(e)}),e.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:t,onSetup:i(e)})})(e),(e=>{const t=o(e),n=()=>r(e),i=new RegExp(t.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,e=>"\\"+e),"gi");e.on("BeforeSetContent",e=>{e.content=e.content.replace(i,s(n()))}),e.on("PreInit",()=>{e.serializer.addNodeFilter("img",o=>{let r,s,i=o.length;for(;i--;)if(r=o[i],s=r.attr("class"),s&&-1!==s.indexOf(a)){const o=r.parent;if(o&&e.schema.getBlockElements()[o.name]&&n()){o.type=3,o.value=t,o.raw=!0,r.remove();continue}r.type=3,r.value=t,r.raw=!0}})})})(e),(e=>{e.on("ResolveName",t=>{"IMG"===t.target.nodeName&&e.dom.hasClass(t.target,a)&&(t.name="pagebreak")})})(e)})}()},87187:function(){!function(){"use strict";const e=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(a=String).prototype,o.isPrototypeOf(n)||(null===(s=r.constructor)||void 0===s?void 0:s.name)===a.name)?"string":t;var n,o;var r,a,s})(t)===e,t=e=>t=>typeof t===e,n=e("string"),o=e("array"),r=t("boolean"),a=t("number"),s=()=>{},i=e=>()=>e,l=i(!0);class c{constructor(e,t){this.tag=e,this.value=t}static some(e){return new c(!0,e)}static none(){return c.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?c.some(e(this.value)):c.none()}bind(e){return this.tag?e(this.value):c.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:c.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return(e=>null==e)(e)?c.none():c.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}c.singletonNone=new c(!1);const u=Array.prototype.slice,d=Array.prototype.push,m=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},p=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},g=(e,t)=>{for(let n=e.length-1;n>=0;n--){t(e[n],n)}},h=(e,t)=>(e=>{const t=[];for(let n=0,r=e.length;n<r;++n){if(!o(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);d.apply(t,e[n])}return t})(m(e,t)),b=Object.hasOwnProperty,f=(e,t)=>b.call(e,t),y=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},v=()=>{const e=(e=>{const t=y(c.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(c.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(c.some(e))}}})(s);return{...e,on:t=>e.get().each(t)}};var w=tinymce.util.Tools.resolve("tinymce.PluginManager");const x=i("[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]");var S=tinymce.util.Tools.resolve("tinymce.Env"),k=tinymce.util.Tools.resolve("tinymce.util.Tools");const C=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},T={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return C(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return C(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return C(n)},fromDom:C,fromPoint:(e,t,n)=>c.from(e.dom.elementFromPoint(t,n)).map(C)},A=(_=3,e=>(e=>e.dom.nodeType)(e)===_);var _;const O=(e,t)=>({element:e,offset:t}),E=(e,t)=>{const n=(e=>m(e.dom.childNodes,T.fromDom))(e);return n.length>0&&t<n.length?O(n[t],0):O(e,t)},N=(e,t)=>{const n=(e=>c.from(e.dom.parentNode).map(T.fromDom))(e);n.each(n=>{n.dom.insertBefore(t.dom,e.dom)})},F=(e,t)=>{N(e,t),((e,t)=>{e.dom.appendChild(t.dom)})(t,e)},D=(e,t,o)=>{((e,t,o)=>{if(!(n(o)||r(o)||a(o)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,o+"")})(e.dom,t,o)},R=((e,t)=>{const n=t=>e(t)?c.from(t.dom.nodeValue):c.none();return{get:o=>{if(!e(o))throw new Error("Can only get "+t+" value of a "+t+" node");return n(o).getOr("")},getOption:n,set:(n,o)=>{if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=o}}})(A,"text"),P=e=>R.get(e),M=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return 1!==(o=n).nodeType&&9!==o.nodeType&&11!==o.nodeType||0===o.childElementCount?[]:m(n.querySelectorAll(e),T.fromDom);var o})(t,e);var B=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const $=(e,t)=>e.isBlock(t)||f(e.schema.getVoidElements(),t.nodeName),j=(e,t)=>!e.isEditable(t),L=(e,t)=>!e.isBlock(t)&&f(e.schema.getWhitespaceElements(),t.nodeName),I=e=>3===e.nodeType,z=(e,t)=>E(T.fromDom(e),t),W=(e,t,n,o,r,a=!0)=>{let s=a?t(!1):n;for(;s;){const n=j(e,s);if(n||L(e,s)){if(n?o.cef(s):o.boundary(s))break;s=t(!0);continue}if($(e,s)){if(o.boundary(s))break}else I(s)&&o.text(s);if(s===r)break;s=t(!1)}},q=(e,t,n,o,r)=>{var a;if(((e,t)=>$(e,t)||j(e,t)||L(e,t)||((e,t)=>"true"===e.getContentEditable(t)&&t.parentNode&&!e.isEditable(t.parentNode))(e,t))(e,n))return;const s=null!==(a=e.getParent(o,e.isBlock))&&void 0!==a?a:e.getRoot(),i=new B(n,s),c=r?i.next.bind(i):i.prev.bind(i);W(e,c,n,{boundary:l,cef:l,text:e=>{r?t.fOffset+=e.length:t.sOffset+=e.length,t.elements.push(T.fromDom(e))}})},U=(e,t,n,o,r,a=!0)=>{const s=new B(n,t),i=[];let l={sOffset:0,fOffset:0,elements:[]};q(e,l,n,t,!1);const c=()=>(l.elements.length>0&&(i.push(l),l={sOffset:0,fOffset:0,elements:[]}),!1);return W(e,s.next.bind(s),n,{boundary:c,cef:e=>(c(),r&&i.push(...r.cef(e)),!1),text:e=>{l.elements.push(T.fromDom(e)),r&&r.text(e,l)}},o,a),o&&q(e,l,o,t,!0),c(),i},H=(e,t)=>{const n=z(t.startContainer,t.startOffset),o=n.element.dom,r=z(t.endContainer,t.endOffset),a=r.element.dom;return U(e,t.commonAncestorContainer,o,a,{text:(e,t)=>{e===a?t.fOffset+=e.length-r.offset:e===o&&(t.sOffset+=n.offset)},cef:t=>((e,t)=>{const n=u.call(e,0);return n.sort(t),n})(h(M(T.fromDom(t),"*[contenteditable=true]"),t=>{const n=t.dom;return U(e,n,n)}),(e,t)=>((e,t)=>((e,t,n)=>0!==(e.compareDocumentPosition(t)&n))(e,t,Node.DOCUMENT_POSITION_PRECEDING))(e.elements[0].dom,t.elements[0].dom)?1:-1)},!1)},V=(e,t)=>t.collapsed?[]:H(e,t),Z=(e,t)=>{const n=e.createRng();return n.selectNode(t),V(e,n)},K=(e,t)=>{const n=(o=e,r=(e,n)=>{const o=P(n),r=e.last,a=r+o.length,s=h(t,(e,t)=>e.start<a&&e.finish>r?[{element:n,start:Math.max(r,e.start)-r,finish:Math.min(a,e.finish)-r,matchId:t}]:[]);return{results:e.results.concat(s),last:a}},a={results:[],last:0},p(o,(e,t)=>{a=r(a,e,t)}),a).results;var o,r,a;return((e,t)=>{if(0===e.length)return[];{let n=t(e[0]);const o=[];let r=[];for(let a=0,s=e.length;a<s;a++){const s=e[a],i=t(s);i!==n&&(o.push(r),r=[]),n=i,r.push(s)}return 0!==r.length&&o.push(r),o}})(n,e=>e.matchId)},G=(e,t)=>h(t,t=>{const n=t.elements,o=m(n,P).join(""),r=((e,t,n=0,o=e.length)=>{const r=t.regex;r.lastIndex=n;const a=[];let s;for(;s=r.exec(e);){const e=s[t.matchIndex],n=s.index+s[0].indexOf(e),i=n+e.length;if(i>o)break;a.push({start:n,finish:i}),r.lastIndex=i}return a})(o,e,t.sOffset,o.length-t.fOffset);return K(n,r)}),J=(e,t)=>{g(e,(e,n)=>{g(e,e=>{const o=T.fromDom(t.cloneNode(!1));D(o,"data-mce-index",n);const r=e.element.dom;if(r.length===e.finish&&0===e.start)F(e.element,o);else{r.length!==e.finish&&r.splitText(e.finish);const t=r.splitText(e.start);F(T.fromDom(t),o)}})})},Q=(e,t,n,o)=>{const r=n.getBookmark(),a=e.select("td[data-mce-selected],th[data-mce-selected]"),s=a.length>0?((e,t)=>h(t,t=>Z(e,t)))(e,a):V(e,n.getRng()),i=G(t,s);return J(i,o),n.moveToBookmark(r),i.length},Y=e=>e.getAttribute("data-mce-index"),X=(e,t,n,o)=>{const r=e.dom.create("span",{"data-mce-bogus":1});r.className="mce-match-marker";const a=e.getBody();return ce(e,t,!1),o?Q(e.dom,n,e.selection,r):((e,t,n,o)=>{const r=Z(e,n),a=G(t,r);return J(a,o),a.length})(e.dom,n,a,r)},ee=e=>{var t;const n=e.parentNode;e.firstChild&&n.insertBefore(e.firstChild,e),null===(t=e.parentNode)||void 0===t||t.removeChild(e)},te=(e,t)=>{const n=[],o=k.toArray(e.getBody().getElementsByTagName("span"));if(o.length)for(let e=0;e<o.length;e++){const r=Y(o[e]);null!==r&&r.length&&(r===t.toString()&&n.push(o[e]))}return n},ne=(e,t,n)=>{const o=t.get();let r=o.index;const a=e.dom;n?r+1===o.count?r=0:r++:r-1==-1?r=o.count-1:r--,a.removeClass(te(e,o.index),"mce-match-marker-selected");const s=te(e,r);return s.length?(a.addClass(te(e,r),"mce-match-marker-selected"),e.selection.scrollIntoView(s[0]),r):-1},oe=(e,t)=>{const n=t.parentNode;e.remove(t),n&&e.isEmpty(n)&&e.remove(n)},re=(e,t,n,o,r,a)=>{const s=e.selection,i=((e,t)=>{const n="("+e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return t?`(?:^|\\s|${x()})`+n+`(?=$|\\s|${x()})`:n})(n,r),l=s.isForward(),c={regex:new RegExp(i,o?"g":"gi"),matchIndex:1},u=X(e,t,c,a);if(S.browser.isSafari()&&s.setRng(s.getRng(),l),u){const s=ne(e,t,!0);t.set({index:s,count:u,text:n,matchCase:o,wholeWord:r,inSelection:a})}return u},ae=(e,t)=>{const n=ne(e,t,!0);t.set({...t.get(),index:n})},se=(e,t)=>{const n=ne(e,t,!1);t.set({...t.get(),index:n})},ie=e=>{const t=Y(e);return null!==t&&t.length>0},le=(e,t,n,o,r)=>{const a=t.get(),s=a.index;let i,l=s;o=!1!==o;const c=e.getBody(),u=k.grep(k.toArray(c.getElementsByTagName("span")),ie);for(let t=0;t<u.length;t++){const c=Y(u[t]);let d=i=parseInt(c,10);if(r||d===a.index){for(n.length?(u[t].innerText=n,ee(u[t])):oe(e.dom,u[t]);u[++t];){if(d=parseInt(Y(u[t]),10),d!==i){t--;break}oe(e.dom,u[t])}o&&l--}else i>s&&u[t].setAttribute("data-mce-index",String(i-1))}return t.set({...a,count:r?0:a.count-1,index:l}),o?ae(e,t):se(e,t),!r&&t.get().count>0},ce=(e,t,n)=>{let o,r;const a=t.get(),s=k.toArray(e.getBody().getElementsByTagName("span"));for(let e=0;e<s.length;e++){const t=Y(s[e]);null!==t&&t.length&&(t===a.index.toString()&&(o||(o=s[e].firstChild),r=s[e].firstChild),ee(s[e]))}if(t.set({...a,index:-1,count:0,text:""}),o&&r){const t=e.dom.createRng();return t.setStart(o,0),t.setEnd(r,r.data.length),!1!==n&&e.selection.setRng(t),t}},ue=(e,t)=>{const n=v();e.undoManager.add();const o=k.trim(e.selection.getContent({format:"text"})),r=e=>{e.setEnabled("next",((e,t)=>t.get().count>1)(0,t)),e.setEnabled("prev",((e,t)=>t.get().count>1)(0,t))},a=(e,t)=>{p(["replace","replaceall","prev","next"],n=>e.setEnabled(n,!t))},s=(e,t)=>{t.redial(g(e,t.getData()))},i=(e,t)=>{S.browser.isSafari()&&S.deviceType.isTouch()&&("find"===t||"replace"===t||"replaceall"===t)&&e.focus(t)},l=n=>{ce(e,t,!1),a(n,!0),r(n)},c=n=>{const o=n.getData(),i=t.get();if(o.findtext.length){if(i.text===o.findtext&&i.matchCase===o.matchcase&&i.wholeWord===o.wholewords)ae(e,t);else{const r=re(e,t,o.findtext,o.matchcase,o.wholewords,o.inselection);r<=0&&s(!0,n),a(n,0===r)}r(n)}else l(n)},u=t.get(),d={findtext:o,replacetext:"",wholewords:u.wholeWord,matchcase:u.matchCase,inselection:u.inSelection},m=e=>{const t=[{type:"label",label:"Find",for:"findtext",items:[{type:"bar",items:[{type:"input",name:"findtext",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]}]},{type:"input",name:"replacetext",label:"Replace with",inputMode:"search"}];return e&&t.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"}),t},g=(n,o)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:m(n)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:o,onChange:(e,o)=>{n&&s(!1,e),"findtext"===o.name&&t.get().count>0&&l(e)},onAction:(n,o)=>{const a=n.getData();switch(o.name){case"find":c(n);break;case"replace":le(e,t,a.replacetext)?r(n):l(n);break;case"replaceall":le(e,t,a.replacetext,!0,!0),l(n);break;case"prev":se(e,t),r(n);break;case"next":ae(e,t),r(n);break;case"matchcase":case"wholewords":case"inselection":s(!1,n),(e=>{const n=e.getData(),o=t.get();t.set({...o,matchCase:n.matchcase,wholeWord:n.wholewords,inSelection:n.inselection})})(n),l(n)}i(n,o.name)},onSubmit:e=>{c(e),i(e,"find")},onClose:()=>{e.focus(),ce(e,t),e.undoManager.add()}});n.set(e.windowManager.open(g(!1,d),{inline:"toolbar"}))},de=(e,t)=>()=>{ue(e,t)};w.add("searchreplace",e=>{const t=y({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return((e,t)=>{e.addCommand("SearchReplace",()=>{ue(e,t)})})(e,t),((e,t)=>{e.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:de(e,t),icon:"search"}),e.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:de(e,t),icon:"search",shortcut:"Meta+F"}),e.shortcuts.add("Meta+F","",de(e,t))})(e,t),((e,t)=>({done:n=>ce(e,t,n),find:(n,o,r,a=!1)=>re(e,t,n,o,r,a),next:()=>ae(e,t),prev:()=>se(e,t),replace:(n,o,r)=>le(e,t,n,o,r)}))(e,t)})}()},87966:function(){!function(){"use strict";tinymce.util.Tools.resolve("tinymce.PluginManager").add("code",e=>((e=>{e.addCommand("mceCodeEditor",()=>{(e=>{const t=(e=>e.getContent({source_view:!0}))(e);e.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:t},onSubmit:t=>{((e,t)=>{e.focus(),e.undoManager.transact(()=>{e.setContent(t)}),e.selection.setCursorLocation(),e.nodeChanged()})(e,t.getData().code),t.close()}})})(e)})})(e),(e=>{const t=()=>e.execCommand("mceCodeEditor");e.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:t}),e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:t})})(e),{}))}()},88929:function(e,t,n){n(87187)},91694:function(e,t,n){n(57235)},92425:function(){tinymce.Resource.add("tinymce.html-i18n.help-keynav.hr","<h1>Početak navigacije na tipkovnici</h1>\n\n<dl>\n  <dt>Fokusiranje trake izbornika</dt>\n  <dd>Windows ili Linux: Alt+F9</dd>\n  <dd>macOS: &#x2325;F9</dd>\n  <dt>Fokusiranje alatne trake</dt>\n  <dd>Windows ili Linux: Alt+F10</dd>\n  <dd>macOS: &#x2325;F10</dd>\n  <dt>Fokusiranje podnožja</dt>\n  <dd>Windows ili Linux: Alt+F11</dd>\n  <dd>macOS: &#x2325;F11</dd>\n  <dt>Fokusiranje obavijesti</dt>\n  <dd>Windows ili Linux: Alt + F12</dd>\n  <dd>macOS: &#x2325;F12</dd>\n  <dt>Fokusiranje kontekstne alatne trake</dt>\n  <dd>Windows, Linux ili macOS: Ctrl+F9</dd>\n</dl>\n\n<p>Navigacija će započeti kod prve stavke na korisničkom sučelju, koja će biti istaknuta ili podcrtana ako se radi o prvoj stavci u\n  putu elementa u podnožju.</p>\n\n<h1>Navigacija između dijelova korisničkog sučelja</h1>\n\n<p>Za pomicanje s jednog dijela korisničkog sučelja na drugi pritisnite <strong>tabulator</strong>.</p>\n\n<p>Za pomicanje s jednog dijela korisničkog sučelja na prethodni pritisnite <strong>Shift + tabulator</strong>.</p>\n\n<p>Ovo je redoslijed pomicanja <strong>tabulatora</strong> po dijelovima korisničkog sučelja:</p>\n\n<ol>\n  <li>Traka izbornika</li>\n  <li>Pojedinačne grupe na alatnoj traci</li>\n  <li>Bočna traka</li>\n  <li>Put elemenata u podnožju</li>\n  <li>Gumb za pomicanje po broju riječi u podnožju</li>\n  <li>Veza na brand u podnožju</li>\n  <li>Značajka za promjenu veličine alata za uređivanje u podnožju</li>\n</ol>\n\n<p>Ako neki dio korisničkog sučelja nije naveden, on se preskače.</p>\n\n<p>Ako u podnožju postoji fokus za navigaciju na tipkovnici, a nema vidljive bočne trake, pritiskom na <strong>Shift + tabulator</strong>\n  fokus se prebacuje na prvu skupinu na alatnoj traci, ne na zadnju.</p>\n\n<h1>Navigacija unutar dijelova korisničkog sučelja</h1>\n\n<p>Za pomicanje s jednog elementa korisničkog sučelja na drugi pritisnite tipku s odgovarajućom <strong>strelicom</strong>.</p>\n\n<p>Tipke s <strong>lijevom</strong> i <strong>desnom</strong> strelicom</p>\n\n<ul>\n  <li>služe za pomicanje između izbornika na alatnoj traci.</li>\n  <li>otvaraju podizbornik unutar izbornika.</li>\n  <li>služe za pomicanje između gumba unutar skupina na alatnoj traci.</li>\n  <li>služe za pomicanje između stavki na elementu puta u podnožju.</li>\n</ul>\n\n<p>Tipke s <strong>donjom</strong> i <strong>gornjom</strong> strelicom</p>\n\n<ul>\n  <li>služe za pomicanje između stavki unutar izbornika.</li>\n  <li>služe za pomicanje između stavki na alatnoj traci skočnog izbornika.</li>\n</ul>\n\n<p>Tipkama <strong>strelica</strong> kružno se pomičete unutar dijela korisničkog sučelja koji je u fokusu.</p>\n\n<p>Za zatvaranje otvorenog izbornika, otvorenog podizbornika ili otvorenog skočnog izbornika pritisnite tipku <strong>Esc</strong>.</p>\n\n<p>Ako je fokus trenutačno postavljen na vrh pojedinačnog dijela korisničkog sučelja, pritiskom na tipku <strong>Esc</strong> također\n  u potpunosti zatvarate navigaciju na tipkovnici.</p>\n\n<h1>Izvršavanje radnji putem stavki izbornika ili gumba na alatnoj traci</h1>\n\n<p>Nakon što se istakne stavka izbornika ili gumb na alatnoj traci s radnjom koju želite izvršiti, pritisnite tipku <strong>Return</strong>, <strong>Enter</strong>\n  ili <strong>razmak</strong> da biste pokrenuli željenu radnju.</p>\n\n<h1>Navigacija dijaloškim okvirima izvan kartica</h1>\n\n<p>Prilikom otvaranja dijaloških okvira izvan kartica fokus se nalazi na prvoj interaktivnoj komponenti.</p>\n\n<p>Navigaciju između interaktivnih dijaloških komponenata vršite pritiskom na <strong>tabulator</strong> ili <strong>Shift + tabulator</strong>.</p>\n\n<h1>Navigacija dijaloškim okvirima u karticama</h1>\n\n<p>Prilikom otvaranja dijaloških okvira u karticama fokus se nalazi na prvom gumbu u izborniku unutar kartice.</p>\n\n<p>Navigaciju između interaktivnih komponenata dijaloškog okvira u kartici vršite pritiskom na <strong>tabulator</strong> ili\n  <strong>Shift + tabulator</strong>.</p>\n\n<p>Na karticu s drugim dijaloškim okvirom možete se prebaciti tako da stavite fokus na izbornik kartice pa pritisnete tipku s odgovarajućom <strong>strelicom</strong>\n  za kružno pomicanje između dostupnih kartica.</p>\n")},93715:function(e,t,n){n(34328)},98809:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||(null===(a=o.constructor)||void 0===a?void 0:a.name)===r.name)?"string":t;var n,o,r,a})(t)===e,n=t("string"),o=t("object"),r=t("array"),a=e=>!(e=>null==e)(e);class s{constructor(e,t){this.tag=e,this.value=t}static some(e){return new s(!0,e)}static none(){return s.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?s.some(e(this.value)):s.none()}bind(e){return this.tag?e(this.value):s.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:s.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return a(e)?s.some(e):s.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}s.singletonNone=new s(!1),Array.prototype.slice;const i=Array.prototype.push,l=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},c=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!r(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);i.apply(t,e[n])}return t};(e=>"function"==typeof e)(Array.from)&&Array.from;const u=Object.keys,d=Object.hasOwnProperty,m=(e,t)=>p(e,t)?s.from(e[t]):s.none(),p=(e,t)=>d.call(e,t),g=e=>t=>t.options.get(e),h=g("audio_template_callback"),b=g("video_template_callback"),f=g("iframe_template_callback"),y=g("media_live_embeds"),v=g("media_filter_html"),w=g("media_url_resolver"),x=g("media_alt_source"),S=g("media_poster"),k=g("media_dimensions");var C=tinymce.util.Tools.resolve("tinymce.util.Tools"),T=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),A=tinymce.util.Tools.resolve("tinymce.html.DomParser");const _=T.DOM,O=e=>e.replace(/px$/,""),E=e=>{const t=e.attr("style"),n=t?_.parseStyle(t):{};return{type:"ephox-embed-iri",source:e.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:m(n,"max-width").map(O).getOr(""),height:m(n,"max-height").map(O).getOr("")}},N=(e,t)=>{let n={};for(let o=A({validate:!1,forced_root_block:!1},t).parse(e);o;o=o.walk())if(1===o.type){const e=o.name;if(o.attr("data-ephox-embed-iri")){n=E(o);break}n.source||"param"!==e||(n.source=o.attr("movie")),"iframe"!==e&&"object"!==e&&"embed"!==e&&"video"!==e&&"audio"!==e||(n.type||(n.type=e),n=C.extend(o.attributes.map,n)),"source"===e&&(n.source?n.altsource||(n.altsource=o.attr("src")):n.source=o.attr("src")),"img"!==e||n.poster||(n.poster=o.attr("src"))}return n.source=n.source||n.src||"",n.altsource=n.altsource||"",n.poster=n.poster||"",n},F=e=>{var t;const n=null!==(t=e.toLowerCase().split(".").pop())&&void 0!==t?t:"";return m({mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},n).getOr("")};var D=tinymce.util.Tools.resolve("tinymce.html.Node"),R=tinymce.util.Tools.resolve("tinymce.html.Serializer");const P=(e,t={})=>A({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...t},e),M=T.DOM,B=e=>/^[0-9.]+$/.test(e)?e+"px":e,$=(e,t)=>{const n=t.attr("style"),o=n?M.parseStyle(n):{};a(e.width)&&(o["max-width"]=B(e.width)),a(e.height)&&(o["max-height"]=B(e.height)),t.attr("style",M.serializeStyle(o))},j=["source","altsource"],L=(e,t,n,o)=>{let r=0,a=0;const s=P(o);s.addNodeFilter("source",e=>r=e.length);const i=s.parse(e);for(let e=i;e;e=e.walk())if(1===e.type){const o=e.name;if(e.attr("data-ephox-embed-iri")){$(t,e);break}switch(o){case"video":case"object":case"embed":case"img":case"iframe":void 0!==t.height&&void 0!==t.width&&(e.attr("width",t.width),e.attr("height",t.height))}if(n)switch(o){case"video":e.attr("poster",t.poster),e.attr("src",null);for(let n=r;n<2;n++)if(t[j[n]]){const o=new D("source",1);o.attr("src",t[j[n]]),o.attr("type",t[j[n]+"mime"]||null),e.append(o)}break;case"iframe":e.attr("src",t.source);break;case"object":const n=e.getAll("img").length>0;if(t.poster&&!n){e.attr("src",t.poster);const n=new D("img",1);n.attr("src",t.poster),n.attr("width",t.width),n.attr("height",t.height),e.append(n)}break;case"source":if(a<2&&(e.attr("src",t[j[a]]),e.attr("type",t[j[a]+"mime"]||null),!t[j[a]])){e.remove();continue}a++;break;case"img":t.poster||e.remove()}}return R({},o).serialize(i)},I=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],z=(e,t)=>{const n=(e=>{const t=e.match(/^(https?:\/\/|www\.)(.+)$/i);return t&&t.length>1?"www."===t[1]?"https://":t[1]:"https://"})(t),o=e.regex.exec(t);let r=n+e.url;if(a(o))for(let e=0;e<o.length;e++)r=r.replace("$"+e,()=>o[e]?o[e]:"");return r.replace(/\?$/,"")},W=e=>{const t=I.filter(t=>t.regex.test(e));return t.length>0?C.extend({},t[0],{url:z(t[0],e)}):null},q=(e,t)=>{var n;const o=C.extend({},t);if(!o.source&&(C.extend(o,N(null!==(n=o.embed)&&void 0!==n?n:"",e.schema)),!o.source))return"";o.altsource||(o.altsource=""),o.poster||(o.poster=""),o.source=e.convertURL(o.source,"source"),o.altsource=e.convertURL(o.altsource,"source"),o.sourcemime=F(o.source),o.altsourcemime=F(o.altsource),o.poster=e.convertURL(o.poster,"poster");const r=W(o.source);if(r&&(o.source=r.url,o.type=r.type,o.allowfullscreen=r.allowFullscreen,o.width=o.width||String(r.w),o.height=o.height||String(r.h)),o.embed)return L(o.embed,o,!0,e.schema);{const t=h(e),n=b(e),r=f(e);return o.width=o.width||"300",o.height=o.height||"150",C.each(o,(t,n)=>{o[n]=e.dom.encode(""+t)}),"iframe"===o.type?((e,t)=>{if(t)return t(e);{const t=e.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+e.source+'" width="'+e.width+'" height="'+e.height+'"'+t+"></iframe>"}})(o,r):"application/x-shockwave-flash"===o.sourcemime?(e=>{let t='<object data="'+e.source+'" width="'+e.width+'" height="'+e.height+'" type="application/x-shockwave-flash">';return e.poster&&(t+='<img src="'+e.poster+'" width="'+e.width+'" height="'+e.height+'" />'),t+="</object>",t})(o):-1!==o.sourcemime.indexOf("audio")?((e,t)=>t?t(e):'<audio controls="controls" src="'+e.source+'">'+(e.altsource?'\n<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</audio>")(o,t):((e,t)=>t?t(e):'<video width="'+e.width+'" height="'+e.height+'"'+(e.poster?' poster="'+e.poster+'"':"")+' controls="controls">\n<source src="'+e.source+'"'+(e.sourcemime?' type="'+e.sourcemime+'"':"")+" />\n"+(e.altsource?'<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</video>")(o,n)}},U=e=>e.hasAttribute("data-mce-object")||e.hasAttribute("data-ephox-embed-iri"),H={},V=e=>t=>q(e,t),Z=(e,t)=>{const n=w(e);return n?((e,t,n)=>new Promise((o,r)=>{const a=n=>(n.html&&(H[e.source]=n),o({url:e.source,html:n.html?n.html:t(e)}));H[e.source]?a(H[e.source]):n({url:e.source}).then(a).catch(r)}))(t,V(e),n):((e,t)=>Promise.resolve({html:t(e),url:e.source}))(t,V(e))},K=(e,t)=>{const n={};return m(e,"dimensions").each(e=>{l(["width","height"],o=>{m(t,o).orThunk(()=>m(e,o)).each(e=>n[o]=e)})}),n},G=(e,t)=>{const n=t&&"dimensions"!==t?((e,t)=>m(t,e).bind(e=>m(e,"meta")))(t,e).getOr({}):{},r=((e,t,n)=>r=>{const a=()=>m(e,r),i=()=>m(t,r),l=e=>m(e,"value").bind(e=>e.length>0?s.some(e):s.none());return{[r]:(r===n?a().bind(e=>o(e)?l(e).orThunk(i):i().orThunk(()=>s.from(e))):i().orThunk(()=>a().bind(e=>o(e)?l(e):s.from(e)))).getOr("")}})(e,n,t);return{...r("source"),...r("altsource"),...r("poster"),...r("embed"),...K(e,n)}},J=e=>{const t={...e,source:{value:m(e,"source").getOr("")},altsource:{value:m(e,"altsource").getOr("")},poster:{value:m(e,"poster").getOr("")}};return l(["width","height"],n=>{m(e,n).each(e=>{const o=t.dimensions||{};o[n]=e,t.dimensions=o})}),t},Q=e=>t=>{const n=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.";e.notificationManager.open({type:"error",text:n})},Y=(e,t)=>o=>{if(n(o.url)&&o.url.trim().length>0){const n=o.html,r={...N(n,t.schema),source:o.url,embed:n};e.setData(J(r))}},X=(e,t)=>{const n=e.dom.select("*[data-mce-object]");e.insertContent(t),((e,t)=>{const n=e.dom.select("*[data-mce-object]");for(let e=0;e<t.length;e++)for(let o=n.length-1;o>=0;o--)t[e]===n[o]&&n.splice(o,1);e.selection.select(n[0])})(e,n),e.nodeChanged()},ee=(e,t)=>a(t)&&"ephox-embed-iri"===t&&a(W(e)),te=(e,t)=>((e,t)=>e.width!==t.width||e.height!==t.height)(e,t)&&ee(t.source,e.type),ne=e=>{const t=(e=>{const t=e.selection.getNode(),n=U(t)?e.serializer.serialize(t,{selection:!0}):"",o=N(n,e.schema),r=(()=>{if(ee(o.source,o.type)){const n=e.dom.getRect(t);return{width:n.w.toString().replace(/px$/,""),height:n.h.toString().replace(/px$/,"")}}return{}})();return{embed:n,...o,...r}})(e),n=(e=>{let t=e;return{get:()=>t,set:e=>{t=e}}})(t),o=J(t),r=k(e)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],a={title:"General",name:"general",items:c([[{name:"source",type:"urlinput",filetype:"media",label:"Source",picker_text:"Browse files"}],r])},s=[];x(e)&&s.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),S(e)&&s.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const i={title:"Advanced",name:"advanced",items:s},l=[a,{title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]}];s.length>0&&l.push(i);const u={type:"tabpanel",tabs:l},d=e.windowManager.open({title:"Insert/Edit Media",size:"normal",body:u,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:t=>{const o=G(t.getData());((e,t,n)=>{var o,r;t.embed=te(e,t)&&k(n)?q(n,{...t,embed:""}):L(null!==(o=t.embed)&&void 0!==o?o:"",t,!1,n.schema),t.embed&&(e.source===t.source||(r=t.source,p(H,r)))?X(n,t.embed):Z(n,t).then(e=>{X(n,e.html)}).catch(Q(n))})(n.get(),o,e),t.close()},onChange:(t,o)=>{switch(o.name){case"source":((t,n)=>{const o=G(n.getData(),"source");t.source!==o.source&&(Y(d,e)({url:o.source,html:""}),Z(e,o).then(Y(d,e)).catch(Q(e)))})(n.get(),t);break;case"embed":(t=>{var n;const o=G(t.getData()),r=N(null!==(n=o.embed)&&void 0!==n?n:"",e.schema);t.setData(J(r))})(t);break;case"dimensions":case"altsource":case"poster":((t,n,o)=>{const r=G(t.getData(),n),a=te(o,r)&&k(e)?{...r,embed:""}:r,s=q(e,a);t.setData(J({...a,embed:s}))})(t,o.name,n.get())}n.set(G(t.getData()))},initialData:o})};var oe=tinymce.util.Tools.resolve("tinymce.Env");const re=e=>{const t=e.name;return"iframe"===t||"video"===t||"audio"===t},ae=(e,t,n,o=null)=>{const r=e.attr(n);return a(r)?r:p(t,n)?null:o},se=(e,t,n)=>{const o="img"===t.name||"video"===e.name,r=o?"300":null,a="audio"===e.name?"30":"150",s=o?a:null;t.attr({width:ae(e,n,"width",r),height:ae(e,n,"height",s)})},ie=(e,t)=>{const n=t.name,o=new D("img",1);return ce(e,t,o),se(t,o,{}),o.attr({style:t.attr("style"),src:oe.transparentSrc,"data-mce-object":n,class:"mce-object mce-object-"+n}),o},le=(e,t)=>{var n;const o=t.name,r=new D("span",1);r.attr({contentEditable:"false",style:t.attr("style"),"data-mce-object":o,class:"mce-preview-object mce-object-"+o}),ce(e,t,r);const s=e.dom.parseStyle(null!==(n=t.attr("style"))&&void 0!==n?n:""),i=new D(o,1);if(se(t,i,s),i.attr({src:t.attr("src"),style:t.attr("style"),class:t.attr("class")}),"iframe"===o)i.attr({allowfullscreen:t.attr("allowfullscreen"),frameborder:"0",sandbox:t.attr("sandbox"),referrerpolicy:t.attr("referrerpolicy")});else{l(["controls","crossorigin","currentTime","loop","muted","poster","preload"],e=>{i.attr(e,t.attr(e))});const n=r.attr("data-mce-html");a(n)&&((e,t,n,o)=>{const r=P(e.schema).parse(o,{context:t});for(;r.firstChild;)n.append(r.firstChild)})(e,o,i,unescape(n))}const c=new D("span",1);return c.attr("class","mce-shim"),r.append(i),r.append(c),r},ce=(e,t,n)=>{var o;const r=null!==(o=t.attributes)&&void 0!==o?o:[];let a=r.length;for(;a--;){const t=r[a].name;let o=r[a].value;"width"===t||"height"===t||"style"===t||(s=t).length>=9&&"data-mce-"===s.substr(0,9)||("data"!==t&&"src"!==t||(o=e.convertURL(o,t)),n.attr("data-mce-p-"+t,o))}var s;const i=R({inner:!0},e.schema),c=new D("div",1);l(t.children(),e=>c.append(e));const u=i.serialize(c);u&&(n.attr("data-mce-html",escape(u)),n.empty())},ue=e=>{const t=e.attr("class");return n(t)&&/\btiny-pageembed\b/.test(t)},de=e=>{let t=e;for(;t=t.parent;)if(t.attr("data-ephox-embed-iri")||ue(t))return!0;return!1},me=(e,t,n)=>{const o=(0,e.options.get)("xss_sanitization"),r=v(e);return P(e.schema,{sanitize:o,validate:r}).parse(n,{context:t})},pe=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("media",e=>((e=>{const t=e.options.register;t("audio_template_callback",{processor:"function"}),t("video_template_callback",{processor:"function"}),t("iframe_template_callback",{processor:"function"}),t("media_live_embeds",{processor:"boolean",default:!0}),t("media_filter_html",{processor:"boolean",default:!0}),t("media_url_resolver",{processor:"function"}),t("media_alt_source",{processor:"boolean",default:!0}),t("media_poster",{processor:"boolean",default:!0}),t("media_dimensions",{processor:"boolean",default:!0})})(e),(e=>{e.addCommand("mceMedia",()=>{ne(e)})})(e),(e=>{const t=()=>e.execCommand("mceMedia");e.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:t,onSetup:t=>{const n=e.selection;t.setActive(U(n.getNode()));const o=n.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",t.setActive).unbind,r=pe(e)(t);return()=>{o(),r()}}}),e.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:t,onSetup:pe(e)})})(e),(e=>{e.on("ResolveName",e=>{let t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)})})(e),(e=>{e.on("PreInit",()=>{const{schema:t,serializer:n,parser:o}=e,r=t.getBoolAttrs();l("webkitallowfullscreen mozallowfullscreen".split(" "),e=>{r[e]={}}),((e,t)=>{const n=u(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}})({embed:["wmode"]},(e,n)=>{const o=t.getElementRule(n);o&&l(e,e=>{o.attributes[e]={},o.attributesOrder.push(e)})}),o.addNodeFilter("iframe,video,audio,object,embed",(e=>t=>{let n,o=t.length;for(;o--;)n=t[o],n.parent&&(n.parent.attr("data-mce-object")||(re(n)&&y(e)?de(n)||n.replace(le(e,n)):de(n)||n.replace(ie(e,n))))})(e)),n.addAttributeFilter("data-mce-object",(t,n)=>{var o;let r=t.length;for(;r--;){const a=t[r];if(!a.parent)continue;const s=a.attr(n),i=new D(s,1);if("audio"!==s){const e=a.attr("class");e&&-1!==e.indexOf("mce-preview-object")&&a.firstChild?i.attr({width:a.firstChild.attr("width"),height:a.firstChild.attr("height")}):i.attr({width:a.attr("width"),height:a.attr("height")})}i.attr({style:a.attr("style")});const c=null!==(o=a.attributes)&&void 0!==o?o:[];let u=c.length;for(;u--;){const e=c[u].name;0===e.indexOf("data-mce-p-")&&i.attr(e.substr(11),c[u].value)}const d=a.attr("data-mce-html");if(d){const t=me(e,s,unescape(d));l(t.children(),e=>i.append(e))}a.replace(i)}})}),e.on("SetContent",()=>{const t=e.dom;l(t.select("span.mce-preview-object"),e=>{0===t.select("span.mce-shim",e).length&&t.add(e,"span",{class:"mce-shim"})})})})(e),(e=>{e.on("mousedown",t=>{const n=e.dom.getParent(t.target,".mce-preview-object");n&&"2"===e.dom.getAttrib(n,"data-mce-selected")&&t.stopImmediatePropagation()}),e.on("click keyup touchend",()=>{const t=e.selection.getNode();t&&e.dom.hasClass(t,"mce-preview-object")&&e.dom.getAttrib(t,"data-mce-selected")&&t.setAttribute("data-mce-selected","2")}),e.on("ObjectResized",t=>{const n=t.target;if(n.getAttribute("data-mce-object")){let o=n.getAttribute("data-mce-html");o&&(o=unescape(o),n.setAttribute("data-mce-html",escape(L(o,{width:String(t.width),height:String(t.height)},!1,e.schema))))}})})(e),(e=>({showDialog:()=>{ne(e)}}))(e)))}()},99311:function(e,t,n){n(22612)}}]);
//# sourceMappingURL=tinymce_plugins.0e55f9d28ccda1892c48.min.js.map