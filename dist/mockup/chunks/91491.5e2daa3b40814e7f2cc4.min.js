"use strict";(self.webpackChunk_plone_mockup=self.webpackChunk_plone_mockup||[]).push([[91491],{91491:function(t,e,n){n.r(e),n.d(e,{default:function(){return E}});var i=n(71553),a=n(44563),l=n(59329),o=n(35686),s=n.n(o),r=n(40705),c=n.n(r),m=n(75199),p=n.n(m),d=(n(90416),n(93052),'<div>\n  <div class="linkModal">\n    <h1><%- insertHeading %></h1>\n    <% if(_.contains(linkTypes, \'uploadImage\')){ %>\n    <p class="info"><%- insertImageHelp %></p>\n    <% } %>\n\n    <div class="linkTypes pat-autotoc autotabs"\n         data-pat-autotoc="section:fieldset;levels:legend;IDPrefix:tinymce-autotoc-">\n\n        <% if(_.contains(linkTypes, \'image\')){ %>\n      <fieldset class="linkType image" data-linkType="image">\n        <legend id="tinylink-image"><%- internalImageText %></legend>\n        <div>\n          <div class="main mb-2">\n            <input type="text" name="image" class="form-control" />\n          </div>\n          <div class="scale mb-2">\n            <label><%- scaleText %></label>\n            <select name="scale" class="form-select">\n              <% _.each(Object.keys(pictureVariants), function(key) { %>\n                <option value="<%- key %>" <% if (key === options.defaultSrcset) { %>selected<% } %> >\n                  <%- pictureVariants[key].title %>\n                </option>\n              <% }); %>\n            </select>\n          </div>\n        </div>\n      </fieldset>\n        <% } %>\n\n      <% if(_.contains(linkTypes, \'externalImage\')){ %>\n      <fieldset class="linkType externalImage" data-linkType="externalImage">\n        <legend id="tinylink-externalImage"><%- externalImage %></legend>\n        <div>\n          <div class="main">\n            <label><%- externalImageText %></label>\n            <input type="text" name="externalImage" class="form-control" />\n          </div>\n        </div>\n      </fieldset>\n      <% } %>\n\n    </div>\x3c!-- / tabs --\x3e\n\n    <div class="common-controls mt-3 border-top pt-3">\n      <div class="title mb-2">\n        <label><%- titleText %></label>\n        <input type="text" name="title" class="form-control" />\n      </div>\n      <div class="text mb-2">\n        <label><%- altText %></label>\n        <input type="text" name="alt" class="form-control" />\n      </div>\n      <% if(imageCaptioningEnabled){ %>\n      <div class="captionFromDescription form-check mb-2">\n        <input type="checkbox" name="captionFromDescription" class="form-check-input" />\n        <label for="captionFromDescription" class="form-check-label">\n          <%- captionFromDescriptionText %>\n        </label>\n      </div>\n      <div class="caption mb-2">\n        <label><%- captionText %></label>\n        <textarea name="caption" class="form-control"></textarea>\n      </div>\n      <% } %>\n      <div class="align mb-2">\n        <label><%- imageAlignText %></label>\n        <select name="align" class="form-select">\n          <% _.each(Object.keys(options.imageClasses), function(align){ %>\n              <option value="<%- align %>">\n              <%- options.imageClasses[align] %>\n              </option>\n          <% }); %>\n        </select>\n      </div>\n      <div class="enable-zoom mb-2">\n        <input type="checkbox" name="enableImageZoom" class="form-check-input" />\n        <label for="enableImageZoom" class="form-check-label">\n          <%- enableImageZoom %>\n        </label>\n      </div>\n    </div>\n\n    <input type="submit" class="btn btn-secondary plone-btn me-1" name="cancel" value="<%- cancelBtn %>" />\n    <input type="submit" class="btn btn-primary plone-btn" name="insert" value="<%- insertBtn %>" />\n\n  </div>\n</div>\n'),h='<div>\n  <div class="linkModal">\n    <h1><%- insertHeading %></h1>\n    <% if(_.contains(linkTypes, \'upload\')){ %>\n    <p class="info"><%- insertLinkHelp %></p>\n    <% } %>\n\n    <div class="linkTypes pat-autotoc autotabs"\n         data-pat-autotoc="section:fieldset;levels:legend;IDPrefix:tinymce-autotoc-">\n\n      <% if(_.contains(linkTypes, \'internal\')){ %>\n      <fieldset class="linkType internal" data-linkType="internal">\n        <legend id="tinylink-internal"><%- internal %></legend>\n        <div>\n          <div class="main mb-2">\n            \x3c!-- this gives the name to the "linkType" --\x3e\n            <input type="text" name="internal" class="form-control" />\n          </div>\n        </div>\n      </fieldset>\n      <% } %>\n\n      <% if(_.contains(linkTypes, \'external\')){ %>\n      <fieldset class="linkType external" data-linkType="external">\n        <legend id="tinylink-external"><%- external %></legend>\n        <div class="main mb-2">\n          <label for="external"><%- externalText %></label>\n          <input type="text" name="external" class="form-control" />\n        </div>\n      </fieldset>\n      <% } %>\n\n      <% if(_.contains(linkTypes, \'email\')){ %>\n      <fieldset class="linkType email" data-linkType="email">\n        <legend id="tinylink-email"><%- emailText %></legend>\n        <div>\n          <div class="main mb-2">\n            <label><%- emailText %></label>\n            <input type="text" name="email" class="form-control" />\n          </div>\n          <div class="mb-2">\n            <label><%- subjectText %></label>\n            <input type="text" name="subject" class="form-control" />\n          </div>\n        </div>\n      </fieldset>\n      <% } %>\n\n      <% if(_.contains(linkTypes, \'anchor\')){ %>\n      <fieldset class="linkType anchor" data-linkType="anchor">\n        <legend id="tinylink-anchor"><%- anchor %></legend>\n        <div>\n          <div class="main mb-2">\n            <label><%- anchorLabel %></label>\n            <div class="input-wrapper">\n              <select name="anchor" class="pat-select2" data-pat-select2="width:500px"></select>\n            </div>\n          </div>\n        </div>\n      </fieldset>\n      <% } %>\n\n    </div>\x3c!-- / tabs --\x3e\n\n    <div class="common-controls mt-3 border-top pt-3">\n      <div class="mb-2">\n        <label><%- target %></label>\n        <select name="target" class="form-select">\n          <% _.each(targetList, function(target){ %>\n            <option value="<%- target.value %>"><%- target.text %></option>\n          <% }); %>\n        </select>\n      </div>\n      <div class="mb-2">\n        <label><%- titleText %></label>\n        <input type="text" name="title" class="form-control" />\n      </div>\n    </div>\n\n    <input type="submit" class="btn btn-secondary plone-btn me-1" name="cancel" value="<%- cancelBtn %>" />\n    <input type="submit" class="btn btn-primary plone-btn" name="insert" value="<%- insertBtn %>" />\n  </div>\n</div>\n',g=i.A.extend({name:"linktype",trigger:".pat-linktype-dummy",defaults:{linkModal:null},init:function(){this.linkModal=this.options.linkModal,this.tinypattern=this.options.tinypattern,this.tiny=this.tinypattern.tiny,this.dom=this.tiny.dom},getEl:function(){return this.el.querySelector("input")},value:function(){return this.getEl().value.trim()},toUrl:function(){return this.value()},load:function(t){let e=this.tiny.dom.getAttrib(t,"data-val");this.set(e)},set:function(t){this.getEl().setAttribute("value",t)},attributes:function(){return{"data-val":this.value()}},updateRelatedItems:function(){}}),u=g.extend({name:"externallinktype",trigger:".pat-externallinktype-dummy",init:function(){g.prototype.init.call(this),this.getEl().addEventListener("change",(function(){var t=s()(this).val();new RegExp("https?://").test(t)||-1!==s()(this).val().split("/")[0].indexOf(".")&&s()(this).val("http://"+t)}))},load:function(t){let e=this.tiny.dom.getAttrib(t,"data-val");this.set(e)}}),y=g.extend({name:"internallinktype",trigger:".pat-internallinktype-dummy",init:async function(){this.getEl()&&(g.prototype.init.call(this),await this.createContentBrowser())},getEl:function(){return this.el.querySelector("input")},createContentBrowser:async function(){var t={selection:[],...this.linkModal.options?.relatedItems};t["maximum-selection-size"]=1,t.upload=1;const e=this.getEl(),i=this.tiny.selection.getNode(),a=this.tiny.dom.getAttrib(i,"data-linktype");"internal"!==a&&"image"!==a||t.selection.push(this.tiny.dom.getAttrib(i,"data-val"));const l=(await Promise.resolve().then(n.bind(n,88552))).default;this.contentBrowserPattern=new l(e,t)},toUrl:function(){var t=this.value();return t?this.tinypattern.generateUrl(t):null}}),k=g.extend({name:"uploadlinktype",trigger:".pat-uploadlinktype-dummy",getDelegatedLinkType:function(){return"uploadImage"===this.linkModal.linkType?this.linkModal.linkTypes.image:this.linkModal.linkTypes.internal},toUrl:function(){return this.getDelegatedLinkType().toUrl()},attributes:function(){return this.getDelegatedLinkType().attributes()},set:function(t){return this.getDelegatedLinkType().set(t)},load:function(t){return this.getDelegatedLinkType().load(t)},value:function(){return this.getDelegatedLinkType().value()}}),f=y.extend({name:"imagelinktype",trigger:".pat-imagelinktype-dummy",toUrl:function(){var t=this.value();return this.tinypattern.generateImageUrl(t,this.linkModal.getScaleFromSrcset(this.linkModal.$scale.val()))}}),v=g.extend({name:"emaillinktype",trigger:".pat-emaillinktype-dummy",toUrl:function(){var t=this.value();if(t){var e=this.getSubject(),n="mailto:"+t;return e&&(n+="?subject="+e),n}return null},load:function(t){g.prototype.load.apply(this,[t]),this.linkModal.$subject.val(this.tiny.dom.getAttrib(t,"data-subject"))},getSubject:function(){return this.linkModal.$subject.val()},attributes:function(){var t=g.prototype.attributes.call(this);return t["data-subject"]=this.getSubject(),t}}),x=g.extend({name:"anchorlinktype",trigger:".pat-anchorlinktype-dummy",init:function(){g.prototype.init.call(this),this.$select=this.$el.find("select"),this.anchorNodes=[],this.anchorData=[],this.populate()},value:function(){var t=this.$select.select2("data");return t&&"object"==typeof t&&(t=t.id),t},populate:function(){var t,e,n,i,a,l=this;l.$select.find("option").remove(),l.anchorNodes=[],l.anchorData=[];var o=l.tiny.dom.select(".mceItemAnchor,.mce-item-anchor");for(e=0;e<o.length;e+=1)t=o[e],(i=l.tiny.dom.getAttrib(t,"name"))||(i=l.tiny.dom.getAttrib(t,"id")),""!==i&&(l.anchorNodes.push(t),l.anchorData.push({name:i,title:i}));if((o=l.tiny.dom.select(l.linkModal.options.anchorSelector)).length>0)for(e=0;e<o.length;e+=1)if(t=o[e],""!==(a=s()(t).text().replace(/^\s+|\s+$/g,""))){i=(i=a.toLowerCase().substring(0,1024)).replace(/[^a-z0-9]/g,"-");var r=!1;for(n=0;n<l.anchorNodes.length;n+=1){var c=l.anchorData[n];if(c.name===i){r=!0,c.title=a;break}}r||(l.anchorData.push({name:i,title:a,newAnchor:!0}),l.anchorNodes.push(t))}if(l.anchorNodes.length>0)for(e=0;e<l.anchorData.length;e+=1){var m=l.anchorData[e];l.$select.append('<option value="'+e+'">'+m.title+"</option>")}else l.$select.append("<option>No anchors found..</option>")},getIndex:function(t){for(var e=0;e<this.anchorData.length;e+=1){if(this.anchorData[e].name===t)return e}return 0},toUrl:function(){var t=this.value();if(t){var e=parseInt(t,10),n=this.anchorNodes[e],i=this.anchorData[e];return i.newAnchor&&(n.innerHTML='<a name="'+i.name+'" class="mce-item-anchor"></a>'+n.innerHTML),"#"+i.name}return null},set:function(t){var e=this.getIndex(t);this.$select.select2("data",""+e)}});const b=t=>{document.getElementById(t.id.replace("-editable",""))["pattern-tinymce"].instance.addImageClicked()},T=t=>{document.getElementById(t.id.replace("-editable",""))["pattern-tinymce"].instance.addLinkClicked()};p().PluginManager.add("ploneimage",((t,e)=>{t.ui.registry.addButton("ploneimage",{icon:"image",text:"Insert image",tooltip:"Insert/edit image",onAction:()=>{b(t)}}),t.ui.registry.addMenuItem("ploneimage",{icon:"image",text:"Insert image",onAction:()=>{b(t)}})})),p().PluginManager.add("plonelink",(function(t,e){t.ui.registry.addButton("plonelink",{icon:"link",tooltip:"Insert/edit link",shortcut:"Ctrl+K",onAction:()=>{T(t)},stateSelector:"a[href]"}),t.ui.registry.addMenuItem("plonelink",{icon:"link",text:"Insert link",shortcut:"Ctrl+K",onAction:()=>{T(t)},stateSelector:"a[href]"}),t.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:e=>{t.execCommand("unlink")},stateSelector:"a[href]"})}));var E=i.A.extend({name:"linkmodal",trigger:".pat-linkmodal",defaults:{anchorSelector:"h1,h2,h3",linkTypes:[],initialLinkType:"internal",text:{insertHeading:"Insert Link"},linkTypeClassMapping:{internal:y,upload:k,external:u,email:v,anchor:x,image:f,uploadImage:k,externalImage:g}},linkTypeTemplateMapping:{internal:h,upload:h,external:h,email:h,anchor:h,image:d,uploadImage:d,externalImage:d},template:function(t){return c().template(this.linkTypeTemplateMapping[this.linkType])(t)},init:function(){var t=this;t.tinypattern=t.options.tinypattern,t.tinypattern.options.anchorSelector&&(t.options.anchorSelector=t.tinypattern.options.anchorSelector),t.tiny=t.tinypattern.tiny,t.dom=t.tiny.dom,t.linkType=t.options.initialLinkType,t.linkTypes={},t.modal=l.A.patterns["plone-modal"].init(t.$el,{html:t.generateModalHtml(),content:null,buttons:".plone-btn",reloadWindowOnClose:!1,templateOptions:{classDialog:"modal-dialog modal-lg",reloadWindowOnClose:!1},actionOptions:{reloadWindowOnClose:!1},backdropOptions:{zIndex:"1340",closeOnClick:!1}}),t.modal.on("shown",(e=>{t.modalShown.apply(t,[e])}))},isOnlyTextSelected:function(){var t=this.tiny.selection.getContent();if(/</.test(t)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(t)||-1===t.indexOf("href=")))return!1;if(this.anchorElm){var e=this.anchorElm.childNodes;if(0===e.length)return!1;for(var n=e.length-1;n>=0;n--)if(3!==e[n].nodeType)return!1}return!0},generateModalHtml:function(){return this.template({options:this.options,upload:this.options.upload,text:this.options.text,insertHeading:this.options.text.insertHeading,insertImageHelp:this.options.text.insertImageHelp,uploadText:this.options.text.upload,insertLinkHelp:this.options.text.insertLinkHelp,internal:this.options.text.internal,external:this.options.text.external,anchor:this.options.text.anchor,anchorLabel:this.options.text.anchorLabel,target:this.options.text.target,linkTypes:this.options.linkTypes,externalText:this.options.text.externalText,emailText:this.options.text.email,subjectText:this.options.text.subject,targetList:this.options.targetList,titleText:this.options.text.title,internalImageText:this.options.text.internalImage,externalImage:this.options.text.externalImage,externalImageText:this.options.text.externalImageText,altText:this.options.text.alt,imageAlignText:this.options.text.imageAlign,captionFromDescriptionText:this.options.text.captionFromDescription,enableImageZoom:this.options.text.enableImageZoom,captionText:this.options.text.caption,scaleText:this.options.text.scale,pictureVariants:this.options.pictureVariants,imageCaptioningEnabled:this.options.imageCaptioningEnabled,cancelBtn:this.options.text.cancelBtn,insertBtn:this.options.text.insertBtn})},isImageMode:function(){return-1!==["image","uploadImage","externalImage"].indexOf(this.linkType)},initElements:async function(){var t=this;t.$target=s()('select[name="target"]',t.modal.$modal),t.$button=s()('.modal-footer input[name="insert"]',t.modal.$modal),t.$title=s()('input[name="title"]',t.modal.$modal),t.$subject=s()('input[name="subject"]',t.modal.$modal),t.$alt=s()('input[name="alt"]',t.modal.$modal),t.$align=s()('select[name="align"]',t.modal.$modal),t.$scale=s()('select[name="scale"]',t.modal.$modal),t.$selectedItems=s()("input.pat-contentbrowser",t.modal.$modal),t.$enableImageZoom=s()('input[name="enableImageZoom"]',t.modal.$modal),t.$captionFromDescription=s()('input[name="captionFromDescription"]',t.modal.$modal),t.$caption=s()('textarea[name="caption"]',t.modal.$modal);for(var e=0;e<t.options.linkTypes.length;e++){var n=t.options.linkTypes[e],i=s()(".linkType."+n+" .main",t.modal.$modal);if(i.length){var l=new t.options.linkTypeClassMapping[n](i,{linkModal:t,tinypattern:t.tinypattern});await a.A.await_pattern_init(l),t.linkTypes[n]=l}}s()(".autotoc-nav a",t.modal.$modal).on("click",(function(){var e=s()("fieldset.linkType",t.modal.$modal).eq(s()(this).index())[0].className.split(/\s+/);c().each(e,(function(e){-1!==c().indexOf(t.options.linkTypes,e)&&(t.linkType=e)}))})),t.$captionFromDescription.on("change",(function(){this.checked?t.$caption.prop("disabled",!0):t.$caption.prop("disabled",!1)}))},getLinkUrl:function(){return this.linkTypes[this.linkType].toUrl()},getValue:function(){return this.linkTypes[this.linkType].value()},updateAnchor:function(t){var e=this;e.tiny.focus(),e.tiny.selection.setRng(e.rng);var n=e.$target.val(),i=e.$title.val(),a=s().extend(!0,e.data,{title:i||null,target:n||null,"data-linkType":e.linkType,href:t},e.linkTypes[e.linkType].attributes());e.anchorElm?(e.onlyText&&a.text!==e.initialText&&("innerText"in e.anchorElm?e.anchorElm.innerText=e.data.text:e.anchorElm.textContent=e.data.text),e.tiny.dom.setAttribs(e.anchorElm,a),e.tiny.selection.select(e.anchorElm),e.tiny.undoManager.add()):e.onlyText?e.tiny.insertContent(e.tiny.dom.createHTML("a",a,e.tiny.dom.encode(e.data.text))):e.tiny.execCommand("mceInsertLink",!1,a)},focusElement:function(t){this.tiny.focus(),this.tiny.selection.select(t),this.tiny.nodeChanged()},getScaleFromSrcset:function(t){let e=this.options.pictureVariants[t];return e.sourceset[e.sourceset.length-1].scale},updateImage:function(t){console.log(`updateImage: ${t}`);var e=this,n=e.$title.val(),i=e.$captionFromDescription.prop("checked"),a=e.$enableImageZoom.prop("checked"),l=e.$caption.val();e.tiny.focus(),e.tiny.selection.setRng(e.rng);var o=["image-richtext"];e.$align.val()&&o.push(e.$align.val()),"externalImage"!==e.linkType&&o.push("picture-variant-"+e.$scale.val()),(i||l)&&o.push("captioned"),a&&o.push("zoomable");var s={src:t,title:n||null,alt:e.$alt.val(),class:o.join(" "),"data-linkType":e.linkType,"data-scale":e.getScaleFromSrcset(e.$scale.val()),...e.linkTypes[e.linkType].attributes()};if("externalImage"!==e.linkType&&(s["data-picturevariant"]=e.$scale.val()),l&&!i&&(s["data-captiontext"]=l),e.imgElm&&!e.imgElm.getAttribute("data-mce-object")){const t=e.dom.getAttrib(e.imgElm,"width"),n=e.dom.getAttrib(e.imgElm,"height");t&&(s.width=t),n&&(s.height=n)}else e.imgElm=null;var r,c=e.dom.create("img",s);e.imgElm&&"img"==e.imgElm.tagName.toLowerCase()?e.imgElm.replaceWith(c):e.rng.insertNode(c),e.imgElm=c,(r=e.imgElm).onload=r.onerror=function(){r.onload=r.onerror=null,e.focusElement(r)},e.imgElm.complete&&e.focusElement(e.imgElm)},modalShown:async function(t){var e=this;await e.initElements(),e.initData(),e.$button.off("click").on("click",(function(t){var n;t.preventDefault(),t.stopPropagation(),e.linkType=e.modal.$modal.find("fieldset.active").data("linktype");try{n=e.getLinkUrl()}catch(t){return void console.log(t)}n&&(e.isImageMode()?e.updateImage(n):e.updateAnchor(n),e.hide())})),s()('.modal-footer input[name="cancel"]',e.modal.$modal).on("click",(function(t){t.preventDefault(),e.hide()}))},show:function(){this.modal.show()},hide:function(){this.modal.hide()},initData:function(){var t,e,n=this;if(n.data={},n.initialText=null,n.rng=n.tiny.selection.getRng(),n.selectedElm=n.tiny.selection.getNode(),n.anchorElm=n.tiny.dom.getParent(n.selectedElm,"a[href]"),n.onlyText=n.isOnlyTextSelected(),n.data.text=n.initialText=n.anchorElm?n.anchorElm.innerText||n.anchorElm.textContent:n.tiny.selection.getContent({format:"text"}),n.data.href=n.anchorElm?n.tiny.dom.getAttrib(n.anchorElm,"href"):"",n.anchorElm?n.data.target=n.tiny.dom.getAttrib(n.anchorElm,"target"):n.tiny.options.get("link_default_target")&&(n.data.target=n.tiny.options.get("link_default_target")),(t=n.tiny.dom.getAttrib(n.anchorElm,"rel"))&&(n.data.rel=t),(t=n.tiny.dom.getAttrib(n.anchorElm,"class"))&&(n.data.class=t),(t=n.tiny.dom.getAttrib(n.anchorElm,"title"))&&(n.data.title=t),n.tiny.focus(),n.anchorElm=n.dom.getParent(n.selectedElm,"a[href]"),n.isImageMode()){var i;i=n.selectedElm,n.imgElm=i;var a=n.dom.getAttrib(n.imgElm,"src"),l=n.dom.getAttrib(n.imgElm,"data-captiontext");if(n.$title.val(n.dom.getAttrib(n.imgElm,"title")),n.$alt.val(n.dom.getAttrib(n.imgElm,"alt")),s()(n.imgElm).hasClass("zoomable")&&n.$enableImageZoom.prop("checked",!0),s()(n.imgElm).hasClass("captioned")&&!l?(n.$captionFromDescription.prop("checked",!0),n.$caption.prop("disabled",!0)):(s()(n.imgElm).hasClass("captioned"),n.$captionFromDescription.prop("checked",!1)),l&&n.$caption.val(l),(e=n.dom.getAttrib(n.imgElm,"data-linktype"))&&e in n.linkTypes){n.linkType=e,n.linkTypes[n.linkType].load(n.imgElm);var o=n.dom.getAttrib(n.imgElm,"data-picturevariant");n.$scale.val(o),s()("#tinylink-"+n.linkType,n.modal.$modal).trigger("click")}else a&&n.guessImageLink(a);for(var r=n.dom.getAttrib(n.imgElm,"class").split(" "),c=0;c<r.length;c+=1){var m=r[c];for(var p in n.options.imageClasses)-1!==p.indexOf(m)&&n.$align.val(m)}}else if(n.anchorElm){n.focusElement(n.anchorElm);var d;if(d=n.dom.getAttrib(n.anchorElm,"href"),n.$target.val(n.dom.getAttrib(n.anchorElm,"target")),n.$title.val(n.dom.getAttrib(n.anchorElm,"title")),e=n.dom.getAttrib(n.anchorElm,"data-linktype")){n.linkType=e,n.linkTypes[n.linkType].load(n.anchorElm);var h=s()("#tinylink-"+n.linkType,n.modal.$modal);1===h.length&&s()("#"+h.data("autotoc-trigger-id")).trigger("click")}else d&&n.guessAnchorLink(d)}},guessImageLink:function(t){-1!==t.indexOf(this.options.prependToScalePart)?(this.linkType="image",this.$scale.val(this.tinypattern.getScaleFromUrl(t)),this.linkTypes.image.set(this.tinypattern.stripGeneratedUrl(t))):(this.linkType="externalImage",this.linkTypes.externalImage.set(t))},guessAnchorLink:function(t){if(console.log("href: "+t),this.options.prependToUrl&&-1!==t.indexOf(this.options.prependToUrl))this.linkType="internal",this.linkTypes.internal.set(this.tinypattern.stripGeneratedUrl(t));else if(-1!==t.indexOf("mailto:")){this.linkType="email";var e=t.substring(7,t.length).split("?subject=");this.linkTypes.email.set(e[0]),e.length>1&&this.$subject.val(decodeURIComponent(e[1]))}else"#"===t[0]?(this.linkType="anchor",this.linkTypes.anchor.set(t.substring(1))):(this.linkType="external",this.linkTypes.external.set(t))},reinitialize:function(){this.modal.options.html=this.generateModalHtml()}})}}]);
//# sourceMappingURL=91491.5e2daa3b40814e7f2cc4.min.js.map