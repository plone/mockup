(self.webpackChunk_plone_mockup=self.webpackChunk_plone_mockup||[]).push([[46439],{2957:function(){!function(){"use strict";const e=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||(null===(a=o.constructor)||void 0===a?void 0:a.name)===r.name)?"string":t;var n,o,r,a})(t)===e,o=e=>t=>typeof t===e,r=n("string"),a=n("array"),s=o("boolean"),l=o("number"),i=()=>{},c=e=>()=>e,u=c(!0),d=c("[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]");class m{constructor(e,t){this.tag=e,this.value=t}static some(e){return new m(!0,e)}static none(){return m.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?m.some(e(this.value)):m.none()}bind(e){return this.tag?e(this.value):m.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:m.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return null==e?m.none():m.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}m.singletonNone=new m(!1);const p=d;var g=tinymce.util.Tools.resolve("tinymce.Env"),h=tinymce.util.Tools.resolve("tinymce.util.Tools");const b=Array.prototype.slice,f=Array.prototype.push,y=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},w=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},v=(e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)},x=(e,t)=>(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);f.apply(t,e[n])}return t})(y(e,t)),S=Object.hasOwnProperty,k=(e,t)=>S.call(e,t);"undefined"!=typeof window?window:Function("return this;")();const C=e=>3===(e=>e.dom.nodeType)(e),T=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},A=(e,t)=>({element:e,offset:t}),_=(e,t)=>{((e,t)=>{const n=(e=>m.from(e.dom.parentNode).map(T))(e);n.each((n=>{n.dom.insertBefore(t.dom,e.dom)}))})(e,t),((e,t)=>{e.dom.appendChild(t.dom)})(t,e)},E=(e=>{const t=t=>e(t)?m.from(t.dom.nodeValue):m.none();return{get:n=>{if(!e(n))throw new Error("Can only get text value of a text node");return t(n).getOr("")},getOption:t,set:(t,n)=>{if(!e(t))throw new Error("Can only set raw text value of a text node");t.dom.nodeValue=n}}})(C),N=e=>E.get(e);var O=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const F=(e,t)=>e.isBlock(t)||k(e.schema.getVoidElements(),t.nodeName),D=(e,t)=>!e.isEditable(t),R=(e,t)=>!e.isBlock(t)&&k(e.schema.getWhitespaceElements(),t.nodeName),P=(e,t)=>((e,t)=>{const n=(e=>y(e.dom.childNodes,T))(e);return n.length>0&&t<n.length?A(n[t],0):A(e,t)})(T(e),t),M=(e,t,n,o,r,a=!0)=>{let s=a?t(!1):n;for(;s;){const n=D(e,s);if(n||R(e,s)){if(n?o.cef(s):o.boundary(s))break;s=t(!0)}else{if(F(e,s)){if(o.boundary(s))break}else 3===s.nodeType&&o.text(s);if(s===r)break;s=t(!1)}}},B=(e,t,n,o,r)=>{var a;if(((e,t)=>F(e,t)||D(e,t)||R(e,t)||((e,t)=>"true"===e.getContentEditable(t)&&t.parentNode&&!e.isEditable(t.parentNode))(e,t))(e,n))return;const s=null!==(a=e.getParent(o,e.isBlock))&&void 0!==a?a:e.getRoot(),l=new O(n,s),i=r?l.next.bind(l):l.prev.bind(l);M(e,i,n,{boundary:u,cef:u,text:e=>{r?t.fOffset+=e.length:t.sOffset+=e.length,t.elements.push(T(e))}})},j=(e,t,n,o,r,a=!0)=>{const s=new O(n,t),l=[];let i={sOffset:0,fOffset:0,elements:[]};B(e,i,n,t,!1);const c=()=>(i.elements.length>0&&(l.push(i),i={sOffset:0,fOffset:0,elements:[]}),!1);return M(e,s.next.bind(s),n,{boundary:c,cef:e=>(c(),r&&l.push(...r.cef(e)),!1),text:e=>{i.elements.push(T(e)),r&&r.text(e,i)}},o,a),o&&B(e,i,o,t,!0),c(),l},$=(e,t)=>t.collapsed?[]:((e,t)=>{const n=P(t.startContainer,t.startOffset),o=n.element.dom,r=P(t.endContainer,t.endOffset),a=r.element.dom;return j(e,t.commonAncestorContainer,o,a,{text:(e,t)=>{e===a?t.fOffset+=e.length-r.offset:e===o&&(t.sOffset+=n.offset)},cef:t=>(e=>{const t=b.call(e,0);return t.sort(((e,t)=>((e,t)=>((e,t,n)=>!!(e.compareDocumentPosition(t)&n))(e,t,Node.DOCUMENT_POSITION_PRECEDING))(e.elements[0].dom,t.elements[0].dom)?1:-1)),t})(x(((e,t)=>{const n=void 0===t?document:t.dom;return 1!==(o=n).nodeType&&9!==o.nodeType&&11!==o.nodeType||0===o.childElementCount?[]:y(n.querySelectorAll("*[contenteditable=true]"),T);var o})(0,T(t)),(t=>{const n=t.dom;return j(e,n,n)})))},!1)})(e,t),L=(e,t)=>{const n=e.createRng();return n.selectNode(t),$(e,n)},I=(e,t)=>x(t,(t=>{const n=t.elements,o=y(n,N).join(""),r=((e,t,n=0,o=e.length)=>{const r=t.regex;r.lastIndex=n;const a=[];let s;for(;s=r.exec(e);){const e=s[t.matchIndex],n=s.index+s[0].indexOf(e),l=n+e.length;if(l>o)break;a.push({start:n,finish:l}),r.lastIndex=l}return a})(o,e,t.sOffset,o.length-t.fOffset);return((e,t)=>{const n=(o=e,r=(e,n)=>{const o=N(n),r=e.last,a=r+o.length,s=x(t,((e,t)=>e.start<a&&e.finish>r?[{element:n,start:Math.max(r,e.start)-r,finish:Math.min(a,e.finish)-r,matchId:t}]:[]));return{results:e.results.concat(s),last:a}},a={results:[],last:0},w(o,((e,t)=>{a=r(a,e)})),a).results;var o,r,a;return((e,t)=>{if(0===e.length)return[];{let n=t(e[0]);const o=[];let r=[];for(let a=0,s=e.length;a<s;a++){const s=e[a],l=t(s);l!==n&&(o.push(r),r=[]),n=l,r.push(s)}return 0!==r.length&&o.push(r),o}})(n,(e=>e.matchId))})(n,r)})),z=(e,t)=>{v(e,((e,n)=>{v(e,(e=>{const o=T(t.cloneNode(!1));((e,t,n)=>{((e,t,n)=>{if(!(r(n)||s(n)||l(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(e.dom,"data-mce-index",n)})(o,0,n);const a=e.element.dom;if(a.length===e.finish&&0===e.start)_(e.element,o);else{a.length!==e.finish&&a.splitText(e.finish);const t=a.splitText(e.start);_(T(t),o)}}))}))},q=e=>e.getAttribute("data-mce-index"),W=e=>{var t;const n=e.parentNode;e.firstChild&&n.insertBefore(e.firstChild,e),null===(t=e.parentNode)||void 0===t||t.removeChild(e)},U=(e,t)=>{const n=[],o=h.toArray(e.getBody().getElementsByTagName("span"));if(o.length)for(let e=0;e<o.length;e++){const r=q(o[e]);null!==r&&r.length&&r===t.toString()&&n.push(o[e])}return n},H=(e,t,n)=>{const o=t.get();let r=o.index;const a=e.dom;n?r+1===o.count?r=0:r++:r-1==-1?r=o.count-1:r--,a.removeClass(U(e,o.index),"mce-match-marker-selected");const s=U(e,r);return s.length?(a.addClass(U(e,r),"mce-match-marker-selected"),e.selection.scrollIntoView(s[0]),r):-1},V=(e,t)=>{const n=t.parentNode;e.remove(t),n&&e.isEmpty(n)&&e.remove(n)},Z=(e,t,n,o,r,a)=>{const s=e.selection,l=((e,t)=>{const n="("+e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return t?`(?:^|\\s|${p()})`+n+`(?=$|\\s|${p()})`:n})(n,r),i=s.isForward(),c=((e,t,n,o)=>{const r=e.dom.create("span",{"data-mce-bogus":1});r.className="mce-match-marker";const a=e.getBody();return Y(e,t,!1),o?((e,t,n,o)=>{const r=n.getBookmark(),a=e.select("td[data-mce-selected],th[data-mce-selected]"),s=a.length>0?((e,t)=>x(t,(t=>L(e,t))))(e,a):$(e,n.getRng()),l=I(t,s);return z(l,o),n.moveToBookmark(r),l.length})(e.dom,n,e.selection,r):((e,t,n,o)=>{const r=L(e,n),a=I(t,r);return z(a,o),a.length})(e.dom,n,a,r)})(e,t,{regex:new RegExp(l,o?"g":"gi"),matchIndex:1},a);if(g.browser.isSafari()&&s.setRng(s.getRng(),i),c){const s=H(e,t,!0);t.set({index:s,count:c,text:n,matchCase:o,wholeWord:r,inSelection:a})}return c},K=(e,t)=>{const n=H(e,t,!0);t.set({...t.get(),index:n})},G=(e,t)=>{const n=H(e,t,!1);t.set({...t.get(),index:n})},J=e=>{const t=q(e);return null!==t&&t.length>0},Q=(e,t,n,o,r)=>{const a=t.get(),s=a.index;let l,i=s;o=!1!==o;const c=e.getBody(),u=h.grep(h.toArray(c.getElementsByTagName("span")),J);for(let t=0;t<u.length;t++){const c=q(u[t]);let d=l=parseInt(c,10);if(r||d===a.index){for(n.length?(u[t].innerText=n,W(u[t])):V(e.dom,u[t]);u[++t];){if(d=parseInt(q(u[t]),10),d!==l){t--;break}V(e.dom,u[t])}o&&i--}else l>s&&u[t].setAttribute("data-mce-index",String(l-1))}return t.set({...a,count:r?0:a.count-1,index:i}),o?K(e,t):G(e,t),!r&&t.get().count>0},Y=(e,t,n)=>{let o,r;const a=t.get(),s=h.toArray(e.getBody().getElementsByTagName("span"));for(let e=0;e<s.length;e++){const t=q(s[e]);null!==t&&t.length&&(t===a.index.toString()&&(o||(o=s[e].firstChild),r=s[e].firstChild),W(s[e]))}if(t.set({...a,index:-1,count:0,text:""}),o&&r){const t=e.dom.createRng();return t.setStart(o,0),t.setEnd(r,r.data.length),!1!==n&&e.selection.setRng(t),t}},X=(t,n)=>{const o=(()=>{const t=(t=>{const n=e(m.none()),o=()=>n.get().each(t);return{clear:()=>{o(),n.set(m.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:e=>{o(),n.set(m.some(e))}}})(i);return{...t,on:e=>t.get().each(e)}})();t.undoManager.add();const r=h.trim(t.selection.getContent({format:"text"})),a=e=>{e.setEnabled("next",((e,t)=>t.get().count>1)(0,n)),e.setEnabled("prev",((e,t)=>t.get().count>1)(0,n))},s=(e,t)=>{w(["replace","replaceall","prev","next"],(n=>e.setEnabled(n,!t)))},l=(e,t)=>{t.redial(y(e,t.getData()))},c=(e,t)=>{g.browser.isSafari()&&g.deviceType.isTouch()&&("find"===t||"replace"===t||"replaceall"===t)&&e.focus(t)},u=e=>{Y(t,n,!1),s(e,!0),a(e)},d=e=>{const o=e.getData(),r=n.get();if(o.findtext.length){if(r.text===o.findtext&&r.matchCase===o.matchcase&&r.wholeWord===o.wholewords)K(t,n);else{const r=Z(t,n,o.findtext,o.matchcase,o.wholewords,o.inselection);r<=0&&l(!0,e),s(e,0===r)}a(e)}else u(e)},p=n.get(),b={findtext:r,replacetext:"",wholewords:p.wholeWord,matchcase:p.matchCase,inselection:p.inSelection},f=e=>{const t=[{type:"label",label:"Find",for:"findtext",items:[{type:"bar",items:[{type:"input",name:"findtext",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]}]},{type:"input",name:"replacetext",label:"Replace with",inputMode:"search"}];return e&&t.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"}),t},y=(e,o)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:f(e)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:o,onChange:(t,o)=>{e&&l(!1,t),"findtext"===o.name&&n.get().count>0&&u(t)},onAction:(e,o)=>{const r=e.getData();switch(o.name){case"find":d(e);break;case"replace":Q(t,n,r.replacetext)?a(e):u(e);break;case"replaceall":Q(t,n,r.replacetext,!0,!0),u(e);break;case"prev":G(t,n),a(e);break;case"next":K(t,n),a(e);break;case"matchcase":case"wholewords":case"inselection":l(!1,e),(e=>{const t=e.getData(),o=n.get();n.set({...o,matchCase:t.matchcase,wholeWord:t.wholewords,inSelection:t.inselection})})(e),u(e)}c(e,o.name)},onSubmit:e=>{d(e),c(e,"find")},onClose:()=>{t.focus(),Y(t,n),t.undoManager.add()}});o.set(t.windowManager.open(y(!1,b),{inline:"toolbar"}))},ee=(e,t)=>()=>{X(e,t)};t.add("searchreplace",(t=>{const n=e({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return((e,t)=>{e.addCommand("SearchReplace",(()=>{X(e,t)}))})(t,n),((e,t)=>{e.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:ee(e,t),icon:"search"}),e.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:ee(e,t),icon:"search",shortcut:"Meta+F"}),e.shortcuts.add("Meta+F","",ee(e,t))})(t,n),((e,t)=>({done:n=>Y(e,t,n),find:(n,o,r,a=!1)=>Z(e,t,n,o,r,a),next:()=>K(e,t),prev:()=>G(e,t),replace:(n,o,r)=>Q(e,t,n,o,r)}))(t,n)}))}()},5638:function(){!function(){"use strict";const e=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||(null===(a=o.constructor)||void 0===a?void 0:a.name)===r.name)?"string":t;var n,o,r,a})(t)===e,o=e=>t=>typeof t===e,r=e=>t=>e===t,a=n("string"),s=n("object"),l=n("array"),i=r(null),c=o("boolean"),u=r(void 0),d=e=>!(e=>null==e)(e),m=o("function"),p=o("number"),g=()=>{},h=e=>()=>e;function b(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const f=h(!1),y=h(!0);class w{constructor(e,t){this.tag=e,this.value=t}static some(e){return new w(!0,e)}static none(){return w.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?w.some(e(this.value)):w.none()}bind(e){return this.tag?e(this.value):w.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:w.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return d(e)?w.some(e):w.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}w.singletonNone=new w(!1);const v=Array.prototype.push,x=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},S=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},k=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},C=(e,t)=>((e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return w.some(r);if(n(r,o))break}return w.none()})(e,t,f),T=t=>{const n=e(w.none()),o=()=>n.get().each(t);return{clear:()=>{o(),n.set(w.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:e=>{o(),n.set(w.some(e))}}},A=()=>T((e=>e.unbind())),_=Object.keys,E="undefined"!=typeof window?window:Function("return this;")(),N=(e,t)=>((e,t)=>{let n=null!=t?t:E;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),O=Object.getPrototypeOf,F=e=>{const t=N("ownerDocument.defaultView",e);return s(e)&&((e=>((e,t)=>{const n=((e,t)=>N(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n})("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(O(e).constructor.name))},D=e=>t=>(e=>e.dom.nodeType)(t)===e,R=D(1),P=D(3),M=D(11),B=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},j=(e,t)=>{e.dom.removeAttribute(t)},$=(e,t,n=0,o)=>{const r=e.indexOf(t,n);return-1!==r&&(!!u(o)||r+t.length<=o)},L=e=>void 0!==e.style&&m(e.style.getPropertyValue),I=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},z=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},q=e=>I(e.dom.ownerDocument),W=e=>x(e.dom.childNodes,I),U=e=>{const t=(e=>I(e.dom.getRootNode()))(e);return M(n=t)&&d(n.dom.host)?w.some(t):w.none();var n},H=e=>I(e.dom.host),V=e=>{const t=P(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return U(I(t)).fold((()=>n.body.contains(t)),(o=V,r=H,e=>o(r(e))));var o,r},Z=(e,t,n)=>{if(!a(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);L(e)&&e.style.setProperty(t,n)},K=(e,t,n)=>{const o=e.dom;Z(o,t,n)},G=(e,t)=>{const n=e.dom;((e,t)=>{const n=_(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}})(t,((e,t)=>{Z(n,t,e)}))},J=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||V(e)?o:Q(n,t)},Q=(e,t)=>L(e)?e.style.getPropertyValue(t):"",Y=e=>{const t=I((e=>{if(d(e.target)){const t=I(e.target);if(R(t)&&d(t.dom.shadowRoot)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return(e=>0<e.length?w.some(e[0]):w.none())(t)}}return w.from(e.target)})(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),r=(a=o,s=n,(...e)=>a(s.apply(null,e)));var a,s;return((e,t,n,o,r,a,s)=>({target:e,x:t,y:n,stop:o,prevent:r,kill:a,raw:s}))(t,e.clientX,e.clientY,n,o,r,e)},X=(e,t,n,o)=>{e.dom.removeEventListener(t,n,o)},ee=y,te=(e,t,n)=>((e,t,n,o)=>((e,t,n,o,r)=>{const a=((e,t)=>n=>{e(n)&&t(Y(n))})(n,o);return e.dom.addEventListener(t,a,r),{unbind:b(X,e,t,a,r)}})(e,t,n,o,!1))(e,t,ee,n),ne=()=>oe(0,0),oe=(e,t)=>({major:e,minor:t}),re={nu:oe,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?ne():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}})(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return oe(o(1),o(2))})(e,n)},unknown:ne},ae=(e,t)=>{const n=String(t).toLowerCase();return C(e,(e=>e.search(n)))},se=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,le=e=>t=>$(t,e),ie=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>$(e,"edge/")&&$(e,"chrome")&&$(e,"safari")&&$(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,se],search:e=>$(e,"chrome")&&!$(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>$(e,"msie")||$(e,"trident")},{name:"Opera",versionRegexes:[se,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:le("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:le("firefox")},{name:"Safari",versionRegexes:[se,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>($(e,"safari")||$(e,"mobile/"))&&$(e,"applewebkit")}],ce=[{name:"Windows",search:le("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>$(e,"iphone")||$(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:le("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:le("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:le("linux"),versionRegexes:[]},{name:"Solaris",search:le("sunos"),versionRegexes:[]},{name:"FreeBSD",search:le("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:le("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ue={browsers:h(ie),oses:h(ce)},de="Edge",me="Chromium",pe="Opera",ge="Firefox",he="Safari",be=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(de),isChromium:o(me),isIE:o("IE"),isOpera:o(pe),isFirefox:o(ge),isSafari:o(he)}},fe=()=>be({current:void 0,version:re.unknown()}),ye=be,we=(h(de),h(me),h("IE"),h(pe),h(ge),h(he),"Windows"),ve="Android",xe="Linux",Se="macOS",ke="Solaris",Ce="FreeBSD",Te="ChromeOS",Ae=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(we),isiOS:o("iOS"),isAndroid:o(ve),isMacOS:o(Se),isLinux:o(xe),isSolaris:o(ke),isFreeBSD:o(Ce),isChromeOS:o(Te)}},_e=()=>Ae({current:void 0,version:re.unknown()}),Ee=Ae,Ne=(h(we),h("iOS"),h(ve),h(xe),h(Se),h(ke),h(Ce),h(Te),(e,t,n)=>{const o=ue.browsers(),r=ue.oses(),a=t.bind((e=>((e,t)=>((e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n]);if(o.isSome())return o}return w.none()})(t.brands,(t=>{const n=t.brand.toLowerCase();return C(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:re.nu(parseInt(t.version,10),0)})))})))(o,e))).orThunk((()=>((e,t)=>ae(e,t).map((e=>{const n=re.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(o,e))).fold(fe,ye),s=((e,t)=>ae(e,t).map((e=>{const n=re.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(r,e).fold(_e,Ee),l=((e,t,n,o)=>{const r=e.isiOS()&&!0===/ipad/i.test(n),a=e.isiOS()&&!r,s=e.isiOS()||e.isAndroid(),l=s||o("(pointer:coarse)"),i=r||!a&&s&&o("(min-device-width:768px)"),c=a||s&&!i,u=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!c&&!i&&!u;return{isiPad:h(r),isiPhone:h(a),isTablet:h(i),isPhone:h(c),isTouch:h(l),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:h(u),isDesktop:h(d)}})(s,a,e,n);return{browser:a,os:s,deviceType:l}}),Oe=e=>window.matchMedia(e).matches;let Fe=(e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)})((()=>Ne(window.navigator.userAgent,w.from(window.navigator.userAgentData),Oe)));const De=(e,t)=>({left:e,top:t,translate:(n,o)=>De(e+n,t+o)}),Re=De,Pe=e=>{const t=void 0===e?window:e;return Fe().browser.isFirefox()?w.none():w.from(t.visualViewport)},Me=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),Be=e=>{const t=void 0===e?window:e,n=t.document,o=(e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return Re(n,o)})(I(n));return Pe(t).fold((()=>{const e=t.document.documentElement,n=e.clientWidth,r=e.clientHeight;return Me(o.left,o.top,n,r)}),(e=>Me(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height)))},je=(e,t,n)=>Pe(n).map((n=>{const o=e=>t(Y(e));return n.addEventListener(e,o),{unbind:()=>n.removeEventListener(e,o)}})).getOrThunk((()=>({unbind:g})));var $e=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Le=tinymce.util.Tools.resolve("tinymce.Env");const Ie=(e,t)=>{e.dispatch("FullscreenStateChanged",{state:t}),e.dispatch("ResizeEditor")},ze=e=>e.options.get("fullscreen_native"),qe=e=>{return e.dom===(void 0!==(t=q(e).dom).fullscreenElement?t.fullscreenElement:void 0!==t.msFullscreenElement?t.msFullscreenElement:void 0!==t.webkitFullscreenElement?t.webkitFullscreenElement:null);var t},We="data-ephox-mobile-fullscreen-style",Ue="position:absolute!important;",He="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",Ve=Le.os.isAndroid(),Ze=(e,t,n)=>{const o=t=>n=>{const o=B(n,"style"),r=void 0===o?"no-styles":o.trim();r!==t&&(((e,t,n)=>{((e,t,n)=>{if(!(a(n)||c(n)||p(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(e.dom,t,n)})(n,We,r),G(n,e.parseStyle(t)))},r=((e,t,n)=>((e,t,n)=>k(((e,t)=>{const n=m(t)?t:f;let o=e.dom;const r=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){const e=o.parentNode,t=I(e);if(r.push(t),!0===n(t))break;o=e}return r})(e,n),t))(e,(e=>z(e,t)),n))(t,"*"),s=(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!l(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);v.apply(t,e[n])}return t})(x(r,(e=>((e,t)=>(e=>{return k((e=>w.from(e.dom.parentNode).map(I))(n=e).map(W).map((e=>k(e,(e=>{return t=e,!(n.dom===t.dom);var t})))).getOr([]),(e=>z(e,t)));var n})(e))(e,"*:not(.tox-silver-sink)")))),i=(e=>{const t=J(e,"background-color");return void 0!==t&&""!==t?"background-color:"+t+"!important":"background-color:rgb(255,255,255)!important;"})(n);S(s,o("display:none!important;")),S(r,o(Ue+He+i)),o((!0===Ve?"":Ue)+He+i)(t)},Ke=$e.DOM,Ge=Pe().fold((()=>({bind:g,unbind:g})),(e=>{const t=(()=>{const e=T(g);return{...e,on:t=>e.get().each(t)}})(),n=A(),o=A(),r=(e=>{let t=null;return{cancel:()=>{i(t)||(clearTimeout(t),t=null)},throttle:(...n)=>{i(t)&&(t=setTimeout((()=>{t=null,e.apply(null,n)}),50))}}})((()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0,window.requestAnimationFrame((()=>{t.on((t=>G(t,{top:e.offsetTop+"px",left:e.offsetLeft+"px",height:e.height+"px",width:e.width+"px"})))}))}));return{bind:e=>{t.set(e),r.throttle(),n.set(je("resize",r.throttle)),o.set(je("scroll",r.throttle))},unbind:()=>{t.on((()=>{n.clear(),o.clear()})),t.clear()}}})),Je=(e,t)=>{const n=document.body,o=document.documentElement,r=e.getContainer(),a=I(r),s=(l=a,w.from(l.dom.nextSibling).map(I)).filter((e=>(e=>R(e)&&F(e.dom))(e)&&(e=>(e=>void 0!==e.dom.classList)(e)&&e.dom.classList.contains("tox-silver-sink"))(e)));var l;const i=(e=>{const t=I(e.getElement());return U(t).map(H).getOrThunk((()=>(e=>{const t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return I(t)})(q(t))))})(e),c=t.get(),u=I(e.getBody()),d=Le.deviceType.isTouch(),m=r.style,p=e.iframeElement,g=null==p?void 0:p.style,h=e=>{e(n,"tox-fullscreen"),e(o,"tox-fullscreen"),e(r,"tox-fullscreen"),U(a).map((e=>H(e).dom)).each((t=>{e(t,"tox-fullscreen"),e(t,"tox-shadowhost")}))},b=()=>{d&&(e=>{const t=(e=>{const t=document;return 1!==(n=t).nodeType&&9!==n.nodeType&&11!==n.nodeType||0===n.childElementCount?[]:x(t.querySelectorAll(e),I);var n})("["+We+"]");S(t,(t=>{const n=B(t,We);n&&"no-styles"!==n?G(t,e.parseStyle(n)):j(t,"style"),j(t,We)}))})(e.dom),h(Ke.removeClass),Ge.unbind(),w.from(t.get()).each((e=>e.fullscreenChangeHandler.unbind()))};if(c)c.fullscreenChangeHandler.unbind(),ze(e)&&qe(i)&&(e=>{const t=e.dom;t.exitFullscreen?t.exitFullscreen():t.msExitFullscreen?t.msExitFullscreen():t.webkitCancelFullScreen&&t.webkitCancelFullScreen()})(q(i)),g.width=c.iframeWidth,g.height=c.iframeHeight,m.width=c.containerWidth,m.height=c.containerHeight,m.top=c.containerTop,m.left=c.containerLeft,y=s,v=c.sinkCssPosition,k=(e,t)=>{K(e,"position",t)},y.isSome()&&v.isSome()?w.some(k(y.getOrDie(),v.getOrDie())):w.none(),b(),f=c.scrollPos,window.scrollTo(f.x,f.y),t.set(null),Ie(e,!1),e.off("remove",b);else{const n=te(q(i),void 0!==document.fullscreenElement?"fullscreenchange":void 0!==document.msFullscreenElement?"MSFullscreenChange":void 0!==document.webkitFullscreenElement?"webkitfullscreenchange":"fullscreenchange",(n=>{ze(e)&&(qe(i)||null===t.get()||Je(e,t))})),o={scrollPos:Be(window),containerWidth:m.width,containerHeight:m.height,containerTop:m.top,containerLeft:m.left,iframeWidth:g.width,iframeHeight:g.height,fullscreenChangeHandler:n,sinkCssPosition:s.map((e=>J(e,"position")))};d&&Ze(e.dom,a,u),g.width=g.height="100%",m.width=m.height="",h(Ke.addClass),s.each((e=>{K(e,"position","fixed")})),Ge.bind(a),e.on("remove",b),t.set(o),ze(e)&&(e=>{const t=e.dom;t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen()})(i),Ie(e,!0)}var f,y,v,k};var Qe=tinymce.util.Tools.resolve("tinymce.util.VK");const Ye=(e,t)=>n=>{n.setActive(null!==t.get());const o=e=>n.setActive(e.state);return e.on("FullscreenStateChanged",o),()=>e.off("FullscreenStateChanged",o)};t.add("fullscreen",(t=>{const n=e(null);return t.inline||((e=>{(0,e.options.register)("fullscreen_native",{processor:"boolean",default:!1})})(t),((e,t)=>{e.addCommand("mceFullScreen",(()=>{Je(e,t)}))})(t,n),((e,t)=>{const n=()=>e.execCommand("mceFullScreen");e.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:n,onSetup:Ye(e,t),context:"any"}),e.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:n,onSetup:Ye(e,t),shortcut:"Meta+Shift+F",context:"any"})})(t,n),((e,t)=>{e.on("init",(()=>{e.on("keydown",(e=>{e.keyCode!==Qe.TAB||e.metaKey||e.ctrlKey||!t.get()||e.preventDefault()}))}))})(t,n),t.addShortcut("Meta+Shift+F","","mceFullScreen")),(e=>({isFullscreen:()=>null!==e.get()}))(n)}))}()},7828:function(e,t,n){n(83393)},13550:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>!(e=>null==e)(e),n=()=>{};class o{constructor(e,t){this.tag=e,this.value=t}static some(e){return new o(!0,e)}static none(){return o.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?o.some(e(this.value)):o.none()}bind(e){return this.tag?e(this.value):o.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:o.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return t(e)?o.some(e):o.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}o.singletonNone=new o(!1);const r=e=>((e,t)=>t>=0&&t<e.length?o.some(e[t]):o.none())(e,0);var a=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");const s="undefined"!=typeof window?window:Function("return this;")(),l=function(e,t){const n=window.Prism;window.Prism={manual:!0};var o=function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,o={},r={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof a?new a(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var o,a;switch(n=n||{},r.util.type(t)){case"Object":if(a=r.util.objId(t),n[a])return n[a];for(var s in o={},n[a]=o,t)t.hasOwnProperty(s)&&(o[s]=e(t[s],n));return o;case"Array":return a=r.util.objId(t),n[a]?n[a]:(o=[],n[a]=o,t.forEach((function(t,r){o[r]=e(t,n)})),o);default:return t}},getLanguage:function(e){for(;e;){var n=t.exec(e.className);if(n)return n[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,n){e.className=e.className.replace(RegExp(t,"gi"),""),e.classList.add("language-"+n)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(o){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(o.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var o="no-"+t;e;){var r=e.classList;if(r.contains(t))return!0;if(r.contains(o))return!1;e=e.parentElement}return!!n}},languages:{plain:o,plaintext:o,text:o,txt:o,extend:function(e,t){var n=r.util.clone(r.languages[e]);for(var o in t)n[o]=t[o];return n},insertBefore:function(e,t,n,o){var a=(o=o||r.languages)[e],s={};for(var l in a)if(a.hasOwnProperty(l)){if(l==t)for(var i in n)n.hasOwnProperty(i)&&(s[i]=n[i]);n.hasOwnProperty(l)||(s[l]=a[l])}var c=o[e];return o[e]=s,r.languages.DFS(r.languages,(function(t,n){n===c&&t!=e&&(this[t]=s)})),s},DFS:function e(t,n,o,a){a=a||{};var s=r.util.objId;for(var l in t)if(t.hasOwnProperty(l)){n.call(t,l,t[l],o||l);var i=t[l],c=r.util.type(i);"Object"!==c||a[s(i)]?"Array"!==c||a[s(i)]||(a[s(i)]=!0,e(i,n,l,a)):(a[s(i)]=!0,e(i,n,null,a))}}},plugins:{},highlightAll:function(e,t){r.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var o={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",o),o.elements=Array.prototype.slice.apply(o.container.querySelectorAll(o.selector)),r.hooks.run("before-all-elements-highlight",o);for(var a,s=0;a=o.elements[s++];)r.highlightElement(a,!0===t,o.callback)},highlightElement:function(t,n,o){var a=r.util.getLanguage(t),s=r.languages[a];r.util.setLanguage(t,a);var l=t.parentElement;l&&"pre"===l.nodeName.toLowerCase()&&r.util.setLanguage(l,a);var i={element:t,language:a,grammar:s,code:t.textContent};function c(e){i.highlightedCode=e,r.hooks.run("before-insert",i),i.element.innerHTML=i.highlightedCode,r.hooks.run("after-highlight",i),r.hooks.run("complete",i),o&&o.call(i.element)}if(r.hooks.run("before-sanity-check",i),(l=i.element.parentElement)&&"pre"===l.nodeName.toLowerCase()&&!l.hasAttribute("tabindex")&&l.setAttribute("tabindex","0"),!i.code)return r.hooks.run("complete",i),void(o&&o.call(i.element));if(r.hooks.run("before-highlight",i),i.grammar)if(n&&e.Worker){var u=new Worker(r.filename);u.onmessage=function(e){c(e.data)},u.postMessage(JSON.stringify({language:i.language,code:i.code,immediateClose:!0}))}else c(r.highlight(i.code,i.grammar,i.language));else c(r.util.encode(i.code))},highlight:function(e,t,n){var o={code:e,grammar:t,language:n};if(r.hooks.run("before-tokenize",o),!o.grammar)throw new Error('The language "'+o.language+'" has no grammar.');return o.tokens=r.tokenize(o.code,o.grammar),r.hooks.run("after-tokenize",o),a.stringify(r.util.encode(o.tokens),o.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var o in n)t[o]=n[o];delete t.rest}var r=new i;return c(r,r.head,e),l(e,r,t,r.head,0),function(e){var t=[],n=e.head.next;for(;n!==e.tail;)t.push(n.value),n=n.next;return t}(r)},hooks:{all:{},add:function(e,t){var n=r.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=r.hooks.all[e];if(n&&n.length)for(var o,a=0;o=n[a++];)o(t)}},Token:a};function a(e,t,n,o){this.type=e,this.content=t,this.alias=n,this.length=0|(o||"").length}function s(e,t,n,o){e.lastIndex=t;var r=e.exec(n);if(r&&o&&r[1]){var a=r[1].length;r.index+=a,r[0]=r[0].slice(a)}return r}function l(e,t,n,o,i,d){for(var m in n)if(n.hasOwnProperty(m)&&n[m]){var p=n[m];p=Array.isArray(p)?p:[p];for(var g=0;g<p.length;++g){if(d&&d.cause==m+","+g)return;var h=p[g],b=h.inside,f=!!h.lookbehind,y=!!h.greedy,w=h.alias;if(y&&!h.pattern.global){var v=h.pattern.toString().match(/[imsuy]*$/)[0];h.pattern=RegExp(h.pattern.source,v+"g")}for(var x=h.pattern||h,S=o.next,k=i;S!==t.tail&&!(d&&k>=d.reach);k+=S.value.length,S=S.next){var C=S.value;if(t.length>e.length)return;if(!(C instanceof a)){var T,A=1;if(y){if(!(T=s(x,k,e,f))||T.index>=e.length)break;var _=T.index,E=T.index+T[0].length,N=k;for(N+=S.value.length;_>=N;)N+=(S=S.next).value.length;if(k=N-=S.value.length,S.value instanceof a)continue;for(var O=S;O!==t.tail&&(N<E||"string"==typeof O.value);O=O.next)A++,N+=O.value.length;A--,C=e.slice(k,N),T.index-=k}else if(!(T=s(x,0,C,f)))continue;_=T.index;var F=T[0],D=C.slice(0,_),R=C.slice(_+F.length),P=k+C.length;d&&P>d.reach&&(d.reach=P);var M=S.prev;if(D&&(M=c(t,M,D),k+=D.length),u(t,M,A),S=c(t,M,new a(m,b?r.tokenize(F,b):F,w,F)),R&&c(t,S,R),A>1){var B={cause:m+","+g,reach:P};l(e,t,n,S.prev,k,B),d&&B.reach>d.reach&&(d.reach=B.reach)}}}}}}function i(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function c(e,t,n){var o=t.next,r={value:n,prev:t,next:o};return t.next=r,o.prev=r,e.length++,r}function u(e,t,n){for(var o=t.next,r=0;r<n&&o!==e.tail;r++)o=o.next;t.next=o,o.prev=t,e.length-=r}if(e.Prism=r,a.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var o="";return t.forEach((function(t){o+=e(t,n)})),o}var a={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},s=t.alias;s&&(Array.isArray(s)?Array.prototype.push.apply(a.classes,s):a.classes.push(s)),r.hooks.run("wrap",a);var l="";for(var i in a.attributes)l+=" "+i+'="'+(a.attributes[i]||"").replace(/"/g,"&quot;")+'"';return"<"+a.tag+' class="'+a.classes.join(" ")+'"'+l+">"+a.content+"</"+a.tag+">"},!e.document)return e.addEventListener?(r.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),o=n.language,a=n.code,s=n.immediateClose;e.postMessage(r.highlight(a,r.languages[o],o)),s&&e.close()}),!1),r):r;var d=r.util.currentScript();function m(){r.manual||r.highlightAll()}if(d&&(r.filename=d.src,d.hasAttribute("data-manual")&&(r.manual=!0)),!r.manual){var p=document.readyState;"loading"===p||"interactive"===p&&d&&d.defer?document.addEventListener("DOMContentLoaded",m):window.requestAnimationFrame?window.requestAnimationFrame(m):window.setTimeout(m,16)}return r}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});return void 0!==t&&t.exports&&(t.exports=o),void 0!==e&&(e.Prism=o),o.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(e){function t(e,t){return"___"+e.toUpperCase()+t+"___"}Object.defineProperties(e.languages["markup-templating"]={},{buildPlaceholders:{value:function(n,o,r,a){if(n.language===o){var s=n.tokenStack=[];n.code=n.code.replace(r,(function(e){if("function"==typeof a&&!a(e))return e;for(var r,l=s.length;-1!==n.code.indexOf(r=t(o,l));)++l;return s[l]=e,r})),n.grammar=e.languages.markup}}},tokenizePlaceholders:{value:function(n,o){if(n.language===o&&n.tokenStack){n.grammar=e.languages[o];var r=0,a=Object.keys(n.tokenStack);!function s(l){for(var i=0;i<l.length&&!(r>=a.length);i++){var c=l[i];if("string"==typeof c||c.content&&"string"==typeof c.content){var u=a[r],d=n.tokenStack[u],m="string"==typeof c?c:c.content,p=t(o,u),g=m.indexOf(p);if(g>-1){++r;var h=m.substring(0,g),b=new e.Token(o,e.tokenize(d,n.grammar),"language-"+o,d),f=m.substring(g+p.length),y=[];h&&y.push.apply(y,s([h])),y.push(b),f&&y.push.apply(y,s([f])),"string"==typeof c?l.splice.apply(l,[i,1].concat(y)):c.content=y}}else c.content&&s(c.content)}return l}(n.tokens)}}}})}(o),o.languages.c=o.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),o.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),o.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},o.languages.c.string],char:o.languages.c.char,comment:o.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:o.languages.c}}}}),o.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete o.languages.c.boolean,function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,(function(){return t.source}));e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,(function(){return n}))+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(o),function(e){function t(e,t){return e.replace(/<<(\d+)>>/g,(function(e,n){return"(?:"+t[+n]+")"}))}function n(e,n,o){return RegExp(t(e,n),o||"")}function o(e,t){for(var n=0;n<t;n++)e=e.replace(/<<self>>/g,(function(){return"(?:"+e+")"}));return e.replace(/<<self>>/g,"[^\\s\\S]")}var r="bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",a="class enum interface record struct",s="add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",l="abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield";function i(e){return"\\b(?:"+e.trim().replace(/ /g,"|")+")\\b"}var c=i(a),u=RegExp(i(r+" "+a+" "+s+" "+l)),d=i(a+" "+s+" "+l),m=i(r+" "+a+" "+l),p=o(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),g=o(/\((?:[^()]|<<self>>)*\)/.source,2),h=/@?\b[A-Za-z_]\w*\b/.source,b=t(/<<0>>(?:\s*<<1>>)?/.source,[h,p]),f=t(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[d,b]),y=/\[\s*(?:,\s*)*\]/.source,w=t(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[f,y]),v=t(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[p,g,y]),x=t(/\(<<0>>+(?:,<<0>>+)+\)/.source,[v]),S=t(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[x,f,y]),k={keyword:u,punctuation:/[<>()?,.:[\]]/},C=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,T=/"(?:\\.|[^\\"\r\n])*"/.source,A=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;e.languages.csharp=e.languages.extend("clike",{string:[{pattern:n(/(^|[^$\\])<<0>>/.source,[A]),lookbehind:!0,greedy:!0},{pattern:n(/(^|[^@$\\])<<0>>/.source,[T]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:n(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[f]),lookbehind:!0,inside:k},{pattern:n(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[h,S]),lookbehind:!0,inside:k},{pattern:n(/(\busing\s+)<<0>>(?=\s*=)/.source,[h]),lookbehind:!0},{pattern:n(/(\b<<0>>\s+)<<1>>/.source,[c,b]),lookbehind:!0,inside:k},{pattern:n(/(\bcatch\s*\(\s*)<<0>>/.source,[f]),lookbehind:!0,inside:k},{pattern:n(/(\bwhere\s+)<<0>>/.source,[h]),lookbehind:!0},{pattern:n(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[w]),lookbehind:!0,inside:k},{pattern:n(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[S,m,h]),inside:k}],keyword:u,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),e.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),e.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:n(/([(,]\s*)<<0>>(?=\s*:)/.source,[h]),lookbehind:!0,alias:"punctuation"}}),e.languages.insertBefore("csharp","class-name",{namespace:{pattern:n(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[h]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:n(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[g]),lookbehind:!0,alias:"class-name",inside:k},"return-type":{pattern:n(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[S,f]),inside:k,alias:"class-name"},"constructor-invocation":{pattern:n(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[S]),lookbehind:!0,inside:k,alias:"class-name"},"generic-method":{pattern:n(/<<0>>\s*<<1>>(?=\s*\()/.source,[h,p]),inside:{function:n(/^<<0>>/.source,[h]),generic:{pattern:RegExp(p),alias:"class-name",inside:k}}},"type-list":{pattern:n(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[c,b,h,S,u.source,g,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:n(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[b,g]),lookbehind:!0,greedy:!0,inside:e.languages.csharp},keyword:u,"class-name":{pattern:RegExp(S),greedy:!0,inside:k},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var _=T+"|"+C,E=t(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[_]),N=o(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[E]),2),O=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,F=t(/<<0>>(?:\s*\(<<1>>*\))?/.source,[f,N]);e.languages.insertBefore("csharp","class-name",{attribute:{pattern:n(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[O,F]),lookbehind:!0,greedy:!0,inside:{target:{pattern:n(/^<<0>>(?=\s*:)/.source,[O]),alias:"keyword"},"attribute-arguments":{pattern:n(/\(<<0>>*\)/.source,[N]),inside:e.languages.csharp},"class-name":{pattern:RegExp(f),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var D=/:[^}\r\n]+/.source,R=o(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[E]),2),P=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[R,D]),M=o(t(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[_]),2),B=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[M,D]);function j(t,o){return{interpolation:{pattern:n(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[t]),lookbehind:!0,inside:{"format-string":{pattern:n(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[o,D]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:e.languages.csharp}}},string:/[\s\S]+/}}e.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:n(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[P]),lookbehind:!0,greedy:!0,inside:j(P,R)},{pattern:n(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[B]),lookbehind:!0,greedy:!0,inside:j(B,M)}],char:{pattern:RegExp(C),greedy:!0}}),e.languages.dotnet=e.languages.cs=e.languages.csharp}(o),function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(o),function(e){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,o={pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};e.languages.java=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[o,{pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:o.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+n+/[A-Z]\w*\b/.source),lookbehind:!0,inside:o.inside}],keyword:t,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":o,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+n+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:o.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+n+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:o.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0,inside:{punctuation:/\./}}})}(o),o.languages.javascript=o.languages.extend("clike",{"class-name":[o.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),o.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,o.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:o.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:o.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:o.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:o.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:o.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),o.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:o.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),o.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),o.languages.markup&&(o.languages.markup.tag.addInlined("script","javascript"),o.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),o.languages.js=o.languages.javascript,o.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},o.languages.markup.tag.inside["attr-value"].inside.entity=o.languages.markup.entity,o.languages.markup.doctype.inside["internal-subset"].inside=o.languages.markup,o.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(o.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:o.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};r["language-"+t]={pattern:/[\s\S]+/,inside:o.languages[t]};var a={};a[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:r},o.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(o.languages.markup.tag,"addAttribute",{value:function(e,t){o.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:o.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),o.languages.html=o.languages.markup,o.languages.mathml=o.languages.markup,o.languages.svg=o.languages.markup,o.languages.xml=o.languages.extend("markup",{}),o.languages.ssml=o.languages.xml,o.languages.atom=o.languages.xml,o.languages.rss=o.languages.xml,function(e){var t=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,n=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],o=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,r=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,a=/[{}\[\](),:;]/;e.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:t,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:o,operator:r,punctuation:a};var s={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:e.languages.php},l=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:s}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:s}}];e.languages.insertBefore("php","variable",{string:l,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:t,string:l,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,number:o,operator:r,punctuation:a}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),e.hooks.add("before-tokenize",(function(t){if(/<\?/.test(t.code)){e.languages["markup-templating"].buildPlaceholders(t,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g)}})),e.hooks.add("after-tokenize",(function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"php")}))}(o),o.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},o.languages.python["string-interpolation"].inside.interpolation.inside.rest=o.languages.python,o.languages.py=o.languages.python,function(e){e.languages.ruby=e.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),e.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var t={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:e.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete e.languages.ruby.function;var n="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",o=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;e.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+n+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+o),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+o+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),e.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+n),greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+n),greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete e.languages.ruby.string,e.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),e.languages.rb=e.languages.ruby}(o),window.Prism=n,o}(void 0,void 0),i=e=>t=>t.options.get(e),c=i("codesample_languages"),u=i("codesample_global_prismjs"),d=e=>s.Prism&&u(e)?s.Prism:l,m=e=>t(e)&&"PRE"===e.nodeName&&-1!==e.className.indexOf("language-"),p=e=>{const t=e.selection?e.selection.getNode():null;return m(t)?o.some(t):o.none()},g=e=>{const t=(e=>{const t=c(e);return t||[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}]})(e),n=r(t).fold((s="",()=>s),(e=>e.value));var s;const l=((e,t)=>p(e).fold((()=>t),(e=>{const n=e.className.match(/language-(\w+)/);return n?n[1]:t})))(e,n),i=(e=>p(e).bind((e=>o.from(e.textContent))).getOr(""))(e);e.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"listbox",name:"language",label:"Language",items:t},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:l,code:i},onSubmit:t=>{const n=t.getData();((e,t,n)=>{const o=e.dom;e.undoManager.transact((()=>{const r=p(e);return n=a.DOM.encode(n),r.fold((()=>{e.insertContent('<pre id="__new" class="language-'+t+'">'+n+"</pre>");const r=o.select("#__new")[0];o.setAttrib(r,"id",null),e.selection.select(r)}),(r=>{o.setAttrib(r,"class","language-"+t),r.innerHTML=n,d(e).highlightElement(r),e.selection.select(r)}))}))})(e,n.language,n.code),t.close()}})},h=(b=/^\s+|\s+$/g,e=>e.replace(b,""));var b,f=tinymce.util.Tools.resolve("tinymce.util.Tools");const y=(e,t=n)=>n=>{const o=()=>{n.setEnabled(e.selection.isEditable()),t(n)};return e.on("NodeChange",o),o(),()=>{e.off("NodeChange",o)}};e.add("codesample",(e=>{(e=>{const t=e.options.register;t("codesample_languages",{processor:"object[]"}),t("codesample_global_prismjs",{processor:"boolean",default:!1})})(e),(e=>{e.on("PreProcess",(t=>{const n=e.dom,o=n.select("pre[contenteditable=false]",t.node);f.each(f.grep(o,m),(e=>{const t=e.textContent;let o;for(n.setAttrib(e,"class",h(n.getAttrib(e,"class"))),n.setAttrib(e,"contentEditable",null),n.setAttrib(e,"data-mce-highlighted",null);o=e.firstChild;)e.removeChild(o);n.add(e,"code").textContent=t}))})),e.on("SetContent",(()=>{const t=e.dom,n=f.grep(t.select("pre"),(e=>m(e)&&"true"!==t.getAttrib(e,"data-mce-highlighted")));n.length&&e.undoManager.transact((()=>{f.each(n,(n=>{var o;f.each(t.select("br",n),(n=>{t.replace(e.getDoc().createTextNode("\n"),n)})),n.innerHTML=t.encode(null!==(o=n.textContent)&&void 0!==o?o:""),d(e).highlightElement(n),t.setAttrib(n,"data-mce-highlighted",!0),n.className=h(n.className)}))}))})),e.on("PreInit",(()=>{e.parser.addNodeFilter("pre",(e=>{var t;for(let n=0,o=e.length;n<o;n++){const o=e[n];-1!==(null!==(t=o.attr("class"))&&void 0!==t?t:"").indexOf("language-")&&(o.attr("contenteditable","false"),o.attr("data-mce-highlighted","false"))}}))}))})(e),(e=>{const t=()=>e.execCommand("codesample");e.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:t,onSetup:y(e,(t=>{t.setActive((e=>{const t=e.selection.getStart();return e.dom.is(t,'pre[class*="language-"]')})(e))}))}),e.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:t,onSetup:y(e)})})(e),(e=>{e.addCommand("codesample",(()=>{const t=e.selection.getNode();e.selection.isCollapsed()||m(t)?g(e):e.formatter.toggle("code")}))})(e),e.on("dblclick",(t=>{m(t.target)&&g(e)}))}))}()},17536:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>!(e=>null==e)(e),n=()=>{};class o{constructor(e,t){this.tag=e,this.value=t}static some(e){return new o(!0,e)}static none(){return o.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?o.some(e(this.value)):o.none()}bind(e){return this.tag?e(this.value):o.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:o.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return t(e)?o.some(e):o.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}o.singletonNone=new o(!1);var r=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils");const a="undefined"!=typeof window?window:Function("return this;")(),s=function(){const e=window.Prism;window.Prism={manual:!0};var t=function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,o={},r={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof a?new a(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var o,a;switch(n=n||{},r.util.type(t)){case"Object":if(a=r.util.objId(t),n[a])return n[a];for(var s in o={},n[a]=o,t)t.hasOwnProperty(s)&&(o[s]=e(t[s],n));return o;case"Array":return a=r.util.objId(t),n[a]?n[a]:(o=[],n[a]=o,t.forEach((function(t,r){o[r]=e(t,n)})),o);default:return t}},getLanguage:function(e){for(;e;){var n=t.exec(e.className);if(n)return n[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,n){e.className=e.className.replace(RegExp(t,"gi"),""),e.classList.add("language-"+n)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(o){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(o.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var o="no-"+t;e;){var r=e.classList;if(r.contains(t))return!0;if(r.contains(o))return!1;e=e.parentElement}return!!n}},languages:{plain:o,plaintext:o,text:o,txt:o,extend:function(e,t){var n=r.util.clone(r.languages[e]);for(var o in t)n[o]=t[o];return n},insertBefore:function(e,t,n,o){var a=(o=o||r.languages)[e],s={};for(var l in a)if(a.hasOwnProperty(l)){if(l==t)for(var i in n)n.hasOwnProperty(i)&&(s[i]=n[i]);n.hasOwnProperty(l)||(s[l]=a[l])}var c=o[e];return o[e]=s,r.languages.DFS(r.languages,(function(t,n){n===c&&t!=e&&(this[t]=s)})),s},DFS:function e(t,n,o,a){a=a||{};var s=r.util.objId;for(var l in t)if(t.hasOwnProperty(l)){n.call(t,l,t[l],o||l);var i=t[l],c=r.util.type(i);"Object"!==c||a[s(i)]?"Array"!==c||a[s(i)]||(a[s(i)]=!0,e(i,n,l,a)):(a[s(i)]=!0,e(i,n,null,a))}}},plugins:{},highlightAll:function(e,t){r.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var o={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};r.hooks.run("before-highlightall",o),o.elements=Array.prototype.slice.apply(o.container.querySelectorAll(o.selector)),r.hooks.run("before-all-elements-highlight",o);for(var a,s=0;a=o.elements[s++];)r.highlightElement(a,!0===t,o.callback)},highlightElement:function(t,n,o){var a=r.util.getLanguage(t),s=r.languages[a];r.util.setLanguage(t,a);var l=t.parentElement;l&&"pre"===l.nodeName.toLowerCase()&&r.util.setLanguage(l,a);var i={element:t,language:a,grammar:s,code:t.textContent};function c(e){i.highlightedCode=e,r.hooks.run("before-insert",i),i.element.innerHTML=i.highlightedCode,r.hooks.run("after-highlight",i),r.hooks.run("complete",i),o&&o.call(i.element)}if(r.hooks.run("before-sanity-check",i),(l=i.element.parentElement)&&"pre"===l.nodeName.toLowerCase()&&!l.hasAttribute("tabindex")&&l.setAttribute("tabindex","0"),!i.code)return r.hooks.run("complete",i),void(o&&o.call(i.element));if(r.hooks.run("before-highlight",i),i.grammar)if(n&&e.Worker){var u=new Worker(r.filename);u.onmessage=function(e){c(e.data)},u.postMessage(JSON.stringify({language:i.language,code:i.code,immediateClose:!0}))}else c(r.highlight(i.code,i.grammar,i.language));else c(r.util.encode(i.code))},highlight:function(e,t,n){var o={code:e,grammar:t,language:n};if(r.hooks.run("before-tokenize",o),!o.grammar)throw new Error('The language "'+o.language+'" has no grammar.');return o.tokens=r.tokenize(o.code,o.grammar),r.hooks.run("after-tokenize",o),a.stringify(r.util.encode(o.tokens),o.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var o in n)t[o]=n[o];delete t.rest}var r=new i;return c(r,r.head,e),l(e,r,t,r.head,0),function(e){for(var t=[],n=e.head.next;n!==e.tail;)t.push(n.value),n=n.next;return t}(r)},hooks:{all:{},add:function(e,t){var n=r.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=r.hooks.all[e];if(n&&n.length)for(var o,a=0;o=n[a++];)o(t)}},Token:a};function a(e,t,n,o){this.type=e,this.content=t,this.alias=n,this.length=0|(o||"").length}function s(e,t,n,o){e.lastIndex=t;var r=e.exec(n);if(r&&o&&r[1]){var a=r[1].length;r.index+=a,r[0]=r[0].slice(a)}return r}function l(e,t,n,o,i,d){for(var m in n)if(n.hasOwnProperty(m)&&n[m]){var p=n[m];p=Array.isArray(p)?p:[p];for(var g=0;g<p.length;++g){if(d&&d.cause==m+","+g)return;var h=p[g],b=h.inside,f=!!h.lookbehind,y=!!h.greedy,w=h.alias;if(y&&!h.pattern.global){var v=h.pattern.toString().match(/[imsuy]*$/)[0];h.pattern=RegExp(h.pattern.source,v+"g")}for(var x=h.pattern||h,S=o.next,k=i;S!==t.tail&&!(d&&k>=d.reach);k+=S.value.length,S=S.next){var C=S.value;if(t.length>e.length)return;if(!(C instanceof a)){var T,A=1;if(y){if(!(T=s(x,k,e,f))||T.index>=e.length)break;var _=T.index,E=T.index+T[0].length,N=k;for(N+=S.value.length;_>=N;)N+=(S=S.next).value.length;if(k=N-=S.value.length,S.value instanceof a)continue;for(var O=S;O!==t.tail&&(N<E||"string"==typeof O.value);O=O.next)A++,N+=O.value.length;A--,C=e.slice(k,N),T.index-=k}else if(!(T=s(x,0,C,f)))continue;_=T.index;var F=T[0],D=C.slice(0,_),R=C.slice(_+F.length),P=k+C.length;d&&P>d.reach&&(d.reach=P);var M=S.prev;if(D&&(M=c(t,M,D),k+=D.length),u(t,M,A),S=c(t,M,new a(m,b?r.tokenize(F,b):F,w,F)),R&&c(t,S,R),A>1){var B={cause:m+","+g,reach:P};l(e,t,n,S.prev,k,B),d&&B.reach>d.reach&&(d.reach=B.reach)}}}}}}function i(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function c(e,t,n){var o=t.next,r={value:n,prev:t,next:o};return t.next=r,o.prev=r,e.length++,r}function u(e,t,n){for(var o=t.next,r=0;r<n&&o!==e.tail;r++)o=o.next;t.next=o,o.prev=t,e.length-=r}if(e.Prism=r,a.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var o="";return t.forEach((function(t){o+=e(t,n)})),o}var a={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},s=t.alias;s&&(Array.isArray(s)?Array.prototype.push.apply(a.classes,s):a.classes.push(s)),r.hooks.run("wrap",a);var l="";for(var i in a.attributes)l+=" "+i+'="'+(a.attributes[i]||"").replace(/"/g,"&quot;")+'"';return"<"+a.tag+' class="'+a.classes.join(" ")+'"'+l+">"+a.content+"</"+a.tag+">"},!e.document)return e.addEventListener?(r.disableWorkerMessageHandler||e.addEventListener("message",(function(t){var n=JSON.parse(t.data),o=n.language,a=n.code,s=n.immediateClose;e.postMessage(r.highlight(a,r.languages[o],o)),s&&e.close()}),!1),r):r;var d=r.util.currentScript();function m(){r.manual||r.highlightAll()}if(d&&(r.filename=d.src,d.hasAttribute("data-manual")&&(r.manual=!0)),!r.manual){var p=document.readyState;"loading"===p||"interactive"===p&&d&&d.defer?document.addEventListener("DOMContentLoaded",m):window.requestAnimationFrame?window.requestAnimationFrame(m):window.setTimeout(m,16)}return r}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});return t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(e){function t(e,t){return"___"+e.toUpperCase()+t+"___"}Object.defineProperties(e.languages["markup-templating"]={},{buildPlaceholders:{value:function(n,o,r,a){if(n.language===o){var s=n.tokenStack=[];n.code=n.code.replace(r,(function(e){if("function"==typeof a&&!a(e))return e;for(var r,l=s.length;-1!==n.code.indexOf(r=t(o,l));)++l;return s[l]=e,r})),n.grammar=e.languages.markup}}},tokenizePlaceholders:{value:function(n,o){if(n.language===o&&n.tokenStack){n.grammar=e.languages[o];var r=0,a=Object.keys(n.tokenStack);!function s(l){for(var i=0;i<l.length&&!(r>=a.length);i++){var c=l[i];if("string"==typeof c||c.content&&"string"==typeof c.content){var u=a[r],d=n.tokenStack[u],m="string"==typeof c?c:c.content,p=t(o,u),g=m.indexOf(p);if(g>-1){++r;var h=m.substring(0,g),b=new e.Token(o,e.tokenize(d,n.grammar),"language-"+o,d),f=m.substring(g+p.length),y=[];h&&y.push.apply(y,s([h])),y.push(b),f&&y.push.apply(y,s([f])),"string"==typeof c?l.splice.apply(l,[i,1].concat(y)):c.content=y}}else c.content&&s(c.content)}return l}(n.tokens)}}}})}(t),t.languages.c=t.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),t.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),t.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},t.languages.c.string],char:t.languages.c.char,comment:t.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:t.languages.c}}}}),t.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete t.languages.c.boolean,function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,(function(){return t.source}));e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,(function(){return n}))+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(t),function(e){function t(e,t){return e.replace(/<<(\d+)>>/g,(function(e,n){return"(?:"+t[+n]+")"}))}function n(e,n,o){return RegExp(t(e,n),o||"")}function o(e,t){for(var n=0;n<t;n++)e=e.replace(/<<self>>/g,(function(){return"(?:"+e+")"}));return e.replace(/<<self>>/g,"[^\\s\\S]")}var r="bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",a="class enum interface record struct",s="add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",l="abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield";function i(e){return"\\b(?:"+e.trim().replace(/ /g,"|")+")\\b"}var c=i(a),u=RegExp(i(r+" "+a+" "+s+" "+l)),d=i(a+" "+s+" "+l),m=i(r+" "+a+" "+l),p=o(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),g=o(/\((?:[^()]|<<self>>)*\)/.source,2),h=/@?\b[A-Za-z_]\w*\b/.source,b=t(/<<0>>(?:\s*<<1>>)?/.source,[h,p]),f=t(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[d,b]),y=/\[\s*(?:,\s*)*\]/.source,w=t(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[f,y]),v=t(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[p,g,y]),x=t(/\(<<0>>+(?:,<<0>>+)+\)/.source,[v]),S=t(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[x,f,y]),k={keyword:u,punctuation:/[<>()?,.:[\]]/},C=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,T=/"(?:\\.|[^\\"\r\n])*"/.source,A=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;e.languages.csharp=e.languages.extend("clike",{string:[{pattern:n(/(^|[^$\\])<<0>>/.source,[A]),lookbehind:!0,greedy:!0},{pattern:n(/(^|[^@$\\])<<0>>/.source,[T]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:n(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[f]),lookbehind:!0,inside:k},{pattern:n(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[h,S]),lookbehind:!0,inside:k},{pattern:n(/(\busing\s+)<<0>>(?=\s*=)/.source,[h]),lookbehind:!0},{pattern:n(/(\b<<0>>\s+)<<1>>/.source,[c,b]),lookbehind:!0,inside:k},{pattern:n(/(\bcatch\s*\(\s*)<<0>>/.source,[f]),lookbehind:!0,inside:k},{pattern:n(/(\bwhere\s+)<<0>>/.source,[h]),lookbehind:!0},{pattern:n(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[w]),lookbehind:!0,inside:k},{pattern:n(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[S,m,h]),inside:k}],keyword:u,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),e.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),e.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:n(/([(,]\s*)<<0>>(?=\s*:)/.source,[h]),lookbehind:!0,alias:"punctuation"}}),e.languages.insertBefore("csharp","class-name",{namespace:{pattern:n(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[h]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:n(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[g]),lookbehind:!0,alias:"class-name",inside:k},"return-type":{pattern:n(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[S,f]),inside:k,alias:"class-name"},"constructor-invocation":{pattern:n(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[S]),lookbehind:!0,inside:k,alias:"class-name"},"generic-method":{pattern:n(/<<0>>\s*<<1>>(?=\s*\()/.source,[h,p]),inside:{function:n(/^<<0>>/.source,[h]),generic:{pattern:RegExp(p),alias:"class-name",inside:k}}},"type-list":{pattern:n(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[c,b,h,S,u.source,g,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:n(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[b,g]),lookbehind:!0,greedy:!0,inside:e.languages.csharp},keyword:u,"class-name":{pattern:RegExp(S),greedy:!0,inside:k},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var _=T+"|"+C,E=t(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[_]),N=o(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[E]),2),O=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,F=t(/<<0>>(?:\s*\(<<1>>*\))?/.source,[f,N]);e.languages.insertBefore("csharp","class-name",{attribute:{pattern:n(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[O,F]),lookbehind:!0,greedy:!0,inside:{target:{pattern:n(/^<<0>>(?=\s*:)/.source,[O]),alias:"keyword"},"attribute-arguments":{pattern:n(/\(<<0>>*\)/.source,[N]),inside:e.languages.csharp},"class-name":{pattern:RegExp(f),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var D=/:[^}\r\n]+/.source,R=o(t(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[E]),2),P=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[R,D]),M=o(t(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[_]),2),B=t(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[M,D]);function j(t,o){return{interpolation:{pattern:n(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[t]),lookbehind:!0,inside:{"format-string":{pattern:n(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[o,D]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:e.languages.csharp}}},string:/[\s\S]+/}}e.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:n(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[P]),lookbehind:!0,greedy:!0,inside:j(P,R)},{pattern:n(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[B]),lookbehind:!0,greedy:!0,inside:j(B,M)}],char:{pattern:RegExp(C),greedy:!0}}),e.languages.dotnet=e.languages.cs=e.languages.csharp}(t),function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(t),function(e){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,o={pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};e.languages.java=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[o,{pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:o.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+n+/[A-Z]\w*\b/.source),lookbehind:!0,inside:o.inside}],keyword:t,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":o,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+n+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:o.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+n+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:o.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,(function(){return t.source}))),lookbehind:!0,inside:{punctuation:/\./}}})}(t),t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",(function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))})),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(e,n){var o={};o["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[n]},o.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:o}};r["language-"+n]={pattern:/[\s\S]+/,inside:t.languages[n]};var a={};a[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:r},t.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(e,n){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:t.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,function(e){var t=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,n=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],o=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,r=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,a=/[{}\[\](),:;]/;e.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:t,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:o,operator:r,punctuation:a};var s={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:e.languages.php},l=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:s}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:s}}];e.languages.insertBefore("php","variable",{string:l,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:t,string:l,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,number:o,operator:r,punctuation:a}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),e.hooks.add("before-tokenize",(function(t){/<\?/.test(t.code)&&e.languages["markup-templating"].buildPlaceholders(t,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g)})),e.hooks.add("after-tokenize",(function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"php")}))}(t),t.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},t.languages.python["string-interpolation"].inside.interpolation.inside.rest=t.languages.python,t.languages.py=t.languages.python,function(e){e.languages.ruby=e.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),e.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var t={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:e.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete e.languages.ruby.function;var n="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",o=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;e.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+n+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:t,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+o),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+o+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),e.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+n),greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:t,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+n),greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:t,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete e.languages.ruby.string,e.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),e.languages.rb=e.languages.ruby}(t),window.Prism=e,t}(),l=e=>t=>t.options.get(e),i=l("codesample_languages"),c=l("codesample_global_prismjs"),u=e=>a.Prism&&c(e)?a.Prism:s,d=e=>t(e)&&"PRE"===e.nodeName&&-1!==e.className.indexOf("language-"),m=e=>{const t=e.selection?e.selection.getNode():null;return d(t)?o.some(t):o.none()},p=e=>{const t=(e=>i(e)||[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}])(e),n=(a=t,(e=>0<e.length?o.some(e[0]):o.none())(a)).fold((()=>""),(e=>e.value));var a;const s=((e,t)=>m(e).fold((()=>t),(e=>{const n=e.className.match(/language-(\w+)/);return n?n[1]:t})))(e,n),l=(e=>m(e).bind((e=>o.from(e.textContent))).getOr(""))(e);e.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"listbox",name:"language",label:"Language",items:t},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:s,code:l},onSubmit:t=>{const n=t.getData();((e,t,n)=>{const o=e.dom;e.undoManager.transact((()=>{const a=m(e);return n=r.DOM.encode(n),a.fold((()=>{e.insertContent('<pre id="__new" class="language-'+t+'">'+n+"</pre>");const r=o.select("#__new")[0];o.setAttrib(r,"id",null),e.selection.select(r)}),(r=>{o.setAttrib(r,"class","language-"+t),r.innerHTML=n,u(e).highlightElement(r),e.selection.select(r)}))}))})(e,n.language,n.code),t.close()}})},g=(h=/^\s+|\s+$/g,e=>e.replace(h,""));var h,b=tinymce.util.Tools.resolve("tinymce.util.Tools");const f=(e,t=n)=>n=>{const o=()=>{n.setEnabled(e.selection.isEditable()),t(n)};return e.on("NodeChange",o),o(),()=>{e.off("NodeChange",o)}};e.add("codesample",(e=>{(e=>{const t=e.options.register;t("codesample_languages",{processor:"object[]"}),t("codesample_global_prismjs",{processor:"boolean",default:!1})})(e),(e=>{e.on("PreProcess",(t=>{const n=e.dom,o=n.select("pre[contenteditable=false]",t.node);b.each(b.grep(o,d),(e=>{const t=e.textContent;let o;for(n.setAttrib(e,"class",g(n.getAttrib(e,"class"))),n.setAttrib(e,"contentEditable",null),n.setAttrib(e,"data-mce-highlighted",null);o=e.firstChild;)e.removeChild(o);n.add(e,"code").textContent=t}))})),e.on("SetContent",(()=>{const t=e.dom,n=b.grep(t.select("pre"),(e=>d(e)&&"true"!==t.getAttrib(e,"data-mce-highlighted")));n.length&&e.undoManager.transact((()=>{b.each(n,(n=>{var o;b.each(t.select("br",n),(n=>{t.replace(e.getDoc().createTextNode("\n"),n)})),n.innerHTML=t.encode(null!==(o=n.textContent)&&void 0!==o?o:""),u(e).highlightElement(n),t.setAttrib(n,"data-mce-highlighted",!0),n.className=g(n.className)}))}))})),e.on("PreInit",(()=>{e.parser.addNodeFilter("pre",(e=>{var t;for(let n=0,o=e.length;n<o;n++){const o=e[n];-1!==(null!==(t=o.attr("class"))&&void 0!==t?t:"").indexOf("language-")&&(o.attr("contenteditable","false"),o.attr("data-mce-highlighted","false"))}}))}))})(e),(e=>{const t=()=>e.execCommand("codesample");e.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:t,onSetup:f(e,(t=>{t.setActive((e=>{const t=e.selection.getStart();return e.dom.is(t,'pre[class*="language-"]')})(e))}))}),e.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:t,onSetup:f(e)})})(e),(e=>{e.addCommand("codesample",(()=>{const t=e.selection.getNode();e.selection.isCollapsed()||d(t)?p(e):e.formatter.toggle("code")}))})(e),e.on("dblclick",(t=>{d(t.target)&&p(e)}))}))}()},18896:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>typeof t===e,n=t("boolean"),o=t("number"),r=e=>t=>t.options.get(e),a=r("nonbreaking_force_tab"),s=r("nonbreaking_wrap"),l=(e,t)=>{let n="";for(let o=0;o<t;o++)n+=e;return n},i=(e,t)=>{const n=s(e)||e.plugins.visualchars?`<span class="${(e=>!!e.plugins.visualchars&&e.plugins.visualchars.isEnabled())(e)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap"}" contenteditable="false">${l("&nbsp;",t)}</span>`:l("&nbsp;",t);e.undoManager.transact((()=>e.insertContent(n)))};var c=tinymce.util.Tools.resolve("tinymce.util.VK");const u=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("nonbreaking",(e=>{(e=>{const t=e.options.register;t("nonbreaking_force_tab",{processor:e=>n(e)?{value:e?3:0,valid:!0}:o(e)?{value:e,valid:!0}:{valid:!1,message:"Must be a boolean or number."},default:!1}),t("nonbreaking_wrap",{processor:"boolean",default:!0})})(e),(e=>{e.addCommand("mceNonBreaking",(()=>{i(e,1)}))})(e),(e=>{const t=()=>e.execCommand("mceNonBreaking");e.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:t,onSetup:u(e)}),e.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:t,onSetup:u(e)})})(e),(e=>{const t=a(e);t>0&&e.on("keydown",(n=>{if(n.keyCode===c.TAB&&!n.isDefaultPrevented()){if(n.shiftKey)return;n.preventDefault(),n.stopImmediatePropagation(),i(e,t)}}))})(e)}))}()},22612:function(){!function(){"use strict";const e=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=e=>({isFullscreen:()=>null!==e.get()}),o=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(a=String).prototype,o.isPrototypeOf(n)||(null===(s=r.constructor)||void 0===s?void 0:s.name)===a.name)?"string":t;var n,o;var r,a,s})(t)===e,r=e=>t=>typeof t===e,a=e=>t=>e===t,s=o("string"),l=o("object"),i=o("array"),c=a(null),u=r("boolean"),d=a(void 0),m=e=>!(e=>null==e)(e),p=r("function"),g=r("number"),h=()=>{},b=e=>()=>e;function f(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const y=b(!1),w=b(!0);class v{constructor(e,t){this.tag=e,this.value=t}static some(e){return new v(!0,e)}static none(){return v.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?v.some(e(this.value)):v.none()}bind(e){return this.tag?e(this.value):v.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:v.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return m(e)?v.some(e):v.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}v.singletonNone=new v(!1);const x=Array.prototype.push,S=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},k=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},C=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},T=(e,t)=>((e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return v.some(r);if(n(r,o))break}return v.none()})(e,t,y),A=(e,t)=>(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!i(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);x.apply(t,e[n])}return t})(S(e,t)),_=e=>((e,t)=>t>=0&&t<e.length?v.some(e[t]):v.none())(e,0),E=t=>{const n=e(v.none()),o=()=>n.get().each(t);return{clear:()=>{o(),n.set(v.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:e=>{o(),n.set(v.some(e))}}},N=()=>E((e=>e.unbind())),O=Object.keys,F="undefined"!=typeof window?window:Function("return this;")(),D=(e,t)=>((e,t)=>{let n=null!=t?t:F;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),R=(e,t)=>{const n=((e,t)=>D(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n},P=Object.getPrototypeOf,M=e=>{const t=D("ownerDocument.defaultView",e);return l(e)&&((e=>R("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(P(e).constructor.name))},B=e=>t=>(e=>e.dom.nodeType)(t)===e,j=B(1),$=B(3),L=B(11),I=(e,t,n)=>{((e,t,n)=>{if(!(s(n)||u(n)||g(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(e.dom,t,n)},z=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},q=(e,t)=>{e.dom.removeAttribute(t)},W=(e,t,n=0,o)=>{const r=e.indexOf(t,n);return-1!==r&&(!!d(o)||r+t.length<=o)},U=e=>void 0!==e.style&&p(e.style.getPropertyValue),H=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},V={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return H(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return H(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return H(n)},fromDom:H,fromPoint:(e,t,n)=>v.from(e.dom.elementFromPoint(t,n)).map(H)},Z=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},K=e=>V.fromDom(e.dom.ownerDocument),G=e=>(e=>v.from(e.dom.parentNode).map(V.fromDom))(e).map(J).map((t=>C(t,(t=>{return n=t,!(e.dom===n.dom);var n})))).getOr([]),J=e=>S(e.dom.childNodes,V.fromDom),Q=e=>{const t=(e=>V.fromDom(e.dom.getRootNode()))(e);return L(n=t)&&m(n.dom.host)?v.some(t):v.none();var n},Y=e=>V.fromDom(e.dom.host),X=e=>m(e.dom.shadowRoot),ee=e=>{const t=$(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return Q(V.fromDom(t)).fold((()=>n.body.contains(t)),(o=ee,r=Y,e=>o(r(e))));var o,r},te=(e,t,n)=>{if(!s(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);U(e)&&e.style.setProperty(t,n)},ne=(e,t,n)=>{const o=e.dom;te(o,t,n)},oe=(e,t)=>{const n=e.dom;((e,t)=>{const n=O(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}})(t,((e,t)=>{te(n,t,e)}))},re=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||ee(e)?o:ae(n,t)},ae=(e,t)=>U(e)?e.style.getPropertyValue(t):"",se=e=>{const t=V.fromDom((e=>{if(m(e.target)){const t=V.fromDom(e.target);if(j(t)&&X(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return _(t)}}return v.from(e.target)})(e).getOr(e.target)),n=()=>e.stopPropagation(),o=()=>e.preventDefault(),r=(a=o,s=n,(...e)=>a(s.apply(null,e)));var a,s;return((e,t,n,o,r,a,s)=>({target:e,x:t,y:n,stop:o,prevent:r,kill:a,raw:s}))(t,e.clientX,e.clientY,n,o,r,e)},le=(e,t,n,o,r)=>{const a=((e,t)=>n=>{e(n)&&t(se(n))})(n,o);return e.dom.addEventListener(t,a,r),{unbind:f(ie,e,t,a,r)}},ie=(e,t,n,o)=>{e.dom.removeEventListener(t,n,o)},ce=w,ue=(e,t,n)=>((e,t,n,o)=>le(e,t,n,o,!1))(e,t,ce,n),de=()=>me(0,0),me=(e,t)=>({major:e,minor:t}),pe={nu:me,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?de():((e,t)=>{const n=((e,t)=>{for(let n=0;n<e.length;n++){const o=e[n];if(o.test(t))return o}})(e,t);if(!n)return{major:0,minor:0};const o=e=>Number(t.replace(n,"$"+e));return me(o(1),o(2))})(e,n)},unknown:de},ge=(e,t)=>((e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return v.none()})(t.brands,(t=>{const n=t.brand.toLowerCase();return T(e,(e=>{var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:pe.nu(parseInt(t.version,10),0)})))})),he=(e,t)=>{const n=String(t).toLowerCase();return T(e,(e=>e.search(n)))},be=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,fe=e=>t=>W(t,e),ye=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>W(e,"edge/")&&W(e,"chrome")&&W(e,"safari")&&W(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,be],search:e=>W(e,"chrome")&&!W(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>W(e,"msie")||W(e,"trident")},{name:"Opera",versionRegexes:[be,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:fe("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:fe("firefox")},{name:"Safari",versionRegexes:[be,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(W(e,"safari")||W(e,"mobile/"))&&W(e,"applewebkit")}],we=[{name:"Windows",search:fe("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>W(e,"iphone")||W(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:fe("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:fe("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:fe("linux"),versionRegexes:[]},{name:"Solaris",search:fe("sunos"),versionRegexes:[]},{name:"FreeBSD",search:fe("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:fe("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ve={browsers:b(ye),oses:b(we)},xe="Edge",Se="Chromium",ke="Opera",Ce="Firefox",Te="Safari",Ae=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isEdge:o(xe),isChromium:o(Se),isIE:o("IE"),isOpera:o(ke),isFirefox:o(Ce),isSafari:o(Te)}},_e={unknown:()=>Ae({current:void 0,version:pe.unknown()}),nu:Ae,edge:b(xe),chromium:b(Se),ie:b("IE"),opera:b(ke),firefox:b(Ce),safari:b(Te)},Ee="Windows",Ne="Android",Oe="Linux",Fe="macOS",De="Solaris",Re="FreeBSD",Pe="ChromeOS",Me=e=>{const t=e.current,n=e.version,o=e=>()=>t===e;return{current:t,version:n,isWindows:o(Ee),isiOS:o("iOS"),isAndroid:o(Ne),isMacOS:o(Fe),isLinux:o(Oe),isSolaris:o(De),isFreeBSD:o(Re),isChromeOS:o(Pe)}},Be={unknown:()=>Me({current:void 0,version:pe.unknown()}),nu:Me,windows:b(Ee),ios:b("iOS"),android:b(Ne),linux:b(Oe),macos:b(Fe),solaris:b(De),freebsd:b(Re),chromeos:b(Pe)},je=(e,t,n)=>{const o=ve.browsers(),r=ve.oses(),a=t.bind((e=>ge(o,e))).orThunk((()=>((e,t)=>he(e,t).map((e=>{const n=pe.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(o,e))).fold(_e.unknown,_e.nu),s=((e,t)=>he(e,t).map((e=>{const n=pe.detect(e.versionRegexes,t);return{current:e.name,version:n}})))(r,e).fold(Be.unknown,Be.nu),l=((e,t,n,o)=>{const r=e.isiOS()&&!0===/ipad/i.test(n),a=e.isiOS()&&!r,s=e.isiOS()||e.isAndroid(),l=s||o("(pointer:coarse)"),i=r||!a&&s&&o("(min-device-width:768px)"),c=a||s&&!i,u=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),d=!c&&!i&&!u;return{isiPad:b(r),isiPhone:b(a),isTablet:b(i),isPhone:b(c),isTouch:b(l),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:b(u),isDesktop:b(d)}})(s,a,e,n);return{browser:a,os:s,deviceType:l}},$e=e=>window.matchMedia(e).matches;let Le=(e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)})((()=>je(window.navigator.userAgent,v.from(window.navigator.userAgentData),$e)));const Ie=(e,t)=>({left:e,top:t,translate:(n,o)=>Ie(e+n,t+o)}),ze=Ie,qe=e=>{const t=void 0===e?window:e;return Le().browser.isFirefox()?v.none():v.from(t.visualViewport)},We=(e,t,n,o)=>({x:e,y:t,width:n,height:o,right:e+n,bottom:t+o}),Ue=e=>{const t=void 0===e?window:e,n=t.document,o=(e=>{const t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,o=t.body.scrollTop||t.documentElement.scrollTop;return ze(n,o)})(V.fromDom(n));return qe(t).fold((()=>{const e=t.document.documentElement,n=e.clientWidth,r=e.clientHeight;return We(o.left,o.top,n,r)}),(e=>We(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height)))},He=(e,t,n)=>qe(n).map((n=>{const o=e=>t(se(e));return n.addEventListener(e,o),{unbind:()=>n.removeEventListener(e,o)}})).getOrThunk((()=>({unbind:h})));var Ve=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ze=tinymce.util.Tools.resolve("tinymce.Env");const Ke=(e,t)=>{e.dispatch("FullscreenStateChanged",{state:t}),e.dispatch("ResizeEditor")},Ge=(Je="fullscreen_native",e=>e.options.get(Je));var Je;const Qe=e=>{const t=V.fromDom(e.getElement());return Q(t).map(Y).getOrThunk((()=>(e=>{const t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return V.fromDom(t)})(K(t))))},Ye=e=>{return e.dom===(void 0!==(t=K(e).dom).fullscreenElement?t.fullscreenElement:void 0!==t.msFullscreenElement?t.msFullscreenElement:void 0!==t.webkitFullscreenElement?t.webkitFullscreenElement:null);var t},Xe=(e,t,n)=>C(((e,t)=>{const n=p(t)?t:y;let o=e.dom;const r=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){const e=o.parentNode,t=V.fromDom(e);if(r.push(t),!0===n(t))break;o=e}return r})(e,n),t),et=e=>((e,t)=>{const n=void 0===t?document:t.dom;return 1!==(o=n).nodeType&&9!==o.nodeType&&11!==o.nodeType||0===o.childElementCount?[]:S(n.querySelectorAll(e),V.fromDom);var o})(e),tt=(e,t,n)=>Xe(e,(e=>Z(e,t)),n),nt=(e,t)=>((e,t)=>C(G(e),t))(e,(e=>Z(e,t))),ot="data-ephox-mobile-fullscreen-style",rt="position:absolute!important;",at="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",st=Ze.os.isAndroid(),lt=(e,t,n)=>{const o=t=>n=>{const o=z(n,"style"),r=void 0===o?"no-styles":o.trim();r!==t&&(I(n,ot,r),oe(n,e.parseStyle(t)))},r=tt(t,"*"),a=A(r,(e=>nt(e,"*:not(.tox-silver-sink)"))),s=(e=>{const t=re(e,"background-color");return void 0!==t&&""!==t?"background-color:"+t+"!important":"background-color:rgb(255,255,255)!important;"})(n);k(a,o("display:none!important;")),k(r,o(rt+at+s));o((!0===st?"":rt)+at+s)(t)},it=Ve.DOM,ct=qe().fold((()=>({bind:h,unbind:h})),(e=>{const t=(()=>{const e=E(h);return{...e,on:t=>e.get().each(t)}})(),n=N(),o=N(),r=((e,t)=>{let n=null;return{cancel:()=>{c(n)||(clearTimeout(n),n=null)},throttle:(...o)=>{c(n)&&(n=setTimeout((()=>{n=null,e.apply(null,o)}),t))}}})((()=>{document.body.scrollTop=0,document.documentElement.scrollTop=0,window.requestAnimationFrame((()=>{t.on((t=>oe(t,{top:e.offsetTop+"px",left:e.offsetLeft+"px",height:e.height+"px",width:e.width+"px"})))}))}),50);return{bind:e=>{t.set(e),r.throttle(),n.set(He("resize",r.throttle)),o.set(He("scroll",r.throttle))},unbind:()=>{t.on((()=>{n.clear(),o.clear()})),t.clear()}}})),ut=(e,t)=>{const n=document.body,o=document.documentElement,r=e.getContainer(),a=V.fromDom(r),s=(l=a,v.from(l.dom.nextSibling).map(V.fromDom)).filter((e=>(e=>j(e)&&M(e.dom))(e)&&((e,t)=>(e=>void 0!==e.dom.classList)(e)&&e.dom.classList.contains(t))(e,"tox-silver-sink")));var l;const i=Qe(e),c=t.get(),u=V.fromDom(e.getBody()),d=Ze.deviceType.isTouch(),m=r.style,p=e.iframeElement,g=null==p?void 0:p.style,h=e=>{e(n,"tox-fullscreen"),e(o,"tox-fullscreen"),e(r,"tox-fullscreen"),Q(a).map((e=>Y(e).dom)).each((t=>{e(t,"tox-fullscreen"),e(t,"tox-shadowhost")}))},b=()=>{d&&(e=>{const t=et("["+ot+"]");k(t,(t=>{const n=z(t,ot);n&&"no-styles"!==n?oe(t,e.parseStyle(n)):q(t,"style"),q(t,ot)}))})(e.dom),h(it.removeClass),ct.unbind(),v.from(t.get()).each((e=>e.fullscreenChangeHandler.unbind()))};if(c)c.fullscreenChangeHandler.unbind(),Ge(e)&&Ye(i)&&(e=>{const t=e.dom;t.exitFullscreen?t.exitFullscreen():t.msExitFullscreen?t.msExitFullscreen():t.webkitCancelFullScreen&&t.webkitCancelFullScreen()})(K(i)),g.width=c.iframeWidth,g.height=c.iframeHeight,m.width=c.containerWidth,m.height=c.containerHeight,m.top=c.containerTop,m.left=c.containerLeft,y=s,w=c.sinkCssPosition,x=(e,t)=>{ne(e,"position",t)},y.isSome()&&w.isSome()?v.some(x(y.getOrDie(),w.getOrDie())):v.none(),b(),f=c.scrollPos,window.scrollTo(f.x,f.y),t.set(null),Ke(e,!1),e.off("remove",b);else{const n=ue(K(i),void 0!==document.fullscreenElement?"fullscreenchange":void 0!==document.msFullscreenElement?"MSFullscreenChange":void 0!==document.webkitFullscreenElement?"webkitfullscreenchange":"fullscreenchange",(n=>{Ge(e)&&(Ye(i)||null===t.get()||ut(e,t))})),o={scrollPos:Ue(window),containerWidth:m.width,containerHeight:m.height,containerTop:m.top,containerLeft:m.left,iframeWidth:g.width,iframeHeight:g.height,fullscreenChangeHandler:n,sinkCssPosition:s.map((e=>re(e,"position")))};d&&lt(e.dom,a,u),g.width=g.height="100%",m.width=m.height="",h(it.addClass),s.each((e=>{ne(e,"position","fixed")})),ct.bind(a),e.on("remove",b),t.set(o),Ge(e)&&(e=>{const t=e.dom;t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen()})(i),Ke(e,!0)}var f,y,w,x};var dt=tinymce.util.Tools.resolve("tinymce.util.VK");const mt=(e,t)=>n=>{n.setActive(null!==t.get());const o=e=>n.setActive(e.state);return e.on("FullscreenStateChanged",o),()=>e.off("FullscreenStateChanged",o)};t.add("fullscreen",(t=>{const o=e(null);return t.inline||((e=>{(0,e.options.register)("fullscreen_native",{processor:"boolean",default:!1})})(t),((e,t)=>{e.addCommand("mceFullScreen",(()=>{ut(e,t)}))})(t,o),((e,t)=>{const n=()=>e.execCommand("mceFullScreen");e.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:n,onSetup:mt(e,t),context:"any"}),e.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:n,onSetup:mt(e,t),shortcut:"Meta+Shift+F",context:"any"})})(t,o),((e,t)=>{e.on("init",(()=>{e.on("keydown",(e=>{e.keyCode!==dt.TAB||e.metaKey||e.ctrlKey||!t.get()||e.preventDefault()}))}))})(t,o),t.addShortcut("Meta+Shift+F","","mceFullScreen")),n(o)}))}()},22903:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env");const n=e=>t=>t.options.get(e),o=n("pagebreak_separator"),r=n("pagebreak_split_block"),a="mce-pagebreak",s=e=>{const n=`<img src="${t.transparentSrc}" class="${a}" data-mce-resize="false" data-mce-placeholder />`;return e?`<p>${n}</p>`:n},l=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("pagebreak",(e=>{(e=>{const t=e.options.register;t("pagebreak_separator",{processor:"string",default:"\x3c!-- pagebreak --\x3e"}),t("pagebreak_split_block",{processor:"boolean",default:!1})})(e),(e=>{e.addCommand("mcePageBreak",(()=>{e.insertContent(s(r(e)))}))})(e),(e=>{const t=()=>e.execCommand("mcePageBreak");e.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:t,onSetup:l(e)}),e.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:t,onSetup:l(e)})})(e),(e=>{const t=o(e),n=()=>r(e),l=new RegExp(t.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,(e=>"\\"+e)),"gi");e.on("BeforeSetContent",(e=>{e.content=e.content.replace(l,s(n()))})),e.on("PreInit",(()=>{e.serializer.addNodeFilter("img",(o=>{let r,s,l=o.length;for(;l--;)if(r=o[l],s=r.attr("class"),s&&-1!==s.indexOf(a)){const o=r.parent;if(o&&e.schema.getBlockElements()[o.name]&&n()){o.type=3,o.value=t,o.raw=!0,r.remove();continue}r.type=3,r.value=t,r.raw=!0}}))}))})(e),(e=>{e.on("ResolveName",(t=>{"IMG"===t.target.nodeName&&e.dom.hasClass(t.target,a)&&(t.name="pagebreak")}))})(e)}))}()},24855:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(a=String).prototype,o.isPrototypeOf(n)||(null===(s=r.constructor)||void 0===s?void 0:s.name)===a.name)?"string":t;var n,o;var r,a,s})(t)===e,n=t("string"),o=t("object"),r=t("array"),a=e=>!(e=>null==e)(e);class s{constructor(e,t){this.tag=e,this.value=t}static some(e){return new s(!0,e)}static none(){return s.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?s.some(e(this.value)):s.none()}bind(e){return this.tag?e(this.value):s.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:s.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return a(e)?s.some(e):s.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}s.singletonNone=new s(!1);const l=Array.prototype.push,i=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},c=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!r(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);l.apply(t,e[n])}return t},u=Object.keys,d=Object.hasOwnProperty,m=(e,t)=>p(e,t)?s.from(e[t]):s.none(),p=(e,t)=>d.call(e,t),g=e=>t=>t.options.get(e),h=g("audio_template_callback"),b=g("video_template_callback"),f=g("iframe_template_callback"),y=g("media_live_embeds"),w=g("media_filter_html"),v=g("media_url_resolver"),x=g("media_alt_source"),S=g("media_poster"),k=g("media_dimensions");var C=tinymce.util.Tools.resolve("tinymce.util.Tools"),T=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),A=tinymce.util.Tools.resolve("tinymce.html.DomParser");const _=T.DOM,E=e=>e.replace(/px$/,""),N=e=>{const t=e.attr("style"),n=t?_.parseStyle(t):{};return{type:"ephox-embed-iri",source:e.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:m(n,"max-width").map(E).getOr(""),height:m(n,"max-height").map(E).getOr("")}},O=(e,t)=>{let n={};for(let o=A({validate:!1,forced_root_block:!1},t).parse(e);o;o=o.walk())if(1===o.type){const e=o.name;if(o.attr("data-ephox-embed-iri")){n=N(o);break}n.source||"param"!==e||(n.source=o.attr("movie")),"iframe"!==e&&"object"!==e&&"embed"!==e&&"video"!==e&&"audio"!==e||(n.type||(n.type=e),n=C.extend(o.attributes.map,n)),"source"===e&&(n.source?n.altsource||(n.altsource=o.attr("src")):n.source=o.attr("src")),"img"!==e||n.poster||(n.poster=o.attr("src"))}return n.source=n.source||n.src||"",n.altsource=n.altsource||"",n.poster=n.poster||"",n},F=e=>{var t;const n=null!==(t=e.toLowerCase().split(".").pop())&&void 0!==t?t:"";return m({mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},n).getOr("")};var D=tinymce.util.Tools.resolve("tinymce.html.Node"),R=tinymce.util.Tools.resolve("tinymce.html.Serializer");const P=(e,t={})=>A({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...t},e),M=T.DOM,B=e=>/^[0-9.]+$/.test(e)?e+"px":e,j=(e,t)=>{const n=t.attr("style"),o=n?M.parseStyle(n):{};a(e.width)&&(o["max-width"]=B(e.width)),a(e.height)&&(o["max-height"]=B(e.height)),t.attr("style",M.serializeStyle(o))},$=["source","altsource"],L=(e,t,n,o)=>{let r=0,a=0;const s=P(o);s.addNodeFilter("source",(e=>r=e.length));const l=s.parse(e);for(let e=l;e;e=e.walk())if(1===e.type){const o=e.name;if(e.attr("data-ephox-embed-iri")){j(t,e);break}switch(o){case"video":case"object":case"embed":case"img":case"iframe":void 0!==t.height&&void 0!==t.width&&(e.attr("width",t.width),e.attr("height",t.height))}if(n)switch(o){case"video":e.attr("poster",t.poster),e.attr("src",null);for(let n=r;n<2;n++)if(t[$[n]]){const o=new D("source",1);o.attr("src",t[$[n]]),o.attr("type",t[$[n]+"mime"]||null),e.append(o)}break;case"iframe":e.attr("src",t.source);break;case"object":const n=e.getAll("img").length>0;if(t.poster&&!n){e.attr("src",t.poster);const n=new D("img",1);n.attr("src",t.poster),n.attr("width",t.width),n.attr("height",t.height),e.append(n)}break;case"source":if(a<2&&(e.attr("src",t[$[a]]),e.attr("type",t[$[a]+"mime"]||null),!t[$[a]])){e.remove();continue}a++;break;case"img":t.poster||e.remove()}}return R({},o).serialize(l)},I=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],z=(e,t)=>{const n=(e=>{const t=e.match(/^(https?:\/\/|www\.)(.+)$/i);return t&&t.length>1?"www."===t[1]?"https://":t[1]:"https://"})(t),o=e.regex.exec(t);let r=n+e.url;if(a(o))for(let e=0;e<o.length;e++)r=r.replace("$"+e,(()=>o[e]?o[e]:""));return r.replace(/\?$/,"")},q=e=>{const t=I.filter((t=>t.regex.test(e)));return t.length>0?C.extend({},t[0],{url:z(t[0],e)}):null},W=(e,t)=>{var n;const o=C.extend({},t);if(!o.source&&(C.extend(o,O(null!==(n=o.embed)&&void 0!==n?n:"",e.schema)),!o.source))return"";o.altsource||(o.altsource=""),o.poster||(o.poster=""),o.source=e.convertURL(o.source,"source"),o.altsource=e.convertURL(o.altsource,"source"),o.sourcemime=F(o.source),o.altsourcemime=F(o.altsource),o.poster=e.convertURL(o.poster,"poster");const r=q(o.source);if(r&&(o.source=r.url,o.type=r.type,o.allowfullscreen=r.allowFullscreen,o.width=o.width||String(r.w),o.height=o.height||String(r.h)),o.embed)return L(o.embed,o,!0,e.schema);{const t=h(e),n=b(e),r=f(e);return o.width=o.width||"300",o.height=o.height||"150",C.each(o,((t,n)=>{o[n]=e.dom.encode(""+t)})),"iframe"===o.type?((e,t)=>{if(t)return t(e);{const t=e.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+e.source+'" width="'+e.width+'" height="'+e.height+'"'+t+"></iframe>"}})(o,r):"application/x-shockwave-flash"===o.sourcemime?(e=>{let t='<object data="'+e.source+'" width="'+e.width+'" height="'+e.height+'" type="application/x-shockwave-flash">';return e.poster&&(t+='<img src="'+e.poster+'" width="'+e.width+'" height="'+e.height+'" />'),t+="</object>",t})(o):-1!==o.sourcemime.indexOf("audio")?((e,t)=>t?t(e):'<audio controls="controls" src="'+e.source+'">'+(e.altsource?'\n<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</audio>")(o,t):((e,t)=>t?t(e):'<video width="'+e.width+'" height="'+e.height+'"'+(e.poster?' poster="'+e.poster+'"':"")+' controls="controls">\n<source src="'+e.source+'"'+(e.sourcemime?' type="'+e.sourcemime+'"':"")+" />\n"+(e.altsource?'<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</video>")(o,n)}},U=e=>e.hasAttribute("data-mce-object")||e.hasAttribute("data-ephox-embed-iri"),H={},V=e=>t=>W(e,t),Z=(e,t)=>{const n=v(e);return n?((e,t,n)=>new Promise(((o,r)=>{const a=n=>(n.html&&(H[e.source]=n),o({url:e.source,html:n.html?n.html:t(e)}));H[e.source]?a(H[e.source]):n({url:e.source}).then(a).catch(r)})))(t,V(e),n):((e,t)=>Promise.resolve({html:t(e),url:e.source}))(t,V(e))},K=(e,t)=>{const n={};return m(e,"dimensions").each((e=>{i(["width","height"],(o=>{m(t,o).orThunk((()=>m(e,o))).each((e=>n[o]=e))}))})),n},G=(e,t)=>{const n=t&&"dimensions"!==t?((e,t)=>m(t,e).bind((e=>m(e,"meta"))))(t,e).getOr({}):{},r=((e,t,n)=>r=>{const a=()=>m(e,r),l=()=>m(t,r),i=e=>m(e,"value").bind((e=>e.length>0?s.some(e):s.none()));return{[r]:(r===n?a().bind((e=>o(e)?i(e).orThunk(l):l().orThunk((()=>s.from(e))))):l().orThunk((()=>a().bind((e=>o(e)?i(e):s.from(e)))))).getOr("")}})(e,n,t);return{...r("source"),...r("altsource"),...r("poster"),...r("embed"),...K(e,n)}},J=e=>{const t={...e,source:{value:m(e,"source").getOr("")},altsource:{value:m(e,"altsource").getOr("")},poster:{value:m(e,"poster").getOr("")}};return i(["width","height"],(n=>{m(e,n).each((e=>{const o=t.dimensions||{};o[n]=e,t.dimensions=o}))})),t},Q=e=>t=>{const n=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.";e.notificationManager.open({type:"error",text:n})},Y=(e,t)=>o=>{if(n(o.url)&&o.url.trim().length>0){const n=o.html,r={...O(n,t.schema),source:o.url,embed:n};e.setData(J(r))}},X=(e,t)=>{const n=e.dom.select("*[data-mce-object]");e.insertContent(t),((e,t)=>{const n=e.dom.select("*[data-mce-object]");for(let e=0;e<t.length;e++)for(let o=n.length-1;o>=0;o--)t[e]===n[o]&&n.splice(o,1);e.selection.select(n[0])})(e,n),e.nodeChanged()},ee=(e,t)=>a(t)&&"ephox-embed-iri"===t&&a(q(e)),te=(e,t)=>((e,t)=>e.width!==t.width||e.height!==t.height)(e,t)&&ee(t.source,e.type),ne=(e,t,n)=>{var o,r;t.embed=te(e,t)&&k(n)?W(n,{...t,embed:""}):L(null!==(o=t.embed)&&void 0!==o?o:"",t,!1,n.schema),t.embed&&(e.source===t.source||(r=t.source,p(H,r)))?X(n,t.embed):Z(n,t).then((e=>{X(n,e.html)})).catch(Q(n))},oe=e=>{const t=(e=>{const t=e.selection.getNode(),n=U(t)?e.serializer.serialize(t,{selection:!0}):"",o=O(n,e.schema),r=(()=>{if(ee(o.source,o.type)){const n=e.dom.getRect(t);return{width:n.w.toString().replace(/px$/,""),height:n.h.toString().replace(/px$/,"")}}return{}})();return{embed:n,...o,...r}})(e),n=(e=>{let t=e;return{get:()=>t,set:e=>{t=e}}})(t),o=J(t),r=k(e)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],a={title:"General",name:"general",items:c([[{name:"source",type:"urlinput",filetype:"media",label:"Source",picker_text:"Browse files"}],r])},s={title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]},l=[];x(e)&&l.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),S(e)&&l.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const i={title:"Advanced",name:"advanced",items:l},u=[a,s];l.length>0&&u.push(i);const d={type:"tabpanel",tabs:u},m=e.windowManager.open({title:"Insert/Edit Media",size:"normal",body:d,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:t=>{const o=G(t.getData());ne(n.get(),o,e),t.close()},onChange:(t,o)=>{switch(o.name){case"source":((t,n)=>{const o=G(n.getData(),"source");t.source!==o.source&&(Y(m,e)({url:o.source,html:""}),Z(e,o).then(Y(m,e)).catch(Q(e)))})(n.get(),t);break;case"embed":(t=>{var n;const o=G(t.getData()),r=O(null!==(n=o.embed)&&void 0!==n?n:"",e.schema);t.setData(J(r))})(t);break;case"dimensions":case"altsource":case"poster":((t,n,o)=>{const r=G(t.getData(),n),a=te(o,r)&&k(e)?{...r,embed:""}:r,s=W(e,a);t.setData(J({...a,embed:s}))})(t,o.name,n.get())}n.set(G(t.getData()))},initialData:o})};var re=tinymce.util.Tools.resolve("tinymce.Env");const ae=e=>{const t=e.name;return"iframe"===t||"video"===t||"audio"===t},se=(e,t,n,o=null)=>{const r=e.attr(n);return a(r)?r:p(t,n)?null:o},le=(e,t,n)=>{const o="img"===t.name||"video"===e.name,r=o?"300":null,a="audio"===e.name?"30":"150",s=o?a:null;t.attr({width:se(e,n,"width",r),height:se(e,n,"height",s)})},ie=(e,t)=>{const n=t.name,o=new D("img",1);return ue(e,t,o),le(t,o,{}),o.attr({style:t.attr("style"),src:re.transparentSrc,"data-mce-object":n,class:"mce-object mce-object-"+n}),o},ce=(e,t)=>{var n;const o=t.name,r=new D("span",1);r.attr({contentEditable:"false",style:t.attr("style"),"data-mce-object":o,class:"mce-preview-object mce-object-"+o}),ue(e,t,r);const s=e.dom.parseStyle(null!==(n=t.attr("style"))&&void 0!==n?n:""),l=new D(o,1);if(le(t,l,s),l.attr({src:t.attr("src"),style:t.attr("style"),class:t.attr("class")}),"iframe"===o)l.attr({allowfullscreen:t.attr("allowfullscreen"),frameborder:"0",sandbox:t.attr("sandbox"),referrerpolicy:t.attr("referrerpolicy")});else{i(["controls","crossorigin","currentTime","loop","muted","poster","preload"],(e=>{l.attr(e,t.attr(e))}));const n=r.attr("data-mce-html");a(n)&&((e,t,n,o)=>{const r=P(e.schema).parse(o,{context:t});for(;r.firstChild;)n.append(r.firstChild)})(e,o,l,unescape(n))}const c=new D("span",1);return c.attr("class","mce-shim"),r.append(l),r.append(c),r},ue=(e,t,n)=>{var o;const r=null!==(o=t.attributes)&&void 0!==o?o:[];let a=r.length;for(;a--;){const t=r[a].name;let o=r[a].value;"width"===t||"height"===t||"style"===t||((e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t)(t,"data-mce-",0)||("data"!==t&&"src"!==t||(o=e.convertURL(o,t)),n.attr("data-mce-p-"+t,o))}const s=R({inner:!0},e.schema),l=new D("div",1);i(t.children(),(e=>l.append(e)));const c=s.serialize(l);c&&(n.attr("data-mce-html",escape(c)),n.empty())},de=e=>{const t=e.attr("class");return n(t)&&/\btiny-pageembed\b/.test(t)},me=e=>{let t=e;for(;t=t.parent;)if(t.attr("data-ephox-embed-iri")||de(t))return!0;return!1},pe=(e,t,n)=>{const o=(0,e.options.get)("xss_sanitization"),r=w(e);return P(e.schema,{sanitize:o,validate:r}).parse(n,{context:t})},ge=e=>{e.on("PreInit",(()=>{const{schema:t,serializer:n,parser:o}=e,r=t.getBoolAttrs();i("webkitallowfullscreen mozallowfullscreen".split(" "),(e=>{r[e]={}})),((e,t)=>{const n=u(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}})({embed:["wmode"]},((e,n)=>{const o=t.getElementRule(n);o&&i(e,(e=>{o.attributes[e]={},o.attributesOrder.push(e)}))})),o.addNodeFilter("iframe,video,audio,object,embed",(e=>t=>{let n,o=t.length;for(;o--;)n=t[o],n.parent&&(n.parent.attr("data-mce-object")||(ae(n)&&y(e)?me(n)||n.replace(ce(e,n)):me(n)||n.replace(ie(e,n))))})(e)),n.addAttributeFilter("data-mce-object",((t,n)=>{var o;let r=t.length;for(;r--;){const a=t[r];if(!a.parent)continue;const s=a.attr(n),l=new D(s,1);if("audio"!==s){const e=a.attr("class");e&&-1!==e.indexOf("mce-preview-object")&&a.firstChild?l.attr({width:a.firstChild.attr("width"),height:a.firstChild.attr("height")}):l.attr({width:a.attr("width"),height:a.attr("height")})}l.attr({style:a.attr("style")});const c=null!==(o=a.attributes)&&void 0!==o?o:[];let u=c.length;for(;u--;){const e=c[u].name;0===e.indexOf("data-mce-p-")&&l.attr(e.substr(11),c[u].value)}const d=a.attr("data-mce-html");if(d){const t=pe(e,s,unescape(d));i(t.children(),(e=>l.append(e)))}a.replace(l)}}))})),e.on("SetContent",(()=>{const t=e.dom;i(t.select("span.mce-preview-object"),(e=>{0===t.select("span.mce-shim",e).length&&t.add(e,"span",{class:"mce-shim"})}))}))},he=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("media",(e=>((e=>{const t=e.options.register;t("audio_template_callback",{processor:"function"}),t("video_template_callback",{processor:"function"}),t("iframe_template_callback",{processor:"function"}),t("media_live_embeds",{processor:"boolean",default:!0}),t("media_filter_html",{processor:"boolean",default:!0}),t("media_url_resolver",{processor:"function"}),t("media_alt_source",{processor:"boolean",default:!0}),t("media_poster",{processor:"boolean",default:!0}),t("media_dimensions",{processor:"boolean",default:!0})})(e),(e=>{e.addCommand("mceMedia",(()=>{oe(e)}))})(e),(e=>{const t=()=>e.execCommand("mceMedia");e.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:t,onSetup:t=>{const n=e.selection;t.setActive(U(n.getNode()));const o=n.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",t.setActive).unbind,r=he(e)(t);return()=>{o(),r()}}}),e.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:t,onSetup:he(e)})})(e),(e=>{e.on("ResolveName",(e=>{let t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)}))})(e),ge(e),(e=>{e.on("mousedown",(t=>{const n=e.dom.getParent(t.target,".mce-preview-object");n&&"2"===e.dom.getAttrib(n,"data-mce-selected")&&t.stopImmediatePropagation()})),e.on("click keyup touchend",(()=>{const t=e.selection.getNode();t&&e.dom.hasClass(t,"mce-preview-object")&&e.dom.getAttrib(t,"data-mce-selected")&&t.setAttribute("data-mce-selected","2")})),e.on("ObjectResized",(t=>{const n=t.target;if(n.getAttribute("data-mce-object")){let o=n.getAttribute("data-mce-html");o&&(o=unescape(o),n.setAttribute("data-mce-html",escape(L(o,{width:String(t.width),height:String(t.height)},!1,e.schema))))}}))})(e),(e=>({showDialog:()=>{oe(e)}}))(e))))}()},27524:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(a=String).prototype,o.isPrototypeOf(n)||(null===(s=r.constructor)||void 0===s?void 0:s.name)===a.name)?"string":t;var n,o;var r,a,s})(t)===e,n=e=>t=>typeof t===e,o=t("string"),r=t("object"),a=t("array"),s=n("boolean"),l=e=>!(e=>null==e)(e),i=n("function"),c=n("number"),u=()=>{},d=e=>()=>e,m=(e,t)=>e===t;const p=e=>t=>!e(t),g=d(!1);class h{constructor(e,t){this.tag=e,this.value=t}static some(e){return new h(!0,e)}static none(){return h.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?h.some(e(this.value)):h.none()}bind(e){return this.tag?e(this.value):h.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:h.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return l(e)?h.some(e):h.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}h.singletonNone=new h(!1);const b=Array.prototype.slice,f=Array.prototype.indexOf,y=Array.prototype.push,w=(e,t)=>{return n=e,o=t,f.call(n,o)>-1;var n,o},v=(e,t)=>{for(let n=0,o=e.length;n<o;n++){if(t(e[n],n))return!0}return!1},x=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},S=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},k=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},C=(e,t,n)=>(S(e,((e,o)=>{n=t(n,e,o)})),n),T=(e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return h.some(r);if(n(r,o))break}return h.none()},A=(e,t)=>T(e,t,g),_=(e,t)=>(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);y.apply(t,e[n])}return t})(x(e,t)),E=e=>{const t=b.call(e,0);return t.reverse(),t},N=(e,t)=>t>=0&&t<e.length?h.some(e[t]):h.none(),O=e=>N(e,0),F=e=>N(e,e.length-1),D=(e,t)=>{const n=[],o=i(t)?e=>v(n,(n=>t(n,e))):e=>w(n,e);for(let t=0,r=e.length;t<r;t++){const r=e[t];o(r)||n.push(r)}return n},R=(e,t,n=m)=>e.exists((e=>n(e,t))),P=(e,t,n)=>e.isSome()&&t.isSome()?h.some(n(e.getOrDie(),t.getOrDie())):h.none(),M=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},B={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return M(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return M(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return M(n)},fromDom:M,fromPoint:(e,t,n)=>h.from(e.dom.elementFromPoint(t,n)).map(M)},j=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},$=(e,t)=>e.dom===t.dom,L=j,I="undefined"!=typeof window?window:Function("return this;")(),z=(e,t)=>((e,t)=>{let n=null!=t?t:I;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),q=(e,t)=>{const n=((e,t)=>z(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n},W=Object.getPrototypeOf,U=e=>{const t=z("ownerDocument.defaultView",e);return r(e)&&((e=>q("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(W(e).constructor.name))},H=e=>e.dom.nodeName.toLowerCase(),V=e=>e.dom.nodeType,Z=e=>t=>V(t)===e,K=e=>G(e)&&U(e.dom),G=Z(1),J=Z(3),Q=Z(11),Y=e=>t=>G(t)&&H(t)===e,X=e=>h.from(e.dom.parentNode).map(B.fromDom),ee=e=>x(e.dom.childNodes,B.fromDom),te=(e,t)=>{const n=e.dom.childNodes;return h.from(n[t]).map(B.fromDom)},ne=e=>te(e,0),oe=e=>te(e,e.dom.childNodes.length-1),re=e=>{const t=(e=>B.fromDom(e.dom.getRootNode()))(e);return Q(n=t)&&l(n.dom.host)?h.some(t):h.none();var n},ae=e=>B.fromDom(e.dom.host),se=e=>{const t=J(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return re(B.fromDom(t)).fold((()=>n.body.contains(t)),(o=se,r=ae,e=>o(r(e))));var o,r};var le=(e,t,n,o,r)=>e(n,o)?h.some(n):i(r)&&r(n)?h.none():t(n,o,r);const ie=(e,t,n)=>{let o=e.dom;const r=i(n)?n:g;for(;o.parentNode;){o=o.parentNode;const e=B.fromDom(o);if(t(e))return h.some(e);if(r(e))break}return h.none()},ce=(e,t,n)=>le(((e,t)=>t(e)),ie,e,t,n),ue=(e,t,n)=>ie(e,(e=>j(e,t)),n),de=e=>{return le(((e,t)=>j(e,t)),ue,e,"[contenteditable]",t);var t},me=e=>e.dom.contentEditable,pe=(e,t)=>{X(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},ge=(e,t)=>{const n=(e=>h.from(e.dom.nextSibling).map(B.fromDom))(e);n.fold((()=>{X(e).each((e=>{he(e,t)}))}),(e=>{pe(e,t)}))},he=(e,t)=>{e.dom.appendChild(t.dom)},be=(e,t)=>{S(t,(t=>{he(e,t)}))},fe=e=>{e.dom.textContent="",S(ee(e),(e=>{ye(e)}))},ye=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)};var we=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),ve=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),xe=tinymce.util.Tools.resolve("tinymce.util.VK");const Se=e=>x(e,B.fromDom),ke=Object.keys,Ce=(e,t)=>{const n=ke(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},Te=(e,t)=>{const n={};var o;return((e,t,n,o)=>{Ce(e,((e,r)=>{(t(e,r)?n:o)(e,r)}))})(e,t,(o=n,(e,t)=>{o[t]=e}),u),n},Ae=(e,t)=>{const n=e.dom;Ce(t,((e,t)=>{((e,t,n)=>{if(!(o(n)||s(n)||c(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(n,t,e)}))},_e=e=>C(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),Ee=e=>((e,t)=>B.fromDom(e.dom.cloneNode(t)))(e,!0),Ne=(e,t)=>{const n=((e,t)=>{const n=B.fromTag(t),o=_e(e);return Ae(n,o),n})(e,t);ge(e,n);const o=ee(e);return be(n,o),ye(e),n};var Oe=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Fe=tinymce.util.Tools.resolve("tinymce.util.Tools");const De=e=>t=>l(t)&&t.nodeName.toLowerCase()===e,Re=e=>t=>l(t)&&e.test(t.nodeName),Pe=e=>l(e)&&3===e.nodeType,Me=e=>l(e)&&1===e.nodeType,Be=Re(/^(OL|UL|DL)$/),je=Re(/^(OL|UL)$/),$e=De("ol"),Le=Re(/^(LI|DT|DD)$/),Ie=Re(/^(DT|DD)$/),ze=Re(/^(TH|TD)$/),qe=De("br"),We=(e,t)=>l(t)&&t.nodeName in e.schema.getTextBlockElements(),Ue=(e,t)=>l(e)&&e.nodeName in t,He=(e,t)=>l(t)&&t.nodeName in e.schema.getVoidElements(),Ve=(e,t,n)=>{const o=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&o},Ze=(e,t)=>e.isChildOf(t,e.getRoot()),Ke=e=>t=>t.options.get(e),Ge=Ke("lists_indent_on_tab"),Je=Ke("forced_root_block"),Qe=Ke("forced_root_block_attrs"),Ye=(e,t,n={})=>{const o=e.dom,r=e.schema.getBlockElements(),a=o.createFragment(),s=Je(e),l=Qe(e);let i,c,u=!1;for(c=o.create(s,{...l,...n.style?{style:n.style}:{}}),Ue(t.firstChild,r)||a.appendChild(c);i=t.firstChild;){const e=i.nodeName;u||"SPAN"===e&&"bookmark"===i.getAttribute("data-mce-type")||(u=!0),Ue(i,r)?(a.appendChild(i),c=null):(c||(c=o.create(s,l),a.appendChild(c)),c.appendChild(i))}return!u&&c&&c.appendChild(o.create("br",{"data-mce-bogus":"1"})),a},Xe=Oe.DOM,et=(e,t,n)=>{const o=Xe.select('span[data-mce-type="bookmark"]',t),r=Ye(e,n),a=Xe.createRng();a.setStartAfter(n),a.setEndAfter(t);const s=a.extractContents();for(let t=s.firstChild;t;t=t.firstChild)if("LI"===t.nodeName&&e.dom.isEmpty(t)){Xe.remove(t);break}e.dom.isEmpty(s)||Xe.insertAfter(s,t),Xe.insertAfter(r,t);const l=n.parentElement;l&&Ve(e.dom,l)&&(e=>{const t=e.parentNode;t&&Fe.each(o,(e=>{t.insertBefore(e,n.parentNode)})),Xe.remove(e)})(l),Xe.remove(n),Ve(e.dom,t)&&Xe.remove(t)},tt=Y("dd"),nt=Y("dt"),ot=(e,t)=>{var n;tt(t)?Ne(t,"dt"):nt(t)&&(n=t,h.from(n.dom.parentElement).map(B.fromDom)).each((n=>et(e,n.dom,t.dom)))},rt=e=>{nt(e)&&Ne(e,"dd")},at=(e,t)=>{if(Pe(e))return{container:e,offset:t};const n=we.getNode(e,t);return Pe(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&Pe(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&Pe(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},st=e=>{const t=e.cloneRange(),n=at(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);const o=at(e.endContainer,e.endOffset);return t.setEnd(o.container,o.offset),t},lt=["OL","UL","DL"],it=lt.join(","),ct=(e,t)=>{const n=t||e.selection.getStart(!0);return e.dom.getParent(n,it,pt(e,n))},ut=e=>{const t=ct(e),n=e.selection.getSelectedBlocks();return((e,t)=>l(e)&&1===t.length&&t[0]===e)(t,n)?(e=>k(e.querySelectorAll(it),Be))(t):k(n,(e=>Be(e)&&t!==e))},dt=e=>{const t=e.selection.getSelectedBlocks();return k(((e,t)=>{const n=Fe.map(t,(t=>e.dom.getParent(t,"li,dd,dt",pt(e,t))||t));return D(n)})(e,t),Le)},mt=(e,t)=>{const n=e.dom.getParents(t,"TD,TH");return n.length>0?n[0]:e.getBody()},pt=(e,t)=>{const n=e.dom.getParents(t,e.dom.isBlock),o=A(n,(t=>{return(t=>t.nodeName.toLowerCase()!==Je(e))(t)&&(n=e.schema,!Be(o=t)&&!Le(o)&&v(lt,(e=>n.isValidChild(o.nodeName,e))));var n,o}));return o.getOr(e.getBody())},gt=(e,t)=>{const n=e.dom.getParents(t,"ol,ul",pt(e,t));return F(n)},ht=e=>{const t=(e=>{const t=gt(e,e.selection.getStart()),n=k(e.selection.getSelectedBlocks(),je);return t.toArray().concat(n)})(e),n=(e=>{const t=e.selection.getStart();return e.dom.getParents(t,"ol,ul",pt(e,t))})(e);return A(n,(e=>{return t=B.fromDom(e),X(t).exists((e=>Le(e.dom)&&ne(e).exists((e=>!Be(e.dom)))&&oe(e).exists((e=>!Be(e.dom)))));var t})).fold((()=>bt(e,t)),(e=>[e]))},bt=(e,t)=>{const n=x(t,(t=>gt(e,t).getOr(t)));return D(n)},ft=e=>/\btox\-/.test(e.className),yt=(e,t)=>T(e,Be,ze).exists((e=>e.nodeName===t&&!ft(e))),wt=(e,t)=>null!==t&&!e.dom.isEditable(t),vt=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return wt(e,n)||!e.selection.isEditable()},xt=(e,t)=>{const n=e.selection.getNode();return t({parents:e.dom.getParents(n),element:n}),e.on("NodeChange",t),()=>e.off("NodeChange",t)},St=(e,t)=>{const n=(t||document).createDocumentFragment();return S(e,(e=>{n.appendChild(e.dom)})),B.fromDom(n)},kt=(e,t,n)=>e.dispatch("ListMutation",{action:t,element:n}),Ct=(Tt=/^\s+|\s+$/g,e=>e.replace(Tt,""));var Tt;const At=(e,t,n)=>{if(!o(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);(e=>void 0!==e.style&&i(e.style.getPropertyValue))(e)&&e.style.setProperty(t,n)},_t=(e,t,n)=>{const o=e.dom;At(o,t,n)},Et=e=>L(e,"OL,UL"),Nt=e=>ne(e).exists(Et),Ot=e=>"listAttributes"in e,Ft=e=>"isComment"in e,Dt=e=>e.depth>0,Rt=e=>e.isSelected,Pt=e=>{const t=ee(e),n=oe(e).exists(Et)?t.slice(0,-1):t;return x(n,Ee)},Mt=(e,t)=>{he(e.item,t.list)},Bt=(e,t)=>{const n={list:B.fromTag(t,e),item:B.fromTag("li",e)};return he(n.list,n.item),n},jt=(e,t,n)=>{const o=t.slice(0,n.depth);return F(o).each((t=>{if(Ot(n)){const o=((e,t,n)=>{const o=B.fromTag("li",e);return Ae(o,t),be(o,n),o})(e,n.itemAttributes,n.content);((e,t)=>{he(e.list,t),e.item=t})(t,o),((e,t)=>{H(e.list)!==t.listType&&(e.list=Ne(e.list,t.listType)),Ae(e.list,t.listAttributes)})(t,n)}else if((e=>"isFragment"in e)(n))be(t.item,n.content);else{const e=B.fromHtml(`\x3c!--${n.content}--\x3e`);he(t.list,e)}})),o},$t=(e,t,n)=>{const o=((e,t,n)=>{const o=[];for(let r=0;r<n;r++)o.push(Bt(e,Ot(t)?t.listType:t.parentListType));return o})(e,n,n.depth-t.length);var r;return(e=>{for(let t=1;t<e.length;t++)Mt(e[t-1],e[t])})(o),((e,t)=>{for(let t=0;t<e.length-1;t++)_t(e[t].item,"list-style-type","none");F(e).each((e=>{Ot(t)&&(Ae(e.list,t.listAttributes),Ae(e.item,t.itemAttributes)),be(e.item,t.content)}))})(o,n),r=o,P(F(t),O(r),Mt),t.concat(o)},Lt=(e,t)=>{let n=h.none();const o=C(t,((t,o,r)=>Ft(o)?0===r?(n=h.some(o),t):jt(e,t,o):o.depth>t.length?$t(e,t,o):jt(e,t,o)),[]);return n.each((e=>{const t=B.fromHtml(`\x3c!--${e.content}--\x3e`);O(o).each((e=>{((e,t)=>{ne(e).fold((()=>{he(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))})(e.list,t)}))})),O(o).map((e=>e.list))},It=e=>(S(e,((t,n)=>{((e,t)=>{const n=e[t].depth,o=e=>e.depth===n&&!e.dirty,r=e=>e.depth<n;return T(E(e.slice(0,t)),o,r).orThunk((()=>T(e.slice(t+1),o,r)))})(e,n).fold((()=>{t.dirty&&Ot(t)&&(e=>{e.listAttributes=Te(e.listAttributes,((e,t)=>"start"!==t))})(t)}),(e=>{return o=e,void(Ot(n=t)&&Ot(o)&&(n.listType=o.listType,n.listAttributes={...o.listAttributes}));var n,o}))})),e),zt=(e,t,n,o)=>{var r,a;if(8===V(a=o)||"#comment"===H(a))return[{depth:e+1,content:null!==(r=o.dom.nodeValue)&&void 0!==r?r:"",dirty:!1,isSelected:!1,isComment:!0}];t.each((e=>{$(e.start,o)&&n.set(!0)}));const s=((e,t,n)=>X(e).filter(G).map((o=>({depth:t,dirty:!1,isSelected:n,content:Pt(e),itemAttributes:_e(e),listAttributes:_e(o),listType:H(o),isInPreviousLi:!1}))))(o,e,n.get());t.each((e=>{$(e.end,o)&&n.set(!1)}));const l=oe(o).filter(Et).map((o=>Wt(e,t,n,o))).getOr([]);return s.toArray().concat(l)},qt=(e,t,n,o)=>ne(o).filter(Et).fold((()=>zt(e,t,n,o)),(r=>{const a=C(ee(o),((o,a,s)=>{if(0===s)return o;if(L(a,"LI"))return o.concat(zt(e,t,n,a));{const t={isFragment:!0,depth:e,content:[a],isSelected:!1,dirty:!1,parentListType:H(r)};return o.concat(t)}}),[]);return Wt(e,t,n,r).concat(a)})),Wt=(e,t,n,o)=>_(ee(o),(o=>(Et(o)?Wt:qt)(e+1,t,n,o))),Ut=(e,t)=>_(((e,t)=>{if(0===e.length)return[];{let n=t(e[0]);const o=[];let r=[];for(let a=0,s=e.length;a<s;a++){const s=e[a],l=t(s);l!==n&&(o.push(r),r=[]),n=l,r.push(s)}return 0!==r.length&&o.push(r),o}})(t,Dt),(t=>O(t).exists(Dt)?((e,t)=>{const n=It(t);return Lt(e.contentDocument,n).toArray()})(e,t):((e,t)=>{const n=It(t);return x(n,(t=>{const n=Ft(t)?St([B.fromHtml(`\x3c!--${t.content}--\x3e`)]):St(t.content),o=Ot(t)?t.itemAttributes:{};return B.fromDom(Ye(e,n.dom,o))}))})(e,t))),Ht=(e,t,n)=>{const o=((e,t)=>{const n=(()=>{let e=!1;return{get:()=>e,set:t=>{e=t}}})();return x(e,(e=>({sourceList:e,entries:Wt(0,t,n,e)})))})(t,(e=>{const t=x(dt(e),B.fromDom);return P(A(t,p(Nt)),A(E(t),p(Nt)),((e,t)=>({start:e,end:t})))})(e));S(o,(t=>{((e,t)=>{S(k(e,Rt),(e=>((e,t)=>{switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}t.dirty=!0})(t,e)))})(t.entries,n);const o=Ut(e,t.entries);var r;S(o,(t=>{kt(e,"Indent"===n?"IndentList":"OutdentList",t.dom)})),r=t.sourceList,S(o,(e=>{pe(r,e)})),ye(t.sourceList)}))},Vt=(e,t)=>{const n=Se(ht(e)),o=Se((e=>k(dt(e),Ie))(e));let r=!1;if(n.length||o.length){const a=e.selection.getBookmark();Ht(e,n,t),((e,t,n)=>{S(n,"Indent"===t?rt:t=>ot(e,t))})(e,t,o),e.selection.moveToBookmark(a),e.selection.setRng(st(e.selection.getRng())),e.nodeChanged(),r=!0}return r},Zt=(e,t)=>!(e=>{const t=ct(e);return wt(e,t)||!e.selection.isEditable()})(e)&&Vt(e,t),Kt=e=>Zt(e,"Indent"),Gt=e=>Zt(e,"Outdent"),Jt=e=>Zt(e,"Flatten"),Qt=e=>"\ufeff"===e,Yt=(e,t)=>{return n=e,o=function(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}($,t),ie(n,o,r).isSome();var n,o,r};var Xt=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const en=Oe.DOM,tn=e=>{const t={},n=n=>{let o=e[n?"startContainer":"endContainer"],r=e[n?"startOffset":"endOffset"];if(Me(o)){const e=en.create("span",{"data-mce-type":"bookmark"});o.hasChildNodes()?(r=Math.min(r,o.childNodes.length-1),n?o.insertBefore(e,o.childNodes[r]):en.insertAfter(e,o.childNodes[r])):o.appendChild(e),o=e,r=0}t[n?"startContainer":"endContainer"]=o,t[n?"startOffset":"endOffset"]=r};return n(!0),e.collapsed||n(),t},nn=e=>{const t=t=>{let n=e[t?"startContainer":"endContainer"],o=e[t?"startOffset":"endOffset"];if(n){if(Me(n)&&n.parentNode){const e=n;o=(e=>{var t;let n=null===(t=e.parentNode)||void 0===t?void 0:t.firstChild,o=0;for(;n;){if(n===e)return o;Me(n)&&"bookmark"===n.getAttribute("data-mce-type")||o++,n=n.nextSibling}return-1})(n),n=n.parentNode,en.remove(e),!n.hasChildNodes()&&en.isBlock(n)&&n.appendChild(en.create("br"))}e[t?"startContainer":"endContainer"]=n,e[t?"startOffset":"endOffset"]=o}};t(!0),t();const n=en.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),st(n)},on=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},rn=(e,t)=>{Fe.each(t,((t,n)=>{e.setAttribute(n,t)}))},an=(e,t,n)=>{((e,t,n)=>{const o=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",o)})(e,t,n),((e,t,n)=>{rn(t,n["list-attributes"]),Fe.each(e.select("li",t),(e=>{rn(e,n["list-item-attributes"])}))})(e,t,n)},sn=(e,t)=>l(t)&&!Ue(t,e.schema.getBlockElements()),ln=(e,t,n,o)=>{let r=t[n?"startContainer":"endContainer"];const a=t[n?"startOffset":"endOffset"];Me(r)&&(r=r.childNodes[Math.min(a,r.childNodes.length-1)]||r),!n&&qe(r.nextSibling)&&(r=r.nextSibling);const s=(t,n)=>{var r;const a=new ve(t,(t=>{for(;!e.dom.isBlock(t)&&t.parentNode&&o!==t;)t=t.parentNode;return t})(t)),s=n?"next":"prev";let l;for(;l=a[s]();)if(!He(e,l)&&!Qt(l.textContent)&&0!==(null===(r=l.textContent)||void 0===r?void 0:r.length))return h.some(l);return h.none()};if(n&&Pe(r))if(Qt(r.textContent))r=s(r,!1).getOr(r);else for(null!==r.parentNode&&sn(e,r.parentNode)&&(r=r.parentNode);null!==r.previousSibling&&(sn(e,r.previousSibling)||Pe(r.previousSibling));)r=r.previousSibling;if(!n&&Pe(r))if(Qt(r.textContent))r=s(r,!0).getOr(r);else for(null!==r.parentNode&&sn(e,r.parentNode)&&(r=r.parentNode);null!==r.nextSibling&&(sn(e,r.nextSibling)||Pe(r.nextSibling));)r=r.nextSibling;for(;r.parentNode!==o;){const t=r.parentNode;if(We(e,r))return r;if(/^(TD|TH)$/.test(t.nodeName))return r;r=t}return r},cn=(e,t,n)=>{const o=e.selection.getRng();let r="LI";const a=pt(e,((e,t)=>{const n=e.selection.getStart(!0),o=ln(e,t,!0,e.getBody());return Yt(B.fromDom(o),B.fromDom(t.commonAncestorContainer))?t.commonAncestorContainer:n})(e,o)),s=e.dom;if("false"===s.getContentEditable(e.selection.getNode()))return;"DL"===(t=t.toUpperCase())&&(r="DT");const l=tn(o),i=k(((e,t,n)=>{const o=[],r=e.dom,a=ln(e,t,!0,n),s=ln(e,t,!1,n);let l;const i=[];for(let e=a;e&&(i.push(e),e!==s);e=e.nextSibling);return Fe.each(i,(t=>{var a;if(We(e,t))return o.push(t),void(l=null);if(r.isBlock(t)||qe(t))return qe(t)&&r.remove(t),void(l=null);const s=t.nextSibling;Xt.isBookmarkNode(t)&&(Be(s)||We(e,s)||!s&&t.parentNode===n)?l=null:(l||(l=r.create("p"),null===(a=t.parentNode)||void 0===a||a.insertBefore(l,t),o.push(l)),l.appendChild(t))})),o})(e,o,a),e.dom.isEditable);Fe.each(i,(o=>{let a;const l=o.previousSibling,i=o.parentNode;Le(i)||(l&&Be(l)&&l.nodeName===t&&((e,t,n)=>{const o=e.getStyle(t,"list-style-type");let r=n?n["list-style-type"]:"";return r=null===r?"":r,o===r})(s,l,n)?(a=l,o=s.rename(o,r),l.appendChild(o)):(a=s.create(t),i.insertBefore(a,o),a.appendChild(o),o=s.rename(o,r)),((e,t,n)=>{Fe.each(n,(n=>e.setStyle(t,n,"")))})(s,o,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),an(s,a,n),dn(e.dom,a))})),e.selection.setRng(nn(l))},un=(e,t,n)=>{return((e,t)=>Be(e)&&e.nodeName===(null==t?void 0:t.nodeName))(t,n)&&((e,t,n)=>e.getStyle(t,"list-style-type",!0)===e.getStyle(n,"list-style-type",!0))(e,t,n)&&(o=n,t.className===o.className);var o},dn=(e,t)=>{let n,o=t.nextSibling;if(un(e,t,o)){const r=o;for(;n=r.firstChild;)t.appendChild(n);e.remove(r)}if(o=t.previousSibling,un(e,t,o)){const r=o;for(;n=r.lastChild;)t.insertBefore(n,t.firstChild);e.remove(r)}},mn=(e,t,n,o)=>{if(t.nodeName!==n){const r=e.dom.rename(t,n);an(e.dom,r,o),kt(e,on(n),r)}else an(e.dom,t,o),kt(e,on(n),t)},pn=(e,t,n,o)=>{if(t.classList.forEach(((e,n,o)=>{e.startsWith("tox-")&&(o.remove(e),0===o.length&&t.removeAttribute("class"))})),t.nodeName!==n){const r=e.dom.rename(t,n);an(e.dom,r,o),kt(e,on(n),r)}else an(e.dom,t,o),kt(e,on(n),t)},gn=e=>"list-style-type"in e,hn=(e,t,n)=>{const o=ct(e);if(vt(e,o))return;const a=ut(e),s=r(n)?n:{};a.length>0?((e,t,n,o,r)=>{const a=Be(t);if(!a||t.nodeName!==o||gn(r)||ft(t)){cn(e,o,r);const s=tn(e.selection.getRng()),l=a?[t,...n]:n,i=a&&ft(t)?pn:mn;Fe.each(l,(t=>{i(e,t,o,r)})),e.selection.setRng(nn(s))}else Jt(e)})(e,o,a,t,s):((e,t,n,o)=>{if(t!==e.getBody())if(t)if(t.nodeName!==n||gn(o)||ft(t)){const r=tn(e.selection.getRng());ft(t)&&t.classList.forEach(((e,n,o)=>{e.startsWith("tox-")&&(o.remove(e),0===o.length&&t.removeAttribute("class"))})),an(e.dom,t,o);const a=e.dom.rename(t,n);dn(e.dom,a),e.selection.setRng(nn(r)),cn(e,n,o),kt(e,on(n),a)}else Jt(e);else cn(e,n,o),kt(e,on(n),t)})(e,o,t,s)},bn=Oe.DOM,fn=(e,t)=>{const n=Fe.grep(e.select("ol,ul",t));Fe.each(n,(t=>{((e,t)=>{const n=t.parentElement;if(n&&"LI"===n.nodeName&&n.firstChild===t){const o=n.previousSibling;o&&"LI"===o.nodeName?(o.appendChild(t),Ve(e,n)&&bn.remove(n)):bn.setStyle(n,"listStyleType","none")}if(Be(n)){const e=n.previousSibling;e&&"LI"===e.nodeName&&e.appendChild(t)}})(e,t)}))},yn=(e,t,n,o)=>{let r=t.startContainer;const a=t.startOffset;if(Pe(r)&&(n?a<r.data.length:a>0))return r;const s=e.schema.getNonEmptyElements();Me(r)&&(r=we.getNode(r,a));const l=new ve(r,o);n&&((e,t)=>!!qe(t)&&e.isBlock(t.nextSibling)&&!qe(t.previousSibling))(e.dom,r)&&l.next();const i=n?l.next.bind(l):l.prev2.bind(l);for(;r=i();){if("LI"===r.nodeName&&!r.hasChildNodes())return r;if(s[r.nodeName])return r;if(Pe(r)&&r.data.length>0)return r}return null},wn=(e,t)=>{const n=t.childNodes;return 1===n.length&&!Be(n[0])&&e.isBlock(n[0])},vn=e=>h.from(e).map(B.fromDom).filter(K).exists((e=>((e,t=!1)=>se(e)?e.dom.isContentEditable:de(e).fold(d(t),(e=>"true"===me(e))))(e)&&!w(["details"],H(e)))),xn=(e,t,n)=>{let o;const r=wn(e,n)?n.firstChild:n;if(((e,t)=>{wn(e,t)&&vn(t.firstChild)&&e.remove(t.firstChild,!0)})(e,t),!Ve(e,t,!0))for(;o=t.firstChild;)r.appendChild(o)},Sn=(e,t,n)=>{let o;const r=t.parentNode;if(!Ze(e,t)||!Ze(e,n))return;Be(n.lastChild)&&(o=n.lastChild),r===n.lastChild&&qe(r.previousSibling)&&e.remove(r.previousSibling);const a=n.lastChild;a&&qe(a)&&t.hasChildNodes()&&e.remove(a),Ve(e,n,!0)&&fe(B.fromDom(n)),xn(e,t,n),o&&n.appendChild(o);const s=((e,t)=>{const n=e.dom,o=t.dom;return n!==o&&n.contains(o)})(B.fromDom(n),B.fromDom(t))?e.getParents(t,Be,n):[];e.remove(t),S(s,(t=>{Ve(e,t)&&t!==e.getRoot()&&e.remove(t)}))},kn=(e,t,n,o)=>{const r=e.dom;if(r.isEmpty(o))((e,t,n)=>{fe(B.fromDom(n)),Sn(e.dom,t,n),e.selection.setCursorLocation(n,0)})(e,n,o);else{const a=tn(t);Sn(r,n,o),e.selection.setRng(nn(a))}},Cn=(e,t)=>{const n=e.dom,o=e.selection,r=o.getStart(),a=mt(e,r),s=n.getParent(o.getStart(),"LI",a);if(s){const r=s.parentElement;if(r===e.getBody()&&Ve(n,r))return!0;const l=st(o.getRng()),i=n.getParent(yn(e,l,t,a),"LI",a),c=i&&(t?n.isChildOf(s,i):n.isChildOf(i,s));if(i&&i!==s&&!c)return e.undoManager.transact((()=>{var n,o;t?kn(e,l,i,s):(null===(o=(n=s).parentNode)||void 0===o?void 0:o.firstChild)===n?Gt(e):((e,t,n,o)=>{const r=tn(t);Sn(e.dom,n,o);const a=nn(r);e.selection.setRng(a)})(e,l,s,i)})),!0;if(c&&!t&&i!==s)return e.undoManager.transact((()=>{if(l.commonAncestorContainer.parentElement){const t=tn(l),o=l.commonAncestorContainer.parentElement;xn(n,l.commonAncestorContainer.parentElement,i),o.remove();const r=nn(t);e.selection.setRng(r)}})),!0;if(!i&&!t&&0===l.startOffset&&0===l.endOffset)return e.undoManager.transact((()=>{Jt(e)})),!0}return!1},Tn=(e,t)=>{const n=e.dom,o=e.selection.getStart(),r=mt(e,o),a=n.getParent(o,n.isBlock,r);if(a&&n.isEmpty(a,void 0,{checkRootAsContent:!0})){const o=st(e.selection.getRng()),s=n.getParent(yn(e,o,t,r),"LI",r);if(s){const l=e=>w(["td","th","caption"],H(e)),i=e=>e.dom===r;return!!((e,t,n=m)=>P(e,t,n).getOr(e.isNone()&&t.isNone()))(ce(B.fromDom(s),l,i),ce(B.fromDom(o.startContainer),l,i),$)&&(e.undoManager.transact((()=>{const o=s.parentNode;((e,t,n)=>{const o=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),o&&e.isEmpty(o)&&e.remove(o)})(n,a,r),dn(n,o),e.selection.select(s,!0),e.selection.collapse(t)})),!0)}}return!1},An=e=>{const t=e.selection.getStart(),n=mt(e,t);return e.dom.getParent(t,"LI,DT,DD",n)||dt(e).length>0},_n=(e,t)=>{const n=e.selection;return!vt(e,n.getNode())&&(n.isCollapsed()?((e,t)=>Cn(e,t)||Tn(e,t))(e,t):(e=>!!An(e)&&(e.undoManager.transact((()=>{let t=!0;const n=()=>t=!1;e.on("input",n),e.execCommand("Delete"),e.off("input",n),t&&e.dispatch("input"),fn(e.dom,e.getBody())})),!0))(e))},En=e=>{const t=E(Ct(e).split("")),n=x(t,((e,t)=>{const n=e.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,t)*n}));return C(n,((e,t)=>e+t),0)},Nn=e=>{if(--e<0)return"";{const t=e%26,n=Math.floor(e/26);return Nn(n)+String.fromCharCode("A".charCodeAt(0)+t)}},On=e=>{const t=parseInt(e.start,10);return R(e.listStyleType,"upper-alpha")?Nn(t):R(e.listStyleType,"lower-alpha")?Nn(t).toLowerCase():e.start},Fn=e=>{const t=ct(e);$e(t)&&!vt(e,t)&&e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:On({start:e.dom.getAttrib(t,"start","1"),listStyleType:h.from(e.dom.getStyle(t,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:t=>{(e=>{switch((e=>/^[0-9]+$/.test(e)?2:/^[A-Z]+$/.test(e)?0:(e=>/^[a-z]+$/.test(e))(e)?1:e.length>0?4:3)(e)){case 2:return h.some({listStyleType:h.none(),start:e});case 0:return h.some({listStyleType:h.some("upper-alpha"),start:En(e).toString()});case 1:return h.some({listStyleType:h.some("lower-alpha"),start:En(e).toString()});case 3:return h.some({listStyleType:h.none(),start:""});case 4:return h.none()}})(t.getData().start).each((t=>{e.execCommand("mceListUpdate",!1,{attrs:{start:"1"===t.start?"":t.start},styles:{"list-style-type":t.listStyleType.getOr("")}})})),t.close()}})},Dn=(e,t)=>()=>{const n=ct(e);return l(n)&&n.nodeName===t},Rn=e=>{e.addCommand("mceListProps",(()=>{Fn(e)}))},Pn=e=>{e.on("BeforeExecCommand",(t=>{const n=t.command.toLowerCase();"indent"===n?Kt(e):"outdent"===n&&Gt(e)})),e.addCommand("InsertUnorderedList",((t,n)=>{hn(e,"UL",n)})),e.addCommand("InsertOrderedList",((t,n)=>{hn(e,"OL",n)})),e.addCommand("InsertDefinitionList",((t,n)=>{hn(e,"DL",n)})),e.addCommand("RemoveList",(()=>{Jt(e)})),Rn(e),e.addCommand("mceListUpdate",((t,n)=>{r(n)&&((e,t)=>{const n=ct(e);null===n||vt(e,n)||e.undoManager.transact((()=>{r(t.styles)&&e.dom.setStyles(n,t.styles),r(t.attrs)&&Ce(t.attrs,((t,o)=>e.dom.setAttrib(n,o,t)))}))})(e,n)})),e.addQueryStateHandler("InsertUnorderedList",Dn(e,"UL")),e.addQueryStateHandler("InsertOrderedList",Dn(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",Dn(e,"DL"))};var Mn=tinymce.util.Tools.resolve("tinymce.html.Node");const Bn=e=>3===e.type,jn=e=>0===e.length,$n=e=>{const t=(t,n)=>{const o=Mn.create("li");S(t,(e=>o.append(e))),n?e.insert(o,n,!0):e.append(o)},n=C(e.children(),((e,n)=>Bn(n)?[...e,n]:jn(e)||Bn(n)?e:(t(e,n),[])),[]);jn(n)||t(n)},Ln=e=>{Ge(e)&&(e=>{e.on("keydown",(t=>{t.keyCode!==xe.TAB||xe.metaKeyPressed(t)||e.undoManager.transact((()=>{(t.shiftKey?Gt(e):Kt(e))&&t.preventDefault()}))}))})(e),(e=>{e.on("ExecCommand",(t=>{const n=t.command.toLowerCase();"delete"!==n&&"forwarddelete"!==n||!An(e)||fn(e.dom,e.getBody())})),e.on("keydown",(t=>{t.keyCode===xe.BACKSPACE?_n(e,!1)&&t.preventDefault():t.keyCode===xe.DELETE&&_n(e,!0)&&t.preventDefault()}))})(e)},In=(e,t)=>n=>(n.setEnabled(e.selection.isEditable()),xt(e,(o=>{n.setActive(yt(o.parents,t)),n.setEnabled(!vt(e,o.element)&&e.selection.isEditable())}))),zn=(e,t)=>n=>xt(e,(o=>n.setEnabled(yt(o.parents,t)&&!vt(e,o.element))));e.add("lists",(e=>((e=>{(0,e.options.register)("lists_indent_on_tab",{processor:"boolean",default:!0})})(e),(e=>{e.on("PreInit",(()=>{const{parser:t}=e;t.addNodeFilter("ul,ol",(e=>S(e,$n)))}))})(e),e.hasPlugin("rtc",!0)?Rn(e):(Ln(e),Pn(e)),(e=>{const t=t=>()=>e.execCommand(t);e.hasPlugin("advlist")||(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:In(e,"OL")}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:In(e,"UL")}))})(e),(e=>{const t={text:"List properties...",icon:"ordered-list",onAction:()=>e.execCommand("mceListProps"),onSetup:zn(e,"OL")};e.ui.registry.addMenuItem("listprops",t),e.ui.registry.addContextMenu("lists",{update:t=>{const n=ct(e,t);return $e(n)?["listprops"]:[]}})})(e),(e=>({backspaceDelete:t=>{_n(e,t)}}))(e))))}()},27813:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),n=tinymce.util.Tools.resolve("tinymce.util.Tools");const o=e=>t=>t.options.get(e),r=o("content_style"),a=o("content_css_cors"),s=o("body_class"),l=o("body_id");e.add("preview",(e=>{(e=>{e.addCommand("mcePreview",(()=>{(e=>{const o=(e=>{var o;let i="";const c=e.dom.encode,u=null!==(o=r(e))&&void 0!==o?o:"";i+='<base href="'+c(e.documentBaseURI.getURI())+'">';const d=a(e)?' crossorigin="anonymous"':"";n.each(e.contentCSS,(t=>{i+='<link type="text/css" rel="stylesheet" href="'+c(e.documentBaseURI.toAbsolute(t))+'"'+d+">"})),u&&(i+='<style type="text/css">'+u+"</style>");const m=l(e),p=s(e),g='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(t.os.isMacOS()||t.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",h=e.getBody().dir,b=h?' dir="'+c(h)+'"':"";return"<!DOCTYPE html><html><head>"+i+'</head><body id="'+c(m)+'" class="mce-content-body '+c(p)+'"'+b+">"+e.getContent()+g+"</body></html>"})(e);e.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:o}}).focus("close")})(e)}))})(e),(e=>{const t=()=>e.execCommand("mcePreview");e.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:t,context:"any"}),e.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:t,context:"any"})})(e)}))}()},31148:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");e.add("code",(e=>((e=>{e.addCommand("mceCodeEditor",(()=>{(e=>{const t=(e=>e.getContent({source_view:!0}))(e);e.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:t},onSubmit:t=>{((e,t)=>{e.focus(),e.undoManager.transact((()=>{e.setContent(t)})),e.selection.setCursorLocation(),e.nodeChanged()})(e,t.getData().code),t.close()}})})(e)}))})(e),(e=>{const t=()=>e.execCommand("mceCodeEditor");e.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:t}),e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:t})})(e),{})))}()},33846:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||(null===(a=o.constructor)||void 0===a?void 0:a.name)===r.name)?"string":t;var n,o,r,a})(t)===e,n=e=>t=>typeof t===e,o=t("string"),r=t("object"),a=t("array"),s=n("boolean"),l=e=>!(e=>null==e)(e),i=n("function"),c=n("number"),u=()=>{},d=e=>()=>e,m=(e,t)=>e===t,p=e=>t=>!e(t),g=d(!1);class h{constructor(e,t){this.tag=e,this.value=t}static some(e){return new h(!0,e)}static none(){return h.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?h.some(e(this.value)):h.none()}bind(e){return this.tag?e(this.value):h.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:h.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return l(e)?h.some(e):h.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}h.singletonNone=new h(!1);const b=Array.prototype.slice,f=Array.prototype.indexOf,y=Array.prototype.push,w=(e,t)=>{return n=e,o=t,f.call(n,o)>-1;var n,o},v=(e,t)=>{for(let n=0,o=e.length;n<o;n++)if(t(e[n],n))return!0;return!1},x=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},S=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},k=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},C=(e,t,n)=>(S(e,((e,o)=>{n=t(n,e,o)})),n),T=(e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return h.some(r);if(n(r,o))break}return h.none()},A=(e,t)=>T(e,t,g),_=(e,t)=>(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);y.apply(t,e[n])}return t})(x(e,t)),E=e=>{const t=b.call(e,0);return t.reverse(),t},N=(e,t)=>t>=0&&t<e.length?h.some(e[t]):h.none(),O=e=>N(e,0),F=e=>N(e,e.length-1),D=(e,t)=>{const n=[],o=i(t)?e=>v(n,(n=>t(n,e))):e=>w(n,e);for(let t=0,r=e.length;t<r;t++){const r=e[t];o(r)||n.push(r)}return n},R=(e,t,n=m)=>e.exists((e=>n(e,t))),P=(e,t,n)=>e.isSome()&&t.isSome()?h.some(n(e.getOrDie(),t.getOrDie())):h.none(),M=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},B=(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return M(n.childNodes[0])},j=(e,t)=>{const n=(t||document).createElement(e);return M(n)},$=M,L=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},I=(e,t)=>e.dom===t.dom,z=L,q="undefined"!=typeof window?window:Function("return this;")(),W=(e,t)=>((e,t)=>{let n=null!=t?t:q;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),U=Object.getPrototypeOf,H=e=>e.dom.nodeName.toLowerCase(),V=e=>e.dom.nodeType,Z=e=>t=>V(t)===e,K=e=>G(e)&&(e=>{const t=W("ownerDocument.defaultView",e);return r(e)&&((e=>((e,t)=>{const n=((e,t)=>W(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n})("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(U(e).constructor.name))})(e.dom),G=Z(1),J=Z(3),Q=Z(11),Y=e=>t=>G(t)&&H(t)===e,X=e=>h.from(e.dom.parentNode).map($),ee=e=>x(e.dom.childNodes,$),te=(e,t)=>{const n=e.dom.childNodes;return h.from(n[t]).map($)},ne=e=>te(e,0),oe=e=>te(e,e.dom.childNodes.length-1),re=e=>$(e.dom.host),ae=e=>{const t=J(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return(e=>{const t=(e=>$(e.dom.getRootNode()))(e);return Q(n=t)&&l(n.dom.host)?h.some(t):h.none();var n})($(t)).fold((()=>n.body.contains(t)),(o=ae,r=re,e=>o(r(e))));var o,r};var se=(e,t,n,o,r)=>e(n,o)?h.some(n):i(r)&&r(n)?h.none():t(n,o,r);const le=(e,t,n)=>{let o=e.dom;const r=i(n)?n:g;for(;o.parentNode;){o=o.parentNode;const e=$(o);if(t(e))return h.some(e);if(r(e))break}return h.none()},ie=(e,t,n)=>se(((e,t)=>t(e)),le,e,t,n),ce=(e,t,n)=>le(e,(e=>L(e,t)),n),ue=(e,t)=>{X(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},de=(e,t)=>{e.dom.appendChild(t.dom)},me=(e,t)=>{S(t,(t=>{de(e,t)}))},pe=e=>{e.dom.textContent="",S(ee(e),(e=>{ge(e)}))},ge=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)};var he=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),be=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),fe=tinymce.util.Tools.resolve("tinymce.util.VK");const ye=e=>x(e,$),we=Object.keys,ve=(e,t)=>{const n=we(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},xe=(e,t)=>{const n=e.dom;ve(t,((e,t)=>{((e,t,n)=>{if(!(o(n)||s(n)||c(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(n,t,e)}))},Se=e=>C(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),ke=e=>(e=>$(e.dom.cloneNode(!0)))(e),Ce=(e,t)=>{const n=((e,t)=>{const n=j(t),o=Se(e);return xe(n,o),n})(e,t);var o,r;r=n,(e=>h.from(e.dom.nextSibling).map($))(o=e).fold((()=>{X(o).each((e=>{de(e,r)}))}),(e=>{ue(e,r)}));const a=ee(e);return me(n,a),ge(e),n};var Te=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ae=tinymce.util.Tools.resolve("tinymce.util.Tools");const _e=e=>t=>l(t)&&t.nodeName.toLowerCase()===e,Ee=e=>t=>l(t)&&e.test(t.nodeName),Ne=e=>l(e)&&3===e.nodeType,Oe=e=>l(e)&&1===e.nodeType,Fe=Ee(/^(OL|UL|DL)$/),De=Ee(/^(OL|UL)$/),Re=_e("ol"),Pe=Ee(/^(LI|DT|DD)$/),Me=Ee(/^(DT|DD)$/),Be=Ee(/^(TH|TD)$/),je=_e("br"),$e=(e,t)=>l(t)&&t.nodeName in e.schema.getTextBlockElements(),Le=(e,t)=>l(e)&&e.nodeName in t,Ie=(e,t)=>l(t)&&t.nodeName in e.schema.getVoidElements(),ze=(e,t,n)=>{const o=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&o},qe=(e,t)=>e.isChildOf(t,e.getRoot()),We=e=>t=>t.options.get(e),Ue=We("lists_indent_on_tab"),He=We("forced_root_block"),Ve=We("forced_root_block_attrs"),Ze=(e,t,n={})=>{const o=e.dom,r=e.schema.getBlockElements(),a=o.createFragment(),s=He(e),l=Ve(e);let i,c,u=!1;for(c=o.create(s,{...l,...n.style?{style:n.style}:{}}),Le(t.firstChild,r)||a.appendChild(c);i=t.firstChild;){const e=i.nodeName;u||"SPAN"===e&&"bookmark"===i.getAttribute("data-mce-type")||(u=!0),Le(i,r)?(a.appendChild(i),c=null):(c||(c=o.create(s,l),a.appendChild(c)),c.appendChild(i))}return!u&&c&&c.appendChild(o.create("br",{"data-mce-bogus":"1"})),a},Ke=Te.DOM,Ge=Y("dd"),Je=Y("dt"),Qe=e=>{Je(e)&&Ce(e,"dd")},Ye=(e,t)=>{if(Ne(e))return{container:e,offset:t};const n=he.getNode(e,t);return Ne(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&Ne(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&Ne(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},Xe=e=>{const t=e.cloneRange(),n=Ye(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);const o=Ye(e.endContainer,e.endOffset);return t.setEnd(o.container,o.offset),t},et=["OL","UL","DL"],tt=et.join(","),nt=(e,t)=>{const n=t||e.selection.getStart(!0);return e.dom.getParent(n,tt,at(e,n))},ot=e=>{const t=e.selection.getSelectedBlocks();return k(((e,t)=>{const n=Ae.map(t,(t=>e.dom.getParent(t,"li,dd,dt",at(e,t))||t));return D(n)})(e,t),Pe)},rt=(e,t)=>{const n=e.dom.getParents(t,"TD,TH");return n.length>0?n[0]:e.getBody()},at=(e,t)=>{const n=e.dom.getParents(t,e.dom.isBlock),o=A(n,(t=>{return(t=>t.nodeName.toLowerCase()!==He(e))(t)&&(n=e.schema,!Fe(o=t)&&!Pe(o)&&v(et,(e=>n.isValidChild(o.nodeName,e))));var n,o}));return o.getOr(e.getBody())},st=(e,t)=>{const n=e.dom.getParents(t,"ol,ul",at(e,t));return F(n)},lt=e=>/\btox\-/.test(e.className),it=(e,t)=>T(e,Fe,Be).exists((e=>e.nodeName===t&&!lt(e))),ct=(e,t)=>null!==t&&!e.dom.isEditable(t),ut=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return ct(e,n)||!e.selection.isEditable()},dt=(e,t)=>{const n=e.selection.getNode();return t({parents:e.dom.getParents(n),element:n}),e.on("NodeChange",t),()=>e.off("NodeChange",t)},mt=(e,t)=>{const n=(t||document).createDocumentFragment();return S(e,(e=>{n.appendChild(e.dom)})),$(n)},pt=(e,t,n)=>e.dispatch("ListMutation",{action:t,element:n}),gt=(ht=/^\s+|\s+$/g,e=>e.replace(ht,""));var ht;const bt=(e,t,n)=>{((e,t,n)=>{if(!o(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);(e=>void 0!==e.style&&i(e.style.getPropertyValue))(e)&&e.style.setProperty(t,n)})(e.dom,t,n)},ft=e=>z(e,"OL,UL"),yt=e=>ne(e).exists(ft),wt=e=>"listAttributes"in e,vt=e=>"isComment"in e,xt=e=>e.depth>0,St=e=>e.isSelected,kt=e=>{const t=ee(e),n=oe(e).exists(ft)?t.slice(0,-1):t;return x(n,ke)},Ct=(e,t)=>{de(e.item,t.list)},Tt=(e,t)=>{const n={list:j(t,e),item:j("li",e)};return de(n.list,n.item),n},At=(e,t,n)=>{const o=t.slice(0,n.depth);return F(o).each((t=>{if(wt(n)){const o=((e,t,n)=>{const o=j("li",e);return xe(o,t),me(o,n),o})(e,n.itemAttributes,n.content);((e,t)=>{de(e.list,t),e.item=t})(t,o),((e,t)=>{H(e.list)!==t.listType&&(e.list=Ce(e.list,t.listType)),xe(e.list,t.listAttributes)})(t,n)}else if((e=>"isFragment"in e)(n))me(t.item,n.content);else{const e=B(`\x3c!--${n.content}--\x3e`);de(t.list,e)}})),o},_t=e=>(S(e,((t,n)=>{((e,t)=>{const n=e[t].depth,o=e=>e.depth===n&&!e.dirty,r=e=>e.depth<n;return T(E(e.slice(0,t)),o,r).orThunk((()=>T(e.slice(t+1),o,r)))})(e,n).fold((()=>{t.dirty&&wt(t)&&(e=>{e.listAttributes=(e=>{const t={};var n;return((e,t,n,o)=>{ve(e,((e,r)=>{(t(e,r)?n:o)(e,r)}))})(e,((e,t)=>"start"!==t),(n=t,(e,t)=>{n[t]=e}),u),t})(e.listAttributes)})(t)}),(e=>{return o=e,void(wt(n=t)&&wt(o)&&(n.listType=o.listType,n.listAttributes={...o.listAttributes}));var n,o}))})),e),Et=(e,t,n,o)=>{var r,a;if(8===V(a=o)||"#comment"===H(a))return[{depth:e+1,content:null!==(r=o.dom.nodeValue)&&void 0!==r?r:"",dirty:!1,isSelected:!1,isComment:!0}];t.each((e=>{I(e.start,o)&&n.set(!0)}));const s=((e,t,n)=>X(e).filter(G).map((o=>({depth:t,dirty:!1,isSelected:n,content:kt(e),itemAttributes:Se(e),listAttributes:Se(o),listType:H(o),isInPreviousLi:!1}))))(o,e,n.get());t.each((e=>{I(e.end,o)&&n.set(!1)}));const l=oe(o).filter(ft).map((o=>Ot(e,t,n,o))).getOr([]);return s.toArray().concat(l)},Nt=(e,t,n,o)=>ne(o).filter(ft).fold((()=>Et(e,t,n,o)),(r=>{const a=C(ee(o),((o,a,s)=>{if(0===s)return o;if(z(a,"LI"))return o.concat(Et(e,t,n,a));{const t={isFragment:!0,depth:e,content:[a],isSelected:!1,dirty:!1,parentListType:H(r)};return o.concat(t)}}),[]);return Ot(e,t,n,r).concat(a)})),Ot=(e,t,n,o)=>_(ee(o),(o=>(ft(o)?Ot:Nt)(e+1,t,n,o))),Ft=(e,t,n)=>{const o=((e,t)=>{const n=(()=>{let e=!1;return{get:()=>e,set:t=>{e=t}}})();return x(e,(e=>({sourceList:e,entries:Ot(0,t,n,e)})))})(t,(e=>{const t=x(ot(e),$);return P(A(t,p(yt)),A(E(t),p(yt)),((e,t)=>({start:e,end:t})))})(e));S(o,(t=>{((e,t)=>{S(k(e,St),(e=>((e,t)=>{switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}t.dirty=!0})(t,e)))})(t.entries,n);const o=((e,t)=>_(((e,t)=>{if(0===e.length)return[];{let n=t(e[0]);const o=[];let r=[];for(let a=0,s=e.length;a<s;a++){const s=e[a],l=t(s);l!==n&&(o.push(r),r=[]),n=l,r.push(s)}return 0!==r.length&&o.push(r),o}})(t,xt),(t=>O(t).exists(xt)?((e,t)=>{const n=_t(t);return((e,t)=>{let n=h.none();const o=C(t,((t,o,r)=>vt(o)?0===r?(n=h.some(o),t):At(e,t,o):o.depth>t.length?((e,t,n)=>{const o=((e,t,n)=>{const o=[];for(let r=0;r<n;r++)o.push(Tt(e,wt(t)?t.listType:t.parentListType));return o})(e,n,n.depth-t.length);var r;return(e=>{for(let t=1;t<e.length;t++)Ct(e[t-1],e[t])})(o),((e,t)=>{for(let t=0;t<e.length-1;t++)bt(e[t].item,"list-style-type","none");F(e).each((e=>{wt(t)&&(xe(e.list,t.listAttributes),xe(e.item,t.itemAttributes)),me(e.item,t.content)}))})(o,n),r=o,P(F(t),O(r),Ct),t.concat(o)})(e,t,o):At(e,t,o)),[]);return n.each((e=>{const t=B(`\x3c!--${e.content}--\x3e`);O(o).each((e=>{((e,t)=>{ne(e).fold((()=>{de(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))})(e.list,t)}))})),O(o).map((e=>e.list))})(e.contentDocument,n).toArray()})(e,t):((e,t)=>{const n=_t(t);return x(n,(t=>{const n=vt(t)?mt([B(`\x3c!--${t.content}--\x3e`)]):mt(t.content),o=wt(t)?t.itemAttributes:{};return $(Ze(e,n.dom,o))}))})(e,t))))(e,t.entries);var r;S(o,(t=>{pt(e,"Indent"===n?"IndentList":"OutdentList",t.dom)})),r=t.sourceList,S(o,(e=>{ue(r,e)})),ge(t.sourceList)}))},Dt=(e,t)=>{const n=ye((e=>{const t=(e=>{const t=st(e,e.selection.getStart()),n=k(e.selection.getSelectedBlocks(),De);return t.toArray().concat(n)})(e),n=(e=>{const t=e.selection.getStart();return e.dom.getParents(t,"ol,ul",at(e,t))})(e);return A(n,(e=>{return t=$(e),X(t).exists((e=>Pe(e.dom)&&ne(e).exists((e=>!Fe(e.dom)))&&oe(e).exists((e=>!Fe(e.dom)))));var t})).fold((()=>((e,t)=>{const n=x(t,(t=>st(e,t).getOr(t)));return D(n)})(e,t)),(e=>[e]))})(e)),o=ye((e=>k(ot(e),Me))(e));let r=!1;if(n.length||o.length){const a=e.selection.getBookmark();Ft(e,n,t),((e,t,n)=>{S(n,"Indent"===t?Qe:t=>((e,t)=>{var n;Ge(t)?Ce(t,"dt"):Je(t)&&(n=t,h.from(n.dom.parentElement).map($)).each((n=>((e,t,n)=>{const o=Ke.select('span[data-mce-type="bookmark"]',t),r=Ze(e,n),a=Ke.createRng();a.setStartAfter(n),a.setEndAfter(t);const s=a.extractContents();for(let t=s.firstChild;t;t=t.firstChild)if("LI"===t.nodeName&&e.dom.isEmpty(t)){Ke.remove(t);break}e.dom.isEmpty(s)||Ke.insertAfter(s,t),Ke.insertAfter(r,t);const l=n.parentElement;l&&ze(e.dom,l)&&(e=>{const t=e.parentNode;t&&Ae.each(o,(e=>{t.insertBefore(e,n.parentNode)})),Ke.remove(e)})(l),Ke.remove(n),ze(e.dom,t)&&Ke.remove(t)})(e,n.dom,t.dom)))})(e,t))})(e,t,o),e.selection.moveToBookmark(a),e.selection.setRng(Xe(e.selection.getRng())),e.nodeChanged(),r=!0}return r},Rt=(e,t)=>!(e=>{const t=nt(e);return ct(e,t)||!e.selection.isEditable()})(e)&&Dt(e,t),Pt=e=>Rt(e,"Indent"),Mt=e=>Rt(e,"Outdent"),Bt=e=>Rt(e,"Flatten"),jt=e=>"\ufeff"===e;var $t=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager");const Lt=Te.DOM,It=e=>{const t={},n=n=>{let o=e[n?"startContainer":"endContainer"],r=e[n?"startOffset":"endOffset"];if(Oe(o)){const e=Lt.create("span",{"data-mce-type":"bookmark"});o.hasChildNodes()?(r=Math.min(r,o.childNodes.length-1),n?o.insertBefore(e,o.childNodes[r]):Lt.insertAfter(e,o.childNodes[r])):o.appendChild(e),o=e,r=0}t[n?"startContainer":"endContainer"]=o,t[n?"startOffset":"endOffset"]=r};return n(!0),e.collapsed||n(),t},zt=e=>{const t=t=>{let n=e[t?"startContainer":"endContainer"],o=e[t?"startOffset":"endOffset"];if(n){if(Oe(n)&&n.parentNode){const e=n;o=(e=>{var t;let n=null===(t=e.parentNode)||void 0===t?void 0:t.firstChild,o=0;for(;n;){if(n===e)return o;Oe(n)&&"bookmark"===n.getAttribute("data-mce-type")||o++,n=n.nextSibling}return-1})(n),n=n.parentNode,Lt.remove(e),!n.hasChildNodes()&&Lt.isBlock(n)&&n.appendChild(Lt.create("br"))}e[t?"startContainer":"endContainer"]=n,e[t?"startOffset":"endOffset"]=o}};t(!0),t();const n=Lt.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),Xe(n)},qt=e=>{switch(e){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Wt=(e,t)=>{Ae.each(t,((t,n)=>{e.setAttribute(n,t)}))},Ut=(e,t,n)=>{((e,t,n)=>{const o=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",o)})(e,t,n),((e,t,n)=>{Wt(t,n["list-attributes"]),Ae.each(e.select("li",t),(e=>{Wt(e,n["list-item-attributes"])}))})(e,t,n)},Ht=(e,t)=>l(t)&&!Le(t,e.schema.getBlockElements()),Vt=(e,t,n,o)=>{let r=t[n?"startContainer":"endContainer"];const a=t[n?"startOffset":"endOffset"];Oe(r)&&(r=r.childNodes[Math.min(a,r.childNodes.length-1)]||r),!n&&je(r.nextSibling)&&(r=r.nextSibling);const s=(t,n)=>{var r;const a=new be(t,(t=>{for(;!e.dom.isBlock(t)&&t.parentNode&&o!==t;)t=t.parentNode;return t})(t)),s=n?"next":"prev";let l;for(;l=a[s]();)if(!Ie(e,l)&&!jt(l.textContent)&&0!==(null===(r=l.textContent)||void 0===r?void 0:r.length))return h.some(l);return h.none()};if(n&&Ne(r))if(jt(r.textContent))r=s(r,!1).getOr(r);else for(null!==r.parentNode&&Ht(e,r.parentNode)&&(r=r.parentNode);null!==r.previousSibling&&(Ht(e,r.previousSibling)||Ne(r.previousSibling));)r=r.previousSibling;if(!n&&Ne(r))if(jt(r.textContent))r=s(r,!0).getOr(r);else for(null!==r.parentNode&&Ht(e,r.parentNode)&&(r=r.parentNode);null!==r.nextSibling&&(Ht(e,r.nextSibling)||Ne(r.nextSibling));)r=r.nextSibling;for(;r.parentNode!==o;){const t=r.parentNode;if($e(e,r))return r;if(/^(TD|TH)$/.test(t.nodeName))return r;r=t}return r},Zt=(e,t,n)=>{const o=e.selection.getRng();let r="LI";const a=at(e,((e,t)=>{const n=e.selection.getStart(!0),o=Vt(e,t,!0,e.getBody());return r=$(o),a=$(t.commonAncestorContainer),s=r,l=function(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}(I,a),le(s,l,void 0).isSome()?t.commonAncestorContainer:n;var r,a,s,l})(e,o)),s=e.dom;if("false"===s.getContentEditable(e.selection.getNode()))return;"DL"===(t=t.toUpperCase())&&(r="DT");const l=It(o),i=k(((e,t,n)=>{const o=[],r=e.dom,a=Vt(e,t,!0,n),s=Vt(e,t,!1,n);let l;const i=[];for(let e=a;e&&(i.push(e),e!==s);e=e.nextSibling);return Ae.each(i,(t=>{var a;if($e(e,t))return o.push(t),void(l=null);if(r.isBlock(t)||je(t))return je(t)&&r.remove(t),void(l=null);const s=t.nextSibling;$t.isBookmarkNode(t)&&(Fe(s)||$e(e,s)||!s&&t.parentNode===n)?l=null:(l||(l=r.create("p"),null===(a=t.parentNode)||void 0===a||a.insertBefore(l,t),o.push(l)),l.appendChild(t))})),o})(e,o,a),e.dom.isEditable);Ae.each(i,(o=>{let a;const l=o.previousSibling,i=o.parentNode;Pe(i)||(l&&Fe(l)&&l.nodeName===t&&((e,t,n)=>{const o=e.getStyle(t,"list-style-type");let r=n?n["list-style-type"]:"";return r=null===r?"":r,o===r})(s,l,n)?(a=l,o=s.rename(o,r),l.appendChild(o)):(a=s.create(t),i.insertBefore(a,o),a.appendChild(o),o=s.rename(o,r)),((e,t)=>{Ae.each(["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"],(n=>e.setStyle(t,n,"")))})(s,o),Ut(s,a,n),Gt(e.dom,a))})),e.selection.setRng(zt(l))},Kt=(e,t,n)=>{return((e,t)=>Fe(e)&&e.nodeName===(null==t?void 0:t.nodeName))(t,n)&&((e,t,n)=>e.getStyle(t,"list-style-type",!0)===e.getStyle(n,"list-style-type",!0))(e,t,n)&&(o=n,t.className===o.className);var o},Gt=(e,t)=>{let n,o=t.nextSibling;if(Kt(e,t,o)){const r=o;for(;n=r.firstChild;)t.appendChild(n);e.remove(r)}if(o=t.previousSibling,Kt(e,t,o)){const r=o;for(;n=r.lastChild;)t.insertBefore(n,t.firstChild);e.remove(r)}},Jt=(e,t,n,o)=>{if(t.nodeName!==n){const r=e.dom.rename(t,n);Ut(e.dom,r,o),pt(e,qt(n),r)}else Ut(e.dom,t,o),pt(e,qt(n),t)},Qt=(e,t,n,o)=>{if(t.classList.forEach(((e,n,o)=>{e.startsWith("tox-")&&(o.remove(e),0===o.length&&t.removeAttribute("class"))})),t.nodeName!==n){const r=e.dom.rename(t,n);Ut(e.dom,r,o),pt(e,qt(n),r)}else Ut(e.dom,t,o),pt(e,qt(n),t)},Yt=e=>"list-style-type"in e,Xt=(e,t,n)=>{const o=nt(e);if(ut(e,o))return;const a=(e=>{const t=nt(e),n=e.selection.getSelectedBlocks();return((e,t)=>l(e)&&1===t.length&&t[0]===e)(t,n)?(e=>k(e.querySelectorAll(tt),Fe))(t):k(n,(e=>Fe(e)&&t!==e))})(e),s=r(n)?n:{};a.length>0?((e,t,n,o,r)=>{const a=Fe(t);if(!a||t.nodeName!==o||Yt(r)||lt(t)){Zt(e,o,r);const s=It(e.selection.getRng()),l=a?[t,...n]:n,i=a&&lt(t)?Qt:Jt;Ae.each(l,(t=>{i(e,t,o,r)})),e.selection.setRng(zt(s))}else Bt(e)})(e,o,a,t,s):((e,t,n,o)=>{if(t!==e.getBody())if(t)if(t.nodeName!==n||Yt(o)||lt(t)){const r=It(e.selection.getRng());lt(t)&&t.classList.forEach(((e,n,o)=>{e.startsWith("tox-")&&(o.remove(e),0===o.length&&t.removeAttribute("class"))})),Ut(e.dom,t,o);const a=e.dom.rename(t,n);Gt(e.dom,a),e.selection.setRng(zt(r)),Zt(e,n,o),pt(e,qt(n),a)}else Bt(e);else Zt(e,n,o),pt(e,qt(n),t)})(e,o,t,s)},en=Te.DOM,tn=(e,t)=>{const n=Ae.grep(e.select("ol,ul",t));Ae.each(n,(t=>{((e,t)=>{const n=t.parentElement;if(n&&"LI"===n.nodeName&&n.firstChild===t){const o=n.previousSibling;o&&"LI"===o.nodeName?(o.appendChild(t),ze(e,n)&&en.remove(n)):en.setStyle(n,"listStyleType","none")}if(Fe(n)){const e=n.previousSibling;e&&"LI"===e.nodeName&&e.appendChild(t)}})(e,t)}))},nn=(e,t,n,o)=>{let r=t.startContainer;const a=t.startOffset;if(Ne(r)&&(n?a<r.data.length:a>0))return r;const s=e.schema.getNonEmptyElements();Oe(r)&&(r=he.getNode(r,a));const l=new be(r,o);n&&((e,t)=>!!je(t)&&e.isBlock(t.nextSibling)&&!je(t.previousSibling))(e.dom,r)&&l.next();const i=n?l.next.bind(l):l.prev2.bind(l);for(;r=i();){if("LI"===r.nodeName&&!r.hasChildNodes())return r;if(s[r.nodeName])return r;if(Ne(r)&&r.data.length>0)return r}return null},on=(e,t)=>{const n=t.childNodes;return 1===n.length&&!Fe(n[0])&&e.isBlock(n[0])},rn=(e,t,n)=>{let o;const r=on(e,n)?n.firstChild:n;if(((e,t)=>{on(e,t)&&(e=>h.from(e).map($).filter(K).exists((e=>((e,t=!1)=>{return ae(e)?e.dom.isContentEditable:(n=e,se(((e,t)=>L(e,t)),ce,n,"[contenteditable]",void 0)).fold(d(t),(e=>"true"===(e=>e.dom.contentEditable)(e)));var n})(e)&&!w(["details"],H(e)))))(t.firstChild)&&e.remove(t.firstChild,!0)})(e,t),!ze(e,t,!0))for(;o=t.firstChild;)r.appendChild(o)},an=(e,t,n)=>{let o;const r=t.parentNode;if(!qe(e,t)||!qe(e,n))return;Fe(n.lastChild)&&(o=n.lastChild),r===n.lastChild&&je(r.previousSibling)&&e.remove(r.previousSibling);const a=n.lastChild;a&&je(a)&&t.hasChildNodes()&&e.remove(a),ze(e,n,!0)&&pe($(n)),rn(e,t,n),o&&n.appendChild(o);const s=((e,t)=>{const n=e.dom,o=t.dom;return n!==o&&n.contains(o)})($(n),$(t))?e.getParents(t,Fe,n):[];e.remove(t),S(s,(t=>{ze(e,t)&&t!==e.getRoot()&&e.remove(t)}))},sn=e=>{const t=e.selection.getStart(),n=rt(e,t);return e.dom.getParent(t,"LI,DT,DD",n)||ot(e).length>0},ln=(e,t)=>{const n=e.selection;return!ut(e,n.getNode())&&(n.isCollapsed()?((e,t)=>((e,t)=>{const n=e.dom,o=e.selection,r=o.getStart(),a=rt(e,r),s=n.getParent(o.getStart(),"LI",a);if(s){const r=s.parentElement;if(r===e.getBody()&&ze(n,r))return!0;const l=Xe(o.getRng()),i=n.getParent(nn(e,l,t,a),"LI",a),c=i&&(t?n.isChildOf(s,i):n.isChildOf(i,s));if(i&&i!==s&&!c)return e.undoManager.transact((()=>{var n,o;t?((e,t,n,o)=>{const r=e.dom;if(r.isEmpty(o))((e,t,n)=>{pe($(n)),an(e.dom,t,n),e.selection.setCursorLocation(n,0)})(e,n,o);else{const a=It(t);an(r,n,o),e.selection.setRng(zt(a))}})(e,l,i,s):(null===(o=(n=s).parentNode)||void 0===o?void 0:o.firstChild)===n?Mt(e):((e,t,n,o)=>{const r=It(t);an(e.dom,n,o);const a=zt(r);e.selection.setRng(a)})(e,l,s,i)})),!0;if(c&&!t&&i!==s)return e.undoManager.transact((()=>{if(l.commonAncestorContainer.parentElement){const t=It(l),o=l.commonAncestorContainer.parentElement;rn(n,l.commonAncestorContainer.parentElement,i),o.remove();const r=zt(t);e.selection.setRng(r)}})),!0;if(!i&&!t&&0===l.startOffset&&0===l.endOffset)return e.undoManager.transact((()=>{Bt(e)})),!0}return!1})(e,t)||((e,t)=>{const n=e.dom,o=e.selection.getStart(),r=rt(e,o),a=n.getParent(o,n.isBlock,r);if(a&&n.isEmpty(a,void 0,{checkRootAsContent:!0})){const o=Xe(e.selection.getRng()),s=n.getParent(nn(e,o,t,r),"LI",r);if(s){const l=e=>w(["td","th","caption"],H(e)),i=e=>e.dom===r;return!!((e,t,n=m)=>P(e,t,n).getOr(e.isNone()&&t.isNone()))(ie($(s),l,i),ie($(o.startContainer),l,i),I)&&(e.undoManager.transact((()=>{const o=s.parentNode;((e,t,n)=>{const o=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),o&&e.isEmpty(o)&&e.remove(o)})(n,a,r),Gt(n,o),e.selection.select(s,!0),e.selection.collapse(t)})),!0)}}return!1})(e,t))(e,t):(e=>!!sn(e)&&(e.undoManager.transact((()=>{let t=!0;const n=()=>t=!1;e.on("input",n),e.execCommand("Delete"),e.off("input",n),t&&e.dispatch("input"),tn(e.dom,e.getBody())})),!0))(e))},cn=e=>{const t=E(gt(e).split("")),n=x(t,((e,t)=>{const n=e.toUpperCase().charCodeAt(0)-"A".charCodeAt(0)+1;return Math.pow(26,t)*n}));return C(n,((e,t)=>e+t),0)},un=e=>{if(--e<0)return"";{const t=e%26,n=Math.floor(e/26);return un(n)+String.fromCharCode("A".charCodeAt(0)+t)}},dn=e=>{const t=parseInt(e.start,10);return R(e.listStyleType,"upper-alpha")?un(t):R(e.listStyleType,"lower-alpha")?un(t).toLowerCase():e.start},mn=(e,t)=>()=>{const n=nt(e);return l(n)&&n.nodeName===t},pn=e=>{e.addCommand("mceListProps",(()=>{(e=>{const t=nt(e);Re(t)&&!ut(e,t)&&e.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:dn({start:e.dom.getAttrib(t,"start","1"),listStyleType:h.from(e.dom.getStyle(t,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:t=>{(e=>{switch((e=>/^[0-9]+$/.test(e)?2:/^[A-Z]+$/.test(e)?0:/^[a-z]+$/.test(e)?1:e.length>0?4:3)(e)){case 2:return h.some({listStyleType:h.none(),start:e});case 0:return h.some({listStyleType:h.some("upper-alpha"),start:cn(e).toString()});case 1:return h.some({listStyleType:h.some("lower-alpha"),start:cn(e).toString()});case 3:return h.some({listStyleType:h.none(),start:""});case 4:return h.none()}})(t.getData().start).each((t=>{e.execCommand("mceListUpdate",!1,{attrs:{start:"1"===t.start?"":t.start},styles:{"list-style-type":t.listStyleType.getOr("")}})})),t.close()}})})(e)}))};var gn=tinymce.util.Tools.resolve("tinymce.html.Node");const hn=e=>3===e.type,bn=e=>0===e.length,fn=e=>{const t=(t,n)=>{const o=gn.create("li");S(t,(e=>o.append(e))),n?e.insert(o,n,!0):e.append(o)},n=C(e.children(),((e,n)=>hn(n)?[...e,n]:bn(e)||hn(n)?e:(t(e,n),[])),[]);bn(n)||t(n)},yn=(e,t)=>n=>(n.setEnabled(e.selection.isEditable()),dt(e,(o=>{n.setActive(it(o.parents,t)),n.setEnabled(!ut(e,o.element)&&e.selection.isEditable())}))),wn=(e,t)=>n=>dt(e,(o=>n.setEnabled(it(o.parents,t)&&!ut(e,o.element))));e.add("lists",(e=>((e=>{(0,e.options.register)("lists_indent_on_tab",{processor:"boolean",default:!0})})(e),(e=>{e.on("PreInit",(()=>{const{parser:t}=e;t.addNodeFilter("ul,ol",(e=>S(e,fn)))}))})(e),e.hasPlugin("rtc",!0)?pn(e):((e=>{Ue(e)&&(e=>{e.on("keydown",(t=>{t.keyCode!==fe.TAB||fe.metaKeyPressed(t)||e.undoManager.transact((()=>{(t.shiftKey?Mt(e):Pt(e))&&t.preventDefault()}))}))})(e),(e=>{e.on("ExecCommand",(t=>{const n=t.command.toLowerCase();"delete"!==n&&"forwarddelete"!==n||!sn(e)||tn(e.dom,e.getBody())})),e.on("keydown",(t=>{t.keyCode===fe.BACKSPACE?ln(e,!1)&&t.preventDefault():t.keyCode===fe.DELETE&&ln(e,!0)&&t.preventDefault()}))})(e)})(e),(e=>{e.on("BeforeExecCommand",(t=>{const n=t.command.toLowerCase();"indent"===n?Pt(e):"outdent"===n&&Mt(e)})),e.addCommand("InsertUnorderedList",((t,n)=>{Xt(e,"UL",n)})),e.addCommand("InsertOrderedList",((t,n)=>{Xt(e,"OL",n)})),e.addCommand("InsertDefinitionList",((t,n)=>{Xt(e,"DL",n)})),e.addCommand("RemoveList",(()=>{Bt(e)})),pn(e),e.addCommand("mceListUpdate",((t,n)=>{r(n)&&((e,t)=>{const n=nt(e);null===n||ut(e,n)||e.undoManager.transact((()=>{r(t.styles)&&e.dom.setStyles(n,t.styles),r(t.attrs)&&ve(t.attrs,((t,o)=>e.dom.setAttrib(n,o,t)))}))})(e,n)})),e.addQueryStateHandler("InsertUnorderedList",mn(e,"UL")),e.addQueryStateHandler("InsertOrderedList",mn(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",mn(e,"DL"))})(e)),(e=>{const t=t=>()=>e.execCommand(t);e.hasPlugin("advlist")||(e.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:t("InsertOrderedList"),onSetup:yn(e,"OL")}),e.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:t("InsertUnorderedList"),onSetup:yn(e,"UL")}))})(e),(e=>{const t={text:"List properties...",icon:"ordered-list",onAction:()=>e.execCommand("mceListProps"),onSetup:wn(e,"OL")};e.ui.registry.addMenuItem("listprops",t),e.ui.registry.addContextMenu("lists",{update:t=>{const n=nt(e,t);return Re(n)?["listprops"]:[]}})})(e),(e=>({backspaceDelete:t=>{ln(e,t)}}))(e))))}()},34328:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(a=String).prototype,o.isPrototypeOf(n)||(null===(s=r.constructor)||void 0===s?void 0:s.name)===a.name)?"string":t;var n,o;var r,a,s})(t)===e,n=e=>t=>typeof t===e,o=t("string"),r=t("object"),a=(s=null,e=>s===e);var s;const l=n("boolean"),i=n("number");class c{constructor(e,t){this.tag=e,this.value=t}static some(e){return new c(!0,e)}static none(){return c.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?c.some(e(this.value)):c.none()}bind(e){return this.tag?e(this.value):c.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:c.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return(e=>null==e)(e)?c.none():c.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}c.singletonNone=new c(!1);const u=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},d=Object.keys,m=(e,t)=>{const n=d(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},p="undefined"!=typeof window?window:Function("return this;")(),g=(e,t)=>((e,t)=>{let n=null!=t?t:p;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),h=(e,t)=>{const n=((e,t)=>g(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n},b=Object.getPrototypeOf,f=e=>{const t=g("ownerDocument.defaultView",e);return r(e)&&((e=>h("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(b(e).constructor.name))},y=e=>e.dom.nodeValue,w=e=>t=>(e=>e.dom.nodeType)(t)===e,v=e=>x(e)&&f(e.dom),x=w(1),S=w(3),k=(e,t,n)=>{((e,t,n)=>{if(!(o(n)||l(n)||i(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(e.dom,t,n)},C=(e,t)=>{e.dom.removeAttribute(t)},T=(e,t)=>{const n=((e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n})(e,t);return void 0===n||""===n?[]:n.split(" ")},A=e=>void 0!==e.dom.classList,_=(e,t)=>((e,t,n)=>{const o=T(e,t).concat([n]);return k(e,t,o.join(" ")),!0})(e,"class",t),E=(e,t)=>((e,t,n)=>{const o=((e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n})(T(e,t),(e=>e!==n));return o.length>0?k(e,t,o.join(" ")):C(e,t),!1})(e,"class",t),N=e=>{const t=A(e)?e.dom.classList:(e=>T(e,"class"))(e);0===t.length&&C(e,"class")},O=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},F={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return O(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return O(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return O(n)},fromDom:O,fromPoint:(e,t,n)=>c.from(e.dom.elementFromPoint(t,n)).map(O)},D={" ":"nbsp","­":"shy"},R=(e,t)=>{let n="";return m(e,((e,t)=>{n+=t})),new RegExp("["+n+"]",t?"g":"")},P=R(D),M=R(D,!0),B=(e=>{let t="";return m(e,(e=>{t&&(t+=","),t+="span.mce-"+e})),t})(D),j="mce-nbsp",$=e=>e.dom.contentEditable,L=e=>'<span data-mce-bogus="1" class="mce-'+D[e]+'">'+e+"</span>",I=e=>"span"===e.nodeName.toLowerCase()&&e.classList.contains("mce-nbsp-wrap"),z=e=>{const t=y(e);return S(e)&&o(t)&&P.test(t)},q=(e,t,n)=>{let o=[];const r=((e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o})(e.dom.childNodes,F.fromDom),a=e=>I(e.dom)||!(e=>v(e)&&"false"===$(e))(e);return u(r,(e=>{n&&a(e)&&t(e)&&(o=o.concat([e])),o=o.concat(q(e,t,((e,t)=>{if(v(e)&&!I(e.dom)){const t=$(e);if("true"===t)return!0;if("false"===t)return!1}return t})(e,n)))})),o},W=(e,t)=>{const n=e.dom,o=q(F.fromDom(t),z,e.dom.isEditable(t));u(o,(t=>{var o;const r=t.dom.parentNode;if(I(r))a=F.fromDom(r),s=j,A(a)?a.dom.classList.add(s):_(a,s);else{const r=n.encode(null!==(o=y(t))&&void 0!==o?o:"").replace(M,L),a=n.create("div",{},r);let s;for(;s=a.lastChild;)n.insertAfter(s,t.dom);e.dom.remove(t.dom)}var a,s}))},U=(e,t)=>{const n=e.dom.select(B,t);u(n,(t=>{I(t)?((e,t)=>{A(e)?e.dom.classList.remove(t):E(e,t);N(e)})(F.fromDom(t),j):e.dom.remove(t,!0)}))},H=e=>{const t=e.getBody(),n=e.selection.getBookmark();let o=((e,t)=>{for(;e.parentNode;){if(e.parentNode===t)return t;e=e.parentNode}})(e.selection.getNode(),t);o=void 0!==o?o:t,U(e,o),W(e,o),e.selection.moveToBookmark(n)},V=(e,t)=>{((e,t)=>{e.dispatch("VisualChars",{state:t})})(e,t.get());const n=e.getBody();!0===t.get()?W(e,n):U(e,n)},Z=(e,t)=>{e.addCommand("mceVisualChars",(()=>{((e,t)=>{t.set(!t.get());const n=e.selection.getBookmark();V(e,t),e.selection.moveToBookmark(n)})(e,t)}))},K=(G="visualchars_default_state",e=>e.options.get(G));var G;const J=(e,t)=>{const n=((e,t)=>{let n=null;return{cancel:()=>{a(n)||(clearTimeout(n),n=null)},throttle:(...o)=>{a(n)&&(n=setTimeout((()=>{n=null,e.apply(null,o)}),t))}}})((()=>{H(e)}),300);e.on("keydown",(o=>{!0===t.get()&&(13===o.keyCode?H(e):n.throttle())})),e.on("remove",n.cancel)},Q=(e,t)=>n=>{n.setActive(t.get());const o=e=>n.setActive(e.state);return e.on("VisualChars",o),()=>e.off("VisualChars",o)};e.add("visualchars",(e=>{(e=>{(0,e.options.register)("visualchars_default_state",{processor:"boolean",default:!1})})(e);const t=(e=>{let t=e;return{get:()=>t,set:e=>{t=e}}})(K(e));return Z(e,t),((e,t)=>{const n=()=>e.execCommand("mceVisualChars");e.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:n,onSetup:Q(e,t),context:"any"}),e.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:n,onSetup:Q(e,t),context:"any"})})(e,t),J(e,t),((e,t)=>{e.on("init",(()=>{V(e,t)}))})(e,t),(e=>({isEnabled:()=>e.get()}))(t)}))}()},47816:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>null===e,n=e=>e,o=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},r=10,a=[new RegExp("[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),new RegExp("[-'\\.‘’․﹒＇．]"),new RegExp("[:··״‧︓﹕：]"),new RegExp("[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]"),new RegExp("[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]"),new RegExp("\\r"),new RegExp("\\n"),new RegExp("[\v\f\u2028\u2029]"),new RegExp("[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]"),new RegExp("[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\ufeff￹-￻]"),new RegExp("[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]"),new RegExp("[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]"),new RegExp("@")],s=new RegExp("^[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]$"),l=a,i=e=>{let t=13;const n=l.length;for(let o=0;o<n;++o){const n=l[o];if(n&&n.test(e)){t=o;break}}return t},c=(e,t)=>{const n=e[t],o=e[t+1];if(t<0||t>e.length-1&&0!==t)return!1;if(0===n&&0===o)return!1;const a=e[t+2];if(0===n&&(2===o||1===o||12===o)&&0===a)return!1;const s=e[t-1];return(2!==n&&1!==n&&12!==o||0!==o||0!==s)&&(4!==n&&0!==n||4!==o&&0!==o)&&(3!==n&&1!==n||4!==o||4!==s)&&(4!==n||3!==o&&1!==o||4!==a)&&(8!==n&&9!==n||0!==o&&4!==o&&o!==r&&8!==o&&9!==o)&&(8!==o&&(9!==o||0!==a&&4!==a&&a!==r&&8!==a&&9!==a)||0!==n&&4!==n&&n!==r&&8!==n&&9!==n)&&(5!==n||6!==o)&&(7===n||5===n||6===n||7===o||5===o||6===o||(n!==r||o!==r)&&(11!==o||0!==n&&4!==n&&n!==r&&11!==n)&&(11!==n||0!==o&&4!==o&&o!==r)&&12!==n)},u=/^\s+$/,d=s,m=e=>"http"===e||"https"===e,p=(e,t)=>{const n=((e,t)=>{let n;for(n=t;n<e.length&&!u.test(e[n]);n++);return n})(e,t+1);return"://"===e.slice(t+1,n).join("").substr(0,3)?n:t},g=(e,t,n)=>((e,t,n)=>{n={includeWhitespace:!1,includePunctuation:!1,...n};const r=o(e,t);return((e,t,n,o)=>{const r=[],a=[];let s=[];for(let l=0;l<n.length;++l)if(s.push(e[l]),c(n,l)){const n=t[l];if((o.includeWhitespace||!u.test(n))&&(o.includePunctuation||!d.test(n))){const n=l-s.length+1,o=l+1,i=t.slice(n,o).join("");if(m(i)){const n=p(t,l),r=e.slice(o,n);Array.prototype.push.apply(s,r),l=n}"."===t[l+1]&&/^([a-zA-Z]\.)+$/.test(i+".")?(s.push(e[l+1]),a.push({start:n,end:o+1})):a.push({start:n,end:o}),r.push(s)}s=[]}return{words:r,indices:a}})(e,r,(e=>{const t=(e=>{const t={};return n=>{if(t[n])return t[n];{const o=e(n);return t[n]=o,o}}})(i);return o(e,t)})(r),n)})(e,t,n).words;var h=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const b=(e,t)=>{const n=t.getBlockElements(),o=t.getVoidElements(),r=e=>n[e.nodeName]||o[e.nodeName],a=[];let s="";const l=new h(e,e);let i;for(;i=l.next();)3===i.nodeType?s+=i.data.replace(/\uFEFF/g,""):r(i)&&s.length&&(a.push(s),s="");return s.length&&a.push(s),a},f=e=>e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,y=(e,t)=>{const o=(e=>e.replace(/\u200B/g,""))(b(e,t).join("\n"));return g(o.split(""),n).length},w=(e,t)=>{const n=b(e,t).join("");return f(n)},v=(e,t)=>{const n=b(e,t).join("").replace(/\s/g,"");return f(n)},x=(e,t)=>()=>t(e.getBody(),e.schema),S=(e,t)=>()=>t(e.selection.getRng().cloneContents(),e.schema),k=e=>x(e,y);var C=tinymce.util.Tools.resolve("tinymce.util.Delay");const T=(e,t)=>{((e,t)=>{e.dispatch("wordCountUpdate",{wordCount:{words:t.body.getWordCount(),characters:t.body.getCharacterCount(),charactersWithoutSpaces:t.body.getCharacterCountWithoutSpaces()}})})(e,t)},A=(e,n,o)=>{const r=((e,n)=>{let o=null;return{cancel:()=>{t(o)||(clearTimeout(o),o=null)},throttle:(...r)=>{t(o)&&(o=setTimeout((()=>{o=null,e.apply(null,r)}),n))}}})((()=>T(e,n)),o);e.on("init",(()=>{T(e,n),C.setEditorTimeout(e,(()=>{e.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",r.throttle)}),0),e.on("remove",r.cancel)}))};((t=300)=>{e.add("wordcount",(e=>{const n=(e=>({body:{getWordCount:k(e),getCharacterCount:x(e,w),getCharacterCountWithoutSpaces:x(e,v)},selection:{getWordCount:S(e,y),getCharacterCount:S(e,w),getCharacterCountWithoutSpaces:S(e,v)},getCount:k(e)}))(e);return((e,t)=>{e.addCommand("mceWordCount",(()=>((e,t)=>{e.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(t.body.getWordCount()),String(t.selection.getWordCount())],["Characters (no spaces)",String(t.body.getCharacterCountWithoutSpaces()),String(t.selection.getCharacterCountWithoutSpaces())],["Characters",String(t.body.getCharacterCount()),String(t.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})})(e,t)))})(e,n),(e=>{const t=()=>e.execCommand("mceWordCount");e.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:t,context:"any"}),e.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:t,context:"any"})})(e),A(e,n,t),n}))})()}()},47821:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||(null===(a=o.constructor)||void 0===a?void 0:a.name)===r.name)?"string":t;var n,o,r,a})(t)===e,n=e=>t=>typeof t===e,o=t("string"),r=t("array"),a=n("boolean"),s=e=>void 0===e,l=e=>!(e=>null==e)(e),i=n("function"),c=n("number"),u=()=>{},d=e=>()=>e,m=e=>e,p=(e,t)=>e===t;function g(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const h=e=>{e()},b=d(!1),f=d(!0);class y{constructor(e,t){this.tag=e,this.value=t}static some(e){return new y(!0,e)}static none(){return y.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?y.some(e(this.value)):y.none()}bind(e){return this.tag?e(this.value):y.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:y.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return l(e)?y.some(e):y.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}y.singletonNone=new y(!1);const w=Object.keys,v=Object.hasOwnProperty,x=(e,t)=>{const n=w(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},S=(e,t)=>{const n={};var o;return((e,t,n,o)=>{x(e,((e,r)=>{(t(e,r)?n:o)(e,r)}))})(e,t,(o=n,(e,t)=>{o[t]=e}),u),n},k=e=>w(e).length,C=(e,t)=>T(e,t)?y.from(e[t]):y.none(),T=(e,t)=>v.call(e,t),A=(e,t)=>T(e,t)&&void 0!==e[t]&&null!==e[t],_=Array.prototype.indexOf,E=Array.prototype.push,N=(e,t)=>((e,t)=>_.call(e,t))(e,t)>-1,O=(e,t)=>{for(let n=0,o=e.length;n<o;n++)if(t(e[n],n))return!0;return!1},F=(e,t)=>{const n=[];for(let o=0;o<e;o++)n.push(t(o));return n},D=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},R=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},P=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},M=(e,t,n)=>(R(e,((e,o)=>{n=t(n,e,o)})),n),B=(e,t)=>((e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return y.some(r);if(n(r,o))break}return y.none()})(e,t,b),j=(e,t)=>(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!r(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);E.apply(t,e[n])}return t})(D(e,t)),$=(e,t)=>{for(let n=0,o=e.length;n<o;++n)if(!0!==t(e[n],n))return!1;return!0},L=(e,t)=>t>=0&&t<e.length?y.some(e[t]):y.none(),I=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return y.none()},z=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},q={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return z(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return z(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return z(n)},fromDom:z,fromPoint:(e,t,n)=>y.from(e.dom.elementFromPoint(t,n)).map(z)},W=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},U=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,H=(e,t)=>e.dom===t.dom,V=W;"undefined"!=typeof window?window:Function("return this;")();const Z=e=>e.dom.nodeName.toLowerCase(),K=e=>e.dom.nodeType,G=e=>t=>K(t)===e,J=G(1),Q=G(3),Y=G(9),X=G(11),ee=e=>t=>J(t)&&Z(t)===e,te=e=>y.from(e.dom.parentNode).map(q.fromDom),ne=e=>y.from(e.dom.nextSibling).map(q.fromDom),oe=e=>D(e.dom.childNodes,q.fromDom),re=e=>q.fromDom(e.dom.host),ae=e=>{const t=Q(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return(e=>{const t=(e=>q.fromDom(e.dom.getRootNode()))(e);return X(n=t)&&l(n.dom.host)?y.some(t):y.none();var n})(q.fromDom(t)).fold((()=>n.body.contains(t)),(o=ae,r=re,e=>o(r(e))));var o,r};var se=(e,t,n,o,r)=>e(n,o)?y.some(n):i(r)&&r(n)?y.none():t(n,o,r);const le=(e,t,n)=>{let o=e.dom;const r=i(n)?n:b;for(;o.parentNode;){o=o.parentNode;const e=q.fromDom(o);if(t(e))return y.some(e);if(r(e))break}return y.none()},ie=(e,t,n)=>le(e,(e=>W(e,t)),n),ce=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return U(n)?y.none():y.from(n.querySelector(e)).map(q.fromDom)})(t,e),ue=(e,t,n)=>se(((e,t)=>W(e,t)),ie,e,t,n),de=(e,t=!1)=>{return ae(e)?e.dom.isContentEditable:(n=e,ue(n,"[contenteditable]")).fold(d(t),(e=>"true"===me(e)));var n},me=e=>e.dom.contentEditable,pe=e=>t=>H(t,(e=>q.fromDom(e.getBody()))(e)),ge=e=>/^\d+(\.\d+)?$/.test(e)?e+"px":e,he=e=>q.fromDom(e.selection.getStart()),be=(e,t)=>{let n=[];return R(oe(e),(e=>{t(e)&&(n=n.concat([e])),n=n.concat(be(e,t))})),n},fe=(e,t)=>(e=>P(oe(e),(e=>W(e,t))))(e),ye=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return U(n)?[]:D(n.querySelectorAll(e),q.fromDom)})(t,e),we=(e,t,n)=>{if(!(o(n)||a(n)||c(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},ve=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},xe=(e,t)=>y.from(ve(e,t)),Se=(e,t)=>{e.dom.removeAttribute(t)},ke=(e,t,n=p)=>e.exists((e=>n(e,t))),Ce=(e,t,n)=>e.isSome()&&t.isSome()?y.some(n(e.getOrDie(),t.getOrDie())):y.none(),Te=(e,t)=>((e,t)=>""===t||e.length>=t.length&&e.substr(0,0+t.length)===t)(e,t),Ae=(_e=/^\s+|\s+$/g,e=>e.replace(_e,""));var _e;const Ee=e=>e.length>0,Ne=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?y.none():y.some(n)},Oe=e=>void 0!==e.style&&i(e.style.getPropertyValue),Fe=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||ae(e)?o:De(n,t)},De=(e,t)=>Oe(e)?e.style.getPropertyValue(t):"",Re=(e,t)=>{const n=e.dom,o=De(n,t);return y.from(o).filter((e=>e.length>0))},Pe=(e,t,n=0)=>xe(e,t).map((e=>parseInt(e,10))).getOr(n),Me=(e,t)=>Be(e,t,f),Be=(e,t,n)=>j(oe(e),(e=>W(e,t)?n(e)?[e]:[]:Be(e,t,n))),je=["tfoot","thead","tbody","colgroup"],$e=(e,t,n)=>({element:e,rowspan:t,colspan:n}),Le=(e,t,n)=>({element:e,cells:t,section:n}),Ie=(e,t)=>ue(e,"table",t),ze=e=>Me(e,"tr"),qe=e=>Ie(e).fold(d([]),(e=>fe(e,"colgroup"))),We=e=>te(e).map((e=>{const t=Z(e);return(e=>N(je,e))(t)?t:"tbody"})).getOr("tbody"),Ue=e=>xe(e,"data-snooker-locked-cols").bind((e=>y.from(e.match(/\d+/g)))).map((e=>((e,t)=>{const n={};for(let o=0,r=e.length;o<r;o++){const r=e[o];n[String(r)]=t(r,o)}return n})(e,f))),He=(e,t)=>e+","+t,Ve=e=>{const t=(e=>{const t=ze(e);return((e,t)=>D(e,(e=>{if("colgroup"===Z(e)){const t=D((e=>W(e,"colgroup")?fe(e,"col"):j(qe(e),(e=>fe(e,"col"))))(e),(e=>{const t=Pe(e,"span",1);return $e(e,1,t)}));return Le(e,t,"colgroup")}{const n=D((e=>Me(e,"th,td"))(e),(e=>{const t=Pe(e,"rowspan",1),n=Pe(e,"colspan",1);return $e(e,t,n)}));return Le(e,n,t(e))}})))([...qe(e),...t],We)})(e);return(e=>{const t={},n=[];var o;const r=(o=e,L(o,0)).map((e=>e.element)).bind(Ie).bind(Ue).getOr({});let a=0,s=0,l=0;const{pass:i,fail:c}=(e=>{const t=[],n=[];for(let r=0,a=e.length;r<a;r++){const a=e[r];(o=a,"colgroup"===o.section?t:n).push(a)}var o;return{pass:t,fail:n}})(e);R(c,(e=>{const o=[];R(e.cells,(e=>{let n=0;for(;void 0!==t[He(l,n)];)n++;const a=A(r,n.toString()),i=((e,t,n,o,r,a)=>({element:e,rowspan:t,colspan:n,row:o,column:r,isLocked:a}))(e.element,e.rowspan,e.colspan,l,n,a);for(let o=0;o<e.colspan;o++)for(let r=0;r<e.rowspan;r++){const e=n+o,a=He(l+r,e);t[a]=i,s=Math.max(s,e+1)}o.push(i)})),a++,n.push(Le(e.element,o,e.section)),l++}));const{columns:u,colgroups:d}=(e=>L(e,e.length-1))(i).map((e=>{const t=(e=>{const t={};let n=0;return R(e.cells,(e=>{const o=e.colspan;F(o,(r=>{const a=n+r;t[a]=((e,t,n)=>({element:e,colspan:t,column:n}))(e.element,o,a)})),n+=o})),t})(e),n=((e,t)=>({element:e,columns:t}))(e.element,((e,t)=>{const n=[];return x(e,((e,o)=>{n.push(t(e,o))})),n})(t,m));return{colgroups:[n],columns:t}})).getOrThunk((()=>({colgroups:[],columns:{}}))),p=((e,t)=>({rows:e,columns:t}))(a,s);return{grid:p,access:t,all:n,columns:u,colgroups:d}})(t)},Ze=(e,t,n)=>y.from(e.access[He(t,n)]),Ke=(e,t,n)=>{const o=((e,t)=>{const n=j(e.all,(e=>e.cells));return P(n,t)})(e,(e=>n(t,e.element)));return o.length>0?y.some(o[0]):y.none()},Ge=(e,t)=>y.from(e.columns[t]);var Je=tinymce.util.Tools.resolve("tinymce.util.Tools");const Qe=(e,t,n)=>{const o=e.select("td,th",t);let r;for(let t=0;t<o.length;t++){const a=e.getStyle(o[t],n);if(s(r)&&(r=a),r!==a)return""}return r},Ye=(e,t,n)=>{Je.each("left center right".split(" "),(o=>{o!==n&&e.formatter.remove("align"+o,{},t)})),n&&e.formatter.apply("align"+n,{},t)},Xe=(e,t,n)=>{e.dispatch("TableModified",{...n,table:t})},et=(e,t,n)=>((e,t)=>(e=>{const t=parseFloat(e);return isNaN(t)?y.none():y.some(t)})(e).getOr(t))(Fe(e,t),n);var tt=tinymce.util.Tools.resolve("tinymce.Env");const nt=F(5,(e=>{const t=`${e+1}px`;return{title:t,value:t}})),ot=D(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],(e=>({title:e,value:e.toLowerCase()}))),rt="100%",at=e=>{var t;const n=e.dom,o=null!==(t=n.getParent(e.selection.getStart(),n.isBlock))&&void 0!==t?t:e.getBody();return(e=>(e=>{const t=e.dom;return((e,t,n,o)=>t-et(e,`padding-${n}`,0)-et(e,`padding-${o}`,0)-et(e,`border-${n}-width`,0)-et(e,`border-${o}-width`,0))(e,t.getBoundingClientRect().width||t.offsetWidth,"left","right")})(e))(q.fromDom(o))+"px"},st=e=>t=>t.options.get(e),lt=st("table_sizing_mode"),it=st("table_border_widths"),ct=st("table_border_styles"),ut=st("table_cell_advtab"),dt=st("table_row_advtab"),mt=st("table_advtab"),pt=st("table_appearance_options"),gt=st("table_grid"),ht=st("table_style_by_css"),bt=st("table_cell_class_list"),ft=st("table_row_class_list"),yt=st("table_class_list"),wt=st("table_toolbar"),vt=st("table_background_color_map"),xt=st("table_border_color_map"),St=e=>"fixed"===lt(e),kt=e=>"responsive"===lt(e),Ct=e=>{const t=e.options,n=t.get("table_default_styles");return t.isSet("table_default_styles")?n:((e,t)=>kt(e)||!ht(e)?t:St(e)?{...t,width:at(e)}:{...t,width:rt})(e,n)},Tt=e=>{const t=e.options,n=t.get("table_default_attributes");return t.isSet("table_default_attributes")?n:((e,t)=>kt(e)||ht(e)?t:St(e)?{...t,width:at(e)}:{...t,width:rt})(e,n)},At=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,_t=Ve,Et=(e,t)=>{te(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},Nt=(e,t)=>{ne(e).fold((()=>{te(e).each((e=>{Ot(e,t)}))}),(e=>{Et(e,t)}))},Ot=(e,t)=>{e.dom.appendChild(t.dom)},Ft=(e,t)=>{R(t,((n,o)=>{const r=0===o?e:t[o-1];Nt(r,n)}))},Dt=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},Rt=(e=>{const t=t=>e(t)?y.from(t.dom.nodeValue):y.none();return{get:n=>{if(!e(n))throw new Error("Can only get text value of a text node");return t(n).getOr("")},getOption:t,set:(t,n)=>{if(!e(t))throw new Error("Can only set raw text value of a text node");t.dom.nodeValue=n}}})(Q);var Pt=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];const Mt=(e,t,n,o)=>{const r=t(e,n);return a=(n,o)=>{const r=t(e,o);return Bt(e,n,r)},s=r,((e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)})(o,((e,t)=>{s=a(s,e)})),s;var a,s},Bt=(e,t,n)=>t.bind((t=>n.filter(g(e.eq,t)))),jt={up:d({selector:ie,closest:ue,predicate:le,all:(e,t)=>{const n=i(t)?t:b;let o=e.dom;const r=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){const e=o.parentNode,t=q.fromDom(e);if(r.push(t),!0===n(t))break;o=e}return r}}),down:d({selector:ye,predicate:be}),styles:d({get:Fe,getRaw:Re,set:(e,t,n)=>{((e,t,n)=>{if(!o(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Oe(e)&&e.style.setProperty(t,n)})(e.dom,t,n)},remove:(e,t)=>{((e,t)=>{Oe(e)&&e.style.removeProperty(t)})(e.dom,t),ke(xe(e,"style").map(Ae),"")&&Se(e,"style")}}),attrs:d({get:ve,set:(e,t,n)=>{we(e.dom,t,n)},remove:Se,copyTo:(e,t)=>{((e,t)=>{const n=e.dom;x(t,((e,t)=>{we(n,t,e)}))})(t,M(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}))}}),insert:d({before:Et,after:Nt,afterAll:Ft,append:Ot,appendAll:(e,t)=>{R(t,(t=>{Ot(e,t)}))},prepend:(e,t)=>{(e=>(e=>{const t=e.dom.childNodes;return y.from(t[0]).map(q.fromDom)})(e))(e).fold((()=>{Ot(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},wrap:(e,t)=>{Et(e,t),Ot(t,e)}}),remove:d({unwrap:e=>{const t=oe(e);t.length>0&&Ft(e,t),Dt(e)},remove:Dt}),create:d({nu:q.fromTag,clone:e=>q.fromDom(e.dom.cloneNode(!1)),text:q.fromText}),query:d({comparePosition:(e,t)=>e.dom.compareDocumentPosition(t.dom),prevSibling:e=>y.from(e.dom.previousSibling).map(q.fromDom),nextSibling:ne}),property:d({children:oe,name:Z,parent:te,document:e=>{return(t=e,Y(t)?t:q.fromDom(t.dom.ownerDocument)).dom;var t},isText:Q,isComment:e=>8===K(e)||"#comment"===Z(e),isElement:J,isSpecial:e=>{const t=Z(e);return N(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)},getLanguage:e=>J(e)?xe(e,"lang"):y.none(),getText:e=>Rt.get(e),setText:(e,t)=>Rt.set(e,t),isBoundary:e=>!!J(e)&&("body"===Z(e)||N(Pt,Z(e))),isEmptyTag:e=>!!J(e)&&N(["br","img","hr","input"],Z(e)),isNonEditable:e=>J(e)&&"false"===ve(e,"contenteditable")}),eq:H,is:V},$t=e=>ie(e,"table"),Lt=e=>D(e,q.fromDom),It="data-mce-selected",zt="data-mce-first-selected",qt="data-mce-last-selected",Wt={selected:It,selectedSelector:"td["+It+"],th["+It+"]",firstSelected:zt,firstSelectedSelector:"td["+zt+"],th["+zt+"]",lastSelected:qt,lastSelectedSelector:"td["+qt+"],th["+qt+"]"},Ut=e=>(t,n)=>{const o=Z(t),r="col"===o||"colgroup"===o?Ie(a=t).bind((e=>((e,t)=>((e,t)=>{const n=ye(e,t);return n.length>0?y.some(n):y.none()})(e,t))(e,Wt.firstSelectedSelector))).fold(d(a),(e=>e[0])):t;var a;return ue(r,e,n)},Ht=Ut("th,td,caption"),Vt=Ut("th,td"),Zt=e=>Lt(e.model.table.getSelectedCells()),Kt=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Gt=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Jt=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Qt=e=>{return(t=e,Te(t,"#")?(e=>e.substring(1))(t):t).toUpperCase();var t},Yt=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},Xt=e=>{return t=Yt(e.red)+Yt(e.green)+Yt(e.blue),{value:Qt(t)};var t},en=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,tn=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,nn=(e,t,n,o)=>({red:e,green:t,blue:n,alpha:o}),on=(e,t,n,o)=>{const r=parseInt(e,10),a=parseInt(t,10),s=parseInt(n,10),l=parseFloat(o);return nn(r,a,s,l)},rn=e=>{const t=en.exec(e);if(null!==t)return y.some(on(t[1],t[2],t[3],"1"));const n=tn.exec(e);return null!==n?y.some(on(n[1],n[2],n[3],n[4])):y.none()},an=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},sn=(e,t,n)=>o=>{const r=(e=>{const t=an(y.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(y.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(y.some(e))}}})((e=>e.unbind())),a=!Ee(n),s=()=>{const s=Zt(e),l=o=>e.formatter.match(t,{value:n},o.dom,a);a?(o.setActive(!O(s,l)),r.set(e.formatter.formatChanged(t,(e=>o.setActive(!e)),!0))):(o.setActive($(s,l)),r.set(e.formatter.formatChanged(t,o.setActive,!1,{value:n})))};return e.initialized?s():e.on("init",s),r.clear},ln=e=>A(e,"menu"),cn=e=>D(e,(e=>{const t=e.text||e.title||"";return ln(e)?{text:t,items:cn(e.menu)}:{text:t,value:e.value}})),un=e=>e.length?y.some(cn([{text:"Select...",value:"mce-no-match"},...e])):y.none(),dn=(e,t,n,o)=>D(t,(t=>{const r=t.text||t.title;return ln(t)?{type:"nestedmenuitem",text:r,getSubmenuItems:()=>dn(e,t.menu,n,o)}:{text:r,type:"togglemenuitem",onAction:()=>o(t.value),onSetup:sn(e,n,t.value)}})),mn=(e,t)=>n=>{e.execCommand("mceTableApplyCellStyle",!1,{[t]:n})},pn=e=>j(e,(e=>ln(e)?[{...e,menu:pn(e.menu)}]:Ee(e.value)?[e]:[])),gn=(e,t,n,o)=>r=>r(dn(e,t,n,o)),hn=(e,t,n)=>{const o=D(t,(e=>{return{text:e.title,value:"#"+(n=e.value,(t=n,(e=>Gt.test(e)||Jt.test(e))(t)?y.some({value:Qt(t)}):y.none()).orThunk((()=>rn(n).map(Xt))).getOrThunk((()=>{const e=document.createElement("canvas");e.height=1,e.width=1;const t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),t.fillStyle="#FFFFFF",t.fillStyle=n,t.fillRect(0,0,1,1);const o=t.getImageData(0,0,1,1).data,r=o[0],a=o[1],s=o[2],l=o[3];return Xt(nn(r,a,s,l))}))).value,type:"choiceitem"};var t,n}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:o.length>0?o:void 0,allowCustomColors:!1},onAction:t=>{const o="remove"===t.value?"":t.value;e.execCommand("mceTableApplyCellStyle",!1,{[n]:o})}}]},bn=e=>()=>{const t="header"===e.queryCommandValue("mceTableRowType")?"body":"header";e.execCommand("mceTableRowType",!1,{type:t})},fn=e=>()=>{const t="th"===e.queryCommandValue("mceTableColType")?"td":"th";e.execCommand("mceTableColType",!1,{type:t})},yn=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Kt}],wn=e=>yn.concat((e=>un(bt(e)).map((e=>({name:"class",type:"listbox",label:"Class",items:e}))))(e).toArray()),vn=(e,t)=>{const n=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(cn(ct(e)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:"cell"===t?[{name:"borderwidth",type:"input",label:"Border width"}].concat(n):n}},xn=(e,t)=>{const n=e.dom;return{setAttrib:(e,o)=>{n.setAttrib(t,e,o)},setStyle:(e,o)=>{n.setStyle(t,e,o)},setFormat:(n,o)=>{""===o?e.formatter.remove(n,{value:null},t,!0):e.formatter.apply(n,{value:o},t)}}},Sn=ee("th"),kn=(e,t)=>e&&t?"sectionCells":e?"section":"cells",Cn=(e,t)=>I(e.all,(e=>B(e.cells,(e=>H(t,e.element))))),Tn=(e,t)=>((e,t,n)=>{const o=(e=>{const t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t})(D(t.selection,(t=>{return(o=t,((e,t,n=b)=>n(t)?y.none():N(e,Z(t))?y.some(t):ie(t,e.join(","),(e=>W(e,"table")||n(e))))(["td","th"],o,void 0)).bind((t=>Cn(e,t))).filter(n);var o})));return r=o,o.length>0?y.some(r):y.none();var r})(e,t,f),An=(e,t)=>$(t,(t=>((e,t)=>Cn(e,t).exists((e=>!e.isLocked)))(e,t))),_n=(e,t)=>((e,t)=>t.mergable)(0,t).filter((t=>An(e,t.cells))),En=(e,t)=>((e,t)=>t.unmergable)(0,t).filter((t=>An(e,t))),Nn=((e=>{if(!r(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};R(e,((o,a)=>{const s=w(o);if(1!==s.length)throw new Error("one and only one name per case");const l=s[0],i=o[l];if(void 0!==n[l])throw new Error("duplicate key detected:"+l);if("cata"===l)throw new Error("cannot have a case named cata (sorry)");if(!r(i))throw new Error("case arguments must be an array");t.push(l),n[l]=(...n)=>{const o=n.length;if(o!==i.length)throw new Error("Wrong number of arguments to case "+l+". Expected "+i.length+" ("+i+"), got "+o);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[a].apply(null,n)},match:e=>{const o=w(e);if(t.length!==o.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));if(!$(t,(e=>N(o,e))))throw new Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[l].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:l,params:n})}}}}))})([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),(e,t)=>{const n=Ve(e);return Tn(n,t).bind((e=>{const t=e[e.length-1],o=e[0].row,r=t.row+t.rowspan;return(e=>{const t=D(e,(e=>(e=>{const t="thead"===e.section,n=ke((e=>{const t=P(e,(e=>Sn(e.element)));return 0===t.length?y.some("td"):t.length===e.length?y.some("th"):y.none()})(e.cells),"th");return"tfoot"===e.section?{type:"footer"}:t||n?{type:"header",subType:kn(t,n)}:{type:"body"}})(e).type)),n=N(t,"header"),o=N(t,"footer");if(n||o){const e=N(t,"body");return!n||e||o?n||e||!o?y.none():y.some("footer"):y.some("header")}return y.some("body")})(n.all.slice(o,r))})).getOr("")}),On=e=>{return Te(e,"rgb")?rn(t=e).map(Xt).map((e=>"#"+e.value)).getOr(t):e;var t},Fn=e=>{const t=q.fromDom(e);return{borderwidth:Re(t,"border-width").getOr(""),borderstyle:Re(t,"border-style").getOr(""),bordercolor:Re(t,"border-color").map(On).getOr(""),backgroundcolor:Re(t,"background-color").map(On).getOr("")}},Dn=e=>{const t=e[0],n=e.slice(1);return R(n,(e=>{R(w(t),(n=>{x(e,((e,o)=>{const r=t[n];""!==r&&n===o&&r!==e&&(t[n]="class"===n?"mce-no-match":"")}))}))})),t},Rn=(e,t,n,o)=>B(e,(e=>!s(n.formatter.matchNode(o,t+e)))).getOr(""),Pn=g(Rn,["left","center","right"],"align"),Mn=g(Rn,["top","middle","bottom"],"valign"),Bn=e=>Ie(q.fromDom(e)).map((t=>{const n={selection:Lt(e.cells)};return Nn(t,n)})).getOr(""),jn=(e,t)=>{const n=Ve(e),o=(e=>j(e.all,(e=>e.cells)))(n),r=P(o,(e=>O(t,(t=>H(e.element,t)))));return D(r,(e=>({element:e.element.dom,column:Ge(n,e.column).map((e=>e.element.dom))})))},$n=(e,t,n,o)=>{const r=o.getData();o.close(),e.undoManager.transact((()=>{((e,t,n,o)=>{const r=S(o,((e,t)=>n[t]!==e));k(r)>0&&t.length>=1&&Ie(t[0]).each((n=>{const a=jn(n,t),s=k(S(r,((e,t)=>"scope"!==t&&"celltype"!==t)))>0,l=T(r,"celltype");(s||T(r,"scope"))&&((e,t,n,o)=>{const r=1===t.length;R(t,(t=>{const a=t.element,s=r?f:o,l=xn(e,a);((e,t,n,o)=>{o("scope")&&e.setAttrib("scope",n.scope),o("class")&&"mce-no-match"!==n.class&&e.setAttrib("class",n.class),o("width")&&t.setStyle("width",ge(n.width))})(l,t.column.map((t=>xn(e,t))).getOr(l),n,s),ut(e)&&((e,t,n)=>{n("backgroundcolor")&&e.setFormat("tablecellbackgroundcolor",t.backgroundcolor),n("bordercolor")&&e.setFormat("tablecellbordercolor",t.bordercolor),n("borderstyle")&&e.setFormat("tablecellborderstyle",t.borderstyle),n("borderwidth")&&e.setFormat("tablecellborderwidth",ge(t.borderwidth))})(l,n,s),o("halign")&&Ye(e,a,n.halign),o("valign")&&((e,t,n)=>{Je.each("top middle bottom".split(" "),(o=>{o!==n&&e.formatter.remove("valign"+o,{},t)})),n&&e.formatter.apply("valign"+n,{},t)})(e,a,n.valign)}))})(e,a,o,g(T,r)),l&&((e,t)=>{e.execCommand("mceTableCellType",!1,{type:t.celltype,no_events:!0})})(e,o),Xe(e,n.dom,{structure:l,style:s})}))})(e,t,n,r),e.focus()}))},Ln=e=>{const t=Zt(e);if(0===t.length)return;const n=((e,t)=>{const n=Ie(t[0]).map((n=>D(jn(n,t),(t=>((e,t,n,o)=>{const r=e.dom;return{width:(s=o.getOr(t),l="width",r.getStyle(s,l)||r.getAttrib(s,l)),scope:r.getAttrib(t,"scope"),celltype:(a=t,a.nodeName.toLowerCase()),class:r.getAttrib(t,"class",""),halign:Pn(e,t),valign:Mn(e,t),...n?Fn(t):{}};var a,s,l})(e,t.element,ut(e),t.column)))));return Dn(n.getOrDie())})(e,t),o={type:"tabpanel",tabs:[{title:"General",name:"general",items:wn(e)},vn(e,"cell")]},r={type:"panel",items:[{type:"grid",columns:2,items:wn(e)}]};e.windowManager.open({title:"Cell Properties",size:"normal",body:ut(e)?o:r,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:n,onSubmit:g($n,e,t,n)})},In=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],zn=e=>In.concat((e=>un(ft(e)).map((e=>({name:"class",type:"listbox",label:"Class",items:e}))))(e).toArray()),qn=(e,t,n,o)=>{const r=o.getData();o.close(),e.undoManager.transact((()=>{((e,t,n,o)=>{const r=S(o,((e,t)=>n[t]!==e));if(k(r)>0){const n=T(r,"type"),a=!n||k(r)>1;a&&((e,t,n,o)=>{const r=1===t.length?f:o;R(t,(t=>{const a=fe(q.fromDom(t),"td,th"),s=xn(e,t);((e,t,n)=>{n("class")&&"mce-no-match"!==t.class&&e.setAttrib("class",t.class),n("height")&&e.setStyle("height",ge(t.height))})(s,n,r),dt(e)&&((e,t,n)=>{n("backgroundcolor")&&e.setStyle("background-color",t.backgroundcolor),n("bordercolor")&&e.setStyle("border-color",t.bordercolor),n("borderstyle")&&e.setStyle("border-style",t.borderstyle)})(s,n,r),o("height")&&R(a,(t=>{e.dom.setStyle(t.dom,"height",null)})),o("align")&&Ye(e,t,n.align)}))})(e,t,o,g(T,r)),n&&((e,t)=>{e.execCommand("mceTableRowType",!1,{type:t.type,no_events:!0})})(e,o),Ie(q.fromDom(t[0])).each((t=>Xe(e,t.dom,{structure:n,style:a})))}})(e,t,n,r),e.focus()}))},Wn=e=>{const t=((e,t)=>{const n=Vt(e),o=n.bind((e=>Ie(e))).map((e=>ze(e)));return Ce(n,o,((e,n)=>P(n,(n=>O(Lt(n.dom.cells),(n=>"1"===ve(n,t)||H(n,e))))))).getOr([])})(he(e),Wt.selected);if(0===t.length)return;const n=D(t,(t=>((e,t,n)=>{const o=e.dom;return{height:o.getStyle(t,"height")||o.getAttrib(t,"height"),class:o.getAttrib(t,"class",""),type:Bn(t),align:Pn(e,t),...n?Fn(t):{}}})(e,t.dom,dt(e)))),o=Dn(n),r={type:"tabpanel",tabs:[{title:"General",name:"general",items:zn(e)},vn(e,"row")]},a={type:"panel",items:[{type:"grid",columns:2,items:zn(e)}]};e.windowManager.open({title:"Row Properties",size:"normal",body:dt(e)?r:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onSubmit:g(qn,e,D(t,(e=>e.dom)),o)})},Un=(e,t,n)=>{const o=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],r=pt(e)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],a=t.length>0?[{name:"class",type:"listbox",label:"Class",items:t}]:[];return o.concat([{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}]).concat(r).concat([{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]).concat(a)},Hn=(e,t,n,r)=>{if("TD"===t.tagName||"TH"===t.tagName)o(n)&&l(r)?e.setStyle(t,n,r):e.setStyles(t,n);else if(t.children)for(let o=0;o<t.children.length;o++)Hn(e,t.children[o],n,r)},Vn=(e,t,n,o)=>{const r=e.dom,a=o.getData(),l=S(a,((e,t)=>n[t]!==e));o.close(),e.undoManager.transact((()=>{if(!t){const n=Ne(a.cols).getOr(1),o=Ne(a.rows).getOr(1);e.execCommand("mceInsertTable",!1,{rows:o,columns:n}),t=Vt(he(e),pe(e)).bind((t=>Ie(t,pe(e)))).map((e=>e.dom)).getOrDie()}if(k(l)>0){const n={border:T(l,"border"),bordercolor:T(l,"bordercolor"),cellpadding:T(l,"cellpadding")};((e,t,n,o)=>{const r=e.dom,a={},l={},i=ht(e),c=mt(e),u=0===parseFloat(n.border);if(s(n.class)||"mce-no-match"===n.class||(a.class=n.class),l.height=ge(n.height),i?l.width=ge(n.width):r.getAttrib(t,"width")&&(a.width=(e=>e?e.replace(/px$/,""):"")(n.width)),i?(u?(a.border=0,l["border-width"]=""):(l["border-width"]=ge(n.border),a.border=1),l["border-spacing"]=ge(n.cellspacing)):(a.border=u?0:n.border,a.cellpadding=n.cellpadding,a.cellspacing=n.cellspacing),i&&t.children){const e={};if(u?e["border-width"]="":o.border&&(e["border-width"]=ge(n.border)),o.cellpadding&&(e.padding=ge(n.cellpadding)),c&&o.bordercolor&&(e["border-color"]=n.bordercolor),!(e=>{for(const t in e)if(v.call(e,t))return!1;return!0})(e))for(let n=0;n<t.children.length;n++)Hn(r,t.children[n],e)}if(c){const e=n;l["background-color"]=e.backgroundcolor,l["border-color"]=e.bordercolor,l["border-style"]=e.borderstyle}r.setStyles(t,{...Ct(e),...l}),r.setAttribs(t,{...Tt(e),...a})})(e,t,a,n);const o=r.select("caption",t)[0];(o&&!a.caption||!o&&a.caption)&&e.execCommand("mceTableToggleCaption"),Ye(e,t,a.align)}if(e.focus(),e.addVisual(),k(l)>0){const n=T(l,"caption"),o=!n||k(l)>1;Xe(e,t,{structure:n,style:o})}}))},Zn=(e,t)=>{const n=e.dom;let o,r=((e,t)=>{const n=Ct(e),o=Tt(e),r=t?{borderstyle:C(n,"border-style").getOr(""),bordercolor:On(C(n,"border-color").getOr("")),backgroundcolor:On(C(n,"background-color").getOr(""))}:{};return{height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:"",...n,...o,...r,...(()=>{const t=n["border-width"];return ht(e)&&t?{border:t}:C(o,"border").fold((()=>({})),(e=>({border:e})))})(),...{...C(n,"border-spacing").or(C(o,"cellspacing")).fold((()=>({})),(e=>({cellspacing:e}))),...C(n,"border-padding").or(C(o,"cellpadding")).fold((()=>({})),(e=>({cellpadding:e})))}}})(e,mt(e));t?(r.cols="1",r.rows="1",mt(e)&&(r.borderstyle="",r.bordercolor="",r.backgroundcolor="")):(o=n.getParent(e.selection.getStart(),"table",e.getBody()),o?r=((e,t,n)=>{const o=e.dom,r=ht(e)?o.getStyle(t,"border-spacing")||o.getAttrib(t,"cellspacing"):o.getAttrib(t,"cellspacing")||o.getStyle(t,"border-spacing"),a=ht(e)?Qe(o,t,"padding")||o.getAttrib(t,"cellpadding"):o.getAttrib(t,"cellpadding")||Qe(o,t,"padding");return{width:o.getStyle(t,"width")||o.getAttrib(t,"width"),height:o.getStyle(t,"height")||o.getAttrib(t,"height"),cellspacing:null!=r?r:"",cellpadding:null!=a?a:"",border:((t,n)=>{const o=Re(q.fromDom(n),"border-width");return ht(e)&&o.isSome()?o.getOr(""):t.getAttrib(n,"border")||Qe(e.dom,n,"border-width")||Qe(e.dom,n,"border")||""})(o,t),caption:!!o.select("caption",t)[0],class:o.getAttrib(t,"class",""),align:Pn(e,t),...n?Fn(t):{}}})(e,o,mt(e)):mt(e)&&(r.borderstyle="",r.bordercolor="",r.backgroundcolor=""));const a=un(yt(e));a.isSome()&&r.class&&(r.class=r.class.replace(/\s*mce\-item\-table\s*/g,""));const s={type:"grid",columns:2,items:Un(e,a.getOr([]),t)},l=mt(e)?{type:"tabpanel",tabs:[{title:"General",name:"general",items:[s]},vn(e,"table")]}:{type:"panel",items:[s]};e.windowManager.open({title:"Table Properties",size:"normal",body:l,onSubmit:g(Vn,e,o,r),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r})},Kn=m,Gn=e=>{const t=(e,t)=>xe(e,t).exists((e=>parseInt(e,10)>1));return e.length>0&&$(e,(e=>t(e,"rowspan")||t(e,"colspan")))?y.some(e):y.none()},Jn=(e,t,n)=>{return t.length<=1?y.none():(o=e,r=n.firstSelectedSelector,a=n.lastSelectedSelector,((e,t,n)=>ce(e,t).bind((t=>ce(e,n).bind((e=>{return(n=$t,o=[t,e],((e,t,n)=>n.length>0?((e,t,n,o)=>o(e,t,n[0],n.slice(1)))(e,t,n,Mt):y.none())(jt,((e,t)=>n(t)),o)).map((n=>({first:t,last:e,table:n})));var n,o})))))(o,r,a).bind((e=>{const t=e=>H(o,e),n="thead,tfoot,tbody,table",r=ie(e.first,n,t),a=ie(e.last,n,t);return r.bind((t=>a.bind((n=>H(t,n)?((e,t,n)=>((e,t,n)=>((e,t,n)=>{const o=Ke(e,t,H),r=Ke(e,n,H);return o.bind((e=>r.map((t=>{return n=e,o=t,{startRow:Math.min(n.row,o.row),startCol:Math.min(n.column,o.column),finishRow:Math.max(n.row+n.rowspan-1,o.row+o.rowspan-1),finishCol:Math.max(n.column+n.colspan-1,o.column+o.colspan-1)};var n,o}))))})(e,t,n).bind((t=>((e,t)=>{let n=!0;const o=g(At,t);for(let r=t.startRow;r<=t.finishRow;r++)for(let a=t.startCol;a<=t.finishCol;a++)n=n&&Ze(e,r,a).exists(o);return n?y.some(t):y.none()})(e,t))))(_t(e),t,n))(e.table,e.first,e.last):y.none()))))}))).map((e=>({bounds:e,cells:t})));var o,r,a},Qn=e=>{const t=an(y.none()),n=an([]);let o=y.none();const r=ee("caption"),a=e=>o.forall((t=>!t[e])),s=()=>Ht(he(e),pe(e)).bind((t=>{return n=Ce(Ie(t),Ht((e=>q.fromDom(e.selection.getEnd()))(e),pe(e)).bind(Ie),((n,o)=>H(n,o)?r(t)?y.some((e=>({element:e,mergable:y.none(),unmergable:y.none(),selection:[e]}))(t)):y.some(((e,t,n)=>({element:n,mergable:Jn(t,e,Wt),unmergable:Gn(e),selection:Kn(e)}))(Zt(e),n,t)):y.none())),n.bind(m);var n})),l=e=>Ie(e.element).map((t=>{const n=Ve(t),o=Tn(n,e).getOr([]),r=M(o,((e,t)=>(t.isLocked&&(e.onAny=!0,0===t.column?e.onFirst=!0:t.column+t.colspan>=n.grid.columns&&(e.onLast=!0)),e)),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:_n(n,e).isSome(),unmergeable:En(n,e).isSome(),locked:r}})),i=()=>{t.set((e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)})(s)()),o=t.get().bind(l),R(n.get(),h)},c=e=>(e(),n.set(n.get().concat([e])),()=>{n.set(P(n.get(),(t=>t!==e)))}),u=(n,o)=>c((()=>t.get().fold((()=>{n.setEnabled(!1)}),(t=>{n.setEnabled(!o(t)&&e.selection.isEditable())})))),d=(n,o,r)=>c((()=>t.get().fold((()=>{n.setEnabled(!1),n.setActive(!1)}),(t=>{n.setEnabled(!o(t)&&e.selection.isEditable()),n.setActive(r(t))})))),p=e=>o.exists((t=>t.locked[e])),g=(t,n)=>o=>d(o,(e=>r(e.element)),(()=>e.queryCommandValue(t)===n)),f=g("mceTableRowType","header"),w=g("mceTableColType","th");return e.on("NodeChange ExecCommand TableSelectorChange",i),{onSetupTable:e=>u(e,(e=>!1)),onSetupCellOrRow:e=>u(e,(e=>r(e.element))),onSetupColumn:e=>t=>u(t,(t=>r(t.element)||p(e))),onSetupPasteable:e=>t=>u(t,(t=>r(t.element)||e().isNone())),onSetupPasteableColumn:(e,t)=>n=>u(n,(n=>r(n.element)||e().isNone()||p(t))),onSetupMergeable:e=>u(e,(e=>a("mergeable"))),onSetupUnmergeable:e=>u(e,(e=>a("unmergeable"))),resetTargets:i,onSetupTableWithCaption:t=>d(t,b,(t=>Ie(t.element,pe(e)).exists((e=>((e,t)=>(e=>B(e.dom.childNodes,(e=>{return n=q.fromDom(e),W(n,t);var n})).map(q.fromDom))(e))(e,"caption").isSome())))),onSetupTableRowHeaders:f,onSetupTableColumnHeaders:w,targets:t.get}};var Yn=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Xn="x-tinymce/dom-table-",eo=Xn+"rows",to=Xn+"columns",no=e=>{var t;const n=null!==(t=Yn.read())&&void 0!==t?t:[];return I(n,(t=>y.from(t.getType(e))))},oo=()=>no(eo),ro=()=>no(to),ao=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}},so=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("table",(e=>{const t=Qn(e);(e=>{const t=e.options.register;t("table_border_widths",{processor:"object[]",default:nt}),t("table_border_styles",{processor:"object[]",default:ot}),t("table_cell_advtab",{processor:"boolean",default:!0}),t("table_row_advtab",{processor:"boolean",default:!0}),t("table_advtab",{processor:"boolean",default:!0}),t("table_appearance_options",{processor:"boolean",default:!0}),t("table_grid",{processor:"boolean",default:!tt.deviceType.isTouch()}),t("table_cell_class_list",{processor:"object[]",default:[]}),t("table_row_class_list",{processor:"object[]",default:[]}),t("table_class_list",{processor:"object[]",default:[]}),t("table_toolbar",{processor:"string",default:"tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"}),t("table_background_color_map",{processor:"object[]",default:[]}),t("table_border_color_map",{processor:"object[]",default:[]})})(e),(e=>{x({mceTableProps:g(Zn,e,!1),mceTableRowProps:g(Wn,e),mceTableCellProps:g(Ln,e),mceInsertTableDialog:g(Zn,e,!0)},((t,n)=>e.addCommand(n,(()=>{return n=t,void((e=>{return(t=e,n=ee("table"),se(((e,t)=>t(e)),le,t,n,void 0)).forall(de);var t,n})(he(e))&&n());var n}))))})(e),((e,t)=>{const n=t=>()=>e.execCommand(t),o=(t,o)=>!!e.queryCommandSupported(o.command)&&(e.ui.registry.addMenuItem(t,{...o,onAction:i(o.onAction)?o.onAction:n(o.command)}),!0),r=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addToggleMenuItem(t,{...o,onAction:i(o.onAction)?o.onAction:n(o.command)})},a=t=>{e.execCommand("mceInsertTable",!1,{rows:t.numRows,columns:t.numColumns})},s=[o("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:t.onSetupCellOrRow}),o("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:t.onSetupCellOrRow}),o("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:t.onSetupCellOrRow}),o("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:t.onSetupCellOrRow}),o("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:t.onSetupCellOrRow}),o("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:t.onSetupCellOrRow}),o("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:t.onSetupPasteable(oo)}),o("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:t.onSetupPasteable(oo)})],l=[o("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:t.onSetupColumn("onFirst")}),o("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:t.onSetupColumn("onLast")}),o("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:t.onSetupColumn("onAny")}),o("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:t.onSetupColumn("onAny")}),o("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:t.onSetupColumn("onAny")}),o("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:t.onSetupPasteableColumn(ro,"onFirst")}),o("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:t.onSetupPasteableColumn(ro,"onLast")})],c=[o("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:t.onSetupCellOrRow}),o("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:t.onSetupMergeable}),o("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:t.onSetupUnmergeable})];gt(e)?e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:a}],onSetup:so(e)}):e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:n("mceInsertTableDialog"),onSetup:so(e)}),e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:n("mceInsertTableDialog"),onSetup:so(e)}),o("tableprops",{text:"Table properties",onSetup:t.onSetupTable,command:"mceTableProps"}),o("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:t.onSetupTable,command:"mceTableDelete"}),N(s,!0)&&e.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:d("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),N(l,!0)&&e.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:d("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),N(c,!0)&&e.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:d("tablecellprops tablemergecells tablesplitcells")}),e.ui.registry.addContextMenu("table",{update:()=>(t.resetTargets(),t.targets().fold(d(""),(e=>"caption"===Z(e.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable")))});const u=pn(yt(e));0!==u.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>dn(e,u,"tableclass",(t=>e.execCommand("mceTableToggleClass",!1,t))),onSetup:t.onSetupTable});const m=pn(bt(e));0!==m.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>dn(e,m,"tablecellclass",(t=>e.execCommand("mceTableCellToggleClass",!1,t))),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>dn(e,Kt,"tablecellverticalalign",mn(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>dn(e,it(e),"tablecellborderwidth",mn(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>dn(e,ct(e),"tablecellborderstyle",mn(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>hn(e,vt(e),"background-color"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>hn(e,xt(e),"border-color"),onSetup:t.onSetupCellOrRow})),r("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),r("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:bn(e),onSetup:t.onSetupTableRowHeaders}),r("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:fn(e),onSetup:t.onSetupTableRowHeaders})})(e,t),((e,t)=>{e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:ao(e),fetch:e=>e("inserttable | cell row column | advtablesort | tableprops deletetable")});const n=t=>()=>e.execCommand(t),o=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addButton(t,{...o,onAction:i(o.onAction)?o.onAction:n(o.command)})},r=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addToggleButton(t,{...o,onAction:i(o.onAction)?o.onAction:n(o.command)})};o("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:t.onSetupTable}),o("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:t.onSetupTable}),o("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:t.onSetupCellOrRow}),o("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:t.onSetupMergeable}),o("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:t.onSetupUnmergeable}),o("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:t.onSetupCellOrRow}),o("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:t.onSetupCellOrRow}),o("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:t.onSetupCellOrRow}),o("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:t.onSetupCellOrRow}),o("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:t.onSetupColumn("onFirst")}),o("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:t.onSetupColumn("onLast")}),o("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:t.onSetupColumn("onAny")}),o("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:t.onSetupCellOrRow}),o("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:t.onSetupCellOrRow}),o("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:t.onSetupPasteable(oo)}),o("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:t.onSetupPasteable(oo)}),o("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:t.onSetupColumn("onAny")}),o("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:t.onSetupColumn("onAny")}),o("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:t.onSetupPasteableColumn(ro,"onFirst")}),o("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:t.onSetupPasteableColumn(ro,"onLast")}),o("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:ao(e)});const a=pn(yt(e));0!==a.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:gn(e,a,"tableclass",(t=>e.execCommand("mceTableToggleClass",!1,t))),onSetup:t.onSetupTable});const s=pn(bt(e));0!==s.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:gn(e,s,"tablecellclass",(t=>e.execCommand("mceTableCellToggleClass",!1,t))),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:gn(e,Kt,"tablecellverticalalign",mn(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:gn(e,it(e),"tablecellborderwidth",mn(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:gn(e,ct(e),"tablecellborderstyle",mn(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:t=>t(hn(e,vt(e),"background-color")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:t=>t(hn(e,xt(e),"border-color")),onSetup:t.onSetupCellOrRow})),r("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),r("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:bn(e),onSetup:t.onSetupTableRowHeaders}),r("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:fn(e),onSetup:t.onSetupTableColumnHeaders})})(e,t),(e=>{const t=wt(e);t.length>0&&e.ui.registry.addContextToolbar("table",{predicate:t=>e.dom.is(t,"table")&&e.getBody().contains(t)&&e.dom.isEditable(t.parentNode),items:t,scope:"node",position:"node"})})(e)}))}()},50193:function(e,t,n){n(13550)},51190:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=(n=null,e=>n===e);var n;const o=e=>e,r=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},a={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\ufeff￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:"[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]"},s=0,l=1,i=2,c=3,u=4,d=5,m=6,p=7,g=8,h=9,b=10,f=11,y=12,w=13,v=[new RegExp(a.aletter),new RegExp(a.midnumlet),new RegExp(a.midletter),new RegExp(a.midnum),new RegExp(a.numeric),new RegExp(a.cr),new RegExp(a.lf),new RegExp(a.newline),new RegExp(a.extend),new RegExp(a.format),new RegExp(a.katakana),new RegExp(a.extendnumlet),new RegExp("@")],x=new RegExp("^"+a.punctuation+"$"),S=v,k=w,C=e=>{let t=k;const n=S.length;for(let o=0;o<n;++o){const n=S[o];if(n&&n.test(e)){t=o;break}}return t},T=(e,t)=>{const n=e[t],o=e[t+1];if(t<0||t>e.length-1&&0!==t)return!1;if(n===s&&o===s)return!1;const r=e[t+2];if(n===s&&(o===i||o===l||o===y)&&r===s)return!1;const a=e[t-1];return(n!==i&&n!==l&&o!==y||o!==s||a!==s)&&((n!==u&&n!==s||o!==u&&o!==s)&&((n!==c&&n!==l||o!==u||a!==u)&&((n!==u||o!==c&&o!==l||r!==u)&&((n!==g&&n!==h||o!==s&&o!==u&&o!==b&&o!==g&&o!==h)&&(o!==g&&(o!==h||r!==s&&r!==u&&r!==b&&r!==g&&r!==h)||n!==s&&n!==u&&n!==b&&n!==g&&n!==h)&&((n!==d||o!==m)&&(n===p||n===d||n===m||(o===p||o===d||o===m||(n!==b||o!==b)&&((o!==f||n!==s&&n!==u&&n!==b&&n!==f)&&((n!==f||o!==s&&o!==u&&o!==b)&&n!==y)))))))))},A=/^\s+$/,_=x,E=e=>"http"===e||"https"===e,N=(e,t)=>{const n=((e,t)=>{let n;for(n=t;n<e.length&&!A.test(e[n]);n++);return n})(e,t+1);return"://"===e.slice(t+1,n).join("").substr(0,3)?n:t},O=(e,t,n)=>{n={includeWhitespace:!1,includePunctuation:!1,...n};const o=r(e,t);return((e,t,n,o)=>{const r=[],a=[];let s=[];for(let l=0;l<n.length;++l)if(s.push(e[l]),T(n,l)){const n=t[l];if((o.includeWhitespace||!A.test(n))&&(o.includePunctuation||!_.test(n))){const n=l-s.length+1,o=l+1,i=t.slice(n,o).join("");if(E(i)){const n=N(t,l),r=e.slice(o,n);Array.prototype.push.apply(s,r),l=n}"."===t[l+1]&&/^([a-zA-Z]\.)+$/.test(i+".")?(s.push(e[l+1]),a.push({start:n,end:o+1})):a.push({start:n,end:o}),r.push(s)}s=[]}return{words:r,indices:a}})(e,o,(e=>{const t=(e=>{const t={};return n=>{if(t[n])return t[n];{const o=e(n);return t[n]=o,o}}})(C);return r(e,t)})(o),n)},F=(e,t,n)=>O(e,t,n).words;var D=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const R=(e,t)=>{const n=t.getBlockElements(),o=t.getVoidElements(),r=e=>n[e.nodeName]||o[e.nodeName],a=[];let s="";const l=new D(e,e);let i;for(;i=l.next();)3===i.nodeType?s+=i.data.replace(/\uFEFF/g,""):r(i)&&s.length&&(a.push(s),s="");return s.length&&a.push(s),a},P=e=>e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length,M=(e,t)=>{const n=(e=>e.replace(/\u200B/g,""))(R(e,t).join("\n"));return F(n.split(""),o).length},B=(e,t)=>{const n=R(e,t).join("");return P(n)},j=(e,t)=>{const n=R(e,t).join("").replace(/\s/g,"");return P(n)},$=(e,t)=>()=>t(e.getBody(),e.schema),L=(e,t)=>()=>t(e.selection.getRng().cloneContents(),e.schema),I=e=>$(e,M),z=(e,t)=>{e.addCommand("mceWordCount",(()=>((e,t)=>{e.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(t.body.getWordCount()),String(t.selection.getWordCount())],["Characters (no spaces)",String(t.body.getCharacterCountWithoutSpaces()),String(t.selection.getCharacterCountWithoutSpaces())],["Characters",String(t.body.getCharacterCount()),String(t.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})})(e,t)))};var q=tinymce.util.Tools.resolve("tinymce.util.Delay");const W=(e,t)=>{((e,t)=>{e.dispatch("wordCountUpdate",{wordCount:{words:t.body.getWordCount(),characters:t.body.getCharacterCount(),charactersWithoutSpaces:t.body.getCharacterCountWithoutSpaces()}})})(e,t)},U=(e,n,o)=>{const r=((e,n)=>{let o=null;return{cancel:()=>{t(o)||(clearTimeout(o),o=null)},throttle:(...r)=>{t(o)&&(o=setTimeout((()=>{o=null,e.apply(null,r)}),n))}}})((()=>W(e,n)),o);e.on("init",(()=>{W(e,n),q.setEditorTimeout(e,(()=>{e.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",r.throttle)}),0),e.on("remove",r.cancel)}))};((t=300)=>{e.add("wordcount",(e=>{const n=(e=>({body:{getWordCount:I(e),getCharacterCount:$(e,B),getCharacterCountWithoutSpaces:$(e,j)},selection:{getWordCount:L(e,M),getCharacterCount:L(e,B),getCharacterCountWithoutSpaces:L(e,j)},getCount:I(e)}))(e);return z(e,n),(e=>{const t=()=>e.execCommand("mceWordCount");e.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:t,context:"any"}),e.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:t,context:"any"})})(e),U(e,n,t),n}))})()}()},52171:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env"),n=tinymce.util.Tools.resolve("tinymce.util.Tools");const o=e=>t=>t.options.get(e),r=o("content_style"),a=o("content_css_cors"),s=o("body_class"),l=o("body_id"),i=e=>{const o=(e=>{var o;let i="";const c=e.dom.encode,u=null!==(o=r(e))&&void 0!==o?o:"";i+='<base href="'+c(e.documentBaseURI.getURI())+'">';const d=a(e)?' crossorigin="anonymous"':"";n.each(e.contentCSS,(t=>{i+='<link type="text/css" rel="stylesheet" href="'+c(e.documentBaseURI.toAbsolute(t))+'"'+d+">"})),u&&(i+='<style type="text/css">'+u+"</style>");const m=l(e),p=s(e),g='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+(t.os.isMacOS()||t.os.isiOS()?"e.metaKey":"e.ctrlKey && !e.altKey")+")) {e.preventDefault();}}}, false);<\/script> ",h=e.getBody().dir,b=h?' dir="'+c(h)+'"':"";return"<!DOCTYPE html><html><head>"+i+'</head><body id="'+c(m)+'" class="mce-content-body '+c(p)+'"'+b+">"+e.getContent()+g+"</body></html>"})(e);e.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0,transparent:!1}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:o}}).focus("close")};e.add("preview",(e=>{(e=>{e.addCommand("mcePreview",(()=>{i(e)}))})(e),(e=>{const t=()=>e.execCommand("mcePreview");e.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:t,context:"any"}),e.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:t,context:"any"})})(e)}))}()},53847:function(e,t,n){n(31148)},55081:function(e,t,n){n(51190)},55775:function(e,t,n){n(27524)},56912:function(e,t,n){n(85645)},57235:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(a=String).prototype,o.isPrototypeOf(n)||(null===(s=r.constructor)||void 0===s?void 0:s.name)===a.name)?"string":t;var n,o;var r,a,s})(t)===e,n=e=>t=>typeof t===e,o=t("string"),r=t("array"),a=n("boolean"),s=(l=void 0,e=>l===e);var l;const i=e=>!(e=>null==e)(e),c=n("function"),u=n("number"),d=()=>{},m=e=>()=>e,p=e=>e,g=(e,t)=>e===t;function h(e,...t){return(...n)=>{const o=t.concat(n);return e.apply(null,o)}}const b=e=>{e()},f=m(!1),y=m(!0);class w{constructor(e,t){this.tag=e,this.value=t}static some(e){return new w(!0,e)}static none(){return w.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?w.some(e(this.value)):w.none()}bind(e){return this.tag?e(this.value):w.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:w.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return i(e)?w.some(e):w.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}w.singletonNone=new w(!1);const v=Object.keys,x=Object.hasOwnProperty,S=(e,t)=>{const n=v(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},k=(e,t)=>{const n={};var o;return((e,t,n,o)=>{S(e,((e,r)=>{(t(e,r)?n:o)(e,r)}))})(e,t,(o=n,(e,t)=>{o[t]=e}),d),n},C=e=>((e,t)=>{const n=[];return S(e,((e,o)=>{n.push(t(e,o))})),n})(e,p),T=e=>v(e).length,A=(e,t)=>_(e,t)?w.from(e[t]):w.none(),_=(e,t)=>x.call(e,t),E=(e,t)=>_(e,t)&&void 0!==e[t]&&null!==e[t],N=Array.prototype.indexOf,O=Array.prototype.push,F=(e,t)=>((e,t)=>N.call(e,t))(e,t)>-1,D=(e,t)=>{for(let n=0,o=e.length;n<o;n++){if(t(e[n],n))return!0}return!1},R=(e,t)=>{const n=[];for(let o=0;o<e;o++)n.push(t(o));return n},P=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},M=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},B=(e,t)=>{const n=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];t(r,o)&&n.push(r)}return n},j=(e,t,n)=>(M(e,((e,o)=>{n=t(n,e,o)})),n),$=(e,t)=>((e,t,n)=>{for(let o=0,r=e.length;o<r;o++){const r=e[o];if(t(r,o))return w.some(r);if(n(r,o))break}return w.none()})(e,t,f),L=(e,t)=>(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!r(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);O.apply(t,e[n])}return t})(P(e,t)),I=(e,t)=>{for(let n=0,o=e.length;n<o;++n){if(!0!==t(e[n],n))return!1}return!0},z=(e,t)=>t>=0&&t<e.length?w.some(e[t]):w.none(),q=(e,t)=>{for(let n=0;n<e.length;n++){const o=t(e[n],n);if(o.isSome())return o}return w.none()},W=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},U={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return W(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return W(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return W(n)},fromDom:W,fromPoint:(e,t,n)=>w.from(e.dom.elementFromPoint(t,n)).map(W)},H=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const e=n;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},V=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,Z=(e,t)=>e.dom===t.dom,K=H;"undefined"!=typeof window?window:Function("return this;")();const G=e=>e.dom.nodeName.toLowerCase(),J=e=>e.dom.nodeType,Q=e=>t=>J(t)===e,Y=e=>8===J(e)||"#comment"===G(e),X=Q(1),ee=Q(3),te=Q(9),ne=Q(11),oe=e=>t=>X(t)&&G(t)===e,re=e=>{return te(e)?e:(t=e,U.fromDom(t.dom.ownerDocument));var t},ae=e=>w.from(e.dom.parentNode).map(U.fromDom),se=(e,t)=>{const n=c(t)?t:f;let o=e.dom;const r=[];for(;null!==o.parentNode&&void 0!==o.parentNode;){const e=o.parentNode,t=U.fromDom(e);if(r.push(t),!0===n(t))break;o=e}return r},le=e=>w.from(e.dom.previousSibling).map(U.fromDom),ie=e=>w.from(e.dom.nextSibling).map(U.fromDom),ce=e=>P(e.dom.childNodes,U.fromDom),ue=e=>((e,t)=>{const n=e.dom.childNodes;return w.from(n[t]).map(U.fromDom)})(e,0),de=e=>{const t=(e=>U.fromDom(e.dom.getRootNode()))(e);return ne(n=t)&&i(n.dom.host)?w.some(t):w.none();var n},me=e=>U.fromDom(e.dom.host),pe=e=>{const t=ee(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return de(U.fromDom(t)).fold((()=>n.body.contains(t)),(o=pe,r=me,e=>o(r(e))));var o,r};var ge=(e,t,n,o,r)=>e(n,o)?w.some(n):c(r)&&r(n)?w.none():t(n,o,r);const he=(e,t,n)=>{let o=e.dom;const r=c(n)?n:f;for(;o.parentNode;){o=o.parentNode;const e=U.fromDom(o);if(t(e))return w.some(e);if(r(e))break}return w.none()},be=(e,t,n)=>he(e,(e=>H(e,t)),n),fe=(e,t)=>((e,t)=>$(e.dom.childNodes,(e=>t(U.fromDom(e)))).map(U.fromDom))(e,(e=>H(e,t))),ye=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return V(n)?w.none():w.from(n.querySelector(e)).map(U.fromDom)})(t,e),we=(e,t,n)=>ge(((e,t)=>H(e,t)),be,e,t,n),ve=(e,t=!1)=>{return pe(e)?e.dom.isContentEditable:(n=e,we(n,"[contenteditable]")).fold(m(t),(e=>"true"===xe(e)));var n},xe=e=>e.dom.contentEditable,Se=e=>t=>Z(t,(e=>U.fromDom(e.getBody()))(e)),ke=e=>/^\d+(\.\d+)?$/.test(e)?e+"px":e,Ce=e=>U.fromDom(e.selection.getStart()),Te=e=>{return(t=e,n=oe("table"),ge(((e,t)=>t(e)),he,t,n,o)).forall(ve);var t,n,o},Ae=(e,t)=>{let n=[];return M(ce(e),(e=>{t(e)&&(n=n.concat([e])),n=n.concat(Ae(e,t))})),n},_e=(e,t)=>((e,t)=>B(ce(e),t))(e,(e=>H(e,t))),Ee=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return V(n)?[]:P(n.querySelectorAll(e),U.fromDom)})(t,e),Ne=(e,t,n)=>{if(!(o(n)||a(n)||u(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Oe=(e,t,n)=>{Ne(e.dom,t,n)},Fe=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},De=(e,t)=>w.from(Fe(e,t)),Re=(e,t)=>{e.dom.removeAttribute(t)},Pe=(e,t,n=g)=>e.exists((e=>n(e,t))),Me=(e,t,n)=>e.isSome()&&t.isSome()?w.some(n(e.getOrDie(),t.getOrDie())):w.none(),Be=(e,t)=>((e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t)(e,t,0),je=($e=/^\s+|\s+$/g,e=>e.replace($e,""));var $e;const Le=e=>e.length>0,Ie=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?w.none():w.some(n)},ze=e=>void 0!==e.style&&c(e.style.getPropertyValue),qe=(e,t,n)=>{((e,t,n)=>{if(!o(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);ze(e)&&e.style.setProperty(t,n)})(e.dom,t,n)},We=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return""!==o||pe(e)?o:Ue(n,t)},Ue=(e,t)=>ze(e)?e.style.getPropertyValue(t):"",He=(e,t)=>{const n=e.dom,o=Ue(n,t);return w.from(o).filter((e=>e.length>0))},Ve=(e,t)=>{((e,t)=>{ze(e)&&e.style.removeProperty(t)})(e.dom,t),Pe(De(e,"style").map(je),"")&&Re(e,"style")},Ze=(e,t,n=0)=>De(e,t).map((e=>parseInt(e,10))).getOr(n),Ke=(e,t)=>Ge(e,t,y),Ge=(e,t,n)=>L(ce(e),(e=>H(e,t)?n(e)?[e]:[]:Ge(e,t,n))),Je=["tfoot","thead","tbody","colgroup"],Qe=(e,t,n)=>({element:e,rowspan:t,colspan:n}),Ye=(e,t,n)=>({element:e,cells:t,section:n}),Xe=(e,t)=>((e,t,n=f)=>n(t)?w.none():F(e,G(t))?w.some(t):be(t,e.join(","),(e=>H(e,"table")||n(e))))(["td","th"],e,t),et=(e,t)=>we(e,"table",t),tt=e=>Ke(e,"tr"),nt=e=>et(e).fold(m([]),(e=>_e(e,"colgroup"))),ot=(e,t)=>P(e,(e=>{if("colgroup"===G(e)){const t=P((e=>H(e,"colgroup")?_e(e,"col"):L(nt(e),(e=>_e(e,"col"))))(e),(e=>{const t=Ze(e,"span",1);return Qe(e,1,t)}));return Ye(e,t,"colgroup")}{const n=P((e=>Ke(e,"th,td"))(e),(e=>{const t=Ze(e,"rowspan",1),n=Ze(e,"colspan",1);return Qe(e,t,n)}));return Ye(e,n,t(e))}})),rt=e=>ae(e).map((e=>{const t=G(e);return(e=>F(Je,e))(t)?t:"tbody"})).getOr("tbody"),at=e=>De(e,"data-snooker-locked-cols").bind((e=>w.from(e.match(/\d+/g)))).map((e=>((e,t)=>{const n={};for(let o=0,r=e.length;o<r;o++){const r=e[o];n[String(r)]=t(r,o)}return n})(e,y))),st=(e,t)=>e+","+t,lt=(e,t)=>{const n=L(e.all,(e=>e.cells));return B(n,t)},it=e=>{const t={},n=[];var o;const r=(o=e,z(o,0)).map((e=>e.element)).bind(et).bind(at).getOr({});let a=0,s=0,l=0;const{pass:i,fail:c}=((e,t)=>{const n=[],o=[];for(let r=0,a=e.length;r<a;r++){const a=e[r];(t(a,r)?n:o).push(a)}return{pass:n,fail:o}})(e,(e=>"colgroup"===e.section));M(c,(e=>{const o=[];M(e.cells,(e=>{let n=0;for(;void 0!==t[st(l,n)];)n++;const a=E(r,n.toString()),i=((e,t,n,o,r,a)=>({element:e,rowspan:t,colspan:n,row:o,column:r,isLocked:a}))(e.element,e.rowspan,e.colspan,l,n,a);for(let o=0;o<e.colspan;o++)for(let r=0;r<e.rowspan;r++){const e=n+o,a=st(l+r,e);t[a]=i,s=Math.max(s,e+1)}o.push(i)})),a++,n.push(Ye(e.element,o,e.section)),l++}));const{columns:u,colgroups:d}=(e=>z(e,e.length-1))(i).map((e=>{const t=(e=>{const t={};let n=0;return M(e.cells,(e=>{const o=e.colspan;R(o,(r=>{const a=n+r;t[a]=((e,t,n)=>({element:e,colspan:t,column:n}))(e.element,o,a)})),n+=o})),t})(e),n=((e,t)=>({element:e,columns:t}))(e.element,C(t));return{colgroups:[n],columns:t}})).getOrThunk((()=>({colgroups:[],columns:{}}))),m=((e,t)=>({rows:e,columns:t}))(a,s);return{grid:m,access:t,all:n,columns:u,colgroups:d}},ct=e=>{const t=(e=>{const t=tt(e),n=[...nt(e),...t];return ot(n,rt)})(e);return it(t)},ut=(e,t,n)=>w.from(e.access[st(t,n)]),dt=(e,t,n)=>{const o=lt(e,(e=>n(t,e.element)));return o.length>0?w.some(o[0]):w.none()},mt=e=>L(e.all,(e=>e.cells)),pt=(e,t)=>w.from(e.columns[t]);var gt=tinymce.util.Tools.resolve("tinymce.util.Tools");const ht=(e,t,n)=>{const o=e.select("td,th",t);let r;for(let t=0;t<o.length;t++){const a=e.getStyle(o[t],n);if(s(r)&&(r=a),r!==a)return""}return r},bt=(e,t,n)=>{gt.each("left center right".split(" "),(o=>{o!==n&&e.formatter.remove("align"+o,{},t)})),n&&e.formatter.apply("align"+n,{},t)},ft=(e,t,n)=>{e.dispatch("TableModified",{...n,table:t})},yt=(e,t)=>(e=>{const t=parseFloat(e);return isNaN(t)?w.none():w.some(t)})(e).getOr(t),wt=(e,t,n)=>yt(We(e,t),n),vt=(e,t)=>{const n=e.dom,o=n.getBoundingClientRect().width||n.offsetWidth;return"border-box"===t?o:((e,t,n,o)=>t-wt(e,`padding-${n}`,0)-wt(e,`padding-${o}`,0)-wt(e,`border-${n}-width`,0)-wt(e,`border-${o}-width`,0))(e,o,"left","right")},xt=e=>vt(e,"content-box");var St=tinymce.util.Tools.resolve("tinymce.Env");const kt=R(5,(e=>{const t=`${e+1}px`;return{title:t,value:t}})),Ct=P(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],(e=>({title:e,value:e.toLowerCase()}))),Tt="100%",At=e=>{var t;const n=e.dom,o=null!==(t=n.getParent(e.selection.getStart(),n.isBlock))&&void 0!==t?t:e.getBody();return xt(U.fromDom(o))+"px"},_t=e=>t=>t.options.get(e),Et=_t("table_sizing_mode"),Nt=_t("table_border_widths"),Ot=_t("table_border_styles"),Ft=_t("table_cell_advtab"),Dt=_t("table_row_advtab"),Rt=_t("table_advtab"),Pt=_t("table_appearance_options"),Mt=_t("table_grid"),Bt=_t("table_style_by_css"),jt=_t("table_cell_class_list"),$t=_t("table_row_class_list"),Lt=_t("table_class_list"),It=_t("table_toolbar"),zt=_t("table_background_color_map"),qt=_t("table_border_color_map"),Wt=e=>"fixed"===Et(e),Ut=e=>"responsive"===Et(e),Ht=e=>{const t=e.options,n=t.get("table_default_styles");return t.isSet("table_default_styles")?n:((e,t)=>Ut(e)||!Bt(e)?t:Wt(e)?{...t,width:At(e)}:{...t,width:Tt})(e,n)},Vt=e=>{const t=e.options,n=t.get("table_default_attributes");return t.isSet("table_default_attributes")?n:((e,t)=>Ut(e)||Bt(e)?t:Wt(e)?{...t,width:At(e)}:{...t,width:Tt})(e,n)},Zt=(e,t)=>t.column>=e.startCol&&t.column+t.colspan-1<=e.finishCol&&t.row>=e.startRow&&t.row+t.rowspan-1<=e.finishRow,Kt=(e,t,n)=>{const o=dt(e,t,Z),r=dt(e,n,Z);return o.bind((e=>r.map((t=>{return n=e,o=t,r=Math.min(n.row,o.row),a=Math.min(n.column,o.column),s=Math.max(n.row+n.rowspan-1,o.row+o.rowspan-1),l=Math.max(n.column+n.colspan-1,o.column+o.colspan-1),{startRow:r,startCol:a,finishRow:s,finishCol:l};var n,o,r,a,s,l}))))},Gt=(e,t,n)=>Kt(e,t,n).bind((t=>((e,t)=>{let n=!0;const o=h(Zt,t);for(let r=t.startRow;r<=t.finishRow;r++)for(let a=t.startCol;a<=t.finishCol;a++)n=n&&ut(e,r,a).exists(o);return n?w.some(t):w.none()})(e,t))),Jt=ct,Qt=(e,t)=>{ae(e).each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},Yt=(e,t)=>{ie(e).fold((()=>{ae(e).each((e=>{en(e,t)}))}),(e=>{Qt(e,t)}))},Xt=(e,t)=>{ue(e).fold((()=>{en(e,t)}),(n=>{e.dom.insertBefore(t.dom,n.dom)}))},en=(e,t)=>{e.dom.appendChild(t.dom)},tn=(e,t)=>{Qt(e,t),en(t,e)},nn=(e,t)=>{M(t,((n,o)=>{const r=0===o?e:t[o-1];Yt(r,n)}))},on=(e,t)=>{M(t,(t=>{en(e,t)}))},rn=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},an=e=>{const t=ce(e);t.length>0&&nn(e,t),rn(e)},sn=((e,t)=>{const n=t=>e(t)?w.from(t.dom.nodeValue):w.none();return{get:o=>{if(!e(o))throw new Error("Can only get "+t+" value of a "+t+" node");return n(o).getOr("")},getOption:n,set:(n,o)=>{if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=o}}})(ee,"text"),ln=e=>sn.get(e),cn=(e,t)=>sn.set(e,t);var un=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];const dn=(e,t,n,o)=>{const r=t(e,n);return a=(n,o)=>{const r=t(e,o);return mn(e,n,r)},s=r,((e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)})(o,((e,t)=>{s=a(s,e,t)})),s;var a,s},mn=(e,t,n)=>t.bind((t=>n.filter(h(e.eq,t)))),pn=(e,t,n)=>n.length>0?((e,t,n,o)=>o(e,t,n[0],n.slice(1)))(e,t,n,dn):w.none(),gn={up:m({selector:be,closest:we,predicate:he,all:se}),down:m({selector:Ee,predicate:Ae}),styles:m({get:We,getRaw:He,set:qe,remove:Ve}),attrs:m({get:Fe,set:Oe,remove:Re,copyTo:(e,t)=>{((e,t)=>{const n=e.dom;S(t,((e,t)=>{Ne(n,t,e)}))})(t,j(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}))}}),insert:m({before:Qt,after:Yt,afterAll:nn,append:en,appendAll:on,prepend:Xt,wrap:tn}),remove:m({unwrap:an,remove:rn}),create:m({nu:U.fromTag,clone:e=>U.fromDom(e.dom.cloneNode(!1)),text:U.fromText}),query:m({comparePosition:(e,t)=>e.dom.compareDocumentPosition(t.dom),prevSibling:le,nextSibling:ie}),property:m({children:ce,name:G,parent:ae,document:e=>re(e).dom,isText:ee,isComment:Y,isElement:X,isSpecial:e=>{const t=G(e);return F(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],t)},getLanguage:e=>X(e)?De(e,"lang"):w.none(),getText:ln,setText:cn,isBoundary:e=>!!X(e)&&("body"===G(e)||F(un,G(e))),isEmptyTag:e=>!!X(e)&&F(["br","img","hr","input"],G(e)),isNonEditable:e=>X(e)&&"false"===Fe(e,"contenteditable")}),eq:Z,is:K},hn=e=>be(e,"table"),bn=(e,t,n)=>ye(e,t).bind((t=>ye(e,n).bind((e=>{return(n=hn,o=[t,e],pn(gn,((e,t)=>n(t)),o)).map((n=>({first:t,last:e,table:n})));var n,o})))),fn=(e,t)=>((e,t)=>{const n=Ee(e,t);return n.length>0?w.some(n):w.none()})(e,t),yn=(e,t,n)=>bn(e,t,n).bind((t=>{const n=t=>Z(e,t),o="thead,tfoot,tbody,table",r=be(t.first,o,n),a=be(t.last,o,n);return r.bind((e=>a.bind((n=>Z(e,n)?((e,t,n)=>{const o=Jt(e);return Gt(o,t,n)})(t.table,t.first,t.last):w.none()))))})),wn=e=>P(e,U.fromDom),vn="data-mce-selected",xn="data-mce-first-selected",Sn="data-mce-last-selected",kn={selected:vn,selectedSelector:"td["+vn+"],th["+vn+"]",firstSelected:xn,firstSelectedSelector:"td["+xn+"],th["+xn+"]",lastSelected:Sn,lastSelectedSelector:"td["+Sn+"],th["+Sn+"]"},Cn=e=>(t,n)=>{const o=G(t),r="col"===o||"colgroup"===o?et(a=t).bind((e=>fn(e,kn.firstSelectedSelector))).fold(m(a),(e=>e[0])):t;var a;return we(r,e,n)},Tn=Cn("th,td,caption"),An=Cn("th,td"),_n=e=>wn(e.model.table.getSelectedCells()),En=(e,t)=>{const n=An(e),o=n.bind((e=>et(e))).map((e=>tt(e)));return Me(n,o,((e,n)=>B(n,(n=>D(wn(n.dom.cells),(n=>"1"===Fe(n,t)||Z(n,e))))))).getOr([])},Nn=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],On=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Fn=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Dn=e=>{return(t=e,n="#",Be(t,n)?((e,t)=>e.substring(t))(t,n.length):t).toUpperCase();var t,n},Rn=e=>(e=>On.test(e)||Fn.test(e))(e)?w.some({value:Dn(e)}):w.none(),Pn=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},Mn=e=>(e=>({value:Dn(e)}))(Pn(e.red)+Pn(e.green)+Pn(e.blue)),Bn=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,jn=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,$n=(e,t,n,o)=>({red:e,green:t,blue:n,alpha:o}),Ln=(e,t,n,o)=>{const r=parseInt(e,10),a=parseInt(t,10),s=parseInt(n,10),l=parseFloat(o);return $n(r,a,s,l)},In=e=>{const t=Bn.exec(e);if(null!==t)return w.some(Ln(t[1],t[2],t[3],"1"));const n=jn.exec(e);return null!==n?w.some(Ln(n[1],n[2],n[3],n[4])):w.none()},zn=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}},qn=()=>(e=>{const t=zn(w.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(w.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{n(),t.set(w.some(e))}}})((e=>e.unbind())),Wn=(e,t,n)=>o=>{const r=qn(),a=!Le(n);const s=()=>{const s=_n(e),l=o=>e.formatter.match(t,{value:n},o.dom,a);a?(o.setActive(!D(s,l)),r.set(e.formatter.formatChanged(t,(e=>o.setActive(!e)),!0))):(o.setActive(I(s,l)),r.set(e.formatter.formatChanged(t,o.setActive,!1,{value:n})))};return e.initialized?s():e.on("init",s),r.clear},Un=e=>E(e,"menu"),Hn=e=>P(e,(e=>{const t=e.text||e.title||"";return Un(e)?{text:t,items:Hn(e.menu)}:{text:t,value:e.value}})),Vn=e=>e.length?w.some(Hn([{text:"Select...",value:"mce-no-match"},...e])):w.none(),Zn=(e,t,n,o)=>P(t,(t=>{const r=t.text||t.title;return Un(t)?{type:"nestedmenuitem",text:r,getSubmenuItems:()=>Zn(e,t.menu,n,o)}:{text:r,type:"togglemenuitem",onAction:()=>o(t.value),onSetup:Wn(e,n,t.value)}})),Kn=(e,t)=>n=>{e.execCommand("mceTableApplyCellStyle",!1,{[t]:n})},Gn=e=>L(e,(e=>Un(e)?[{...e,menu:Gn(e.menu)}]:Le(e.value)?[e]:[])),Jn=(e,t,n,o)=>r=>r(Zn(e,t,n,o)),Qn=(e,t,n)=>{const o=P(t,(e=>{return{text:e.title,value:"#"+(t=e.value,Rn(t).orThunk((()=>In(t).map(Mn))).getOrThunk((()=>{const e=document.createElement("canvas");e.height=1,e.width=1;const n=e.getContext("2d");n.clearRect(0,0,e.width,e.height),n.fillStyle="#FFFFFF",n.fillStyle=t,n.fillRect(0,0,1,1);const o=n.getImageData(0,0,1,1).data,r=o[0],a=o[1],s=o[2],l=o[3];return Mn($n(r,a,s,l))}))).value,type:"choiceitem"};var t}));return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:o.length>0?o:void 0,allowCustomColors:!1},onAction:t=>{const o="remove"===t.value?"":t.value;e.execCommand("mceTableApplyCellStyle",!1,{[n]:o})}}]},Yn=e=>()=>{const t="header"===e.queryCommandValue("mceTableRowType")?"body":"header";e.execCommand("mceTableRowType",!1,{type:t})},Xn=e=>()=>{const t="th"===e.queryCommandValue("mceTableColType")?"td":"th";e.execCommand("mceTableColType",!1,{type:t})},eo=[{name:"width",type:"input",label:"Width"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Nn}],to=e=>eo.concat((e=>Vn(jt(e)).map((e=>({name:"class",type:"listbox",label:"Class",items:e}))))(e).toArray()),no=(e,t)=>{const n=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Hn(Ot(e)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:"cell"===t?[{name:"borderwidth",type:"input",label:"Border width"}].concat(n):n}},oo=(e,t)=>{const n=e.dom;return{setAttrib:(e,o)=>{n.setAttrib(t,e,o)},setStyle:(e,o)=>{n.setStyle(t,e,o)},setFormat:(n,o)=>{""===o?e.formatter.remove(n,{value:null},t,!0):e.formatter.apply(n,{value:o},t)}}},ro=oe("th"),ao=(e,t)=>e&&t?"sectionCells":e?"section":"cells",so=e=>{const t=B(e,(e=>ro(e.element)));return 0===t.length?w.some("td"):t.length===e.length?w.some("th"):w.none()},lo=e=>{const t=P(e,(e=>(e=>{const t="thead"===e.section,n=Pe(so(e.cells),"th");return"tfoot"===e.section?{type:"footer"}:t||n?{type:"header",subType:ao(t,n)}:{type:"body"}})(e).type)),n=F(t,"header"),o=F(t,"footer");if(n||o){const e=F(t,"body");return!n||e||o?n||e||!o?w.none():w.some("footer"):w.some("header")}return w.some("body")},io=(e,t)=>q(e.all,(e=>$(e.cells,(e=>Z(t,e.element))))),co=(e,t,n)=>{const o=(e=>{const t=[],n=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(n);return t})(P(t.selection,(t=>Xe(t).bind((t=>io(e,t))).filter(n))));return r=o.length>0,a=o,r?w.some(a):w.none();var r,a},uo=(e,t)=>co(e,t,y),mo=(e,t)=>I(t,(t=>((e,t)=>io(e,t).exists((e=>!e.isLocked)))(e,t))),po=(e,t)=>((e,t)=>t.mergable)(0,t).filter((t=>mo(e,t.cells))),go=(e,t)=>((e,t)=>t.unmergable)(0,t).filter((t=>mo(e,t))),ho=e=>{if(!r(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return M(e,((o,a)=>{const s=v(o);if(1!==s.length)throw new Error("one and only one name per case");const l=s[0],i=o[l];if(void 0!==n[l])throw new Error("duplicate key detected:"+l);if("cata"===l)throw new Error("cannot have a case named cata (sorry)");if(!r(i))throw new Error("case arguments must be an array");t.push(l),n[l]=(...n)=>{const o=n.length;if(o!==i.length)throw new Error("Wrong number of arguments to case "+l+". Expected "+i.length+" ("+i+"), got "+o);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[a].apply(null,n)},match:e=>{const o=v(e);if(t.length!==o.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+o.join(","));if(!I(t,(e=>F(o,e))))throw new Error("Not all branches were specified when using match. Specified: "+o.join(", ")+"\nRequired: "+t.join(", "));return e[l].apply(null,n)},log:e=>{console.log(e,{constructors:t,constructor:l,params:n})}}}})),n},bo=(ho([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),(e,t)=>{const n=ct(e);return uo(n,t).bind((e=>{const t=e[e.length-1],o=e[0].row,r=t.row+t.rowspan,a=n.all.slice(o,r);return lo(a)})).getOr("")}),fo=e=>{return Be(e,"rgb")?In(t=e).map(Mn).map((e=>"#"+e.value)).getOr(t):e;var t},yo=e=>{const t=U.fromDom(e);return{borderwidth:He(t,"border-width").getOr(""),borderstyle:He(t,"border-style").getOr(""),bordercolor:He(t,"border-color").map(fo).getOr(""),backgroundcolor:He(t,"background-color").map(fo).getOr("")}},wo=e=>{const t=e[0],n=e.slice(1);return M(n,(e=>{M(v(t),(n=>{S(e,((e,o)=>{const r=t[n];""!==r&&n===o&&r!==e&&(t[n]="class"===n?"mce-no-match":"")}))}))})),t},vo=(e,t,n,o)=>$(e,(e=>!s(n.formatter.matchNode(o,t+e)))).getOr(""),xo=h(vo,["left","center","right"],"align"),So=h(vo,["top","middle","bottom"],"valign"),ko=e=>et(U.fromDom(e)).map((t=>{const n={selection:wn(e.cells)};return bo(t,n)})).getOr(""),Co=(e,t)=>{const n=ct(e),o=mt(n),r=B(o,(e=>D(t,(t=>Z(e.element,t)))));return P(r,(e=>({element:e.element.dom,column:pt(n,e.column).map((e=>e.element.dom))})))},To=(e,t,n,o)=>{const r=1===t.length;M(t,(t=>{const a=t.element,s=r?y:o,l=oo(e,a);((e,t,n,o)=>{o("scope")&&e.setAttrib("scope",n.scope),o("class")&&"mce-no-match"!==n.class&&e.setAttrib("class",n.class),o("width")&&t.setStyle("width",ke(n.width))})(l,t.column.map((t=>oo(e,t))).getOr(l),n,s),Ft(e)&&((e,t,n)=>{n("backgroundcolor")&&e.setFormat("tablecellbackgroundcolor",t.backgroundcolor),n("bordercolor")&&e.setFormat("tablecellbordercolor",t.bordercolor),n("borderstyle")&&e.setFormat("tablecellborderstyle",t.borderstyle),n("borderwidth")&&e.setFormat("tablecellborderwidth",ke(t.borderwidth))})(l,n,s),o("halign")&&bt(e,a,n.halign),o("valign")&&((e,t,n)=>{gt.each("top middle bottom".split(" "),(o=>{o!==n&&e.formatter.remove("valign"+o,{},t)})),n&&e.formatter.apply("valign"+n,{},t)})(e,a,n.valign)}))},Ao=(e,t,n,o)=>{const r=o.getData();o.close(),e.undoManager.transact((()=>{((e,t,n,o)=>{const r=k(o,((e,t)=>n[t]!==e));T(r)>0&&t.length>=1&&et(t[0]).each((n=>{const a=Co(n,t),s=T(k(r,((e,t)=>"scope"!==t&&"celltype"!==t)))>0,l=_(r,"celltype");(s||_(r,"scope"))&&To(e,a,o,h(_,r)),l&&((e,t)=>{e.execCommand("mceTableCellType",!1,{type:t.celltype,no_events:!0})})(e,o),ft(e,n.dom,{structure:l,style:s})}))})(e,t,n,r),e.focus()}))},_o=(e,t)=>{const n=et(t[0]).map((n=>P(Co(n,t),(t=>((e,t,n,o)=>{const r=e.dom,a=o.getOr(t);return{width:(l=a,i="width",r.getStyle(l,i)||r.getAttrib(l,i)),scope:r.getAttrib(t,"scope"),celltype:(s=t,s.nodeName.toLowerCase()),class:r.getAttrib(t,"class",""),halign:xo(e,t),valign:So(e,t),...n?yo(t):{}};var s,l,i})(e,t.element,Ft(e),t.column)))));return wo(n.getOrDie())},Eo=e=>{const t=_n(e);if(0===t.length)return;const n=_o(e,t),o={type:"tabpanel",tabs:[{title:"General",name:"general",items:to(e)},no(e,"cell")]},r={type:"panel",items:[{type:"grid",columns:2,items:to(e)}]};e.windowManager.open({title:"Cell Properties",size:"normal",body:Ft(e)?o:r,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:n,onSubmit:h(Ao,e,t,n)})},No=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Oo=e=>No.concat((e=>Vn($t(e)).map((e=>({name:"class",type:"listbox",label:"Class",items:e}))))(e).toArray()),Fo=(e,t,n,o)=>{const r=1===t.length?y:o;M(t,(t=>{const a=_e(U.fromDom(t),"td,th"),s=oo(e,t);((e,t,n)=>{n("class")&&"mce-no-match"!==t.class&&e.setAttrib("class",t.class),n("height")&&e.setStyle("height",ke(t.height))})(s,n,r),Dt(e)&&((e,t,n)=>{n("backgroundcolor")&&e.setStyle("background-color",t.backgroundcolor),n("bordercolor")&&e.setStyle("border-color",t.bordercolor),n("borderstyle")&&e.setStyle("border-style",t.borderstyle)})(s,n,r),o("height")&&M(a,(t=>{e.dom.setStyle(t.dom,"height",null)})),o("align")&&bt(e,t,n.align)}))},Do=(e,t,n,o)=>{const r=o.getData();o.close(),e.undoManager.transact((()=>{((e,t,n,o)=>{const r=k(o,((e,t)=>n[t]!==e));if(T(r)>0){const n=_(r,"type"),a=!n||T(r)>1;a&&Fo(e,t,o,h(_,r)),n&&((e,t)=>{e.execCommand("mceTableRowType",!1,{type:t.type,no_events:!0})})(e,o),et(U.fromDom(t[0])).each((t=>ft(e,t.dom,{structure:n,style:a})))}})(e,t,n,r),e.focus()}))},Ro=e=>{const t=En(Ce(e),kn.selected);if(0===t.length)return;const n=P(t,(t=>((e,t,n)=>{const o=e.dom;return{height:o.getStyle(t,"height")||o.getAttrib(t,"height"),class:o.getAttrib(t,"class",""),type:ko(t),align:xo(e,t),...n?yo(t):{}}})(e,t.dom,Dt(e)))),o=wo(n),r={type:"tabpanel",tabs:[{title:"General",name:"general",items:Oo(e)},no(e,"row")]},a={type:"panel",items:[{type:"grid",columns:2,items:Oo(e)}]};e.windowManager.open({title:"Row Properties",size:"normal",body:Dt(e)?r:a,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:o,onSubmit:h(Do,e,P(t,(e=>e.dom)),o)})},Po=(e,t,n)=>{const o=n?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],r=Pt(e)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],a=t.length>0?[{name:"class",type:"listbox",label:"Class",items:t}]:[];return o.concat([{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}]).concat(r).concat([{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]).concat(a)},Mo=(e,t,n,r)=>{if("TD"===t.tagName||"TH"===t.tagName)o(n)&&i(r)?e.setStyle(t,n,r):e.setStyles(t,n);else if(t.children)for(let o=0;o<t.children.length;o++)Mo(e,t.children[o],n,r)},Bo=(e,t,n,o)=>{const r=e.dom,a={},l={},i=Bt(e),c=Rt(e),u=0===parseFloat(n.border);if(s(n.class)||"mce-no-match"===n.class||(a.class=n.class),l.height=ke(n.height),i?l.width=ke(n.width):r.getAttrib(t,"width")&&(a.width=(e=>e?e.replace(/px$/,""):"")(n.width)),i?(u?(a.border=0,l["border-width"]=""):(l["border-width"]=ke(n.border),a.border=1),l["border-spacing"]=ke(n.cellspacing)):(a.border=u?0:n.border,a.cellpadding=n.cellpadding,a.cellspacing=n.cellspacing),i&&t.children){const e={};if(u?e["border-width"]="":o.border&&(e["border-width"]=ke(n.border)),o.cellpadding&&(e.padding=ke(n.cellpadding)),c&&o.bordercolor&&(e["border-color"]=n.bordercolor),!(e=>{for(const t in e)if(x.call(e,t))return!1;return!0})(e))for(let n=0;n<t.children.length;n++)Mo(r,t.children[n],e)}if(c){const e=n;l["background-color"]=e.backgroundcolor,l["border-color"]=e.bordercolor,l["border-style"]=e.borderstyle}r.setStyles(t,{...Ht(e),...l}),r.setAttribs(t,{...Vt(e),...a})},jo=(e,t,n,o)=>{const r=e.dom,a=o.getData(),s=k(a,((e,t)=>n[t]!==e));o.close(),e.undoManager.transact((()=>{if(!t){const n=Ie(a.cols).getOr(1),o=Ie(a.rows).getOr(1);e.execCommand("mceInsertTable",!1,{rows:o,columns:n}),t=An(Ce(e),Se(e)).bind((t=>et(t,Se(e)))).map((e=>e.dom)).getOrDie()}if(T(s)>0){const n={border:_(s,"border"),bordercolor:_(s,"bordercolor"),cellpadding:_(s,"cellpadding")};Bo(e,t,a,n);const o=r.select("caption",t)[0];(o&&!a.caption||!o&&a.caption)&&e.execCommand("mceTableToggleCaption"),bt(e,t,a.align)}if(e.focus(),e.addVisual(),T(s)>0){const n=_(s,"caption"),o=!n||T(s)>1;ft(e,t,{structure:n,style:o})}}))},$o=(e,t)=>{const n=e.dom;let o,r=((e,t)=>{const n=Ht(e),o=Vt(e),r=t?{borderstyle:A(n,"border-style").getOr(""),bordercolor:fo(A(n,"border-color").getOr("")),backgroundcolor:fo(A(n,"background-color").getOr(""))}:{};return{height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:"",...n,...o,...r,...(()=>{const t=n["border-width"];return Bt(e)&&t?{border:t}:A(o,"border").fold((()=>({})),(e=>({border:e})))})(),...{...A(n,"border-spacing").or(A(o,"cellspacing")).fold((()=>({})),(e=>({cellspacing:e}))),...A(n,"border-padding").or(A(o,"cellpadding")).fold((()=>({})),(e=>({cellpadding:e})))}}})(e,Rt(e));t?(r.cols="1",r.rows="1",Rt(e)&&(r.borderstyle="",r.bordercolor="",r.backgroundcolor="")):(o=n.getParent(e.selection.getStart(),"table",e.getBody()),o?r=((e,t,n)=>{const o=e.dom,r=Bt(e)?o.getStyle(t,"border-spacing")||o.getAttrib(t,"cellspacing"):o.getAttrib(t,"cellspacing")||o.getStyle(t,"border-spacing"),a=Bt(e)?ht(o,t,"padding")||o.getAttrib(t,"cellpadding"):o.getAttrib(t,"cellpadding")||ht(o,t,"padding");return{width:o.getStyle(t,"width")||o.getAttrib(t,"width"),height:o.getStyle(t,"height")||o.getAttrib(t,"height"),cellspacing:null!=r?r:"",cellpadding:null!=a?a:"",border:((t,n)=>{const o=He(U.fromDom(n),"border-width");return Bt(e)&&o.isSome()?o.getOr(""):t.getAttrib(n,"border")||ht(e.dom,n,"border-width")||ht(e.dom,n,"border")||""})(o,t),caption:!!o.select("caption",t)[0],class:o.getAttrib(t,"class",""),align:xo(e,t),...n?yo(t):{}}})(e,o,Rt(e)):Rt(e)&&(r.borderstyle="",r.bordercolor="",r.backgroundcolor=""));const a=Vn(Lt(e));a.isSome()&&r.class&&(r.class=r.class.replace(/\s*mce\-item\-table\s*/g,""));const s={type:"grid",columns:2,items:Po(e,a.getOr([]),t)},l=Rt(e)?{type:"tabpanel",tabs:[{title:"General",name:"general",items:[s]},no(e,"table")]}:{type:"panel",items:[s]};e.windowManager.open({title:"Table Properties",size:"normal",body:l,onSubmit:h(jo,e,o,r),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r})},Lo=e=>{S({mceTableProps:h($o,e,!1),mceTableRowProps:h(Ro,e),mceTableCellProps:h(Eo,e),mceInsertTableDialog:h($o,e,!0)},((t,n)=>e.addCommand(n,(()=>{return n=t,void(Te(Ce(e))&&n());var n}))))},Io=p,zo=e=>{const t=(e,t)=>De(e,t).exists((e=>parseInt(e,10)>1));return e.length>0&&I(e,(e=>t(e,"rowspan")||t(e,"colspan")))?w.some(e):w.none()},qo=(e,t,n)=>t.length<=1?w.none():yn(e,n.firstSelectedSelector,n.lastSelectedSelector).map((e=>({bounds:e,cells:t}))),Wo=e=>{const t=zn(w.none()),n=zn([]);let o=w.none();const r=oe("caption"),a=e=>o.forall((t=>!t[e])),s=()=>Tn((e=>U.fromDom(e.selection.getEnd()))(e),Se(e)),l=()=>Tn(Ce(e),Se(e)).bind((t=>{return n=Me(et(t),s().bind(et),((n,o)=>Z(n,o)?r(t)?w.some((e=>({element:e,mergable:w.none(),unmergable:w.none(),selection:[e]}))(t)):w.some(((e,t,n)=>({element:n,mergable:qo(t,e,kn),unmergable:zo(e),selection:Io(e)}))(_n(e),n,t)):w.none())),n.bind(p);var n})),i=e=>et(e.element).map((t=>{const n=ct(t),o=uo(n,e).getOr([]),r=j(o,((e,t)=>(t.isLocked&&(e.onAny=!0,0===t.column?e.onFirst=!0:t.column+t.colspan>=n.grid.columns&&(e.onLast=!0)),e)),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:po(n,e).isSome(),unmergeable:go(n,e).isSome(),locked:r}})),c=()=>{t.set((e=>{let t,n=!1;return(...o)=>(n||(n=!0,t=e.apply(null,o)),t)})(l)()),o=t.get().bind(i),M(n.get(),b)},u=e=>(e(),n.set(n.get().concat([e])),()=>{n.set(B(n.get(),(t=>t!==e)))}),d=(n,o)=>u((()=>t.get().fold((()=>{n.setEnabled(!1)}),(t=>{n.setEnabled(!o(t)&&e.selection.isEditable())})))),m=(n,o,r)=>u((()=>t.get().fold((()=>{n.setEnabled(!1),n.setActive(!1)}),(t=>{n.setEnabled(!o(t)&&e.selection.isEditable()),n.setActive(r(t))})))),g=e=>o.exists((t=>t.locked[e])),h=(t,n)=>o=>m(o,(e=>r(e.element)),(()=>e.queryCommandValue(t)===n)),y=h("mceTableRowType","header"),v=h("mceTableColType","th");return e.on("NodeChange ExecCommand TableSelectorChange",c),{onSetupTable:e=>d(e,(e=>!1)),onSetupCellOrRow:e=>d(e,(e=>r(e.element))),onSetupColumn:e=>t=>d(t,(t=>r(t.element)||g(e))),onSetupPasteable:e=>t=>d(t,(t=>r(t.element)||e().isNone())),onSetupPasteableColumn:(e,t)=>n=>d(n,(n=>r(n.element)||e().isNone()||g(t))),onSetupMergeable:e=>d(e,(e=>a("mergeable"))),onSetupUnmergeable:e=>d(e,(e=>a("unmergeable"))),resetTargets:c,onSetupTableWithCaption:t=>m(t,f,(t=>et(t.element,Se(e)).exists((e=>fe(e,"caption").isSome())))),onSetupTableRowHeaders:y,onSetupTableColumnHeaders:v,targets:t.get}};var Uo=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Ho="x-tinymce/dom-table-",Vo=Ho+"rows",Zo=Ho+"columns",Ko=e=>{var t;const n=null!==(t=Uo.read())&&void 0!==t?t:[];return q(n,(t=>w.from(t.getType(e))))},Go=()=>Ko(Vo),Jo=()=>Ko(Zo),Qo=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}},Yo=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}},Xo=e=>{const t=Wo(e);(e=>{const t=e.options.register;t("table_border_widths",{processor:"object[]",default:kt}),t("table_border_styles",{processor:"object[]",default:Ct}),t("table_cell_advtab",{processor:"boolean",default:!0}),t("table_row_advtab",{processor:"boolean",default:!0}),t("table_advtab",{processor:"boolean",default:!0}),t("table_appearance_options",{processor:"boolean",default:!0}),t("table_grid",{processor:"boolean",default:!St.deviceType.isTouch()}),t("table_cell_class_list",{processor:"object[]",default:[]}),t("table_row_class_list",{processor:"object[]",default:[]}),t("table_class_list",{processor:"object[]",default:[]}),t("table_toolbar",{processor:"string",default:"tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"}),t("table_background_color_map",{processor:"object[]",default:[]}),t("table_border_color_map",{processor:"object[]",default:[]})})(e),Lo(e),((e,t)=>{const n=t=>()=>e.execCommand(t),o=(t,o)=>!!e.queryCommandSupported(o.command)&&(e.ui.registry.addMenuItem(t,{...o,onAction:c(o.onAction)?o.onAction:n(o.command)}),!0),r=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addToggleMenuItem(t,{...o,onAction:c(o.onAction)?o.onAction:n(o.command)})},a=t=>{e.execCommand("mceInsertTable",!1,{rows:t.numRows,columns:t.numColumns})},s=[o("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:t.onSetupCellOrRow}),o("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:t.onSetupCellOrRow}),o("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:t.onSetupCellOrRow}),o("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:t.onSetupCellOrRow}),o("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:t.onSetupCellOrRow}),o("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:t.onSetupCellOrRow}),o("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:t.onSetupPasteable(Go)}),o("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:t.onSetupPasteable(Go)})],l=[o("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:t.onSetupColumn("onFirst")}),o("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:t.onSetupColumn("onLast")}),o("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:t.onSetupColumn("onAny")}),o("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:t.onSetupColumn("onAny")}),o("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:t.onSetupColumn("onAny")}),o("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:t.onSetupPasteableColumn(Jo,"onFirst")}),o("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:t.onSetupPasteableColumn(Jo,"onLast")})],i=[o("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:t.onSetupCellOrRow}),o("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:t.onSetupMergeable}),o("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:t.onSetupUnmergeable})];Mt(e)?e.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:a}],onSetup:Yo(e)}):e.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:n("mceInsertTableDialog"),onSetup:Yo(e)}),e.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:n("mceInsertTableDialog"),onSetup:Yo(e)}),o("tableprops",{text:"Table properties",onSetup:t.onSetupTable,command:"mceTableProps"}),o("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:t.onSetupTable,command:"mceTableDelete"}),F(s,!0)&&e.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:m("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),F(l,!0)&&e.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:m("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),F(i,!0)&&e.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:m("tablecellprops tablemergecells tablesplitcells")}),e.ui.registry.addContextMenu("table",{update:()=>(t.resetTargets(),t.targets().fold(m(""),(e=>"caption"===G(e.element)?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable")))});const u=Gn(Lt(e));0!==u.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Zn(e,u,"tableclass",(t=>e.execCommand("mceTableToggleClass",!1,t))),onSetup:t.onSetupTable});const d=Gn(jt(e));0!==d.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Zn(e,d,"tablecellclass",(t=>e.execCommand("mceTableCellToggleClass",!1,t))),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Zn(e,Nn,"tablecellverticalalign",Kn(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Zn(e,Nt(e),"tablecellborderwidth",Kn(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Zn(e,Ot(e),"tablecellborderstyle",Kn(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Qn(e,zt(e),"background-color"),onSetup:t.onSetupCellOrRow}),e.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Qn(e,qt(e),"border-color"),onSetup:t.onSetupCellOrRow})),r("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),r("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Yn(e),onSetup:t.onSetupTableRowHeaders}),r("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Xn(e),onSetup:t.onSetupTableRowHeaders})})(e,t),((e,t)=>{e.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:Qo(e),fetch:e=>e("inserttable | cell row column | advtablesort | tableprops deletetable")});const n=t=>()=>e.execCommand(t),o=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addButton(t,{...o,onAction:c(o.onAction)?o.onAction:n(o.command)})},r=(t,o)=>{e.queryCommandSupported(o.command)&&e.ui.registry.addToggleButton(t,{...o,onAction:c(o.onAction)?o.onAction:n(o.command)})};o("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:t.onSetupTable}),o("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:t.onSetupTable}),o("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:t.onSetupCellOrRow}),o("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:t.onSetupMergeable}),o("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:t.onSetupUnmergeable}),o("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:t.onSetupCellOrRow}),o("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:t.onSetupCellOrRow}),o("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:t.onSetupCellOrRow}),o("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:t.onSetupCellOrRow}),o("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:t.onSetupColumn("onFirst")}),o("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:t.onSetupColumn("onLast")}),o("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:t.onSetupColumn("onAny")}),o("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:t.onSetupCellOrRow}),o("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:t.onSetupCellOrRow}),o("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:t.onSetupPasteable(Go)}),o("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:t.onSetupPasteable(Go)}),o("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:t.onSetupColumn("onAny")}),o("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:t.onSetupColumn("onAny")}),o("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:t.onSetupPasteableColumn(Jo,"onFirst")}),o("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:t.onSetupPasteableColumn(Jo,"onLast")}),o("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:Qo(e)});const a=Gn(Lt(e));0!==a.length&&e.queryCommandSupported("mceTableToggleClass")&&e.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Jn(e,a,"tableclass",(t=>e.execCommand("mceTableToggleClass",!1,t))),onSetup:t.onSetupTable});const s=Gn(jt(e));0!==s.length&&e.queryCommandSupported("mceTableCellToggleClass")&&e.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Jn(e,s,"tablecellclass",(t=>e.execCommand("mceTableCellToggleClass",!1,t))),onSetup:t.onSetupCellOrRow}),e.queryCommandSupported("mceTableApplyCellStyle")&&(e.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Jn(e,Nn,"tablecellverticalalign",Kn(e,"vertical-align")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Jn(e,Nt(e),"tablecellborderwidth",Kn(e,"border-width")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Jn(e,Ot(e),"tablecellborderstyle",Kn(e,"border-style")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:t=>t(Qn(e,zt(e),"background-color")),onSetup:t.onSetupCellOrRow}),e.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:t=>t(Qn(e,qt(e),"border-color")),onSetup:t.onSetupCellOrRow})),r("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:t.onSetupTableWithCaption}),r("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Yn(e),onSetup:t.onSetupTableRowHeaders}),r("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Xn(e),onSetup:t.onSetupTableColumnHeaders})})(e,t),(e=>{const t=t=>e.dom.is(t,"table")&&e.getBody().contains(t)&&e.dom.isEditable(t.parentNode),n=It(e);n.length>0&&e.ui.registry.addContextToolbar("table",{predicate:t,items:n,scope:"node",position:"node"})})(e)};e.add("table",Xo)}()},57426:function(e,t,n){n(24855)},59638:function(e,t,n){n(52171)},63026:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||(null===(a=o.constructor)||void 0===a?void 0:a.name)===r.name)?"string":t;var n,o,r,a})(t)===e,n=e=>t=>typeof t===e,o=t("string"),r=t("object"),a=e=>null===e,s=n("boolean"),l=n("number");class i{constructor(e,t){this.tag=e,this.value=t}static some(e){return new i(!0,e)}static none(){return i.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?i.some(e(this.value)):i.none()}bind(e){return this.tag?e(this.value):i.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:i.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return null==e?i.none():i.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}i.singletonNone=new i(!1);const c=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},u=Object.keys,d=(e,t)=>{const n=u(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}},m="undefined"!=typeof window?window:Function("return this;")(),p=(e,t)=>((e,t)=>{let n=null!=t?t:m;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),t),g=Object.getPrototypeOf,h=e=>e.dom.nodeValue,b=e=>t=>(e=>e.dom.nodeType)(t)===e,f=e=>y(e)&&(e=>{const t=p("ownerDocument.defaultView",e);return r(e)&&((e=>((e,t)=>{const n=((e,t)=>p(e,t))(e,t);if(null==n)throw new Error(e+" not available on this browser");return n})("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(g(e).constructor.name))})(e.dom),y=b(1),w=b(3),v=(e,t,n)=>{((e,t,n)=>{if(!(o(n)||s(n)||l(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(e.dom,t,n)},x=(e,t)=>{e.dom.removeAttribute(t)},S=(e,t)=>{const n=((e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n})(e,t);return void 0===n||""===n?[]:n.split(" ")},k=e=>void 0!==e.dom.classList,C=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},T={" ":"nbsp","­":"shy"},A=(e,t)=>{let n="";return d(e,((e,t)=>{n+=t})),new RegExp("["+n+"]",t?"g":"")},_=A(T),E=A(T,!0),N=(e=>{let t="";return d(e,(e=>{t&&(t+=","),t+="span.mce-"+e})),t})(T),O="mce-nbsp",F=e=>e.dom.contentEditable,D=e=>'<span data-mce-bogus="1" class="mce-'+T[e]+'">'+e+"</span>",R=e=>"span"===e.nodeName.toLowerCase()&&e.classList.contains("mce-nbsp-wrap"),P=e=>{const t=h(e);return w(e)&&o(t)&&_.test(t)},M=(e,t,n)=>{let o=[];const r=((e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o})(e.dom.childNodes,C);return c(r,(e=>{var r;n&&(R((r=e).dom)||!(e=>f(e)&&"false"===F(e))(r))&&t(e)&&(o=o.concat([e])),o=o.concat(M(e,t,((e,t)=>{if(f(e)&&!R(e.dom)){const t=F(e);if("true"===t)return!0;if("false"===t)return!1}return t})(e,n)))})),o},B=(e,t)=>{const n=e.dom,o=M(C(t),P,e.dom.isEditable(t));c(o,(t=>{var o;const r=t.dom.parentNode;if(R(r))a=C(r),s=O,k(a)?a.dom.classList.add(s):((e,t)=>{((e,t,n)=>{const o=S(e,t).concat([n]);v(e,t,o.join(" "))})(e,"class",t)})(a,s);else{const r=n.encode(null!==(o=h(t))&&void 0!==o?o:"").replace(E,D),a=n.create("div",{},r);let s;for(;s=a.lastChild;)n.insertAfter(s,t.dom);e.dom.remove(t.dom)}var a,s}))},j=(e,t)=>{const n=e.dom.select(N,t);c(n,(t=>{var n,o;R(t)?(n=C(t),o=O,k(n)?n.dom.classList.remove(o):((e,t)=>{((e,t,n)=>{const o=(e=>{const t=[];for(let o=0,r=e.length;o<r;o++){const r=e[o];r!==n&&t.push(r)}return t})(S(e,t));o.length>0?v(e,t,o.join(" ")):x(e,t)})(e,"class",t)})(n,o),(e=>{const t=k(e)?e.dom.classList:(e=>S(e,"class"))(e);0===t.length&&x(e,"class")})(n)):e.dom.remove(t,!0)}))},$=e=>{const t=e.getBody(),n=e.selection.getBookmark();let o=((e,t)=>{for(;e.parentNode;){if(e.parentNode===t)return t;e=e.parentNode}})(e.selection.getNode(),t);o=void 0!==o?o:t,j(e,o),B(e,o),e.selection.moveToBookmark(n)},L=(e,t)=>{((e,t)=>{e.dispatch("VisualChars",{state:t})})(e,t.get());const n=e.getBody();!0===t.get()?B(e,n):j(e,n)},I=e=>e.options.get("visualchars_default_state"),z=(e,t)=>n=>{n.setActive(t.get());const o=e=>n.setActive(e.state);return e.on("VisualChars",o),()=>e.off("VisualChars",o)};e.add("visualchars",(e=>{(e=>{(0,e.options.register)("visualchars_default_state",{processor:"boolean",default:!1})})(e);const t=(e=>{let t=e;return{get:()=>t,set:e=>{t=e}}})(I(e));return((e,t)=>{e.addCommand("mceVisualChars",(()=>{((e,t)=>{t.set(!t.get());const n=e.selection.getBookmark();L(e,t),e.selection.moveToBookmark(n)})(e,t)}))})(e,t),((e,t)=>{const n=()=>e.execCommand("mceVisualChars");e.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:n,onSetup:z(e,t),context:"any"}),e.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:n,onSetup:z(e,t),context:"any"})})(e,t),((e,t)=>{const n=(e=>{let t=null;return{cancel:()=>{a(t)||(clearTimeout(t),t=null)},throttle:(...n)=>{a(t)&&(t=setTimeout((()=>{t=null,e.apply(null,n)}),300))}}})((()=>{$(e)}));e.on("keydown",(o=>{!0===t.get()&&(13===o.keyCode?$(e):n.throttle())})),e.on("remove",n.cancel)})(e,t),((e,t)=>{e.on("init",(()=>{L(e,t)}))})(e,t),(e=>({isEnabled:()=>e.get()}))(t)}))}()},83393:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>typeof t===e,n=t("boolean"),o=t("number"),r=e=>t=>t.options.get(e),a=r("nonbreaking_force_tab"),s=r("nonbreaking_wrap"),l=(e,t)=>{let n="";for(let o=0;o<t;o++)n+=e;return n},i=(e,t)=>{const n=s(e)||e.plugins.visualchars?`<span class="${(e=>!!e.plugins.visualchars&&e.plugins.visualchars.isEnabled())(e)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap"}" contenteditable="false">${l("&nbsp;",t)}</span>`:l("&nbsp;",t);e.undoManager.transact((()=>e.insertContent(n)))};var c=tinymce.util.Tools.resolve("tinymce.util.VK");const u=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("nonbreaking",(e=>{(e=>{const t=e.options.register;t("nonbreaking_force_tab",{processor:e=>n(e)?{value:e?3:0,valid:!0}:o(e)?{value:e,valid:!0}:{valid:!1,message:"Must be a boolean or number."},default:!1}),t("nonbreaking_wrap",{processor:"boolean",default:!0})})(e),(e=>{e.addCommand("mceNonBreaking",(()=>{i(e,1)}))})(e),(e=>{const t=()=>e.execCommand("mceNonBreaking");e.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:t,onSetup:u(e)}),e.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:t,onSetup:u(e)})})(e),(e=>{const t=a(e);t>0&&e.on("keydown",(n=>{if(n.keyCode===c.TAB&&!n.isDefaultPrevented()){if(n.shiftKey)return;n.preventDefault(),n.stopImmediatePropagation(),i(e,t)}}))})(e)}))}()},85645:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.Env");const n=e=>t=>t.options.get(e),o=n("pagebreak_separator"),r=n("pagebreak_split_block"),a="mce-pagebreak",s=e=>{const n=`<img src="${t.transparentSrc}" class="${a}" data-mce-resize="false" data-mce-placeholder />`;return e?`<p>${n}</p>`:n},l=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("pagebreak",(e=>{(e=>{const t=e.options.register;t("pagebreak_separator",{processor:"string",default:"\x3c!-- pagebreak --\x3e"}),t("pagebreak_split_block",{processor:"boolean",default:!1})})(e),(e=>{e.addCommand("mcePageBreak",(()=>{e.insertContent(s(r(e)))}))})(e),(e=>{const t=()=>e.execCommand("mcePageBreak");e.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:t,onSetup:l(e)}),e.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:t,onSetup:l(e)})})(e),(e=>{const t=o(e),n=()=>r(e),l=new RegExp(t.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,(e=>"\\"+e)),"gi");e.on("BeforeSetContent",(e=>{e.content=e.content.replace(l,s(n()))})),e.on("PreInit",(()=>{e.serializer.addNodeFilter("img",(o=>{let r,s,l=o.length;for(;l--;)if(r=o[l],s=r.attr("class"),s&&-1!==s.indexOf(a)){const o=r.parent;if(o&&e.schema.getBlockElements()[o.name]&&n()){o.type=3,o.value=t,o.raw=!0,r.remove();continue}r.type=3,r.value=t,r.raw=!0}}))}))})(e),(e=>{e.on("ResolveName",(t=>{"IMG"===t.target.nodeName&&e.dom.hasClass(t.target,a)&&(t.name="pagebreak")}))})(e)}))}()},87187:function(){!function(){"use strict";const e=e=>{let t=e;return{get:()=>t,set:e=>{t=e}}};var t=tinymce.util.Tools.resolve("tinymce.PluginManager");const n=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=r=e,o=(a=String).prototype,o.isPrototypeOf(n)||(null===(s=r.constructor)||void 0===s?void 0:s.name)===a.name)?"string":t;var n,o;var r,a,s})(t)===e,o=e=>t=>typeof t===e,r=n("string"),a=n("array"),s=o("boolean"),l=o("number"),i=()=>{},c=e=>()=>e,u=c(!0),d=c("[~№|!-*+-\\/:;?@\\[-`{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]");class m{constructor(e,t){this.tag=e,this.value=t}static some(e){return new m(!0,e)}static none(){return m.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?m.some(e(this.value)):m.none()}bind(e){return this.tag?e(this.value):m.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:m.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return(e=>null==e)(e)?m.none():m.some(e)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}m.singletonNone=new m(!1);const p=d;var g=tinymce.util.Tools.resolve("tinymce.Env"),h=tinymce.util.Tools.resolve("tinymce.util.Tools");const b=Array.prototype.slice,f=Array.prototype.push,y=(e,t)=>{const n=e.length,o=new Array(n);for(let r=0;r<n;r++){const n=e[r];o[r]=t(n,r)}return o},w=(e,t)=>{for(let n=0,o=e.length;n<o;n++){t(e[n],n)}},v=(e,t)=>{for(let n=e.length-1;n>=0;n--){t(e[n],n)}},x=(e,t)=>(e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!a(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);f.apply(t,e[n])}return t})(y(e,t)),S=Object.hasOwnProperty,k=(e,t)=>S.call(e,t);"undefined"!=typeof window?window:Function("return this;")();const C=(T=3,e=>(e=>e.dom.nodeType)(e)===T);var T;const A=(e,t,n)=>{((e,t,n)=>{if(!(r(n)||s(n)||l(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")})(e.dom,t,n)},_=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},E={fromHtml:(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return _(n.childNodes[0])},fromTag:(e,t)=>{const n=(t||document).createElement(e);return _(n)},fromText:(e,t)=>{const n=(t||document).createTextNode(e);return _(n)},fromDom:_,fromPoint:(e,t,n)=>m.from(e.dom.elementFromPoint(t,n)).map(_)},N=(e,t)=>({element:e,offset:t}),O=(e,t)=>{const n=(e=>y(e.dom.childNodes,E.fromDom))(e);return n.length>0&&t<n.length?N(n[t],0):N(e,t)},F=(e,t)=>{const n=(e=>m.from(e.dom.parentNode).map(E.fromDom))(e);n.each((n=>{n.dom.insertBefore(t.dom,e.dom)}))},D=(e,t)=>{F(e,t),((e,t)=>{e.dom.appendChild(t.dom)})(t,e)},R=((e,t)=>{const n=t=>e(t)?m.from(t.dom.nodeValue):m.none();return{get:o=>{if(!e(o))throw new Error("Can only get "+t+" value of a "+t+" node");return n(o).getOr("")},getOption:n,set:(n,o)=>{if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom.nodeValue=o}}})(C,"text"),P=e=>R.get(e),M=(e,t)=>((e,t)=>{const n=void 0===t?document:t.dom;return 1!==(o=n).nodeType&&9!==o.nodeType&&11!==o.nodeType||0===o.childElementCount?[]:y(n.querySelectorAll(e),E.fromDom);var o})(t,e);var B=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker");const j=(e,t)=>e.isBlock(t)||k(e.schema.getVoidElements(),t.nodeName),$=(e,t)=>!e.isEditable(t),L=(e,t)=>!e.isBlock(t)&&k(e.schema.getWhitespaceElements(),t.nodeName),I=(e,t)=>O(E.fromDom(e),t),z=(e,t,n,o,r,a=!0)=>{let s=a?t(!1):n;for(;s;){const n=$(e,s);if(n||L(e,s)){if(n?o.cef(s):o.boundary(s))break;s=t(!0)}else{if(j(e,s)){if(o.boundary(s))break}else 3===s.nodeType&&o.text(s);if(s===r)break;s=t(!1)}}},q=(e,t,n,o,r)=>{var a;if(((e,t)=>j(e,t)||$(e,t)||L(e,t)||((e,t)=>"true"===e.getContentEditable(t)&&t.parentNode&&!e.isEditable(t.parentNode))(e,t))(e,n))return;const s=null!==(a=e.getParent(o,e.isBlock))&&void 0!==a?a:e.getRoot(),l=new B(n,s),i=r?l.next.bind(l):l.prev.bind(l);z(e,i,n,{boundary:u,cef:u,text:e=>{r?t.fOffset+=e.length:t.sOffset+=e.length,t.elements.push(E.fromDom(e))}})},W=(e,t,n,o,r,a=!0)=>{const s=new B(n,t),l=[];let i={sOffset:0,fOffset:0,elements:[]};q(e,i,n,t,!1);const c=()=>(i.elements.length>0&&(l.push(i),i={sOffset:0,fOffset:0,elements:[]}),!1);return z(e,s.next.bind(s),n,{boundary:c,cef:e=>(c(),r&&l.push(...r.cef(e)),!1),text:e=>{i.elements.push(E.fromDom(e)),r&&r.text(e,i)}},o,a),o&&q(e,i,o,t,!0),c(),l},U=(e,t)=>{const n=I(t.startContainer,t.startOffset),o=n.element.dom,r=I(t.endContainer,t.endOffset),a=r.element.dom;return W(e,t.commonAncestorContainer,o,a,{text:(e,t)=>{e===a?t.fOffset+=e.length-r.offset:e===o&&(t.sOffset+=n.offset)},cef:t=>((e,t)=>{const n=b.call(e,0);return n.sort(t),n})(x(M(E.fromDom(t),"*[contenteditable=true]"),(t=>{const n=t.dom;return W(e,n,n)})),((e,t)=>((e,t)=>((e,t,n)=>!!(e.compareDocumentPosition(t)&n))(e,t,Node.DOCUMENT_POSITION_PRECEDING))(e.elements[0].dom,t.elements[0].dom)?1:-1))},!1)},H=(e,t)=>t.collapsed?[]:U(e,t),V=(e,t)=>{const n=e.createRng();return n.selectNode(t),H(e,n)},Z=(e,t)=>{const n=(o=e,r=(e,n)=>{const o=P(n),r=e.last,a=r+o.length,s=x(t,((e,t)=>e.start<a&&e.finish>r?[{element:n,start:Math.max(r,e.start)-r,finish:Math.min(a,e.finish)-r,matchId:t}]:[]));return{results:e.results.concat(s),last:a}},a={results:[],last:0},w(o,((e,t)=>{a=r(a,e,t)})),a).results;var o,r,a;return((e,t)=>{if(0===e.length)return[];{let n=t(e[0]);const o=[];let r=[];for(let a=0,s=e.length;a<s;a++){const s=e[a],l=t(s);l!==n&&(o.push(r),r=[]),n=l,r.push(s)}return 0!==r.length&&o.push(r),o}})(n,(e=>e.matchId))},K=(e,t)=>x(t,(t=>{const n=t.elements,o=y(n,P).join(""),r=((e,t,n=0,o=e.length)=>{const r=t.regex;r.lastIndex=n;const a=[];let s;for(;s=r.exec(e);){const e=s[t.matchIndex],n=s.index+s[0].indexOf(e),l=n+e.length;if(l>o)break;a.push({start:n,finish:l}),r.lastIndex=l}return a})(o,e,t.sOffset,o.length-t.fOffset);return Z(n,r)})),G=(e,t)=>{v(e,((e,n)=>{v(e,(e=>{const o=E.fromDom(t.cloneNode(!1));A(o,"data-mce-index",n);const r=e.element.dom;if(r.length===e.finish&&0===e.start)D(e.element,o);else{r.length!==e.finish&&r.splitText(e.finish);const t=r.splitText(e.start);D(E.fromDom(t),o)}}))}))},J=(e,t,n,o)=>{const r=n.getBookmark(),a=e.select("td[data-mce-selected],th[data-mce-selected]"),s=a.length>0?((e,t)=>x(t,(t=>V(e,t))))(e,a):H(e,n.getRng()),l=K(t,s);return G(l,o),n.moveToBookmark(r),l.length},Q=e=>e.getAttribute("data-mce-index"),Y=(e,t,n,o)=>{const r=e.dom.create("span",{"data-mce-bogus":1});r.className="mce-match-marker";const a=e.getBody();return ie(e,t,!1),o?J(e.dom,n,e.selection,r):((e,t,n,o)=>{const r=V(e,n),a=K(t,r);return G(a,o),a.length})(e.dom,n,a,r)},X=e=>{var t;const n=e.parentNode;e.firstChild&&n.insertBefore(e.firstChild,e),null===(t=e.parentNode)||void 0===t||t.removeChild(e)},ee=(e,t)=>{const n=[],o=h.toArray(e.getBody().getElementsByTagName("span"));if(o.length)for(let e=0;e<o.length;e++){const r=Q(o[e]);null!==r&&r.length&&(r===t.toString()&&n.push(o[e]))}return n},te=(e,t,n)=>{const o=t.get();let r=o.index;const a=e.dom;n?r+1===o.count?r=0:r++:r-1==-1?r=o.count-1:r--,a.removeClass(ee(e,o.index),"mce-match-marker-selected");const s=ee(e,r);return s.length?(a.addClass(ee(e,r),"mce-match-marker-selected"),e.selection.scrollIntoView(s[0]),r):-1},ne=(e,t)=>{const n=t.parentNode;e.remove(t),n&&e.isEmpty(n)&&e.remove(n)},oe=(e,t,n,o,r,a)=>{const s=e.selection,l=((e,t)=>{const n="("+e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]")+")";return t?`(?:^|\\s|${p()})`+n+`(?=$|\\s|${p()})`:n})(n,r),i=s.isForward(),c={regex:new RegExp(l,o?"g":"gi"),matchIndex:1},u=Y(e,t,c,a);if(g.browser.isSafari()&&s.setRng(s.getRng(),i),u){const s=te(e,t,!0);t.set({index:s,count:u,text:n,matchCase:o,wholeWord:r,inSelection:a})}return u},re=(e,t)=>{const n=te(e,t,!0);t.set({...t.get(),index:n})},ae=(e,t)=>{const n=te(e,t,!1);t.set({...t.get(),index:n})},se=e=>{const t=Q(e);return null!==t&&t.length>0},le=(e,t,n,o,r)=>{const a=t.get(),s=a.index;let l,i=s;o=!1!==o;const c=e.getBody(),u=h.grep(h.toArray(c.getElementsByTagName("span")),se);for(let t=0;t<u.length;t++){const c=Q(u[t]);let d=l=parseInt(c,10);if(r||d===a.index){for(n.length?(u[t].innerText=n,X(u[t])):ne(e.dom,u[t]);u[++t];){if(d=parseInt(Q(u[t]),10),d!==l){t--;break}ne(e.dom,u[t])}o&&i--}else l>s&&u[t].setAttribute("data-mce-index",String(l-1))}return t.set({...a,count:r?0:a.count-1,index:i}),o?re(e,t):ae(e,t),!r&&t.get().count>0},ie=(e,t,n)=>{let o,r;const a=t.get(),s=h.toArray(e.getBody().getElementsByTagName("span"));for(let e=0;e<s.length;e++){const t=Q(s[e]);null!==t&&t.length&&(t===a.index.toString()&&(o||(o=s[e].firstChild),r=s[e].firstChild),X(s[e]))}if(t.set({...a,index:-1,count:0,text:""}),o&&r){const t=e.dom.createRng();return t.setStart(o,0),t.setEnd(r,r.data.length),!1!==n&&e.selection.setRng(t),t}},ce=()=>{const t=(t=>{const n=e(m.none()),o=()=>n.get().each(t);return{clear:()=>{o(),n.set(m.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:e=>{o(),n.set(m.some(e))}}})(i);return{...t,on:e=>t.get().each(e)}},ue=(e,t)=>{const n=ce();e.undoManager.add();const o=h.trim(e.selection.getContent({format:"text"})),r=e=>{e.setEnabled("next",((e,t)=>t.get().count>1)(0,t)),e.setEnabled("prev",((e,t)=>t.get().count>1)(0,t))},a=(e,t)=>{w(["replace","replaceall","prev","next"],(n=>e.setEnabled(n,!t)))},s=(e,t)=>{t.redial(p(e,t.getData()))},l=(e,t)=>{g.browser.isSafari()&&g.deviceType.isTouch()&&("find"===t||"replace"===t||"replaceall"===t)&&e.focus(t)},i=n=>{ie(e,t,!1),a(n,!0),r(n)},c=n=>{const o=n.getData(),l=t.get();if(o.findtext.length){if(l.text===o.findtext&&l.matchCase===o.matchcase&&l.wholeWord===o.wholewords)re(e,t);else{const r=oe(e,t,o.findtext,o.matchcase,o.wholewords,o.inselection);r<=0&&s(!0,n),a(n,0===r)}r(n)}else i(n)},u=t.get(),d={findtext:o,replacetext:"",wholewords:u.wholeWord,matchcase:u.matchCase,inselection:u.inSelection},m=e=>{const t=[{type:"label",label:"Find",for:"findtext",items:[{type:"bar",items:[{type:"input",name:"findtext",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",enabled:!1,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",enabled:!1,borderless:!0}]}]},{type:"input",name:"replacetext",label:"Replace with",inputMode:"search"}];return e&&t.push({type:"alertbanner",level:"error",text:"Could not find the specified string.",icon:"warning"}),t},p=(n,o)=>({title:"Find and Replace",size:"normal",body:{type:"panel",items:m(n)},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",enabled:!1},{type:"custom",name:"replaceall",text:"Replace all",enabled:!1}],initialData:o,onChange:(e,o)=>{n&&s(!1,e),"findtext"===o.name&&t.get().count>0&&i(e)},onAction:(n,o)=>{const a=n.getData();switch(o.name){case"find":c(n);break;case"replace":le(e,t,a.replacetext)?r(n):i(n);break;case"replaceall":le(e,t,a.replacetext,!0,!0),i(n);break;case"prev":ae(e,t),r(n);break;case"next":re(e,t),r(n);break;case"matchcase":case"wholewords":case"inselection":s(!1,n),(e=>{const n=e.getData(),o=t.get();t.set({...o,matchCase:n.matchcase,wholeWord:n.wholewords,inSelection:n.inselection})})(n),i(n)}l(n,o.name)},onSubmit:e=>{c(e),l(e,"find")},onClose:()=>{e.focus(),ie(e,t),e.undoManager.add()}});n.set(e.windowManager.open(p(!1,d),{inline:"toolbar"}))},de=(e,t)=>()=>{ue(e,t)};t.add("searchreplace",(t=>{const n=e({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return((e,t)=>{e.addCommand("SearchReplace",(()=>{ue(e,t)}))})(t,n),((e,t)=>{e.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:de(e,t),icon:"search"}),e.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:de(e,t),icon:"search",shortcut:"Meta+F"}),e.shortcuts.add("Meta+F","",de(e,t))})(t,n),((e,t)=>({done:n=>ie(e,t,n),find:(n,o,r,a=!1)=>oe(e,t,n,o,r,a),next:()=>re(e,t),prev:()=>ae(e,t),replace:(n,o,r)=>le(e,t,n,o,r)}))(t,n)}))}()},87966:function(){!function(){"use strict";tinymce.util.Tools.resolve("tinymce.PluginManager").add("code",(e=>((e=>{e.addCommand("mceCodeEditor",(()=>{(e=>{const t=(e=>e.getContent({source_view:!0}))(e);e.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:t},onSubmit:t=>{((e,t)=>{e.focus(),e.undoManager.transact((()=>{e.setContent(t)})),e.selection.setCursorLocation(),e.nodeChanged()})(e,t.getData().code),t.close()}})})(e)}))})(e),(e=>{const t=()=>e.execCommand("mceCodeEditor");e.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:t}),e.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:t})})(e),{})))}()},88929:function(e,t,n){n(87187)},91694:function(e,t,n){n(57235)},92425:function(){tinymce.Resource.add("tinymce.html-i18n.help-keynav.hr","<h1>Početak navigacije na tipkovnici</h1>\n\n<dl>\n  <dt>Fokusiranje trake izbornika</dt>\n  <dd>Windows ili Linux: Alt+F9</dd>\n  <dd>macOS: &#x2325;F9</dd>\n  <dt>Fokusiranje alatne trake</dt>\n  <dd>Windows ili Linux: Alt+F10</dd>\n  <dd>macOS: &#x2325;F10</dd>\n  <dt>Fokusiranje podnožja</dt>\n  <dd>Windows ili Linux: Alt+F11</dd>\n  <dd>macOS: &#x2325;F11</dd>\n  <dt>Fokusiranje obavijesti</dt>\n  <dd>Windows ili Linux: Alt + F12</dd>\n  <dd>macOS: &#x2325;F12</dd>\n  <dt>Fokusiranje kontekstne alatne trake</dt>\n  <dd>Windows, Linux ili macOS: Ctrl+F9</dd>\n</dl>\n\n<p>Navigacija će započeti kod prve stavke na korisničkom sučelju, koja će biti istaknuta ili podcrtana ako se radi o prvoj stavci u\n  putu elementa u podnožju.</p>\n\n<h1>Navigacija između dijelova korisničkog sučelja</h1>\n\n<p>Za pomicanje s jednog dijela korisničkog sučelja na drugi pritisnite <strong>tabulator</strong>.</p>\n\n<p>Za pomicanje s jednog dijela korisničkog sučelja na prethodni pritisnite <strong>Shift + tabulator</strong>.</p>\n\n<p>Ovo je redoslijed pomicanja <strong>tabulatora</strong> po dijelovima korisničkog sučelja:</p>\n\n<ol>\n  <li>Traka izbornika</li>\n  <li>Pojedinačne grupe na alatnoj traci</li>\n  <li>Bočna traka</li>\n  <li>Put elemenata u podnožju</li>\n  <li>Gumb za pomicanje po broju riječi u podnožju</li>\n  <li>Veza na brand u podnožju</li>\n  <li>Značajka za promjenu veličine alata za uređivanje u podnožju</li>\n</ol>\n\n<p>Ako neki dio korisničkog sučelja nije naveden, on se preskače.</p>\n\n<p>Ako u podnožju postoji fokus za navigaciju na tipkovnici, a nema vidljive bočne trake, pritiskom na <strong>Shift + tabulator</strong>\n  fokus se prebacuje na prvu skupinu na alatnoj traci, ne na zadnju.</p>\n\n<h1>Navigacija unutar dijelova korisničkog sučelja</h1>\n\n<p>Za pomicanje s jednog elementa korisničkog sučelja na drugi pritisnite tipku s odgovarajućom <strong>strelicom</strong>.</p>\n\n<p>Tipke s <strong>lijevom</strong> i <strong>desnom</strong> strelicom</p>\n\n<ul>\n  <li>služe za pomicanje između izbornika na alatnoj traci.</li>\n  <li>otvaraju podizbornik unutar izbornika.</li>\n  <li>služe za pomicanje između gumba unutar skupina na alatnoj traci.</li>\n  <li>služe za pomicanje između stavki na elementu puta u podnožju.</li>\n</ul>\n\n<p>Tipke s <strong>donjom</strong> i <strong>gornjom</strong> strelicom</p>\n\n<ul>\n  <li>služe za pomicanje između stavki unutar izbornika.</li>\n  <li>služe za pomicanje između stavki na alatnoj traci skočnog izbornika.</li>\n</ul>\n\n<p>Tipkama <strong>strelica</strong> kružno se pomičete unutar dijela korisničkog sučelja koji je u fokusu.</p>\n\n<p>Za zatvaranje otvorenog izbornika, otvorenog podizbornika ili otvorenog skočnog izbornika pritisnite tipku <strong>Esc</strong>.</p>\n\n<p>Ako je fokus trenutačno postavljen na vrh pojedinačnog dijela korisničkog sučelja, pritiskom na tipku <strong>Esc</strong> također\n  u potpunosti zatvarate navigaciju na tipkovnici.</p>\n\n<h1>Izvršavanje radnji putem stavki izbornika ili gumba na alatnoj traci</h1>\n\n<p>Nakon što se istakne stavka izbornika ili gumb na alatnoj traci s radnjom koju želite izvršiti, pritisnite tipku <strong>Return</strong>, <strong>Enter</strong>\n  ili <strong>razmak</strong> da biste pokrenuli željenu radnju.</p>\n\n<h1>Navigacija dijaloškim okvirima izvan kartica</h1>\n\n<p>Prilikom otvaranja dijaloških okvira izvan kartica fokus se nalazi na prvoj interaktivnoj komponenti.</p>\n\n<p>Navigaciju između interaktivnih dijaloških komponenata vršite pritiskom na <strong>tabulator</strong> ili <strong>Shift + tabulator</strong>.</p>\n\n<h1>Navigacija dijaloškim okvirima u karticama</h1>\n\n<p>Prilikom otvaranja dijaloških okvira u karticama fokus se nalazi na prvom gumbu u izborniku unutar kartice.</p>\n\n<p>Navigaciju između interaktivnih komponenata dijaloškog okvira u kartici vršite pritiskom na <strong>tabulator</strong> ili\n  <strong>Shift + tabulator</strong>.</p>\n\n<p>Na karticu s drugim dijaloškim okvirom možete se prebaciti tako da stavite fokus na izbornik kartice pa pritisnete tipku s odgovarajućom <strong>strelicom</strong>\n  za kružno pomicanje između dostupnih kartica.</p>\n")},93715:function(e,t,n){n(34328)},98809:function(){!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager");const t=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&(n=o=e,(r=String).prototype.isPrototypeOf(n)||(null===(a=o.constructor)||void 0===a?void 0:a.name)===r.name)?"string":t;var n,o,r,a})(t)===e,n=t("string"),o=t("object"),r=t("array"),a=e=>!(e=>null==e)(e);class s{constructor(e,t){this.tag=e,this.value=t}static some(e){return new s(!0,e)}static none(){return s.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?s.some(e(this.value)):s.none()}bind(e){return this.tag?e(this.value):s.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:s.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return a(e)?s.some(e):s.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}s.singletonNone=new s(!1);const l=Array.prototype.push,i=(e,t)=>{for(let n=0,o=e.length;n<o;n++)t(e[n],n)},c=e=>{const t=[];for(let n=0,o=e.length;n<o;++n){if(!r(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);l.apply(t,e[n])}return t},u=Object.keys,d=Object.hasOwnProperty,m=(e,t)=>p(e,t)?s.from(e[t]):s.none(),p=(e,t)=>d.call(e,t),g=e=>t=>t.options.get(e),h=g("audio_template_callback"),b=g("video_template_callback"),f=g("iframe_template_callback"),y=g("media_live_embeds"),w=g("media_filter_html"),v=g("media_url_resolver"),x=g("media_alt_source"),S=g("media_poster"),k=g("media_dimensions");var C=tinymce.util.Tools.resolve("tinymce.util.Tools"),T=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),A=tinymce.util.Tools.resolve("tinymce.html.DomParser");const _=T.DOM,E=e=>e.replace(/px$/,""),N=e=>{const t=e.attr("style"),n=t?_.parseStyle(t):{};return{type:"ephox-embed-iri",source:e.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:m(n,"max-width").map(E).getOr(""),height:m(n,"max-height").map(E).getOr("")}},O=(e,t)=>{let n={};for(let o=A({validate:!1,forced_root_block:!1},t).parse(e);o;o=o.walk())if(1===o.type){const e=o.name;if(o.attr("data-ephox-embed-iri")){n=N(o);break}n.source||"param"!==e||(n.source=o.attr("movie")),"iframe"!==e&&"object"!==e&&"embed"!==e&&"video"!==e&&"audio"!==e||(n.type||(n.type=e),n=C.extend(o.attributes.map,n)),"source"===e&&(n.source?n.altsource||(n.altsource=o.attr("src")):n.source=o.attr("src")),"img"!==e||n.poster||(n.poster=o.attr("src"))}return n.source=n.source||n.src||"",n.altsource=n.altsource||"",n.poster=n.poster||"",n},F=e=>{var t;const n=null!==(t=e.toLowerCase().split(".").pop())&&void 0!==t?t:"";return m({mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},n).getOr("")};var D=tinymce.util.Tools.resolve("tinymce.html.Node"),R=tinymce.util.Tools.resolve("tinymce.html.Serializer");const P=(e,t={})=>A({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...t},e),M=T.DOM,B=e=>/^[0-9.]+$/.test(e)?e+"px":e,j=(e,t)=>{const n=t.attr("style"),o=n?M.parseStyle(n):{};a(e.width)&&(o["max-width"]=B(e.width)),a(e.height)&&(o["max-height"]=B(e.height)),t.attr("style",M.serializeStyle(o))},$=["source","altsource"],L=(e,t,n,o)=>{let r=0,a=0;const s=P(o);s.addNodeFilter("source",(e=>r=e.length));const l=s.parse(e);for(let e=l;e;e=e.walk())if(1===e.type){const o=e.name;if(e.attr("data-ephox-embed-iri")){j(t,e);break}switch(o){case"video":case"object":case"embed":case"img":case"iframe":void 0!==t.height&&void 0!==t.width&&(e.attr("width",t.width),e.attr("height",t.height))}if(n)switch(o){case"video":e.attr("poster",t.poster),e.attr("src",null);for(let n=r;n<2;n++)if(t[$[n]]){const o=new D("source",1);o.attr("src",t[$[n]]),o.attr("type",t[$[n]+"mime"]||null),e.append(o)}break;case"iframe":e.attr("src",t.source);break;case"object":const n=e.getAll("img").length>0;if(t.poster&&!n){e.attr("src",t.poster);const n=new D("img",1);n.attr("src",t.poster),n.attr("width",t.width),n.attr("height",t.height),e.append(n)}break;case"source":if(a<2&&(e.attr("src",t[$[a]]),e.attr("type",t[$[a]+"mime"]||null),!t[$[a]])){e.remove();continue}a++;break;case"img":t.poster||e.remove()}}return R({},o).serialize(l)},I=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],z=(e,t)=>{const n=(e=>{const t=e.match(/^(https?:\/\/|www\.)(.+)$/i);return t&&t.length>1?"www."===t[1]?"https://":t[1]:"https://"})(t),o=e.regex.exec(t);let r=n+e.url;if(a(o))for(let e=0;e<o.length;e++)r=r.replace("$"+e,(()=>o[e]?o[e]:""));return r.replace(/\?$/,"")},q=e=>{const t=I.filter((t=>t.regex.test(e)));return t.length>0?C.extend({},t[0],{url:z(t[0],e)}):null},W=(e,t)=>{var n;const o=C.extend({},t);if(!o.source&&(C.extend(o,O(null!==(n=o.embed)&&void 0!==n?n:"",e.schema)),!o.source))return"";o.altsource||(o.altsource=""),o.poster||(o.poster=""),o.source=e.convertURL(o.source,"source"),o.altsource=e.convertURL(o.altsource,"source"),o.sourcemime=F(o.source),o.altsourcemime=F(o.altsource),o.poster=e.convertURL(o.poster,"poster");const r=q(o.source);if(r&&(o.source=r.url,o.type=r.type,o.allowfullscreen=r.allowFullscreen,o.width=o.width||String(r.w),o.height=o.height||String(r.h)),o.embed)return L(o.embed,o,!0,e.schema);{const t=h(e),n=b(e),r=f(e);return o.width=o.width||"300",o.height=o.height||"150",C.each(o,((t,n)=>{o[n]=e.dom.encode(""+t)})),"iframe"===o.type?((e,t)=>{if(t)return t(e);{const t=e.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+e.source+'" width="'+e.width+'" height="'+e.height+'"'+t+"></iframe>"}})(o,r):"application/x-shockwave-flash"===o.sourcemime?(e=>{let t='<object data="'+e.source+'" width="'+e.width+'" height="'+e.height+'" type="application/x-shockwave-flash">';return e.poster&&(t+='<img src="'+e.poster+'" width="'+e.width+'" height="'+e.height+'" />'),t+="</object>",t})(o):-1!==o.sourcemime.indexOf("audio")?((e,t)=>t?t(e):'<audio controls="controls" src="'+e.source+'">'+(e.altsource?'\n<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</audio>")(o,t):((e,t)=>t?t(e):'<video width="'+e.width+'" height="'+e.height+'"'+(e.poster?' poster="'+e.poster+'"':"")+' controls="controls">\n<source src="'+e.source+'"'+(e.sourcemime?' type="'+e.sourcemime+'"':"")+" />\n"+(e.altsource?'<source src="'+e.altsource+'"'+(e.altsourcemime?' type="'+e.altsourcemime+'"':"")+" />\n":"")+"</video>")(o,n)}},U=e=>e.hasAttribute("data-mce-object")||e.hasAttribute("data-ephox-embed-iri"),H={},V=e=>t=>W(e,t),Z=(e,t)=>{const n=v(e);return n?((e,t,n)=>new Promise(((o,r)=>{const a=n=>(n.html&&(H[e.source]=n),o({url:e.source,html:n.html?n.html:t(e)}));H[e.source]?a(H[e.source]):n({url:e.source}).then(a).catch(r)})))(t,V(e),n):((e,t)=>Promise.resolve({html:t(e),url:e.source}))(t,V(e))},K=(e,t)=>{const n={};return m(e,"dimensions").each((e=>{i(["width","height"],(o=>{m(t,o).orThunk((()=>m(e,o))).each((e=>n[o]=e))}))})),n},G=(e,t)=>{const n=t&&"dimensions"!==t?((e,t)=>m(t,e).bind((e=>m(e,"meta"))))(t,e).getOr({}):{},r=((e,t,n)=>r=>{const a=()=>m(e,r),l=()=>m(t,r),i=e=>m(e,"value").bind((e=>e.length>0?s.some(e):s.none()));return{[r]:(r===n?a().bind((e=>o(e)?i(e).orThunk(l):l().orThunk((()=>s.from(e))))):l().orThunk((()=>a().bind((e=>o(e)?i(e):s.from(e)))))).getOr("")}})(e,n,t);return{...r("source"),...r("altsource"),...r("poster"),...r("embed"),...K(e,n)}},J=e=>{const t={...e,source:{value:m(e,"source").getOr("")},altsource:{value:m(e,"altsource").getOr("")},poster:{value:m(e,"poster").getOr("")}};return i(["width","height"],(n=>{m(e,n).each((e=>{const o=t.dimensions||{};o[n]=e,t.dimensions=o}))})),t},Q=e=>t=>{const n=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.";e.notificationManager.open({type:"error",text:n})},Y=(e,t)=>o=>{if(n(o.url)&&o.url.trim().length>0){const n=o.html,r={...O(n,t.schema),source:o.url,embed:n};e.setData(J(r))}},X=(e,t)=>{const n=e.dom.select("*[data-mce-object]");e.insertContent(t),((e,t)=>{const n=e.dom.select("*[data-mce-object]");for(let e=0;e<t.length;e++)for(let o=n.length-1;o>=0;o--)t[e]===n[o]&&n.splice(o,1);e.selection.select(n[0])})(e,n),e.nodeChanged()},ee=(e,t)=>a(t)&&"ephox-embed-iri"===t&&a(q(e)),te=(e,t)=>((e,t)=>e.width!==t.width||e.height!==t.height)(e,t)&&ee(t.source,e.type),ne=e=>{const t=(e=>{const t=e.selection.getNode(),n=U(t)?e.serializer.serialize(t,{selection:!0}):"",o=O(n,e.schema),r=(()=>{if(ee(o.source,o.type)){const n=e.dom.getRect(t);return{width:n.w.toString().replace(/px$/,""),height:n.h.toString().replace(/px$/,"")}}return{}})();return{embed:n,...o,...r}})(e),n=(e=>{let t=e;return{get:()=>t,set:e=>{t=e}}})(t),o=J(t),r=k(e)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],a={title:"General",name:"general",items:c([[{name:"source",type:"urlinput",filetype:"media",label:"Source",picker_text:"Browse files"}],r])},s=[];x(e)&&s.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),S(e)&&s.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const l={title:"Advanced",name:"advanced",items:s},i=[a,{title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]}];s.length>0&&i.push(l);const u={type:"tabpanel",tabs:i},d=e.windowManager.open({title:"Insert/Edit Media",size:"normal",body:u,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:t=>{const o=G(t.getData());((e,t,n)=>{var o,r;t.embed=te(e,t)&&k(n)?W(n,{...t,embed:""}):L(null!==(o=t.embed)&&void 0!==o?o:"",t,!1,n.schema),t.embed&&(e.source===t.source||(r=t.source,p(H,r)))?X(n,t.embed):Z(n,t).then((e=>{X(n,e.html)})).catch(Q(n))})(n.get(),o,e),t.close()},onChange:(t,o)=>{switch(o.name){case"source":((t,n)=>{const o=G(n.getData(),"source");t.source!==o.source&&(Y(d,e)({url:o.source,html:""}),Z(e,o).then(Y(d,e)).catch(Q(e)))})(n.get(),t);break;case"embed":(t=>{var n;const o=G(t.getData()),r=O(null!==(n=o.embed)&&void 0!==n?n:"",e.schema);t.setData(J(r))})(t);break;case"dimensions":case"altsource":case"poster":((t,n,o)=>{const r=G(t.getData(),n),a=te(o,r)&&k(e)?{...r,embed:""}:r,s=W(e,a);t.setData(J({...a,embed:s}))})(t,o.name,n.get())}n.set(G(t.getData()))},initialData:o})};var oe=tinymce.util.Tools.resolve("tinymce.Env");const re=e=>{const t=e.name;return"iframe"===t||"video"===t||"audio"===t},ae=(e,t,n,o=null)=>{const r=e.attr(n);return a(r)?r:p(t,n)?null:o},se=(e,t,n)=>{const o="img"===t.name||"video"===e.name,r=o?"300":null,a="audio"===e.name?"30":"150",s=o?a:null;t.attr({width:ae(e,n,"width",r),height:ae(e,n,"height",s)})},le=(e,t)=>{const n=t.name,o=new D("img",1);return ce(e,t,o),se(t,o,{}),o.attr({style:t.attr("style"),src:oe.transparentSrc,"data-mce-object":n,class:"mce-object mce-object-"+n}),o},ie=(e,t)=>{var n;const o=t.name,r=new D("span",1);r.attr({contentEditable:"false",style:t.attr("style"),"data-mce-object":o,class:"mce-preview-object mce-object-"+o}),ce(e,t,r);const s=e.dom.parseStyle(null!==(n=t.attr("style"))&&void 0!==n?n:""),l=new D(o,1);if(se(t,l,s),l.attr({src:t.attr("src"),style:t.attr("style"),class:t.attr("class")}),"iframe"===o)l.attr({allowfullscreen:t.attr("allowfullscreen"),frameborder:"0",sandbox:t.attr("sandbox"),referrerpolicy:t.attr("referrerpolicy")});else{i(["controls","crossorigin","currentTime","loop","muted","poster","preload"],(e=>{l.attr(e,t.attr(e))}));const n=r.attr("data-mce-html");a(n)&&((e,t,n,o)=>{const r=P(e.schema).parse(o,{context:t});for(;r.firstChild;)n.append(r.firstChild)})(e,o,l,unescape(n))}const c=new D("span",1);return c.attr("class","mce-shim"),r.append(l),r.append(c),r},ce=(e,t,n)=>{var o;const r=null!==(o=t.attributes)&&void 0!==o?o:[];let a=r.length;for(;a--;){const t=r[a].name;let o=r[a].value;"width"===t||"height"===t||"style"===t||(s=t).length>=9&&"data-mce-"===s.substr(0,9)||("data"!==t&&"src"!==t||(o=e.convertURL(o,t)),n.attr("data-mce-p-"+t,o))}var s;const l=R({inner:!0},e.schema),c=new D("div",1);i(t.children(),(e=>c.append(e)));const u=l.serialize(c);u&&(n.attr("data-mce-html",escape(u)),n.empty())},ue=e=>{const t=e.attr("class");return n(t)&&/\btiny-pageembed\b/.test(t)},de=e=>{let t=e;for(;t=t.parent;)if(t.attr("data-ephox-embed-iri")||ue(t))return!0;return!1},me=(e,t,n)=>{const o=(0,e.options.get)("xss_sanitization"),r=w(e);return P(e.schema,{sanitize:o,validate:r}).parse(n,{context:t})},pe=e=>t=>{const n=()=>{t.setEnabled(e.selection.isEditable())};return e.on("NodeChange",n),n(),()=>{e.off("NodeChange",n)}};e.add("media",(e=>((e=>{const t=e.options.register;t("audio_template_callback",{processor:"function"}),t("video_template_callback",{processor:"function"}),t("iframe_template_callback",{processor:"function"}),t("media_live_embeds",{processor:"boolean",default:!0}),t("media_filter_html",{processor:"boolean",default:!0}),t("media_url_resolver",{processor:"function"}),t("media_alt_source",{processor:"boolean",default:!0}),t("media_poster",{processor:"boolean",default:!0}),t("media_dimensions",{processor:"boolean",default:!0})})(e),(e=>{e.addCommand("mceMedia",(()=>{ne(e)}))})(e),(e=>{const t=()=>e.execCommand("mceMedia");e.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:t,onSetup:t=>{const n=e.selection;t.setActive(U(n.getNode()));const o=n.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",t.setActive).unbind,r=pe(e)(t);return()=>{o(),r()}}}),e.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:t,onSetup:pe(e)})})(e),(e=>{e.on("ResolveName",(e=>{let t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)}))})(e),(e=>{e.on("PreInit",(()=>{const{schema:t,serializer:n,parser:o}=e,r=t.getBoolAttrs();i("webkitallowfullscreen mozallowfullscreen".split(" "),(e=>{r[e]={}})),((e,t)=>{const n=u(e);for(let o=0,r=n.length;o<r;o++){const r=n[o];t(e[r],r)}})({embed:["wmode"]},((e,n)=>{const o=t.getElementRule(n);o&&i(e,(e=>{o.attributes[e]={},o.attributesOrder.push(e)}))})),o.addNodeFilter("iframe,video,audio,object,embed",(e=>t=>{let n,o=t.length;for(;o--;)n=t[o],n.parent&&(n.parent.attr("data-mce-object")||(re(n)&&y(e)?de(n)||n.replace(ie(e,n)):de(n)||n.replace(le(e,n))))})(e)),n.addAttributeFilter("data-mce-object",((t,n)=>{var o;let r=t.length;for(;r--;){const a=t[r];if(!a.parent)continue;const s=a.attr(n),l=new D(s,1);if("audio"!==s){const e=a.attr("class");e&&-1!==e.indexOf("mce-preview-object")&&a.firstChild?l.attr({width:a.firstChild.attr("width"),height:a.firstChild.attr("height")}):l.attr({width:a.attr("width"),height:a.attr("height")})}l.attr({style:a.attr("style")});const c=null!==(o=a.attributes)&&void 0!==o?o:[];let u=c.length;for(;u--;){const e=c[u].name;0===e.indexOf("data-mce-p-")&&l.attr(e.substr(11),c[u].value)}const d=a.attr("data-mce-html");if(d){const t=me(e,s,unescape(d));i(t.children(),(e=>l.append(e)))}a.replace(l)}}))})),e.on("SetContent",(()=>{const t=e.dom;i(t.select("span.mce-preview-object"),(e=>{0===t.select("span.mce-shim",e).length&&t.add(e,"span",{class:"mce-shim"})}))}))})(e),(e=>{e.on("mousedown",(t=>{const n=e.dom.getParent(t.target,".mce-preview-object");n&&"2"===e.dom.getAttrib(n,"data-mce-selected")&&t.stopImmediatePropagation()})),e.on("click keyup touchend",(()=>{const t=e.selection.getNode();t&&e.dom.hasClass(t,"mce-preview-object")&&e.dom.getAttrib(t,"data-mce-selected")&&t.setAttribute("data-mce-selected","2")})),e.on("ObjectResized",(t=>{const n=t.target;if(n.getAttribute("data-mce-object")){let o=n.getAttribute("data-mce-html");o&&(o=unescape(o),n.setAttribute("data-mce-html",escape(L(o,{width:String(t.width),height:String(t.height)},!1,e.schema))))}}))})(e),(e=>({showDialog:()=>{ne(e)}}))(e))))}()},99311:function(e,t,n){n(22612)}}]);
//# sourceMappingURL=tinymce_plugins.8eec2968f7d6591a28f1.min.js.map