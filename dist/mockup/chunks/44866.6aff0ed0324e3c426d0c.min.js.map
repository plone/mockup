{"version":3,"file":"chunks/44866.6aff0ed0324e3c426d0c.min.js","mappings":"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","sources":["webpack://@plone/mockup/./node_modules/tinymce/plugins/emoticons/plugin.min.js"],"sourcesContent":["!function(){\"use strict\";var t=tinymce.util.Tools.resolve(\"tinymce.PluginManager\");const e=t=>e=>t===e,o=e(null),n=e(void 0),r=t=>\"function\"==typeof t;const s=()=>{},a=()=>!1;class i{constructor(t,e){this.tag=t,this.value=e}static some(t){return new i(!0,t)}static none(){return i.singletonNone}fold(t,e){return this.tag?e(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?i.some(t(this.value)):i.none()}bind(t){return this.tag?t(this.value):i.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:i.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(null!=t?t:\"Called getOrDie on None\")}static from(t){return null==t?i.none():i.some(t)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:\"none()\"}}i.singletonNone=new i(!1),Array.prototype.slice;const l=(t,e)=>{const o=t.length,n=new Array(o);for(let r=0;r<o;r++){const o=t[r];n[r]=e(o,r)}return n};r(Array.from)&&Array.from;const c=Object.keys,u=Object.hasOwnProperty,g=(t,e)=>{const o=c(t);for(let n=0,r=o.length;n<r;n++){const r=o[n];e(t[r],r)}},m=(t,e)=>u.call(t,e),d=t=>{let e=t;return{get:()=>e,set:t=>{e=t}}},h=(p=(t,e)=>e,(...t)=>{if(0===t.length)throw new Error(\"Can't merge zero objects\");const e={};for(let o=0;o<t.length;o++){const n=t[o];for(const t in n)m(n,t)&&(e[t]=p(e[t],n[t]))}return e});var p;const y=()=>{const t=(t=>{const e=d(i.none()),o=()=>e.get().each(t);return{clear:()=>{o(),e.set(i.none())},isSet:()=>e.get().isSome(),get:()=>e.get(),set:t=>{o(),e.set(i.some(t))}}})(s);return{...t,on:e=>t.get().each(e)}},f=(t,e,o=0,r)=>{const s=t.indexOf(e,o);return-1!==s&&(!!n(r)||s+e.length<=r)};var v=tinymce.util.Tools.resolve(\"tinymce.Resource\");const b=t=>e=>e.options.get(t),w=b(\"emoticons_database\"),j=b(\"emoticons_database_url\"),C=b(\"emoticons_database_id\"),_=b(\"emoticons_append\"),A=b(\"emoticons_images_url\"),k=\"All\",O={symbols:\"Symbols\",people:\"People\",animals_and_nature:\"Animals and Nature\",food_and_drink:\"Food and Drink\",activity:\"Activity\",travel_and_places:\"Travel and Places\",objects:\"Objects\",flags:\"Flags\",user:\"User Defined\"},x=(t,e)=>m(t,e)?t[e]:e,E=t=>{const e=_(t);return o=t=>({keywords:[],category:\"user\",...t}),((t,e)=>{const o={};return g(t,((t,n)=>{const r=e(t,n);o[r.k]=r.v})),o})(e,((t,e)=>({k:e,v:o(t)})));var o},L=(t,e)=>f(t.title.toLowerCase(),e)||(t=>{for(let n=0,r=t.length;n<r;n++)if(o=t[n],f(o.toLowerCase(),e))return!0;var o;return!1})(t.keywords),S=(t,e,o)=>{const n=[],r=e.toLowerCase(),s=o.fold((()=>a),(t=>e=>e>=t));for(let o=0;o<t.length&&(0!==e.length&&!L(t[o],r)||(n.push({value:t[o].char,text:t[o].title,icon:t[o].char}),!s(n.length)));o++);return n},N=\"pattern\",T=(t,e)=>{const n={pattern:\"\",results:S(e.listAll(),\"\",i.some(300))},r=d(k),s=(t=>{let e=null;const n=()=>{o(e)||(clearTimeout(e),e=null)};return{cancel:n,throttle:(...o)=>{n(),e=setTimeout((()=>{e=null,t.apply(null,o)}),200)}}})((t=>{(t=>{const o=t.getData(),n=r.get(),s=e.listCategory(n),a=S(s,o[N],n===k?i.some(300):i.none());t.setData({results:a})})(t)})),a={label:\"Search\",type:\"input\",name:N},c={type:\"collection\",name:\"results\"},u=()=>({title:\"Emojis\",size:\"normal\",body:{type:\"tabpanel\",tabs:l(e.listCategories(),(t=>({title:t,name:t,items:[a,c]})))},initialData:n,onTabChange:(t,e)=>{r.set(e.newTabName),s.throttle(t)},onChange:s.throttle,onAction:(e,o)=>{\"results\"===o.name&&(((t,e)=>{t.insertContent(e)})(t,o.value),e.close())},buttons:[{type:\"cancel\",text:\"Close\",primary:!0}]}),g=t.windowManager.open(u());g.focus(N),e.hasLoaded()||(g.block(\"Loading emojis...\"),e.waitForLoad().then((()=>{g.redial(u()),s.throttle(g),g.focus(N),g.unblock()})).catch((t=>{g.redial({title:\"Emojis\",body:{type:\"panel\",items:[{type:\"alertbanner\",level:\"error\",icon:\"warning\",text:\"Could not load emojis\"}]},buttons:[{type:\"cancel\",text:\"Close\",primary:!0}],initialData:{pattern:\"\",results:[]}}),g.focus(N),g.unblock()})))},D=t=>e=>{const o=()=>{e.setEnabled(t.selection.isEditable())};return t.on(\"NodeChange\",o),o(),()=>{t.off(\"NodeChange\",o)}};t.add(\"emoticons\",((t,e)=>{((t,e)=>{const o=t.options.register;o(\"emoticons_database\",{processor:\"string\",default:\"emojis\"}),o(\"emoticons_database_url\",{processor:\"string\",default:`${e}/js/${w(t)}${t.suffix}.js`}),o(\"emoticons_database_id\",{processor:\"string\",default:\"tinymce.plugins.emoticons\"}),o(\"emoticons_append\",{processor:\"object\",default:{}}),o(\"emoticons_images_url\",{processor:\"string\",default:\"https://cdnjs.cloudflare.com/ajax/libs/twemoji/15.1.0/72x72/\"})})(t,e);const o=((t,e,o)=>{const n=y(),r=y(),s=A(t),a=t=>{return o=\"<img\",(e=t.char).length>=4&&e.substr(0,4)===o?t.char.replace(/src=\"([^\"]+)\"/,((t,e)=>`src=\"${s}${e}\"`)):t.char;var e,o};t.on(\"init\",(()=>{v.load(o,e).then((e=>{const o=E(t);(t=>{const e={},o=[];g(t,((t,n)=>{const r={title:n,keywords:t.keywords,char:a(t),category:x(O,t.category)},s=void 0!==e[r.category]?e[r.category]:[];e[r.category]=s.concat([r]),o.push(r)})),n.set(e),r.set(o)})(h(e,o))}),(t=>{console.log(`Failed to load emojis: ${t}`),n.set({}),r.set([])}))}));const l=()=>r.get().getOr([]),u=()=>n.isSet()&&r.isSet();return{listCategories:()=>[k].concat(c(n.get().getOr({}))),hasLoaded:u,waitForLoad:()=>u()?Promise.resolve(!0):new Promise(((t,o)=>{let n=15;const r=setInterval((()=>{u()?(clearInterval(r),t(!0)):(n--,n<0&&(console.log(\"Could not load emojis from url: \"+e),clearInterval(r),o(!1)))}),100)})),listAll:l,listCategory:t=>t===k?l():n.get().bind((e=>i.from(e[t]))).getOr([])}})(t,j(t),C(t));return((t,e)=>{t.addCommand(\"mceEmoticons\",(()=>T(t,e)))})(t,o),(t=>{const e=()=>t.execCommand(\"mceEmoticons\");t.ui.registry.addButton(\"emoticons\",{tooltip:\"Emojis\",icon:\"emoji\",onAction:e,onSetup:D(t)}),t.ui.registry.addMenuItem(\"emoticons\",{text:\"Emojis...\",icon:\"emoji\",onAction:e,onSetup:D(t)})})(t),((t,e)=>{t.ui.registry.addAutocompleter(\"emoticons\",{trigger:\":\",columns:\"auto\",minChars:2,fetch:(t,o)=>e.waitForLoad().then((()=>{const n=e.listAll();return S(n,t,i.some(o))})),onAction:(e,o,n)=>{t.selection.setRng(o),t.insertContent(n),e.hide()}})})(t,o),(t=>{t.on(\"PreInit\",(()=>{t.parser.addAttributeFilter(\"data-emoticon\",(t=>{(t=>{for(let o=0,n=t.length;o<n;o++)(e=t[o]).attr(\"data-mce-resize\",\"false\"),e.attr(\"data-mce-placeholder\",\"1\");var e})(t)}))}))})(t),{getAllEmojis:()=>o.waitForLoad().then((()=>o.listAll()))}}))}();"],"names":["t","tinymce","util","Tools","resolve","e","o","n","s","a","i","constructor","this","tag","value","some","none","singletonNone","fold","isSome","isNone","map","bind","exists","forall","filter","getOr","or","getOrThunk","orThunk","getOrDie","Error","from","getOrNull","getOrUndefined","each","toArray","toString","Array","prototype","slice","l","length","r","c","Object","keys","u","hasOwnProperty","g","m","call","d","get","set","h","p","y","clear","isSet","on","f","indexOf","v","b","options","w","j","C","_","A","k","O","symbols","people","animals_and_nature","food_and_drink","activity","travel_and_places","objects","flags","user","x","L","title","toLowerCase","keywords","S","push","char","text","icon","N","T","pattern","results","listAll","clearTimeout","cancel","throttle","setTimeout","apply","getData","listCategory","setData","label","type","name","size","body","tabs","listCategories","items","initialData","onTabChange","newTabName","onChange","onAction","insertContent","close","buttons","primary","windowManager","open","focus","hasLoaded","block","waitForLoad","then","redial","unblock","catch","level","D","setEnabled","selection","isEditable","off","add","register","processor","default","suffix","substr","replace","load","category","E","concat","console","log","Promise","setInterval","clearInterval","addCommand","execCommand","ui","registry","addButton","tooltip","onSetup","addMenuItem","addAutocompleter","trigger","columns","minChars","fetch","setRng","hide","parser","addAttributeFilter","attr","getAllEmojis"],"sourceRoot":""}