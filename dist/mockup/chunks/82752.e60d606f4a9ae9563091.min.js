"use strict";(self.webpackChunk_plone_mockup=self.webpackChunk_plone_mockup||[]).push([[82752],{3831:function(g,I,A){A.d(I,{EO:function(){return i},Em:function(){return l},Yq:function(){return s},gf:function(){return b},qz:function(){return c},r1:function(){return n},x6:function(){return t}});var C=A(49264),e=A(67545);async function l(g){let{method:I="GET",vocabularyUrl:A=null,attributes:C=[],path:e=null,uids:l=null,searchTerm:t=null,searchPath:c=null,levelInfoPath:i=null,selectableTypes:b=[],pageSize:n=100,page:s=1}=g,a={criteria:[]};if(e&&(a={criteria:[{i:"path",o:"plone.app.querystring.operation.string.path",v:`${e}::1`}],sort_on:"getObjPositionInParent",sort_order:"ascending"}),i&&(a={criteria:[{i:"path",o:"plone.app.querystring.operation.string.path",v:`${i}::0`}]}),c&&(a={criteria:[{i:"path",o:"plone.app.querystring.operation.string.path",v:c}]},b.length&&a.criteria.push({i:"portal_type",o:"plone.app.querystring.operation.list.contains",v:b})),l&&(a={criteria:[{i:"UID",o:"plone.app.querystring.operation.list.contains",v:l}]}),t&&a.criteria.push({i:"SearchableText",o:"plone.app.querystring.operation.string.contains",v:`${t}`}),!a.criteria.length)return{results:[],total:0};let d=`${A}${-1!==A.indexOf("?")?"&":"?"}query=${JSON.stringify(a)}&attributes=${JSON.stringify(C)}&batch=${JSON.stringify({page:s,size:n})}`,u=new Headers;u.set("Accept","application/json");const o=await fetch(d,{method:I,headers:u});if(!o.ok)return{results:[],total:0,errors:G.errors};const G=await o.json();if(!c&&!i&&b.length){const g={results:[],total:G.total};for(const I of G.results)(-1!=b.indexOf(I.portal_type)||I.is_folderish)&&g.results.push(I);return g}return G}async function t(g,I){if(!g)return[];const A=await l({vocabularyUrl:I.vocabularyUrl,attributes:I.attributes,uids:g});let C=await(A?.results)||[];return C.sort(((I,A)=>g.indexOf(I.UID)-g.indexOf(A.UID))),C}async function c(g,I){let{iconName:A}=I;const e=await async function(g){return await C.A.resolveIcon(g)}(A);return g.outerHTML=e,{destroy(){}}}function i(g){const I=I=>{g&&!g.contains(I.target)&&g.dispatchEvent(new CustomEvent("click_outside",g))};return document.addEventListener("click",I,!0),{destroy(){document.removeEventListener("click",I,!0)}}}function b(g,I){let A=C.A.storage.get(I.recentlyUsedKey)||[];A=A.slice(A.length-1e3,A.length),g&&I?.selectableTypes.length&&(A=A.filter((g=>-1!=I.selectableTypes.indexOf(g.portal_type))));const e=parseInt(I.recentlyUsedMaxItems,20);return e&&(A=A.slice(A.length-e,A.length)),A}function n(g,I){if(!I.recentlyUsed)return;const A=b(!1,I),e=A.filter((I=>I.UID===g.UID));e.length>0&&A.splice(A.indexOf(e[0]),1),A.push(g),C.A.storage.set(I.recentlyUsedKey,A)}function s(g){const I=Date.parse(g),A=new e.A;return new Date(I).toLocaleString(A.currentLanguage)}},45432:function(g,I,A){var C=A(71354),e=A.n(C),l=A(76314),t=A.n(l)()(e());t.push([g.id,".content-browser-position-wrapper.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za{position:fixed;top:0;right:0;display:flex;justify-content:end;z-index:1500;width:100%;height:100vh;background-color:rgba(0,0,0,.25)}.btn-xs.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za{--bs-btn-padding-y:0.15rem;--bs-btn-padding-x:0.5rem;--bs-btn-font-size:0.75rem}.content-browser.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za{height:100vh;min-width:450px;background-color:var(--bs-light-bg-subtle);border-left:var(--bs-border-style) var(--bs-border-width) #fff;z-index:1500;display:flex;flex-direction:column}.toolBar.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za{background-color:var(--bs-primary);padding:.325rem .75rem;color:var(--bs-light);width:100%;display:flex;justify-content:start}.toolBar.svelte-1pjj2za svg{vertical-align:-0.125em}.levelColumns.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za{display:flex;flex-wrap:nowrap;width:100%;overflow-y:hidden;overflow-x:auto;flex-grow:3;border-left:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);user-select:none}.levelColumn.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za{width:320px;background:rgba(var(--bs-secondary-bg-rgb), 0.55);border-right:var(--bs-border-style) var(--bs-border-width) var(--bs-border-color);display:flex;flex-direction:column;flex-grow:0;flex-shrink:0}.levelColumn.active.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za{background:var(--bs-body-bg);border-left:var(--bs-border-style) var(--bs-border-width) var(--bs-primary);margin-left:-1px}.levelToolbar.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za{width:100%;height:2.5rem;display:flex;justify-content:space-between;white-space:nowrap;padding:.375rem;border-bottom:var(--bs-border-style) var(--bs-border-width) var(--bs-border-color)}.levelToolbar.svelte-1pjj2za>.levelActions.svelte-1pjj2za.svelte-1pjj2za{margin-left:auto;display:flex}.levelToolbar.svelte-1pjj2za>button.svelte-1pjj2za.svelte-1pjj2za{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.levelItems.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za{overflow-x:auto}.contentItem.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za{display:flex;align-items:center;justify-content:space-between;font-size:90%;min-height:2rem}.contentItem.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za:focus-visible{outline:none}.contentItem.even.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za{background-color:rgba(var(--bs-secondary-bg-rgb), 0.4)}.contentItem.inPath.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za,.contentItem.selectedItem.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za{background-color:rgba(var(--bs-primary-rgb), 0.15)}.contentItem.svelte-1pjj2za>.svelte-1pjj2za.svelte-1pjj2za{padding:.5rem;white-space:nowrap;max-width:450px;text-overflow:ellipsis;overflow:hidden}.contentItem.svelte-1pjj2za>.browseSub.svelte-1pjj2za.svelte-1pjj2za{flex-shrink:0}.contentItem.svelte-1pjj2za .grid-preview.svelte-1pjj2za>img.svelte-1pjj2za{width:95px;height:95px;object-fit:cover;float:left;margin-right:1rem}.contentItem.svelte-1pjj2za .grid-preview.svelte-1pjj2za>svg.svelte-1pjj2za{width:95px;height:95px}.preview.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za{width:320px;flex-shrink:0;min-height:300px}.preview.svelte-1pjj2za .info.svelte-1pjj2za.svelte-1pjj2za{padding:.5rem;width:100%;word-wrap:anywhere}.preview.svelte-1pjj2za .info .previewIcon.svelte-1pjj2za.svelte-1pjj2za{margin:0 auto 1rem auto}.preview.svelte-1pjj2za .info .previewIcon svg.svelte-1pjj2za.svelte-1pjj2za{width:50px !important;height:50px !important}.preview.svelte-1pjj2za img.svelte-1pjj2za.svelte-1pjj2za{max-width:100%;height:auto;margin-bottom:.5rem}.upload-wrapper.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za{padding:1rem;width:540px;overflow-x:auto;flex-shrink:0}.loadmore.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za{text-align:center;padding:.25rem 0}","",{version:3,sources:["webpack://./src/pat/contentbrowser/src/ContentBrowser.svelte"],names:[],mappings:"AAAA,+EAAA,cAAA,CAAA,KAAA,CAAA,OAAA,CAAA,YAAA,CAAA,mBAAA,CAAA,YAAA,CAAA,UAAA,CAAA,YAAA,CAAA,gCAAA,CAAA,qDAAA,0BAAA,CAAA,yBAAA,CAAA,0BAAA,CAAA,8DAAA,YAAA,CAAA,eAAA,CAAA,0CAAA,CAAA,8DAAA,CAAA,YAAA,CAAA,YAAA,CAAA,qBAAA,CAAA,sDAAA,kCAAA,CAAA,sBAAA,CAAA,qBAAA,CAAA,UAAA,CAAA,YAAA,CAAA,qBAAA,CAAA,4BAAA,uBAAA,CAAA,2DAAA,YAAA,CAAA,gBAAA,CAAA,UAAA,CAAA,iBAAA,CAAA,eAAA,CAAA,WAAA,CAAA,gFAAA,CAAA,gBAAA,CAAA,0DAAA,WAAA,CAAA,iDAAA,CAAA,iFAAA,CACmC,YAAA,CAAA,qBAAA,CAAA,WAAA,CAAA,aAAA,CAAA,iEAAA,4BAAA,CAAA,2EAAA,CAAA,gBAAA,CAAA,2DAAA,UAAA,CAAA,aAAA,CAAA,YAAA,CAAA,6BAAA,CAAA,kBAAA,CAAA,eAAA,CAAA,kFAAA,CACA,yEAAA,gBAAA,CAAA,YAAA,CAAA,kEAAA,kBAAA,CAAA,eAAA,CAAA,sBAAA,CAAA,yDAAA,eAAA,CAAA,0DAAA,YAAA,CAAA,kBAAA,CAAA,6BAAA,CAAA,aAAA,CAAA,eAAA,CAAA,wEAAA,YAAA,CAAA,+DAAA,sDAAA,CAAA,wIAAA,kDAAA,CAAA,2DAAA,aAAA,CAAA,kBAAA,CAAA,eAAA,CAAA,sBAAA,CAAA,eAAA,CAAA,qEAAA,aAAA,CAAA,4EAAA,UAAA,CAAA,WAAA,CAAA,gBAAA,CAAA,UAAA,CAAA,iBAAA,CAAA,4EAAA,UAAA,CAAA,WAAA,CAAA,sDAAA,WAAA,CAAA,aAAA,CAAA,gBAAA,CAAA,4DAAA,aAAA,CAAA,UAAA,CAAA,kBAAA,CAAA,yEAAA,uBAAA,CAAA,6EAAA,qBAAA,CAAA,sBAAA,CAAA,0DAAA,cAAA,CAAA,WAAA,CAAA,mBAAA,CAAA,6DAAA,YAAA,CAAA,WAAA,CAAA,eAAA,CAAA,aAAA,CAAA,uDAAA,iBAAA,CAAA,gBAAA",sourcesContent:[".content-browser-position-wrapper.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za{position:fixed;top:0;right:0;display:flex;justify-content:end;z-index:1500;width:100%;height:100vh;background-color:rgba(0, 0, 0, 0.25)}.btn-xs.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za{--bs-btn-padding-y:0.15rem;--bs-btn-padding-x:0.5rem;--bs-btn-font-size:0.75rem}.content-browser.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za{height:100vh;min-width:450px;background-color:var(--bs-light-bg-subtle);border-left:var(--bs-border-style) var(--bs-border-width) #fff;z-index:1500;display:flex;flex-direction:column}.toolBar.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za{background-color:var(--bs-primary);padding:0.325rem 0.75rem;color:var(--bs-light);width:100%;display:flex;justify-content:start}.toolBar.svelte-1pjj2za svg{vertical-align:-0.125em}.levelColumns.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za{display:flex;flex-wrap:nowrap;width:100%;overflow-y:hidden;overflow-x:auto;flex-grow:3;border-left:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);user-select:none}.levelColumn.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za{width:320px;background:rgba(var(--bs-secondary-bg-rgb), 0.55);border-right:var(--bs-border-style) var(--bs-border-width)\n            var(--bs-border-color);display:flex;flex-direction:column;flex-grow:0;flex-shrink:0}.levelColumn.active.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za{background:var(--bs-body-bg);border-left:var(--bs-border-style) var(--bs-border-width) var(--bs-primary);margin-left:-1px}.levelToolbar.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za{width:100%;height:2.5rem;display:flex;justify-content:space-between;white-space:nowrap;padding:0.375rem;border-bottom:var(--bs-border-style) var(--bs-border-width)\n            var(--bs-border-color)}.levelToolbar.svelte-1pjj2za>.levelActions.svelte-1pjj2za.svelte-1pjj2za{margin-left:auto;display:flex}.levelToolbar.svelte-1pjj2za>button.svelte-1pjj2za.svelte-1pjj2za{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.levelItems.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za{overflow-x:auto}.contentItem.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za{display:flex;align-items:center;justify-content:space-between;font-size:90%;min-height:2rem}.contentItem.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za:focus-visible{outline:none}.contentItem.even.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za{background-color:rgba(var(--bs-secondary-bg-rgb), 0.4)}.contentItem.inPath.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za,.contentItem.selectedItem.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za{background-color:rgba(var(--bs-primary-rgb), 0.15)}.contentItem.svelte-1pjj2za>.svelte-1pjj2za.svelte-1pjj2za{padding:0.5rem;white-space:nowrap;max-width:450px;text-overflow:ellipsis;overflow:hidden}.contentItem.svelte-1pjj2za>.browseSub.svelte-1pjj2za.svelte-1pjj2za{flex-shrink:0}.contentItem.svelte-1pjj2za .grid-preview.svelte-1pjj2za>img.svelte-1pjj2za{width:95px;height:95px;object-fit:cover;float:left;margin-right:1rem}.contentItem.svelte-1pjj2za .grid-preview.svelte-1pjj2za>svg.svelte-1pjj2za{width:95px;height:95px}.preview.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za{width:320px;flex-shrink:0;min-height:300px}.preview.svelte-1pjj2za .info.svelte-1pjj2za.svelte-1pjj2za{padding:0.5rem;width:100%;word-wrap:anywhere}.preview.svelte-1pjj2za .info .previewIcon.svelte-1pjj2za.svelte-1pjj2za{margin:0 auto 1rem auto}.preview.svelte-1pjj2za .info .previewIcon svg.svelte-1pjj2za.svelte-1pjj2za{width:50px !important;height:50px !important}.preview.svelte-1pjj2za img.svelte-1pjj2za.svelte-1pjj2za{max-width:100%;height:auto;margin-bottom:0.5rem}.upload-wrapper.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za{padding:1rem;width:540px;overflow-x:auto;flex-shrink:0}.loadmore.svelte-1pjj2za.svelte-1pjj2za.svelte-1pjj2za{text-align:center;padding:0.25rem 0}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29udGVudEJyb3dzZXIuc3ZlbHRlIiwic291cmNlcyI6WyJDb250ZW50QnJvd3Nlci5zdmVsdGUiXSwic291cmNlc0NvbnRlbnQiOlsiPHNjcmlwdD5cbiAgICBpbXBvcnQgdXRpbHMgZnJvbSBcIkBwYXR0ZXJuc2xpYi9wYXR0ZXJuc2xpYi9zcmMvY29yZS91dGlsc1wiO1xuICAgIGltcG9ydCB7IGdldENvbnRleHQgfSBmcm9tIFwic3ZlbHRlXCI7XG4gICAgaW1wb3J0ICogYXMgYW5pbWF0ZVNjcm9sbCBmcm9tIFwic3ZlbHRlLXNjcm9sbHRvXCI7XG4gICAgaW1wb3J0IHsgZmx5IH0gZnJvbSBcInN2ZWx0ZS90cmFuc2l0aW9uXCI7XG4gICAgaW1wb3J0IF90IGZyb20gXCIuLi8uLi8uLi9jb3JlL2kxOG4td3JhcHBlclwiO1xuICAgIGltcG9ydCBVcGxvYWQgZnJvbSBcIi4uLy4uL3VwbG9hZC91cGxvYWRcIjtcbiAgICBpbXBvcnQgY29udGVudFN0b3JlIGZyb20gXCIuL0NvbnRlbnRTdG9yZVwiO1xuICAgIGltcG9ydCB7XG4gICAgICAgIGNsaWNrT3V0c2lkZSxcbiAgICAgICAgZm9ybWF0RGF0ZSxcbiAgICAgICAgZ2V0X2l0ZW1zX2Zyb21fdWlkcyxcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgcmVzb2x2ZUljb24sXG4gICAgICAgIHVwZGF0ZVJlY2VudGx5VXNlZCxcbiAgICB9IGZyb20gXCIuL3V0aWxzXCI7XG4gICAgaW1wb3J0IEZhdm9yaXRlcyBmcm9tIFwiLi9GYXZvcml0ZXMuc3ZlbHRlXCI7XG4gICAgaW1wb3J0IFJlY2VudGx5VXNlZCBmcm9tIFwiLi9SZWNlbnRseVVzZWQuc3ZlbHRlXCI7XG5cbiAgICBhbmltYXRlU2Nyb2xsLnNldEdsb2JhbE9wdGlvbnMoe1xuICAgICAgICBzY3JvbGxYOiB0cnVlLFxuICAgICAgICBjb250YWluZXI6IFwiLmxldmVsQ29sdW1uc1wiLFxuICAgICAgICBkdXJhdGlvbjogNTAwLFxuICAgIH0pO1xuXG4gICAgLy8gZ2V0IGNvbnRleHQgc3RvcmVzXG4gICAgY29uc3QgY3VycmVudFBhdGggPSBnZXRDb250ZXh0KFwiY3VycmVudFBhdGhcIik7XG4gICAgY29uc3QgY29uZmlnID0gZ2V0Q29udGV4dChcImNvbmZpZ1wiKTtcbiAgICBjb25zdCBwYXRoQ2FjaGUgPSBnZXRDb250ZXh0KFwicGF0aENhY2hlXCIpO1xuICAgIGNvbnN0IHNob3dDb250ZW50QnJvd3NlciA9IGdldENvbnRleHQoXCJzaG93Q29udGVudEJyb3dzZXJcIik7XG4gICAgY29uc3Qgc2VsZWN0ZWRJdGVtcyA9IGdldENvbnRleHQoXCJzZWxlY3RlZEl0ZW1zXCIpO1xuICAgIGNvbnN0IHNlbGVjdGVkVWlkcyA9IGdldENvbnRleHQoXCJzZWxlY3RlZFVpZHNcIik7XG4gICAgY29uc3QgcHJldmlld1VpZHMgPSBnZXRDb250ZXh0KFwicHJldmlld1VpZHNcIik7XG5cbiAgICAvLyBpbml0aWFsaXplIGNvbnRlbnQgYnJvd3NlciBzdG9yZVxuICAgIGNvbnN0IGNvbnRlbnRJdGVtcyA9IGNvbnRlbnRTdG9yZSgkY29uZmlnLCBwYXRoQ2FjaGUpO1xuXG4gICAgbGV0IHNob3dVcGxvYWQgPSBmYWxzZTtcbiAgICBsZXQgcHJldmlld0l0ZW0gPSB7fTtcbiAgICBsZXQga2V5Ym9hcmROYXZJbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIGxldCBzaGlmdEtleSA9IGZhbHNlO1xuICAgIGxldCBzZWFyY2hUZXJtID0gbnVsbDtcbiAgICBsZXQgZ3JpZFZpZXcgPSBmYWxzZTtcbiAgICBsZXQgZGVmYXVsdENvbmZpZ01vZGUgPSAkY29uZmlnLm1vZGU7XG5cbiAgICBsZXQgdncgPSBNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggfHwgMCwgd2luZG93LmlubmVyV2lkdGggfHwgMCk7XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVQcmV2aWV3KHsgZGF0YSA9IG51bGwsIHV1aWQgPSBudWxsLCBhY3Rpb24gPSBcInNob3dcIiB9KSB7XG4gICAgICAgIGlmIChkYXRhICYmIGFjdGlvbiA9PSBcInNob3dcIikge1xuICAgICAgICAgICAgcHJldmlld0l0ZW0gPSBkYXRhO1xuICAgICAgICAgICAgJHByZXZpZXdVaWRzID0gW2RhdGEuVUlEXTtcbiAgICAgICAgfSBlbHNlIGlmICh1dWlkICYmIGFjdGlvbiA9PSBcImFkZFwiICYmICRwcmV2aWV3VWlkcy5pbmRleE9mKHV1aWQpID09PSAtMSkge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICRjb25maWcubWF4aW11bVNlbGVjdGlvblNpemUgPiAwICYmXG4gICAgICAgICAgICAgICAgJHByZXZpZXdVaWRzLmxlbmd0aCA+PSAkY29uZmlnLm1heGltdW1TZWxlY3Rpb25TaXplXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAvLyByZXNwZWN0IG1heGltdW1TZWxlY3Rpb25TaXplXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHByZXZpZXdVaWRzID0gWy4uLiRwcmV2aWV3VWlkcywgdXVpZF07IC8vIE5PVEU6ICRwcmV2aWV3VWlkcy5wdXNoKCkgaXMgbm90IGEgcmVhY3RpdmUgY2hhbmdlXG4gICAgICAgIH0gZWxzZSBpZiAodXVpZCAmJiBhY3Rpb24gPT0gXCJyZW1vdmVcIiAmJiAkcHJldmlld1VpZHMuaW5kZXhPZih1dWlkKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHByZXZpZXdVaWRzLnVwZGF0ZSgobikgPT4ge1xuICAgICAgICAgICAgICAgIG4uc3BsaWNlKG4uaW5kZXhPZih1dWlkKSwgMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT0gXCJjbGVhclwiKSB7XG4gICAgICAgICAgICBwcmV2aWV3SXRlbSA9IHt9O1xuICAgICAgICAgICAgJHByZXZpZXdVaWRzID0gW107XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBmdW5jdGlvbiB1cGxvYWQoKSB7XG4gICAgICAgIHVwZGF0ZVByZXZpZXcoeyBhY3Rpb246IFwiY2xlYXJcIiB9KTtcbiAgICAgICAgc2Nyb2xsVG9SaWdodCgpO1xuICAgICAgICBzaG93VXBsb2FkID0gdHJ1ZTtcbiAgICAgICAgYXdhaXQgdXRpbHMudGltZW91dCgxKTtcbiAgICAgICAgY29uc3QgdXBsb2FkRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnVwbG9hZC13cmFwcGVyXCIpO1xuICAgICAgICB1cGxvYWRFbC5jbGFzc0xpc3QuYWRkKFwicGF0LXVwbG9hZFwiKTtcbiAgICAgICAgY29uc3QgcGF0VXBsb2FkID0gbmV3IFVwbG9hZCh1cGxvYWRFbCwge1xuICAgICAgICAgICAgYmFzZVVybDogJGNvbmZpZy5yb290VXJsLFxuICAgICAgICAgICAgY3VycmVudFBhdGg6ICRjdXJyZW50UGF0aCxcbiAgICAgICAgICAgIHJlbGF0aXZlUGF0aDogXCJAQGZpbGVVcGxvYWRcIixcbiAgICAgICAgICAgIGFsbG93UGF0aFNlbGVjdGlvbjogZmFsc2UsXG4gICAgICAgICAgICBoaWRkZW5JbnB1dENvbnRhaW5lcjogXCIudXBsb2FkLXdyYXBwZXJcIixcbiAgICAgICAgICAgIHN1Y2Nlc3M6IChmaWxlVXBsb2FkLCBvYmopID0+IHtcbiAgICAgICAgICAgICAgICBjb250ZW50SXRlbXMuZ2V0KHsgcGF0aDogJGN1cnJlbnRQYXRoLCB1cGRhdGVDYWNoZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNob3dQcmV2aWV3KGl0ZW0pIHtcbiAgICAgICAgaWYgKCRjb25maWcubW9kZSA9PSBcImJyb3dzZVwiICYmIGl0ZW0uaXNfZm9sZGVyaXNoKSB7XG4gICAgICAgICAgICAkcHJldmlld1VpZHMgPSBbaXRlbS5VSURdO1xuICAgICAgICAgICAgY3VycmVudFBhdGguc2V0KGl0ZW0ucGF0aCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFydHMgPSBpdGVtLnBhdGguc3BsaXQoXCIvXCIpO1xuICAgICAgICAgICAgY29uc3QgZm9sZGVyUGF0aCA9IHBhdGhQYXJ0cy5zbGljZSgwLCBwYXRoUGFydHMubGVuZ3RoIC0gMSkuam9pbihcIi9cIik7XG4gICAgICAgICAgICBjdXJyZW50UGF0aC5zZXQoZm9sZGVyUGF0aCB8fCAkY29uZmlnLnJvb3RQYXRoKTtcbiAgICAgICAgICAgIHVwZGF0ZVByZXZpZXcoeyBkYXRhOiBpdGVtIH0pO1xuICAgICAgICB9XG4gICAgICAgIHNjcm9sbFRvUmlnaHQoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGFuZ2VQYXRoKGl0ZW0sIGUpIHtcbiAgICAgICAgLy8gYWx3YXlzIGhpZGUgdXBsb2FkIHdoZW4gY2hhbmdpbmcgcGF0aFxuICAgICAgICBzaG93VXBsb2FkID0gZmFsc2U7XG5cbiAgICAgICAgLy8gY2xlYXIgcHJldmlvdXMgc2VsZWN0aW9uXG4gICAgICAgIHVwZGF0ZVByZXZpZXcoeyBhY3Rpb246IFwiY2xlYXJcIiB9KTtcblxuICAgICAgICBpZiAoaXRlbSA9PT0gXCIvXCIgfHwgaXRlbSA9PT0gJGNvbmZpZy5yb290UGF0aCkge1xuICAgICAgICAgICAgLy8gY2xpY2tlZCBcImhvbWVcIiBidXR0b25cbiAgICAgICAgICAgIGN1cnJlbnRQYXRoLnNldCgkY29uZmlnLnJvb3RQYXRoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNob3cgY2xpY2tlZCBpdGVtXG4gICAgICAgIHNob3dQcmV2aWV3KGl0ZW0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsaWNrSXRlbShpdGVtLCBlKSB7XG4gICAgICAgIGlmICgha2V5Ym9hcmROYXZJbml0aWFsaXplZCkge1xuICAgICAgICAgICAgLy8gaWYgd2UndmUgYWxyZWFkeSBjbGlja2VkIGFuIGVsZW1lbnQgd2l0aCB0aGUgbW91c2VcbiAgICAgICAgICAgIC8vIGRvIG5vdCBzdGFydCBvdmVyIGtleWJvYXJkbmF2XG4gICAgICAgICAgICBrZXlib2FyZE5hdkluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNoZWNrIGZvciBtdWx0aXNlbGVjdGlvblxuICAgICAgICBjb25zdCBsZXZlbFdyYXBwZXIgPSBlLmN1cnJlbnRUYXJnZXQuY2xvc2VzdChcIi5sZXZlbEl0ZW1zXCIpO1xuICAgICAgICBjb25zdCBwcmV2U2VsZWN0aW9uID0gbGV2ZWxXcmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2VsZWN0ZWRJdGVtXCIpO1xuXG4gICAgICAgIGlmIChwcmV2U2VsZWN0aW9uLmxlbmd0aCAmJiAkY29uZmlnLm1heGltdW1TZWxlY3Rpb25TaXplICE9IDEpIHtcbiAgICAgICAgICAgIC8vIGNoZWNrIGZvciBwcmVzc2VkIHNoaWZ0IG9yIGN0cmwvbWV0YSBrZXkgZm9yIG11bHRpc2VsZWN0aW9uXG5cbiAgICAgICAgICAgIGlmIChzaGlmdEtleSB8fCBlPy5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgIC8vIGl0ZXIgdGhyb3VnaCB0aGUgd3JhcHBlciBjaGlsZHJlbiBhbmQgc2VsZWN0IGFsbFxuICAgICAgICAgICAgICAgIC8vIGluYmV0d2VlbiBjdXJyZW50IHNlbGVjdGlvbiBhbmQgbGFzdCBwcmV2aWV3XG4gICAgICAgICAgICAgICAgbGV0IHNlbGVjdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZWwgb2YgbGV2ZWxXcmFwcGVyLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChbaXRlbS5VSUQsIHByZXZpZXdJdGVtLlVJRF0uaW5kZXhPZihlbC5kYXRhc2V0LnV1aWQpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0b3Agc2VsZWN0aW5nIGJ1dCBtYWtlIHN1cmUgdGhlIGxhc3QgaXRlbSBpcyBzZWxlY3RlZCB0b29cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVQcmV2aWV3KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXVpZDogZWwuZGF0YXNldC51dWlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiYWRkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzdGFydCBzZWxlY3RpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlUHJldmlldyh7XG4gICAgICAgICAgICAgICAgICAgICAgICB1dWlkOiBlbC5kYXRhc2V0LnV1aWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IHNlbGVjdCA/IFwiYWRkXCIgOiBcInJlbW92ZVwiLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2hpZnRLZXkgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZT8ubWV0YUtleSB8fCBlPy5jdHJsS2V5KSB7XG4gICAgICAgICAgICAgICAgLy8gZGUvc2VsZWN0IG11bHRpcGxlIHNpbmdsZSBpdGVtc1xuICAgICAgICAgICAgICAgIC8vIE5PVEU6IG9ubHkgZm9yIG1vdXNlIGNsaWNrIGV2ZW50XG4gICAgICAgICAgICAgICAgdXBkYXRlUHJldmlldyh7XG4gICAgICAgICAgICAgICAgICAgIHV1aWQ6IGl0ZW0uVUlELFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICRwcmV2aWV3VWlkcy5pbmRleE9mKGl0ZW0uVUlEKSA9PSAtMSA/IFwiYWRkXCIgOiBcInJlbW92ZVwiLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyB1bnNlbGVjdFxuICAgICAgICAgICAgICAgIFsuLi5wcmV2U2VsZWN0aW9uXS5tYXAoKGVsKSA9PiBlbC5jbGFzc0xpc3QucmVtb3ZlKFwic2VsZWN0ZWRJdGVtXCIpKTtcbiAgICAgICAgICAgICAgICBjaGFuZ2VQYXRoKGl0ZW0sIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hhbmdlUGF0aChpdGVtLCBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGUuY3VycmVudFRhcmdldC5mb2N1cygpOyAvLyBuZWVkZWQgZm9yIGtleWJvYXJkIG5hdmlnYXRpb25cbiAgICAgICAgZS5jdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJzZWxlY3RlZEl0ZW1cIik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5pdEtleWJvYXJkTmF2KCkge1xuICAgICAgICAvLyBmb2N1cyBmaXJzdCBlbGVtZW50IHdoZW4gc2hvd2luZyBjb250ZW50YnJvd3NlclxuICAgICAgICBpZiAoa2V5Ym9hcmROYXZJbml0aWFsaXplZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBvc3NpYmxlRm9jdXNFbHMgPSBbXG4gICAgICAgICAgICAuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmxldmVsQ29sdW1uIC5pblBhdGhcIiksIC8vIHByZXZpb3VzbHkgc2VsZWN0ZWQgZm9sZGVyXG4gICAgICAgICAgICAuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmxldmVsQ29sdW1uIC5zZWxlY3RlZEl0ZW1cIiksIC8vIHByZXZpb3VzbHkgc2VsZWN0ZWQgaXRlbVxuICAgICAgICBdO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICAhcG9zc2libGVGb2N1c0Vscy5sZW5ndGggJiZcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubGV2ZWxDb2x1bW4gLmNvbnRlbnRJdGVtXCIpXG4gICAgICAgICkge1xuICAgICAgICAgICAgcG9zc2libGVGb2N1c0Vscy5wdXNoKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubGV2ZWxDb2x1bW4gLmNvbnRlbnRJdGVtXCIpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9zc2libGVGb2N1c0Vscy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGtleWJvYXJkTmF2SW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICAgICAgcG9zc2libGVGb2N1c0Vsc1swXS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24ga2V5Ym9hcmROYXZpZ2F0aW9uKGl0ZW0sIGUpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IGUuY3VycmVudFRhcmdldDtcbiAgICAgICAgc2hpZnRLZXkgPSBlLnNoaWZ0S2V5O1xuICAgICAgICBpZiAoZS5rZXkgPT0gXCJFc2NhcGVcIikge1xuICAgICAgICAgICAgY2FuY2VsU2VsZWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgZS5rZXkgPT0gXCJBcnJvd0Rvd25cIiAmJlxuICAgICAgICAgICAgbm9kZT8ubmV4dEVsZW1lbnRTaWJsaW5nPy5jbGFzc0xpc3QuY29udGFpbnMoXCJjb250ZW50SXRlbVwiKVxuICAgICAgICApIHtcbiAgICAgICAgICAgIG5vZGUubmV4dEVsZW1lbnRTaWJsaW5nLmNsaWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgZS5rZXkgPT0gXCJBcnJvd1VwXCIgJiZcbiAgICAgICAgICAgIG5vZGU/LnByZXZpb3VzRWxlbWVudFNpYmxpbmc/LmNsYXNzTGlzdC5jb250YWlucyhcImNvbnRlbnRJdGVtXCIpXG4gICAgICAgICkge1xuICAgICAgICAgICAgbm9kZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmNsaWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUua2V5ID09IFwiQXJyb3dSaWdodFwiKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyQ29sID0gZS50YXJnZXQuY2xvc2VzdChcIi5sZXZlbENvbHVtblwiKTtcbiAgICAgICAgICAgIGNvbnN0IG54dENvbCA9IGN1cnJDb2w/Lm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgICAgIGlmICghbnh0Q29sIHx8ICFueHRDb2wuY2xhc3NMaXN0LmNvbnRhaW5zKFwibGV2ZWxDb2x1bW5cIikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBueHRDb2wucXVlcnlTZWxlY3RvcihcIi5jb250ZW50SXRlbVwiKT8uY2xpY2soKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZS5rZXkgPT0gXCJBcnJvd0xlZnRcIikge1xuICAgICAgICAgICAgY29uc3QgY3VyckNvbCA9IGUudGFyZ2V0LmNsb3Nlc3QoXCIubGV2ZWxDb2x1bW5cIik7XG4gICAgICAgICAgICBjb25zdCBwcmV2Q29sID0gY3VyckNvbD8ucHJldmlvdXNFbGVtZW50U2libGluZztcbiAgICAgICAgICAgIGlmICghcHJldkNvbCB8fCAhcHJldkNvbC5jbGFzc0xpc3QuY29udGFpbnMoXCJsZXZlbENvbHVtblwiKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByZXZDb2wucXVlcnlTZWxlY3RvcihcIi5pblBhdGhcIikuY2xpY2soKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZS5rZXkgPT0gXCJTcGFjZVwiKSB7XG4gICAgICAgICAgICAvLyBhZGQgaXRlbSB0byBzZWxlY3Rpb24gKGxpa2UgbWV0YUtleSArIGNsaWNrKVxuICAgICAgICAgICAgY2xpY2tJdGVtKGl0ZW0sIGUsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlLmtleSA9PSBcIkVudGVyXCIpIHtcbiAgICAgICAgICAgIGlmIChpc1NlbGVjdGFibGUoaXRlbSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoJGNvbmZpZy5tYXhpbXVtU2VsZWN0aW9uU2l6ZSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZEl0ZW0oaXRlbSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkU2VsZWN0ZWRJdGVtcygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGZ1bmN0aW9uIGFkZEl0ZW0oaXRlbSkge1xuICAgICAgICBpZiAoJGNvbmZpZy5tYXhpbXVtU2VsZWN0aW9uU2l6ZSA9PSAxKSB7XG4gICAgICAgICAgICBzZWxlY3RlZEl0ZW1zLnNldChbaXRlbV0pO1xuICAgICAgICAgICAgc2VsZWN0ZWRVaWRzLnNldChbaXRlbS5VSURdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbGVjdGVkSXRlbXMudXBkYXRlKChuKSA9PiBbLi4ubiwgaXRlbV0pO1xuICAgICAgICAgICAgc2VsZWN0ZWRVaWRzLnVwZGF0ZSgoKSA9PiAkc2VsZWN0ZWRJdGVtcy5tYXAoKHgpID0+IHguVUlEKSk7XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlUmVjZW50bHlVc2VkKGl0ZW0sICRjb25maWcpO1xuICAgICAgICB1cGRhdGVQcmV2aWV3KHsgYWN0aW9uOiBcImNsZWFyXCIgfSk7XG4gICAgICAgICRzaG93Q29udGVudEJyb3dzZXIgPSBmYWxzZTtcbiAgICAgICAga2V5Ym9hcmROYXZJbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGFzeW5jIGZ1bmN0aW9uIGFkZFNlbGVjdGVkSXRlbXMoKSB7XG4gICAgICAgIGNvbnN0IHByZXZpZXdJdGVtcyA9IGF3YWl0IGdldF9pdGVtc19mcm9tX3VpZHMoJHByZXZpZXdVaWRzLCAkY29uZmlnKTtcbiAgICAgICAgc2VsZWN0ZWRJdGVtcy51cGRhdGUoKG4pID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXQgb2YgcHJldmlld0l0ZW1zKSB7XG4gICAgICAgICAgICAgICAgaWYgKCRzZWxlY3RlZFVpZHMuaW5kZXhPZihpdC5VSUQpICE9IC0xKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBuLnB1c2goaXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgIH0pO1xuICAgICAgICBzZWxlY3RlZFVpZHMudXBkYXRlKCgpID0+ICRzZWxlY3RlZEl0ZW1zLm1hcCgoeCkgPT4geC5VSUQpKTtcbiAgICAgICAgdXBkYXRlUHJldmlldyh7IGFjdGlvbjogXCJjbGVhclwiIH0pO1xuICAgICAgICAkc2hvd0NvbnRlbnRCcm93c2VyID0gZmFsc2U7XG4gICAgICAgIGtleWJvYXJkTmF2SW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZWxlY3RSZWNlbnRseVVzZWQoZXZlbnQpIHtcbiAgICAgICAgYWRkSXRlbShldmVudC5kZXRhaWwuaXRlbSk7XG4gICAgfVxuXG4gICAgYXN5bmMgZnVuY3Rpb24gc2VsZWN0RmF2b3JpdGUoZXZlbnQpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGV2ZW50LmRldGFpbC5pdGVtLnBhdGg7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdCh7XG4gICAgICAgICAgICB2b2NhYnVsYXJ5VXJsOiAkY29uZmlnLnZvY2FidWxhcnlVcmwsXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiAkY29uZmlnLmF0dHJpYnV0ZXMsXG4gICAgICAgICAgICBsZXZlbEluZm9QYXRoOiBwYXRoLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS50b3RhbCkge1xuICAgICAgICAgICAgYWxlcnQoYCR7cGF0aH0gbm90IGZvdW5kIWApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGl0ZW0gPSByZXNwb25zZS5yZXN1bHRzWzBdO1xuICAgICAgICBpZiAoIWl0ZW0ucGF0aCkge1xuICAgICAgICAgICAgLy8gZml4IGZvciByb290XG4gICAgICAgICAgICBpdGVtLnBhdGggPSAkY29uZmlnLnJvb3RQYXRoO1xuICAgICAgICB9XG4gICAgICAgIGNoYW5nZVBhdGgoaXRlbSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FuY2VsU2VsZWN0aW9uKCkge1xuICAgICAgICAkc2hvd0NvbnRlbnRCcm93c2VyID0gZmFsc2U7XG4gICAgICAgIGtleWJvYXJkTmF2SW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgdXBkYXRlUHJldmlldyh7IGFjdGlvbjogXCJjbGVhclwiIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzU2VsZWN0YWJsZShpdGVtKSB7XG4gICAgICAgIHJldHVybiAkc2VsZWN0ZWRVaWRzLmluZGV4T2YoaXRlbS5VSUQpID09PSAtMTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzY3JvbGxUb1JpZ2h0KCkge1xuICAgICAgICBjb25zdCBzY3JvbGxDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxldmVsQ29sdW1uc1wiKTtcbiAgICAgICAgaWYgKHNjcm9sbENvbnRhaW5lcikge1xuICAgICAgICAgICAgYW5pbWF0ZVNjcm9sbC5zY3JvbGxUbyh7XG4gICAgICAgICAgICAgICAgLy8gZWxlbWVudDogXCIubGV2ZWxDb2x1bW46bGFzdC1jaGlsZFwiLFxuICAgICAgICAgICAgICAgIHg6IHNjcm9sbENvbnRhaW5lci5zY3JvbGxXaWR0aCArIDEwMCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXRlbUluUGF0aChpdGVtKSB7XG4gICAgICAgIHJldHVybiAkY29uZmlnLm1vZGUgPT0gXCJicm93c2VcIiAmJiAkY3VycmVudFBhdGguaW5kZXhPZihpdGVtLnBhdGgpICE9IC0xO1xuICAgIH1cblxuICAgIGNvbnN0IHNlYXJjaEl0ZW1zS2V5dXAgPSB1dGlscy5kZWJvdW5jZShhc3luYyAoZSkgPT4ge1xuICAgICAgICBhd2FpdCBzZWFyY2hJdGVtcyhlLnRhcmdldC52YWx1ZSk7XG4gICAgfSwgMzAwKTtcblxuICAgIGFzeW5jIGZ1bmN0aW9uIHNlYXJjaEl0ZW1zKHZhbCkge1xuICAgICAgICBzZWFyY2hUZXJtID0gdmFsO1xuICAgICAgICBpZiAoZGVmYXVsdENvbmZpZ01vZGUgIT09IFwic2VhcmNoXCIpIHtcbiAgICAgICAgICAgIC8vIHN3aXRjaGluZyB0byBzZWFyY2ggbW9kZSBpbiBnbG9iYWwgc2VhcmNoIGlmIGNvbmZpZ3VyZWQgYXMgXCJicm93c2VcIiBtb2RlXG4gICAgICAgICAgICAkY29uZmlnLm1vZGUgPSBzZWFyY2hUZXJtICE9PSBcIlwiID8gXCJzZWFyY2hcIiA6IFwiYnJvd3NlXCI7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgY29udGVudEl0ZW1zLmdldCh7XG4gICAgICAgICAgICBwYXRoOiAkY3VycmVudFBhdGgsXG4gICAgICAgICAgICBzZWFyY2hUZXJtOiBzZWFyY2hUZXJtLFxuICAgICAgICAgICAgbW9kZTogJGNvbmZpZy5tb2RlLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHNlYXJjaFRlcm0pIHtcbiAgICAgICAgICAgIHVwZGF0ZVByZXZpZXcoeyBhY3Rpb246IFwiY2xlYXJcIiB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHV0aWxzLnRpbWVvdXQoMSk7XG4gICAgICAgICAgICBzY3JvbGxUb1JpZ2h0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBmaWx0ZXJMZXZlbEtleXVwID0gdXRpbHMuZGVib3VuY2UoYXN5bmMgKGUpID0+IHtcbiAgICAgICAgYXdhaXQgZmlsdGVyTGV2ZWwoZS50YXJnZXQudmFsdWUpO1xuICAgIH0sIDMwMCk7XG5cbiAgICBjb25zdCBmaWx0ZXJMZXZlbCA9IGFzeW5jICh2YWwpID0+IHtcbiAgICAgICAgaWYgKHZhbCAhPT0gXCJcIikge1xuICAgICAgICAgICAgdXBkYXRlUHJldmlldyh7IGFjdGlvbjogXCJjbGVhclwiIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2Nyb2xsVG9SaWdodCgpO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IGNvbnRlbnRJdGVtcy5nZXQoeyBwYXRoOiAkY3VycmVudFBhdGgsIHNlYXJjaFRlcm06IHZhbCB9KTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gbG9hZE1vcmUobm9kZSkge1xuICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcbiAgICAgICAgICAgIChlbnRyaWVzKSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBlbnRyaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IG5vZGUuZGF0YXNldC5sZXZlbFBhdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWdlID0gcGFyc2VJbnQobm9kZS5kYXRhc2V0LmxldmVsTmV4dFBhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudEl0ZW1zLmdldCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZE1vcmVQYXRoOiBwYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2U6IHBhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7IHRocmVzaG9sZDogMCwgcm9vdDogbnVsbCwgbWFyZ2luOiBcIjBweFwiIH0sXG4gICAgICAgICk7XG4gICAgICAgIC8vIGRlZmVyIG9ic2VydmluZ1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKG5vZGUpO1xuICAgICAgICB9LCA1MDApO1xuICAgIH1cblxuICAgICQ6IHtcbiAgICAgICAgaWYgKCRzaG93Q29udGVudEJyb3dzZXIpIHtcbiAgICAgICAgICAgIGNvbnRlbnRJdGVtcy5nZXQoeyBwYXRoOiAkY3VycmVudFBhdGggfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAkOiB7XG4gICAgICAgICRjb250ZW50SXRlbXM7XG4gICAgICAgIHNjcm9sbFRvUmlnaHQoKTtcbiAgICB9XG5cbiAgICAkOiB7XG4gICAgICAgICRwcmV2aWV3VWlkcztcbiAgICB9XG48L3NjcmlwdD5cblxueyNpZiAkc2hvd0NvbnRlbnRCcm93c2VyfVxuICAgIDxkaXYgY2xhc3M9XCJjb250ZW50LWJyb3dzZXItcG9zaXRpb24td3JhcHBlclwiPlxuICAgICAgICA8bmF2XG4gICAgICAgICAgICBjbGFzcz1cImNvbnRlbnQtYnJvd3NlclwiXG4gICAgICAgICAgICB0cmFuc2l0aW9uOmZseT17eyB4OiAodncgLyAxMDApICogOTQsIG9wYWNpdHk6IDEgfX1cbiAgICAgICAgICAgIG9uOmludHJvZW5kPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2Nyb2xsVG9SaWdodCgpO1xuICAgICAgICAgICAgICAgIGluaXRLZXlib2FyZE5hdigpO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHVzZTpjbGlja091dHNpZGVcbiAgICAgICAgICAgIG9uOmNsaWNrX291dHNpZGU9e2NhbmNlbFNlbGVjdGlvbn1cbiAgICAgICAgPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvb2xCYXIgbmF2YmFyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0LWdyb3VwIHctYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJmaWx0ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmb3JtLWNvbnRyb2wgZm9ybS1jb250cm9sLXNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzZWFyY2hUZXJtfVxuICAgICAgICAgICAgICAgICAgICAgICAgb246aW5wdXQ9e3NlYXJjaEl0ZW1zS2V5dXB9XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIHsjaWYgc2VhcmNoVGVybX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tbGlnaHQgYnRuLXNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGlja3xwcmV2ZW50RGVmYXVsdD17KCkgPT4gc2VhcmNoSXRlbXMoXCJcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPjxzdmcgdXNlOnJlc29sdmVJY29uPXt7IGljb25OYW1lOiBcInhcIiB9fSAvPjwvYnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPFJlY2VudGx5VXNlZCBvbjpzZWxlY3RJdGVtPXtzZWxlY3RSZWNlbnRseVVzZWR9IC8+XG4gICAgICAgICAgICAgICAgPEZhdm9yaXRlcyBvbjpzZWxlY3RJdGVtPXtzZWxlY3RGYXZvcml0ZX0gLz5cbiAgICAgICAgICAgICAgICB7I2lmICRjb25maWcudXBsb2FkRW5hYmxlZH1cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1zLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInVwbG9hZCBidG4gYnRuLW91dGxpbmUtbGlnaHQgYnRuLXNtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJpbmRleD1cIjBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmtleWRvd249e3VwbG9hZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17dXBsb2FkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID48c3ZnIHVzZTpyZXNvbHZlSWNvbj17eyBpY29uTmFtZTogXCJ1cGxvYWRcIiB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtfdChcInVwbG9hZCB0byAke2N1cnJlbnRfcGF0aH1cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50X3BhdGg6ICRjdXJyZW50UGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX08L2J1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJidG4gYnRuLWxpbmsgdGV4dC13aGl0ZSBtcy1hdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgdGFiaW5kZXg9XCIwXCJcbiAgICAgICAgICAgICAgICAgICAgb246Y2xpY2t8cHJldmVudERlZmF1bHQ9eygpID0+IGNhbmNlbFNlbGVjdGlvbigpfVxuICAgICAgICAgICAgICAgICAgICA+PHN2ZyB1c2U6cmVzb2x2ZUljb249e3sgaWNvbk5hbWU6IFwieC1jaXJjbGVcIiB9fSAvPjwvYnV0dG9uXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7I2F3YWl0ICRjb250ZW50SXRlbXN9XG4gICAgICAgICAgICAgICAgPHA+e190KFwibG9hZGluZyBjb250ZW50IGl0ZW1zXCIpfTwvcD5cbiAgICAgICAgICAgIHs6dGhlbiBsZXZlbHN9XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxldmVsQ29sdW1uc1wiPlxuICAgICAgICAgICAgICAgICAgICB7I2VhY2ggbGV2ZWxzIGFzIGxldmVsLCBpIChsZXZlbC5wYXRoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImxldmVsQ29sdW1ue2kgJSAyID09IDAgPyAnIG9kZCcgOiAnIGV2ZW4nfSB7aSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXZlbHMubGVuZ3RoIC0gMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdhY3RpdmUnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJyd9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbjpmbHl8bG9jYWw9e3sgZHVyYXRpb246IDUwMCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsZXZlbFRvb2xiYXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBpID09IDAgJiYgJGNvbmZpZy5tb2RlID09IFwiYnJvd3NlXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJidG4gYnRuLWxpbmsgYnRuLXhzIHBzLTBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmluZGV4PVwiMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246a2V5ZG93bj17KCkgPT4gY2hhbmdlUGF0aCgkY29uZmlnLnJvb3RQYXRoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gY2hhbmdlUGF0aCgkY29uZmlnLnJvb3RQYXRoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PHN2Z1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2U6cmVzb2x2ZUljb249e3sgaWNvbk5hbWU6IFwiaG91c2VcIiB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+PC9idXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBpID09IGxldmVscy5sZW5ndGggLSAxfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBsZXZlbC5zZWxlY3RhYmxlICYmICFsZXZlbC5zaG93RmlsdGVyICYmICFwcmV2aWV3SXRlbS5VSUR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzZWxlY3RMZXZlbCBtZS0zXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPntsZXZlbC5UaXRsZX08L3NwYW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tc3VjY2VzcyBidG4teHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17X3QoXCJzZWxlY3QgJHtsZXZlbF9wYXRofVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXZlbF9wYXRoOiBsZXZlbC5UaXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshaXNTZWxlY3RhYmxlKGxldmVsKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2t8cHJldmVudERlZmF1bHQ9eygpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRJdGVtKGxldmVsKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjxzdmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZTpyZXNvbHZlSWNvbj17eyBpY29uTmFtZTogXCJjaGVja1wiIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+PC9idXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxldmVsQWN0aW9uc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgJGNvbmZpZy5tb2RlICE9PSBcInNlYXJjaFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIGxldmVsLnNlYXJjaFRlcm0gfHwgbGV2ZWwuc2hvd0ZpbHRlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwibGV2ZWxGaWx0ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZm9ybS1jb250cm9sIGZvcm0tY29udHJvbC1zbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2xldmVsLnNlYXJjaFRlcm19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246aW5wdXQ9e2ZpbHRlckxldmVsS2V5dXB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnRuIGJ0bi1saW5rIGJ0bi14cyBsZXZlbC1maWx0ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtfdChcImNsZWFyIGZpbHRlclwiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGlja3xwcmV2ZW50RGVmYXVsdD17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJMZXZlbChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWwuc2hvd0ZpbHRlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2U6cmVzb2x2ZUljb249e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25OYW1lOiBcInhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPjwvYnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHs6ZWxzZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tbGluayBidG4teHMgbGV2ZWwtZmlsdGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17X3QoXCJsZXZlbCBmaWx0ZXJcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2t8cHJldmVudERlZmF1bHQ9eygpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChsZXZlbC5zaG93RmlsdGVyID0gdHJ1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2U6cmVzb2x2ZUljb249e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25OYW1lOiBcImZpbHRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+PC9idXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgIWdyaWRWaWV3fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tbGluayBidG4teHMgZ3JpZC12aWV3XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtfdChcImdyaWQgdmlld1wiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiAoZ3JpZFZpZXcgPSB0cnVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZTpyZXNvbHZlSWNvbj17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uTmFtZTogXCJncmlkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHs6ZWxzZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJidG4gYnRuLWxpbmsgYnRuLXhzIGdyaWQtdmlld1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17X3QoXCJsaXN0IHZpZXdcIil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGljaz17KCkgPT4gKGdyaWRWaWV3ID0gZmFsc2UpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlOnJlc29sdmVJY29uPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25OYW1lOiBcImxpc3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsZXZlbEl0ZW1zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjZWFjaCBsZXZlbC5yZXN1bHRzIHx8IFtdIGFzIGl0ZW0sIG59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8IS0tIHN2ZWx0ZS1pZ25vcmUgbWlzc2luZy1kZWNsYXJhdGlvbiAtLT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImNvbnRlbnRJdGVte24gJSAyID09IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnIG9kZCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnIGV2ZW4nfXtpdGVtSW5QYXRoKGl0ZW0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJyBpblBhdGgnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJyd9eyRwcmV2aWV3VWlkcy5pbmRleE9mKGl0ZW0uVUlEKSAhPSAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICcgc2VsZWN0ZWRJdGVtJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICcnfXshaXNTZWxlY3RhYmxlKGl0ZW0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJyB0ZXh0LWJvZHktdGVydGlhcnknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJyd9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJpbmRleD17bn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXV1aWQ9e2l0ZW0uVUlEfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmtleWRvd258cHJldmVudERlZmF1bHQ9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZE5hdmlnYXRpb24oaXRlbSwgZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246Y2xpY2s9eyhlKSA9PiBjbGlja0l0ZW0oaXRlbSwgZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz17Z3JpZFZpZXdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJncmlkLXByZXZpZXdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIml0ZW0tdGl0bGVcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJ7aXRlbS5wb3J0YWxfdHlwZX06IHtpdGVtLlRpdGxlfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIGdyaWRWaWV3ICYmIGl0ZW0uZ2V0SWNvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9e2Ake2l0ZW0uZ2V0VVJMfS9AQGltYWdlcy9pbWFnZS90aHVtYmB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PXtpdGVtLlRpdGxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgezplbHNlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZTpyZXNvbHZlSWNvbj17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uTmFtZTogYGNvbnRlbnR0eXBlLyR7aXRlbS5wb3J0YWxfdHlwZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xcLnwgL2csIFwiLVwiKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5UaXRsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiAkY29uZmlnLm1vZGUgPT0gXCJzZWFyY2hcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiciAvPjxzcGFuIGNsYXNzPVwic21hbGxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID57aXRlbS5wYXRofTwvc3BhblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgaXRlbS5pc19mb2xkZXJpc2ggJiYgJGNvbmZpZy5tb2RlID09IFwiYnJvd3NlXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJicm93c2VTdWJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2U6cmVzb2x2ZUljb249e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbk5hbWU6IFwiYXJyb3ctcmlnaHQtY2lyY2xlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9lYWNofVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIGxldmVsLm1vcmV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJsb2FkbW9yZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1sZXZlbC1wYXRoPXtsZXZlbC5wYXRofVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtbGV2ZWwtbmV4dC1wYWdlPXtwYXJzZUludChsZXZlbC5wYWdlKSArIDF9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlOmxvYWRNb3JlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNwaW5uZXItYm9yZGVyXCIgcm9sZT1cInN0YXR1c1wiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgbGV2ZWwudG90YWwgPT0gMH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50SXRlbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPntfdChcIm5vIHJlc3VsdHMgZm91bmRcIil9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgey9lYWNofVxuICAgICAgICAgICAgICAgICAgICB7I2lmIHByZXZpZXdJdGVtPy5VSUQgJiYgJHByZXZpZXdVaWRzLmxlbmd0aCA9PSAxfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByZXZpZXdcIiBpbjpmbHl8bG9jYWw9e3sgZHVyYXRpb246IDUwMCB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGV2ZWxUb29sYmFyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZWxlY3RMZXZlbCBtZS0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1lLTNcIj57cHJldmlld0l0ZW0uVGl0bGV9PC9zcGFuPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIGlzU2VsZWN0YWJsZShwcmV2aWV3SXRlbSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tc3VjY2VzcyBidG4teHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17X3QoXCJzZWxlY3QgJHtwcmV2aWV3X3BhdGh9XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpZXdfcGF0aDogcHJldmlld0l0ZW0uVGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbjpjbGlja3xwcmV2ZW50RGVmYXVsdD17KCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEl0ZW0ocHJldmlld0l0ZW0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+PHN2Z1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlOnJlc29sdmVJY29uPXt7IGljb25OYW1lOiBcImNoZWNrXCIgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz48L2J1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbmZvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsjaWYgcHJldmlld0l0ZW0uZ2V0SWNvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcmV2aWV3SW1hZ2VcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz1cIntwcmV2aWV3SXRlbS5nZXRVUkx9L0BAaW1hZ2VzL2ltYWdlL3ByZXZpZXdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9e3ByZXZpZXdJdGVtLlRpdGxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgezplbHNlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByZXZpZXdJY29uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2U6cmVzb2x2ZUljb249e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25OYW1lOiBgY29udGVudHR5cGUvJHtwcmV2aWV3SXRlbS5wb3J0YWxfdHlwZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xcLnwgL2csIFwiLVwiKX1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGR0PntfdChcIlRpdGxlXCIpfTwvZHQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGQ+e3ByZXZpZXdJdGVtLlRpdGxlfTwvZGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIHByZXZpZXdJdGVtLkRlc2NyaXB0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkdD57X3QoXCJEZXNjcmlwdGlvblwiKX08L2R0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInRleHQtdHJ1bmNhdGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17cHJldmlld0l0ZW0uRGVzY3JpcHRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cHJldmlld0l0ZW0uRGVzY3JpcHRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIHByZXZpZXdJdGVtLmNyZWF0ZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGR0PntfdChcImNyZWF0ZWRcIil9PC9kdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aW1lIGRhdGV0aW1lPXtwcmV2aWV3SXRlbS5jcmVhdGVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPntmb3JtYXREYXRlKHByZXZpZXdJdGVtLmNyZWF0ZWQpfTwvdGltZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7I2lmIHByZXZpZXdJdGVtLm1vZGlmaWVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkdD57X3QoXCJtb2RpZmllZFwiKX08L2R0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRpbWUgZGF0ZXRpbWU9e3ByZXZpZXdJdGVtLm1vZGlmaWVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPntmb3JtYXREYXRlKHByZXZpZXdJdGVtLm1vZGlmaWVkKX08L3RpbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyNpZiBwcmV2aWV3SXRlbS5yZXZpZXdfc3RhdGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGR0PntfdChcInJldmlld19zdGF0ZVwiKX08L2R0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkZD57cHJldmlld0l0ZW0ucmV2aWV3X3N0YXRlfTwvZGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2RsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICAgICAgICAgIHsjaWYgJHByZXZpZXdVaWRzLmxlbmd0aCA+IDF9XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJldmlld1wiIGluOmZseXxsb2NhbD17eyBkdXJhdGlvbjogNTAwIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsZXZlbFRvb2xiYXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJidG4gYnRuLXN1Y2Nlc3MgYnRuLXhzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtfdChcImFkZCBzZWxlY3RlZCBpdGVtc1wiKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOmNsaWNrfHByZXZlbnREZWZhdWx0PXthZGRTZWxlY3RlZEl0ZW1zfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPjxzdmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2U6cmVzb2x2ZUljb249e3sgaWNvbk5hbWU6IFwiY2hlY2tcIiB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz48L2J1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImluZm9cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlOnJlc29sdmVJY29uPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbk5hbWU6IFwiZmlsZXNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID57X3QoXCIke2l0ZW1fY291bnR9IGl0ZW1zIHNlbGVjdGVkXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtX2NvdW50OiAkcHJldmlld1VpZHMubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9PC9zcGFuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICAgICAgICB7I2lmIHNob3dVcGxvYWR9XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidXBsb2FkLXdyYXBwZXJcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHs6Y2F0Y2ggZXJyb3J9XG4gICAgICAgICAgICAgICAgPHAgc3R5bGU9XCJjb2xvcjogcmVkXCI+e2Vycm9yLm1lc3NhZ2V9PC9wPlxuICAgICAgICAgICAgey9hd2FpdH1cbiAgICAgICAgPC9uYXY+XG4gICAgPC9kaXY+XG57L2lmfVxuXG48c3R5bGU+XG4gICAgLmNvbnRlbnQtYnJvd3Nlci1wb3NpdGlvbi13cmFwcGVyIHtcbiAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGVuZDtcbiAgICAgICAgei1pbmRleDogMTUwMDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogMTAwdmg7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4yNSk7XG4gICAgfVxuICAgIC5idG4teHMge1xuICAgICAgICAtLWJzLWJ0bi1wYWRkaW5nLXk6IDAuMTVyZW07XG4gICAgICAgIC0tYnMtYnRuLXBhZGRpbmcteDogMC41cmVtO1xuICAgICAgICAtLWJzLWJ0bi1mb250LXNpemU6IDAuNzVyZW07XG4gICAgfVxuICAgIC5jb250ZW50LWJyb3dzZXIge1xuICAgICAgICBoZWlnaHQ6IDEwMHZoO1xuICAgICAgICBtaW4td2lkdGg6IDQ1MHB4O1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1icy1saWdodC1iZy1zdWJ0bGUpO1xuICAgICAgICBib3JkZXItbGVmdDogdmFyKC0tYnMtYm9yZGVyLXN0eWxlKSB2YXIoLS1icy1ib3JkZXItd2lkdGgpICNmZmY7XG4gICAgICAgIHotaW5kZXg6IDE1MDA7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgfVxuICAgIC50b29sQmFyIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYnMtcHJpbWFyeSk7XG4gICAgICAgIHBhZGRpbmc6IDAuMzI1cmVtIDAuNzVyZW07XG4gICAgICAgIGNvbG9yOiB2YXIoLS1icy1saWdodCk7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHN0YXJ0O1xuICAgIH1cbiAgICAudG9vbEJhciA6Z2xvYmFsKHN2Zykge1xuICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogLTAuMTI1ZW07XG4gICAgfVxuICAgIC5sZXZlbENvbHVtbnMge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LXdyYXA6IG5vd3JhcDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIG92ZXJmbG93LXk6IGhpZGRlbjtcbiAgICAgICAgb3ZlcmZsb3cteDogYXV0bztcbiAgICAgICAgZmxleC1ncm93OiAzO1xuICAgICAgICBib3JkZXItbGVmdDogdmFyKC0tYnMtYm9yZGVyLXN0eWxlKSB2YXIoLS1icy1ib3JkZXItY29sb3IpIHZhcigtLWJzLWJvcmRlci13aWR0aCk7XG4gICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgIH1cblxuICAgIC5sZXZlbENvbHVtbiB7XG4gICAgICAgIHdpZHRoOiAzMjBweDtcbiAgICAgICAgYmFja2dyb3VuZDogcmdiYSh2YXIoLS1icy1zZWNvbmRhcnktYmctcmdiKSwgMC41NSk7XG4gICAgICAgIGJvcmRlci1yaWdodDogdmFyKC0tYnMtYm9yZGVyLXN0eWxlKSB2YXIoLS1icy1ib3JkZXItd2lkdGgpXG4gICAgICAgICAgICB2YXIoLS1icy1ib3JkZXItY29sb3IpO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICBmbGV4LWdyb3c6IDA7XG4gICAgICAgIGZsZXgtc2hyaW5rOiAwO1xuICAgIH1cbiAgICAubGV2ZWxDb2x1bW4uYWN0aXZlIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYnMtYm9keS1iZyk7XG4gICAgICAgIGJvcmRlci1sZWZ0OiB2YXIoLS1icy1ib3JkZXItc3R5bGUpIHZhcigtLWJzLWJvcmRlci13aWR0aCkgdmFyKC0tYnMtcHJpbWFyeSk7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAtMXB4O1xuICAgIH1cbiAgICAubGV2ZWxUb29sYmFyIHtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogMi41cmVtO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgICAgIHBhZGRpbmc6IDAuMzc1cmVtO1xuICAgICAgICBib3JkZXItYm90dG9tOiB2YXIoLS1icy1ib3JkZXItc3R5bGUpIHZhcigtLWJzLWJvcmRlci13aWR0aClcbiAgICAgICAgICAgIHZhcigtLWJzLWJvcmRlci1jb2xvcik7XG4gICAgfVxuICAgIC5sZXZlbFRvb2xiYXIgPiAubGV2ZWxBY3Rpb25zIHtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgfVxuICAgIC5sZXZlbFRvb2xiYXIgPiBidXR0b24ge1xuICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICB9XG5cbiAgICAubGV2ZWxJdGVtcyB7XG4gICAgICAgIG92ZXJmbG93LXg6IGF1dG87XG4gICAgfVxuICAgIC5jb250ZW50SXRlbSB7XG4gICAgICAgIC8qIHBhZGRpbmc6IDFyZW0gMXJlbTsgKi9cbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICBmb250LXNpemU6IDkwJTtcbiAgICAgICAgbWluLWhlaWdodDogMnJlbTtcbiAgICB9XG4gICAgLmNvbnRlbnRJdGVtOmZvY3VzLXZpc2libGUge1xuICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgIH1cbiAgICAuY29udGVudEl0ZW0uZXZlbiB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEodmFyKC0tYnMtc2Vjb25kYXJ5LWJnLXJnYiksIDAuNCk7XG4gICAgfVxuICAgIC5jb250ZW50SXRlbS5pblBhdGgsXG4gICAgLmNvbnRlbnRJdGVtLnNlbGVjdGVkSXRlbSB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEodmFyKC0tYnMtcHJpbWFyeS1yZ2IpLCAwLjE1KTtcbiAgICB9XG4gICAgLmNvbnRlbnRJdGVtID4gKiB7XG4gICAgICAgIHBhZGRpbmc6IDAuNXJlbTtcbiAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICAgICAgbWF4LXdpZHRoOiA0NTBweDtcbiAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgfVxuICAgIC5jb250ZW50SXRlbSA+IC5icm93c2VTdWIge1xuICAgICAgICBmbGV4LXNocmluazogMDtcbiAgICB9XG4gICAgLmNvbnRlbnRJdGVtIC5ncmlkLXByZXZpZXcgPiBpbWcge1xuICAgICAgICB3aWR0aDogOTVweDtcbiAgICAgICAgaGVpZ2h0OiA5NXB4O1xuICAgICAgICBvYmplY3QtZml0OiBjb3ZlcjtcbiAgICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICAgIG1hcmdpbi1yaWdodDogMXJlbTtcbiAgICB9XG4gICAgLmNvbnRlbnRJdGVtIC5ncmlkLXByZXZpZXcgPiBzdmcge1xuICAgICAgICB3aWR0aDogOTVweDtcbiAgICAgICAgaGVpZ2h0OiA5NXB4O1xuICAgIH1cbiAgICAucHJldmlldyB7XG4gICAgICAgIHdpZHRoOiAzMjBweDtcbiAgICAgICAgZmxleC1zaHJpbms6IDA7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDMwMHB4O1xuICAgIH1cbiAgICAucHJldmlldyAuaW5mbyB7XG4gICAgICAgIHBhZGRpbmc6IDAuNXJlbTtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIHdvcmQtd3JhcDogYW55d2hlcmU7XG4gICAgfVxuICAgIC5wcmV2aWV3IC5pbmZvIC5wcmV2aWV3SWNvbiB7XG4gICAgICAgIG1hcmdpbjogMCBhdXRvIDFyZW0gYXV0bztcbiAgICB9XG4gICAgLnByZXZpZXcgLmluZm8gLnByZXZpZXdJY29uIHN2ZyB7XG4gICAgICAgIHdpZHRoOiA1MHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIGhlaWdodDogNTBweCAhaW1wb3J0YW50O1xuICAgIH1cbiAgICAucHJldmlldyBpbWcge1xuICAgICAgICBtYXgtd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogYXV0bztcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMC41cmVtO1xuICAgIH1cblxuICAgIC51cGxvYWQtd3JhcHBlciB7XG4gICAgICAgIHBhZGRpbmc6IDFyZW07XG4gICAgICAgIHdpZHRoOiA1NDBweDtcbiAgICAgICAgb3ZlcmZsb3cteDogYXV0bztcbiAgICAgICAgZmxleC1zaHJpbms6IDA7XG4gICAgfVxuICAgIC5sb2FkbW9yZSB7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgcGFkZGluZzogMC4yNXJlbSAwO1xuICAgIH1cbjwvc3R5bGU+XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBNHVCSSw4RUFBa0MsQ0FDOUIsUUFBUSxDQUFFLEtBQUssQ0FDZixHQUFHLENBQUUsQ0FBQyxDQUNOLEtBQUssQ0FBRSxDQUFDLENBQ1IsT0FBTyxDQUFFLElBQUksQ0FDYixlQUFlLENBQUUsR0FBRyxDQUNwQixPQUFPLENBQUUsSUFBSSxDQUNiLEtBQUssQ0FBRSxJQUFJLENBQ1gsTUFBTSxDQUFFLEtBQUssQ0FDYixnQkFBZ0IsQ0FBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FDeEMsQ0FDQSxvREFBUSxDQUNKLGtCQUFrQixDQUFFLE9BQU8sQ0FDM0Isa0JBQWtCLENBQUUsTUFBTSxDQUMxQixrQkFBa0IsQ0FBRSxPQUN4QixDQUNBLDZEQUFpQixDQUNiLE1BQU0sQ0FBRSxLQUFLLENBQ2IsU0FBUyxDQUFFLEtBQUssQ0FDaEIsZ0JBQWdCLENBQUUsSUFBSSxvQkFBb0IsQ0FBQyxDQUMzQyxXQUFXLENBQUUsSUFBSSxpQkFBaUIsQ0FBQyxDQUFDLElBQUksaUJBQWlCLENBQUMsQ0FBQyxJQUFJLENBQy9ELE9BQU8sQ0FBRSxJQUFJLENBQ2IsT0FBTyxDQUFFLElBQUksQ0FDYixjQUFjLENBQUUsTUFDcEIsQ0FDQSxxREFBUyxDQUNMLGdCQUFnQixDQUFFLElBQUksWUFBWSxDQUFDLENBQ25DLE9BQU8sQ0FBRSxRQUFRLENBQUMsT0FBTyxDQUN6QixLQUFLLENBQUUsSUFBSSxVQUFVLENBQUMsQ0FDdEIsS0FBSyxDQUFFLElBQUksQ0FDWCxPQUFPLENBQUUsSUFBSSxDQUNiLGVBQWUsQ0FBRSxLQUNyQixDQUNBLHVCQUFRLENBQVMsR0FBSyxDQUNsQixjQUFjLENBQUUsUUFDcEIsQ0FDQSwwREFBYyxDQUNWLE9BQU8sQ0FBRSxJQUFJLENBQ2IsU0FBUyxDQUFFLE1BQU0sQ0FDakIsS0FBSyxDQUFFLElBQUksQ0FDWCxVQUFVLENBQUUsTUFBTSxDQUNsQixVQUFVLENBQUUsSUFBSSxDQUNoQixTQUFTLENBQUUsQ0FBQyxDQUNaLFdBQVcsQ0FBRSxJQUFJLGlCQUFpQixDQUFDLENBQUMsSUFBSSxpQkFBaUIsQ0FBQyxDQUFDLElBQUksaUJBQWlCLENBQUMsQ0FDakYsV0FBVyxDQUFFLElBQ2pCLENBRUEseURBQWEsQ0FDVCxLQUFLLENBQUUsS0FBSyxDQUNaLFVBQVUsQ0FBRSxLQUFLLElBQUkscUJBQXFCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUNsRCxZQUFZLENBQUUsSUFBSSxpQkFBaUIsQ0FBQyxDQUFDLElBQUksaUJBQWlCLENBQUM7QUFDbkUsWUFBWSxJQUFJLGlCQUFpQixDQUFDLENBQzFCLE9BQU8sQ0FBRSxJQUFJLENBQ2IsY0FBYyxDQUFFLE1BQU0sQ0FDdEIsU0FBUyxDQUFFLENBQUMsQ0FDWixXQUFXLENBQUUsQ0FDakIsQ0FDQSxZQUFZLG9EQUFRLENBQ2hCLFVBQVUsQ0FBRSxJQUFJLFlBQVksQ0FBQyxDQUM3QixXQUFXLENBQUUsSUFBSSxpQkFBaUIsQ0FBQyxDQUFDLElBQUksaUJBQWlCLENBQUMsQ0FBQyxJQUFJLFlBQVksQ0FBQyxDQUM1RSxXQUFXLENBQUUsSUFDakIsQ0FDQSwwREFBYyxDQUNWLEtBQUssQ0FBRSxJQUFJLENBQ1gsTUFBTSxDQUFFLE1BQU0sQ0FDZCxPQUFPLENBQUUsSUFBSSxDQUNiLGVBQWUsQ0FBRSxhQUFhLENBQzlCLFdBQVcsQ0FBRSxNQUFNLENBQ25CLE9BQU8sQ0FBRSxRQUFRLENBQ2pCLGFBQWEsQ0FBRSxJQUFJLGlCQUFpQixDQUFDLENBQUMsSUFBSSxpQkFBaUIsQ0FBQztBQUNwRSxZQUFZLElBQUksaUJBQWlCLENBQzdCLENBQ0EsNEJBQWEsQ0FBRywyQ0FBYyxDQUMxQixXQUFXLENBQUUsSUFBSSxDQUNqQixPQUFPLENBQUUsSUFDYixDQUNBLDRCQUFhLENBQUcsb0NBQU8sQ0FDbkIsV0FBVyxDQUFFLE1BQU0sQ0FDbkIsUUFBUSxDQUFFLE1BQU0sQ0FDaEIsYUFBYSxDQUFFLFFBQ25CLENBRUEsd0RBQVksQ0FDUixVQUFVLENBQUUsSUFDaEIsQ0FDQSx5REFBYSxDQUVULE9BQU8sQ0FBRSxJQUFJLENBQ2IsV0FBVyxDQUFFLE1BQU0sQ0FDbkIsZUFBZSxDQUFFLGFBQWEsQ0FDOUIsU0FBUyxDQUFFLEdBQUcsQ0FDZCxVQUFVLENBQUUsSUFDaEIsQ0FDQSx5REFBWSxjQUFlLENBQ3ZCLE9BQU8sQ0FBRSxJQUNiLENBQ0EsWUFBWSxrREFBTSxDQUNkLGdCQUFnQixDQUFFLEtBQUssSUFBSSxxQkFBcUIsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUMxRCxDQUNBLFlBQVksb0RBQU8sQ0FDbkIsWUFBWSwwREFBYyxDQUN0QixnQkFBZ0IsQ0FBRSxLQUFLLElBQUksZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FDdEQsQ0FDQSwyQkFBWSxDQUFHLDhCQUFFLENBQ2IsT0FBTyxDQUFFLE1BQU0sQ0FDZixXQUFXLENBQUUsTUFBTSxDQUNuQixTQUFTLENBQUUsS0FBSyxDQUNoQixhQUFhLENBQUUsUUFBUSxDQUN2QixRQUFRLENBQUUsTUFDZCxDQUNBLDJCQUFZLENBQUcsd0NBQVcsQ0FDdEIsV0FBVyxDQUFFLENBQ2pCLENBQ0EsMkJBQVksQ0FBQyw0QkFBYSxDQUFHLGtCQUFJLENBQzdCLEtBQUssQ0FBRSxJQUFJLENBQ1gsTUFBTSxDQUFFLElBQUksQ0FDWixVQUFVLENBQUUsS0FBSyxDQUNqQixLQUFLLENBQUUsSUFBSSxDQUNYLFlBQVksQ0FBRSxJQUNsQixDQUNBLDJCQUFZLENBQUMsNEJBQWEsQ0FBRyxrQkFBSSxDQUM3QixLQUFLLENBQUUsSUFBSSxDQUNYLE1BQU0sQ0FBRSxJQUNaLENBQ0EscURBQVMsQ0FDTCxLQUFLLENBQUUsS0FBSyxDQUNaLFdBQVcsQ0FBRSxDQUFDLENBQ2QsVUFBVSxDQUFFLEtBQ2hCLENBQ0EsdUJBQVEsQ0FBQyxtQ0FBTSxDQUNYLE9BQU8sQ0FBRSxNQUFNLENBQ2YsS0FBSyxDQUFFLElBQUksQ0FDWCxTQUFTLENBQUUsUUFDZixDQUNBLHVCQUFRLENBQUMsS0FBSyxDQUFDLDBDQUFhLENBQ3hCLE1BQU0sQ0FBRSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUN4QixDQUNBLHVCQUFRLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxpQ0FBSSxDQUM1QixLQUFLLENBQUUsSUFBSSxDQUFDLFVBQVUsQ0FDdEIsTUFBTSxDQUFFLElBQUksQ0FBQyxVQUNqQixDQUNBLHVCQUFRLENBQUMsaUNBQUksQ0FDVCxTQUFTLENBQUUsSUFBSSxDQUNmLE1BQU0sQ0FBRSxJQUFJLENBQ1osYUFBYSxDQUFFLE1BQ25CLENBRUEsNERBQWdCLENBQ1osT0FBTyxDQUFFLElBQUksQ0FDYixLQUFLLENBQUUsS0FBSyxDQUNaLFVBQVUsQ0FBRSxJQUFJLENBQ2hCLFdBQVcsQ0FBRSxDQUNqQixDQUNBLHNEQUFVLENBQ04sVUFBVSxDQUFFLE1BQU0sQ0FDbEIsT0FBTyxDQUFFLE9BQU8sQ0FBQyxDQUNyQiJ9*/"],sourceRoot:""}]),I.A=t},94441:function(g,I,A){var C=A(71354),e=A.n(C),l=A(76314),t=A.n(l)()(e());t.push([g.id,".content-browser-selected-items-wrapper.svelte-awokap{display:flex;align-items:start}.content-browser-selected-items.svelte-awokap{list-style:none;background-color:var(--bs-body-bg);border-radius:var(--bs-border-radius) 0 0 var(--bs-border-radius);border:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);min-height:2.4rem;padding:.5rem .5rem 0 .5rem;flex:1 1 auto}","",{version:3,sources:["webpack://./src/pat/contentbrowser/src/SelectedItems.svelte"],names:[],mappings:"AAAA,sDAAA,YAAA,CAAA,iBAAA,CAAA,8CAAA,eAAA,CAAA,kCAAA,CAAA,iEAAA,CAAA,2EAAA,CAAA,iBAAA,CAAA,2BAAA,CAAA,aAAA",sourcesContent:[".content-browser-selected-items-wrapper.svelte-awokap{display:flex;align-items:start}.content-browser-selected-items.svelte-awokap{list-style:none;background-color:var(--bs-body-bg);border-radius:var(--bs-border-radius) 0 0 var(--bs-border-radius);border:var(--bs-border-style) var(--bs-border-color) var(--bs-border-width);min-height:2.4rem;padding:0.5rem 0.5rem 0 0.5rem;flex:1 1 auto}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2VsZWN0ZWRJdGVtcy5zdmVsdGUiLCJzb3VyY2VzIjpbIlNlbGVjdGVkSXRlbXMuc3ZlbHRlIl0sInNvdXJjZXNDb250ZW50IjpbIjxzY3JpcHQ+XG4gICAgaW1wb3J0IHsgZ2V0Q29udGV4dCwgb25Nb3VudCwgc2V0Q29udGV4dCB9IGZyb20gXCJzdmVsdGVcIjtcbiAgICBpbXBvcnQgeyBnZXRfaXRlbXNfZnJvbV91aWRzIH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcbiAgICBpbXBvcnQgU29ydGFibGUgZnJvbSBcInNvcnRhYmxlanNcIjtcbiAgICBpbXBvcnQgX3QgZnJvbSBcIi4uLy4uLy4uL2NvcmUvaTE4bi13cmFwcGVyXCI7XG4gICAgaW1wb3J0IGV2ZW50cyBmcm9tIFwiQHBhdHRlcm5zbGliL3BhdHRlcm5zbGliL3NyYy9jb3JlL2V2ZW50c1wiO1xuICAgIGltcG9ydCBwbG9uZV9yZWdpc3RyeSBmcm9tIFwiQHBsb25lL3JlZ2lzdHJ5XCI7XG5cbiAgICBsZXQgcmVmO1xuICAgIGxldCBpbml0aWFsaXppbmcgPSB0cnVlO1xuXG4gICAgLy8gZ2V0IHJlYWN0aXZlIGNvbnRleHQgY29uZmlnXG4gICAgY29uc3QgY29uZmlnID0gZ2V0Q29udGV4dChcImNvbmZpZ1wiKTtcbiAgICBjb25zdCBmaWVsZElkID0gJGNvbmZpZy5maWVsZElkO1xuICAgIGNvbnN0IHNlbGVjdGVkSXRlbXNOb2RlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZmllbGRJZCk7XG5cbiAgICAvLyBnZXQgcmVhY3RpdmUgY29udGV4dCBzdG9yZVxuICAgIGNvbnN0IHNlbGVjdGVkSXRlbXMgPSBnZXRDb250ZXh0KFwic2VsZWN0ZWRJdGVtc1wiKTtcbiAgICBjb25zdCBzZWxlY3RlZFVpZHMgPSBnZXRDb250ZXh0KFwic2VsZWN0ZWRVaWRzXCIpO1xuXG4gICAgLy8gc2hvd0NvbnRlbnRCcm93c2VyIHJlYWN0aXZlIHN0YXRlXG4gICAgY29uc3Qgc2hvd0NvbnRlbnRCcm93c2VyID0gZ2V0Q29udGV4dChcInNob3dDb250ZW50QnJvd3NlclwiKTtcblxuICAgIC8vIGdldCBzZWxlY3RlZEl0ZW0gY29tcG9uZW50IGZyb20gcmVnaXN0cnkuXG4gICAgLy8gdGhlIHJlZ2lzdHJ5IGtleSBjYW4gYmUgY3VzdG9taXplZCB3aXRoIHBhdHRlcm5fb3B0aW9uc1xuICAgIC8vIGlmIGFuIGFkZG9uIHJlZ2lzdGVycyBhIGN1c3RvbSBjb21wb25lbnQgdG8gYSBjdXN0b20ga2V5XG4gICAgY29uc3QgUmVnaXN0ZXJlZFNlbGVjdGVkSXRlbSA9IHBsb25lX3JlZ2lzdHJ5LmdldENvbXBvbmVudChcbiAgICAgICAgJGNvbmZpZy5jb21wb25lbnRSZWdpc3RyeUtleXM/LnNlbGVjdGVkSXRlbSB8fMKgXCJwYXQtY29udGVudGJyb3dzZXIuU2VsZWN0ZWRJdGVtXCJcbiAgICApO1xuXG4gICAgb25Nb3VudChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IGluaXRpYWxpemVTZWxlY3RlZEl0ZW1zU3RvcmUoKTtcbiAgICAgICAgaW5pdGlhbGl6ZVNvcnRpbmcoKTtcbiAgICAgICAgaW5pdGlhbGl6aW5nID0gZmFsc2U7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiB1bnNlbGVjdEl0ZW0oaSkge1xuICAgICAgICBzZWxlY3RlZEl0ZW1zLnVwZGF0ZSgobikgPT4ge1xuICAgICAgICAgICAgbi5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgfSk7XG4gICAgICAgIHNlbGVjdGVkVWlkcy51cGRhdGUoKCkgPT4gJHNlbGVjdGVkSXRlbXMubWFwKCh4KSA9PiB4LlVJRCkpO1xuICAgIH1cblxuICAgIC8vIHVzZSB0aGlzIGZ1bmN0aW9uIGluIFwiU2VsZWN0ZWRJdGVtXCIgY29tcG9uZW50IHdpdGhcbiAgICAvLyBjb25zdCB1bnNlbGVjdEl0ZW0gPSBnZXRDb250ZXh0KFwidW5zZWxlY3RJdGVtXCIpXG4gICAgc2V0Q29udGV4dChcInVuc2VsZWN0SXRlbVwiLCB1bnNlbGVjdEl0ZW0pO1xuXG4gICAgYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZVNlbGVjdGVkSXRlbXNTdG9yZSgpIHtcbiAgICAgICAgY29uc3QgaW5pdGlhbFZhbHVlID0gJGNvbmZpZy5zZWxlY3Rpb24ubGVuZ3RoXG4gICAgICAgICAgICA/ICRjb25maWcuc2VsZWN0aW9uXG4gICAgICAgICAgICA6IHNlbGVjdGVkSXRlbXNOb2RlPy52YWx1ZVxuICAgICAgICAgICAgICA/IHNlbGVjdGVkSXRlbXNOb2RlLnZhbHVlLnNwbGl0KCRjb25maWcuc2VwYXJhdG9yKVxuICAgICAgICAgICAgICA6IFtdO1xuXG4gICAgICAgIGlmICghaW5pdGlhbFZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgJHNlbGVjdGVkSXRlbXMgPSBhd2FpdCBnZXRfaXRlbXNfZnJvbV91aWRzKGluaXRpYWxWYWx1ZSwgJGNvbmZpZyk7XG4gICAgICAgIHNlbGVjdGVkVWlkcy51cGRhdGUoKCkgPT4gJHNlbGVjdGVkSXRlbXMubWFwKCh4KSA9PiB4LlVJRCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluaXRpYWxpemVTb3J0aW5nKCkge1xuICAgICAgICBpZiAoJGNvbmZpZy5tYXhpbXVtU2VsZWN0aW9uU2l6ZSAhPT0gMSAmJiAkc2VsZWN0ZWRJdGVtcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBTb3J0YWJsZS5jcmVhdGUoXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRJdGVtc05vZGUucHJldmlvdXNTaWJsaW5nLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAgICAgICAgIFwiLmNvbnRlbnQtYnJvd3Nlci1zZWxlY3RlZC1pdGVtc1wiLFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IFwiLnNlbGVjdGVkLWl0ZW1cIixcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOiAyMDAsXG4gICAgICAgICAgICAgICAgICAgIG9uVXBkYXRlOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNvcnRlZFV1aWRzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVsIG9mIGUudGFyZ2V0LmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ydGVkVXVpZHMucHVzaChlbC5kYXRhc2V0W1widXVpZFwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXROb2RlVmFsdWUoc29ydGVkVXVpZHMpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2VsZWN0ZWRVaWRzRnJvbVNlbGVjdGVkSXRlbXMoKSB7XG4gICAgICAgIGxldCBpdGVtcyA9IFtdO1xuICAgICAgICAkc2VsZWN0ZWRJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgICAgICBpdGVtcy5wdXNoKGl0ZW0uVUlEKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBpdGVtcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXROb2RlVmFsdWUoc2VsZWN0ZWRVaWRzKSB7XG4gICAgICAgIGNvbnN0IG5vZGVfdmFsID0gc2VsZWN0ZWRVaWRzLmpvaW4oJGNvbmZpZy5zZXBhcmF0b3IpO1xuICAgICAgICBzZWxlY3RlZEl0ZW1zTm9kZS52YWx1ZSA9IG5vZGVfdmFsO1xuICAgICAgICBzZWxlY3RlZEl0ZW1zTm9kZS5kaXNwYXRjaEV2ZW50KGV2ZW50cy5jaGFuZ2VfZXZlbnQoKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gTG9hZFNlbGVjdGVkSXRlbUNvbXBvbmVudChub2RlLCBwcm9wcykge1xuICAgICAgICBjb25zdCBjb21wb25lbnQgPSBuZXcgUmVnaXN0ZXJlZFNlbGVjdGVkSXRlbS5jb21wb25lbnQoe3RhcmdldDogbm9kZSwgcHJvcHM6IHByb3BzfSk7XG4gICAgfVxuXG4gICAgJDoge1xuICAgICAgICAkc2VsZWN0ZWRJdGVtcztcbiAgICAgICAgaWYgKCRzZWxlY3RlZEl0ZW1zLmxlbmd0aCB8fCAhaW5pdGlhbGl6aW5nKSB7XG4gICAgICAgICAgICBzZXROb2RlVmFsdWUoc2VsZWN0ZWRVaWRzRnJvbVNlbGVjdGVkSXRlbXMoKSk7XG4gICAgICAgICAgICBpbml0aWFsaXplU29ydGluZygpO1xuICAgICAgICB9XG4gICAgfVxuPC9zY3JpcHQ+XG5cbjxkaXZcbiAgICBjbGFzcz1cImNvbnRlbnQtYnJvd3Nlci1zZWxlY3RlZC1pdGVtcy13cmFwcGVyXCJcbiAgICBzdHlsZT1cIndpZHRoOiB7JGNvbmZpZy53aWR0aCB8fCAnYXV0byd9XCJcbiAgICBiaW5kOnRoaXM9e3JlZn1cbj5cbiAgICA8IS0tIHN2ZWx0ZS1pZ25vcmUgYTExeS1jbGljay1ldmVudHMtaGF2ZS1rZXktZXZlbnRzIC0tPlxuICAgIDwhLS0gc3ZlbHRlLWlnbm9yZSBhMTF5LW5vLXN0YXRpYy1lbGVtZW50LWludGVyYWN0aW9ucyAtLT5cbiAgICA8ZGl2IGNsYXNzPVwiY29udGVudC1icm93c2VyLXNlbGVjdGVkLWl0ZW1zXCJcbiAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiAkc2hvd0NvbnRlbnRCcm93c2VyID0gJHNlbGVjdGVkSXRlbXMubGVuZ3RoID8gZmFsc2UgOiB0cnVlIH0+XG4gICAgICAgIHsjaWYgJHNlbGVjdGVkSXRlbXN9XG4gICAgICAgICAgICB7I2VhY2ggJHNlbGVjdGVkSXRlbXMgYXMgc2VsSXRlbSwgaSAoc2VsSXRlbS5VSUQpfVxuICAgICAgICAgICAgICAgIDxkaXYgdXNlOkxvYWRTZWxlY3RlZEl0ZW1Db21wb25lbnQ9e3tpZHg6aSwgaXRlbTpzZWxJdGVtfX0gLz5cbiAgICAgICAgICAgIHsvZWFjaH1cbiAgICAgICAgey9pZn1cbiAgICAgICAgeyNpZiAhJHNlbGVjdGVkSXRlbXN9XG4gICAgICAgICAgICA8cD57X3QoXCJsb2FkaW5nIHNlbGVjdGVkIGl0ZW1zXCIpfTwvcD5cbiAgICAgICAgey9pZn1cbiAgICA8L2Rpdj5cbiAgICA8IS0tIHN2ZWx0ZS1pZ25vcmUgYTExeS1pbnZhbGlkLWF0dHJpYnV0ZSAtLT5cbiAgICA8YVxuICAgICAgICBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIGhyZWY9XCIjXCJcbiAgICAgICAgc3R5bGU9XCJib3JkZXItcmFkaXVzOjAgdmFyKC0tYnMtYm9yZGVyLXJhZGl1cykgdmFyKC0tYnMtYm9yZGVyLXJhZGl1cykgMFwiXG4gICAgICAgIG9uOmNsaWNrfHByZXZlbnREZWZhdWx0PXsoKSA9PiAoJHNob3dDb250ZW50QnJvd3NlciA9IHRydWUpfVxuICAgICAgICA+e190KFwiU2VsZWN0XCIpfTwvYVxuICAgID5cbjwvZGl2PlxuXG48c3R5bGU+XG4gICAgLmNvbnRlbnQtYnJvd3Nlci1zZWxlY3RlZC1pdGVtcy13cmFwcGVyIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IHN0YXJ0O1xuICAgIH1cbiAgICAuY29udGVudC1icm93c2VyLXNlbGVjdGVkLWl0ZW1zIHtcbiAgICAgICAgbGlzdC1zdHlsZTogbm9uZTtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYnMtYm9keS1iZyk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWJzLWJvcmRlci1yYWRpdXMpIDAgMCB2YXIoLS1icy1ib3JkZXItcmFkaXVzKTtcbiAgICAgICAgYm9yZGVyOiB2YXIoLS1icy1ib3JkZXItc3R5bGUpIHZhcigtLWJzLWJvcmRlci1jb2xvcikgdmFyKC0tYnMtYm9yZGVyLXdpZHRoKTtcbiAgICAgICAgbWluLWhlaWdodDogMi40cmVtO1xuICAgICAgICBwYWRkaW5nOiAwLjVyZW0gMC41cmVtIDAgMC41cmVtO1xuICAgICAgICBmbGV4OiAxIDEgYXV0bztcbiAgICB9XG48L3N0eWxlPlxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTJJSSxxREFBd0MsQ0FDcEMsT0FBTyxDQUFFLElBQUksQ0FDYixXQUFXLENBQUUsS0FDakIsQ0FDQSw2Q0FBZ0MsQ0FDNUIsVUFBVSxDQUFFLElBQUksQ0FDaEIsZ0JBQWdCLENBQUUsSUFBSSxZQUFZLENBQUMsQ0FDbkMsYUFBYSxDQUFFLElBQUksa0JBQWtCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksa0JBQWtCLENBQUMsQ0FDbEUsTUFBTSxDQUFFLElBQUksaUJBQWlCLENBQUMsQ0FBQyxJQUFJLGlCQUFpQixDQUFDLENBQUMsSUFBSSxpQkFBaUIsQ0FBQyxDQUM1RSxVQUFVLENBQUUsTUFBTSxDQUNsQixPQUFPLENBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUMvQixJQUFJLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUNkIn0=*/"],sourceRoot:""}]),I.A=t},82752:function(g,I,A){A.r(I),A.d(I,{default:function(){return Hg}});var C=A(43467),e=(A(2531),A(23505)),l=A(41949),t=A(8633),c=A(78836),i=A(95669),b=A(61751),n=A(8936),s=A(54603),a=A(3831);function d(g,I){const A=(0,s.T5)([]),C=async I=>{I={...{vocabularyUrl:g.vocabularyUrl,attributes:g.attributes,pageSize:g.pageSize},...I},g.selectableTypes.length&&(I.selectableTypes=g.selectableTypes);try{return await(0,a.Em)(I)}catch(g){return{error:"Could load data from backend."}}};return A.get=async e=>{let{path:l="",searchTerm:t="",updateCache:c=!1,loadMorePath:i="",page:b=1,mode:n=null}=e;if(null==n&&(n=g.mode),"search"===n)await(async(I,e)=>{let l={searchPath:g.rootPath,page:e};if(I){if(I.length<2)return;l.searchTerm="*"+I+"*"}let t=await C(l);t.page=e,t.searchTerm=I,A.update((A=>{const C=e*g.pageSize<t.total;return 0==A.length||A[0].searchTerm!=I?(t.more=C,t.selectable=!1,[t]):(A[0].more=C,A[0].page=t.page,A[0].results=[...A[0].results,...t.results],A)}))})(t,b);else if(i){const e=(0,s.Jt)(I);if(!(i in e))return;let l=e[i];b>l.page&&await(async(I,e,l)=>{let t={path:I,page:e};l&&(t.searchTerm="*"+l+"*");let c=await C(t);c.more=e*g.pageSize<c.total,c.page=e,A.update((g=>(g.forEach((g=>{if(g.path!=I)return g;g.page=c.page,g.more=c.more,g.results=[...g.results,...c.results]})),g)))})(i,b,l.searchTerm)}else l&&await(async(e,l,t)=>{let c=g.rootPath,i=c.replace(/^\/+/,"").split("/"),b=e,n=c;if(!b.startsWith(c))if(1===i.length)b=c+b;else{let g=b.replace(/^\/+/,"").split("/"),I=i.length;for(let A=0;A<i.length;A++)if(i[A]===g[0]){I=A;break}n="/"+i.filter((I=>g.includes(I))).join("/"),b="/"+i.slice(1,I).concat(g).join("/")}let a=[],d=b.split("/")||[];const u=Math.min(d.length,g.maxDepth||999);let o=d.slice(d.length-u,d.length);const G=d.slice(0,d.length-u).join("/");for(;o.length>0;){let g=o.join("/").replace(/^\//,"");if(g=G+(""!=o.pop()?`/${g}`:""),g&&-1===a.indexOf(g)&&a.push(g),g==c)break}const r=(0,s.Jt)(I);let Z=[],X=0;for(var m of a){X++;const A=1==X;let e={};if(!(m in r)||A&&l||t){let t={path:m};if(A&&l&&(t.searchTerm="*"+l+"*"),e=await C(t),e.more=g.pageSize<e.total,e.searchTerm=l,e.page=1,e.path=m,e.displayPath=m.replace(new RegExp(`^(${n}|${c})`),"")||"/",!l){const A=await C({levelInfoPath:m});A.total&&(e.UID=A.results[0].UID,e.Title=A.results[0].Title,e.portal_type=A.results[0].portal_type,e.getIcon=A.results[0].getIcon,e.selectable=!g.selectableTypes.length||-1!=g.selectableTypes.indexOf(A.results[0].portal_type)),e.showFilter=!1,I.update((g=>(g[m]=e,g)))}}else e=r[m];Z=[e,...Z]}A.set(Z)})(l,t,c)},A}function u(g,I,A){const C=g.slice();return C[5]=I[A],C}function o(g){let I,A,e,l,t,c,i,n,s,d,o=(0,b.Ay)("Favorites")+"",r=(0,C.rv_)(g[0].favorites),Z=[];for(let I=0;I<r.length;I+=1)Z[I]=G(u(g,r,I));return{c(){I=(0,C.ND4)("div"),A=(0,C.ND4)("button"),e=(0,C.QQy)("svg"),t=(0,C.xem)(),c=(0,C.Qq7)(o),i=(0,C.xem)(),n=(0,C.ND4)("ul");for(let g=0;g<Z.length;g+=1)Z[g].c();(0,C.CFu)(A,"type","button"),(0,C.CFu)(A,"class","favorites dropdown-toggle btn btn-outline-light btn-sm"),(0,C.CFu)(A,"data-bs-toggle","dropdown"),(0,C.CFu)(A,"aria-haspopup","true"),(0,C.CFu)(A,"aria-expanded","false"),(0,C.CFu)(n,"class","dropdown-menu"),(0,C.CFu)(I,"class","favorites dropdown dropdown-menu-end ms-2")},m(g,b){(0,C.Yry)(g,I,b),(0,C.BCw)(I,A),(0,C.BCw)(A,e),(0,C.BCw)(A,t),(0,C.BCw)(A,c),(0,C.BCw)(I,i),(0,C.BCw)(I,n);for(let g=0;g<Z.length;g+=1)Z[g]&&Z[g].m(n,null);s||(d=(0,C.hGc)(l=a.qz.call(null,e,{iconName:"star-fill"})),s=!0)},p(g,I){if(5&I){let A;for(r=(0,C.rv_)(g[0].favorites),A=0;A<r.length;A+=1){const C=u(g,r,A);Z[A]?Z[A].p(C,I):(Z[A]=G(C),Z[A].c(),Z[A].m(n,null))}for(;A<Z.length;A+=1)Z[A].d(1);Z.length=r.length}},d(g){g&&(0,C.YoD)(I),(0,C.ppq)(Z,g),s=!1,d()}}}function G(g){let I,A,e,l,t,c,i,b=g[5].title+"";function n(){return g[3](g[5])}return{c(){I=(0,C.ND4)("li"),A=(0,C.ND4)("a"),e=(0,C.Qq7)(b),t=(0,C.xem)(),(0,C.CFu)(A,"class","dropdown-item"),(0,C.CFu)(A,"href",l=g[5].path)},m(g,l){(0,C.Yry)(g,I,l),(0,C.BCw)(I,A),(0,C.BCw)(A,e),(0,C.BCw)(I,t),c||(i=(0,C.KTR)(A,"click",(0,C.xZN)(n)),c=!0)},p(I,t){g=I,1&t&&b!==(b=g[5].title+"")&&(0,C.iQh)(e,b),1&t&&l!==(l=g[5].path)&&(0,C.CFu)(A,"href",l)},d(g){g&&(0,C.YoD)(I),c=!1,i()}}}function r(g){let I,A=g[0]?.favorites&&o(g);return{c(){A&&A.c(),I=(0,C.Iex)()},m(g,e){A&&A.m(g,e),(0,C.Yry)(g,I,e)},p(g,[C]){g[0]?.favorites?A?A.p(g,C):(A=o(g),A.c(),A.m(I.parentNode,I)):A&&(A.d(1),A=null)},i:C.lQ1,o:C.lQ1,d(g){g&&(0,C.YoD)(I),A&&A.d(g)}}}function Z(g,I,A){let e;const t=(0,l.SD)("config");(0,C.j0C)(g,t,(g=>A(0,e=g)));const c=(0,l.ur)();function i(g){c("selectItem",{item:g})}return[e,t,i,g=>i(g)]}class X extends C.r7T{constructor(g){super(),(0,C.TsN)(this,g,Z,r,C.jXN,{})}}var m=X;function p(g,I,A){const C=g.slice();return C[6]=I[A],C}function B(g){let I,A,e,l,t,c,i,n,s,d,u=(0,b.Ay)("Recently Used")+"",o=(0,C.rv_)(g[2].reverse()),G=[];for(let I=0;I<o.length;I+=1)G[I]=x(p(g,o,I));return{c(){I=(0,C.ND4)("div"),A=(0,C.ND4)("button"),e=(0,C.QQy)("svg"),t=(0,C.xem)(),c=(0,C.Qq7)(u),i=(0,C.xem)(),n=(0,C.ND4)("ul");for(let g=0;g<G.length;g+=1)G[g].c();(0,C.CFu)(A,"type","button"),(0,C.CFu)(A,"class","recentlyUsed dropdown-toggle btn btn-outline-light btn-sm"),(0,C.CFu)(A,"data-bs-toggle","dropdown"),(0,C.CFu)(A,"aria-haspopup","true"),(0,C.CFu)(A,"aria-expanded","false"),(0,C.CFu)(n,"class","dropdown-menu dropdown-menu-end"),(0,C.CFu)(I,"class","recentlyUsed dropdown ms-2")},m(g,b){(0,C.Yry)(g,I,b),(0,C.BCw)(I,A),(0,C.BCw)(A,e),(0,C.BCw)(A,t),(0,C.BCw)(A,c),(0,C.BCw)(I,i),(0,C.BCw)(I,n);for(let g=0;g<G.length;g+=1)G[g]&&G[g].m(n,null);s||(d=(0,C.hGc)(l=a.qz.call(null,e,{iconName:"grid-fill"})),s=!0)},p(g,I){if(12&I){let A;for(o=(0,C.rv_)(g[2].reverse()),A=0;A<o.length;A+=1){const C=p(g,o,A);G[A]?G[A].p(C,I):(G[A]=x(C),G[A].c(),G[A].m(n,null))}for(;A<G.length;A+=1)G[A].d(1);G.length=o.length}},d(g){g&&(0,C.YoD)(I),(0,C.ppq)(G,g),s=!1,d()}}}function x(g){let I,A,e,l,t,c,i,b,n,s,d=g[6].Title+"";function u(){return g[4](g[6])}return{c(){I=(0,C.ND4)("li"),A=(0,C.ND4)("a"),e=(0,C.QQy)("svg"),t=(0,C.xem)(),c=(0,C.Qq7)(d),b=(0,C.xem)(),(0,C.CFu)(A,"href",i=g[6].getURL||"#"),(0,C.CFu)(A,"class","dropdown-item")},m(i,d){(0,C.Yry)(i,I,d),(0,C.BCw)(I,A),(0,C.BCw)(A,e),(0,C.BCw)(A,t),(0,C.BCw)(A,c),(0,C.BCw)(I,b),n||(s=[(0,C.hGc)(l=a.qz.call(null,e,{iconName:`contenttype/${g[6]?.portal_type.toLowerCase().replace(/\.| /g,"-")}`})),(0,C.KTR)(A,"click",(0,C.xZN)(u))],n=!0)},p(I,A){g=I},d(g){g&&(0,C.YoD)(I),n=!1,(0,C.oOW)(s)}}}function V(g){let I,A=g[0].recentlyUsed&&g[2].length&&B(g);return{c(){A&&A.c(),I=(0,C.Iex)()},m(g,e){A&&A.m(g,e),(0,C.Yry)(g,I,e)},p(g,[C]){g[0].recentlyUsed&&g[2].length?A?A.p(g,C):(A=B(g),A.c(),A.m(I.parentNode,I)):A&&(A.d(1),A=null)},i:C.lQ1,o:C.lQ1,d(g){g&&(0,C.YoD)(I),A&&A.d(g)}}}function F(g,I,A){let e;const t=(0,l.SD)("config");(0,C.j0C)(g,t,(g=>A(0,e=g)));const c=(0,a.gf)(!0,e),i=(0,l.ur)();function b(g){i("selectItem",{item:g})}return[e,t,c,b,g=>b(g)]}class W extends C.r7T{constructor(g){super(),(0,C.TsN)(this,g,F,V,C.jXN,{})}}var v=W,Q=A(85072),y=A.n(Q),h=A(97825),N=A.n(h),Y=A(57722),U=A.n(Y),R=A(55056),j=A.n(R),w=A(10540),D=A.n(w),z=A(41113),J=A.n(z),S=A(45432),L={};L.styleTagTransform=J(),L.setAttributes=j(),L.insert=U(),L.domAPI=N(),L.insertStyleElement=D();y()(S.A,L),S.A&&S.A.locals&&S.A.locals;function f(g,I,A){const C=g.slice();return C[57]=I[A],C[58]=I,C[59]=A,C}function k(g,I,A){const C=g.slice();return C[60]=I[A],C[62]=A,C}function H(g){let I,A,e,l,t,c,b,n,s,d,u,o,G,r,Z,X,p,B,x,V,F,W,Q=g[6]&&E(g);n=new v({}),n.$on("selectItem",g[24]),d=new m({}),d.$on("selectItem",g[25]);let y=g[8].uploadEnabled&&T(g),h={ctx:g,current:null,token:null,hasCatch:!0,pending:pg,then:O,catch:P,value:56,error:63};return(0,C.vBd)(p=g[1],h),{c(){I=(0,C.ND4)("div"),A=(0,C.ND4)("nav"),e=(0,C.ND4)("div"),l=(0,C.ND4)("div"),t=(0,C.ND4)("input"),c=(0,C.xem)(),Q&&Q.c(),b=(0,C.xem)(),(0,C.N0i)(n.$$.fragment),s=(0,C.xem)(),(0,C.N0i)(d.$$.fragment),u=(0,C.xem)(),y&&y.c(),o=(0,C.xem)(),G=(0,C.ND4)("button"),r=(0,C.QQy)("svg"),X=(0,C.xem)(),h.block.c(),(0,C.CFu)(t,"type","text"),(0,C.CFu)(t,"name","filter"),(0,C.CFu)(t,"class","form-control form-control-sm"),t.value=g[6],(0,C.CFu)(l,"class","input-group w-auto"),(0,C.CFu)(G,"class","btn btn-link text-white ms-auto"),(0,C.CFu)(G,"tabindex","0"),(0,C.CFu)(e,"class","toolBar navbar svelte-1pjj2za"),(0,C.CFu)(A,"class","content-browser svelte-1pjj2za"),(0,C.CFu)(I,"class","content-browser-position-wrapper svelte-1pjj2za")},m(i,m){(0,C.Yry)(i,I,m),(0,C.BCw)(I,A),(0,C.BCw)(A,e),(0,C.BCw)(e,l),(0,C.BCw)(l,t),(0,C.BCw)(l,c),Q&&Q.m(l,null),(0,C.BCw)(e,b),(0,C.wSR)(n,e,null),(0,C.BCw)(e,s),(0,C.wSR)(d,e,null),(0,C.BCw)(e,u),y&&y.m(e,null),(0,C.BCw)(e,o),(0,C.BCw)(e,G),(0,C.BCw)(G,r),(0,C.BCw)(A,X),h.block.m(A,h.anchor=null),h.mount=()=>A,h.anchor=null,V=!0,F||(W=[(0,C.KTR)(t,"input",g[30]),(0,C.hGc)(Z=a.qz.call(null,r,{iconName:"x-circle"})),(0,C.KTR)(G,"click",(0,C.xZN)(g[36])),(0,C.KTR)(A,"introend",g[47]),(0,C.hGc)(B=a.EO.call(null,A)),(0,C.KTR)(A,"click_outside",g[26])],F=!0)},p(I,A){g=I,(!V||64&A[0]&&t.value!==g[6])&&(t.value=g[6]),g[6]?Q?Q.p(g,A):(Q=E(g),Q.c(),Q.m(l,null)):Q&&(Q.d(1),Q=null),g[8].uploadEnabled?y?y.p(g,A):(y=T(g),y.c(),y.m(e,o)):y&&(y.d(1),y=null),h.ctx=g,2&A[0]&&p!==(p=g[1])&&(0,C.vBd)(p,h)||(0,C._6B)(h,g,A)},i(I){V||((0,C.c7F)(n.$$.fragment,I),(0,C.c7F)(d.$$.fragment,I),I&&(0,C.Dti)((()=>{V&&(x||(x=(0,C.h86)(A,i._J,{x:g[16]/100*94,opacity:1},!0)),x.run(1))})),V=!0)},o(I){(0,C.Tn8)(n.$$.fragment,I),(0,C.Tn8)(d.$$.fragment,I),I&&(x||(x=(0,C.h86)(A,i._J,{x:g[16]/100*94,opacity:1},!1)),x.run(0)),V=!1},d(g){g&&(0,C.YoD)(I),Q&&Q.d(),(0,C.Hbl)(n),(0,C.Hbl)(d),y&&y.d(),h.block.d(),h.token=null,h=null,g&&x&&x.end(),F=!1,(0,C.oOW)(W)}}}function E(g){let I,A,e,l,t;return{c(){I=(0,C.ND4)("button"),A=(0,C.QQy)("svg"),(0,C.CFu)(I,"class","btn btn-light btn-sm"),(0,C.CFu)(I,"type","button")},m(c,i){(0,C.Yry)(c,I,i),(0,C.BCw)(I,A),l||(t=[(0,C.hGc)(e=a.qz.call(null,A,{iconName:"x"})),(0,C.KTR)(I,"click",(0,C.xZN)(g[35]))],l=!0)},p:C.lQ1,d(g){g&&(0,C.YoD)(I),l=!1,(0,C.oOW)(t)}}}function T(g){let I,A,e,l,t,c,i,n,s=(0,b.Ay)("upload to ${current_path}",{current_path:g[2]})+"";return{c(){I=(0,C.ND4)("div"),A=(0,C.ND4)("button"),e=(0,C.QQy)("svg"),t=(0,C.xem)(),c=(0,C.Qq7)(s),(0,C.CFu)(A,"type","button"),(0,C.CFu)(A,"class","upload btn btn-outline-light btn-sm"),(0,C.CFu)(A,"tabindex","0"),(0,C.CFu)(I,"class","ms-2")},m(b,s){(0,C.Yry)(b,I,s),(0,C.BCw)(I,A),(0,C.BCw)(A,e),(0,C.BCw)(A,t),(0,C.BCw)(A,c),i||(n=[(0,C.hGc)(l=a.qz.call(null,e,{iconName:"upload"})),(0,C.KTR)(A,"keydown",g[17]),(0,C.KTR)(A,"click",g[17])],i=!0)},p(g,I){4&I[0]&&s!==(s=(0,b.Ay)("upload to ${current_path}",{current_path:g[2]})+"")&&(0,C.iQh)(c,s)},d(g){g&&(0,C.YoD)(I),i=!1,(0,C.oOW)(n)}}}function P(g){let I,A,e=g[63].message+"";return{c(){I=(0,C.ND4)("p"),A=(0,C.Qq7)(e),(0,C.hgi)(I,"color","red")},m(g,e){(0,C.Yry)(g,I,e),(0,C.BCw)(I,A)},p(g,I){2&I[0]&&e!==(e=g[63].message+"")&&(0,C.iQh)(A,e)},d(g){g&&(0,C.YoD)(I)}}}function O(g){let I,A,e,l,t=[],c=new Map,i=(0,C.rv_)(g[56]);const b=g=>g[57].path;for(let I=0;I<i.length;I+=1){let A=f(g,i,I),C=b(A);c.set(C,t[I]=ng(C,A))}let n=g[5]?.UID&&1==g[0].length&&sg(g),s=g[0].length>1&&Xg(g),a=g[4]&&mg(g);return{c(){I=(0,C.ND4)("div");for(let g=0;g<t.length;g+=1)t[g].c();A=(0,C.xem)(),n&&n.c(),e=(0,C.xem)(),s&&s.c(),l=(0,C.xem)(),a&&a.c(),(0,C.CFu)(I,"class","levelColumns svelte-1pjj2za")},m(g,c){(0,C.Yry)(g,I,c);for(let g=0;g<t.length;g+=1)t[g]&&t[g].m(I,null);(0,C.BCw)(I,A),n&&n.m(I,null),(0,C.BCw)(I,e),s&&s.m(I,null),(0,C.BCw)(I,l),a&&a.m(I,null)},p(g,d){678166947&d[0]|6&d[1]&&(i=(0,C.rv_)(g[56]),t=(0,C.l7s)(t,d,b,1,g,i,c,I,C.n_k,ng,A,f)),g[5]?.UID&&1==g[0].length?n?(n.p(g,d),33&d[0]&&(0,C.c7F)(n,1)):(n=sg(g),n.c(),(0,C.c7F)(n,1),n.m(I,e)):n&&(n.d(1),n=null),g[0].length>1?s?(s.p(g,d),1&d[0]&&(0,C.c7F)(s,1)):(s=Xg(g),s.c(),(0,C.c7F)(s,1),s.m(I,l)):s&&(s.d(1),s=null),g[4]?a||(a=mg(g),a.c(),a.m(I,null)):a&&(a.d(1),a=null)},d(g){g&&(0,C.YoD)(I);for(let g=0;g<t.length;g+=1)t[g].d();n&&n.d(),s&&s.d(),a&&a.d()}}}function K(g){let I,A,e,l,t;return{c(){I=(0,C.ND4)("button"),A=(0,C.QQy)("svg"),(0,C.CFu)(I,"type","button"),(0,C.CFu)(I,"class","btn btn-link btn-xs ps-0 svelte-1pjj2za"),(0,C.CFu)(I,"tabindex","0")},m(c,i){(0,C.Yry)(c,I,i),(0,C.BCw)(I,A),l||(t=[(0,C.hGc)(e=a.qz.call(null,A,{iconName:"house"})),(0,C.KTR)(I,"keydown",g[37]),(0,C.KTR)(I,"click",g[38])],l=!0)},p:C.lQ1,d(g){g&&(0,C.YoD)(I),l=!1,(0,C.oOW)(t)}}}function M(g){let I,A,e,l=g[57].selectable&&!g[57].showFilter&&!g[5].UID&&q(g),t="search"!==g[8].mode&&$(g);function c(g,I){return g[7]?Ig:Ag}let i=c(g),b=i(g);return{c(){l&&l.c(),I=(0,C.xem)(),A=(0,C.ND4)("div"),t&&t.c(),e=(0,C.xem)(),b.c(),(0,C.CFu)(A,"class","levelActions svelte-1pjj2za")},m(g,c){l&&l.m(g,c),(0,C.Yry)(g,I,c),(0,C.Yry)(g,A,c),t&&t.m(A,null),(0,C.BCw)(A,e),b.m(A,null)},p(g,C){!g[57].selectable||g[57].showFilter||g[5].UID?l&&(l.d(1),l=null):l?l.p(g,C):(l=q(g),l.c(),l.m(I.parentNode,I)),"search"!==g[8].mode?t?t.p(g,C):(t=$(g),t.c(),t.m(A,e)):t&&(t.d(1),t=null),i===(i=c(g))&&b?b.p(g,C):(b.d(1),b=i(g),b&&(b.c(),b.m(A,null)))},d(g){g&&((0,C.YoD)(I),(0,C.YoD)(A)),l&&l.d(g),t&&t.d(),b.d()}}}function q(g){let I,A,e,l,t,c,i,n,s,d,u=g[57].Title+"";function o(){return g[39](g[57])}return{c(){I=(0,C.ND4)("span"),A=(0,C.Qq7)(u),e=(0,C.xem)(),l=(0,C.ND4)("button"),t=(0,C.QQy)("svg"),(0,C.CFu)(I,"class","selectLevel me-3"),(0,C.CFu)(l,"class","btn btn-success btn-xs svelte-1pjj2za"),(0,C.CFu)(l,"title",i=(0,b.Ay)("select ${level_path}",{level_path:g[57].Title})),l.disabled=n=!g[27](g[57])},m(g,i){(0,C.Yry)(g,I,i),(0,C.BCw)(I,A),(0,C.Yry)(g,e,i),(0,C.Yry)(g,l,i),(0,C.BCw)(l,t),s||(d=[(0,C.hGc)(c=a.qz.call(null,t,{iconName:"check"})),(0,C.KTR)(l,"click",(0,C.xZN)(o))],s=!0)},p(I,e){g=I,2&e[0]&&u!==(u=g[57].Title+"")&&(0,C.iQh)(A,u),2&e[0]&&i!==(i=(0,b.Ay)("select ${level_path}",{level_path:g[57].Title}))&&(0,C.CFu)(l,"title",i),2&e[0]&&n!==(n=!g[27](g[57]))&&(l.disabled=n)},d(g){g&&((0,C.YoD)(I),(0,C.YoD)(e),(0,C.YoD)(l)),s=!1,(0,C.oOW)(d)}}}function $(g){let I;function A(g,I){return g[57].searchTerm||g[57].showFilter?gg:_}let e=A(g),l=e(g);return{c(){l.c(),I=(0,C.Iex)()},m(g,A){l.m(g,A),(0,C.Yry)(g,I,A)},p(g,C){e===(e=A(g))&&l?l.p(g,C):(l.d(1),l=e(g),l&&(l.c(),l.m(I.parentNode,I)))},d(g){g&&(0,C.YoD)(I),l.d(g)}}}function _(g){let I,A,e,l,t,c;function i(){return g[41](g[57],g[58],g[59])}return{c(){I=(0,C.ND4)("button"),A=(0,C.QQy)("svg"),(0,C.CFu)(I,"class","btn btn-link btn-xs level-filter svelte-1pjj2za"),(0,C.CFu)(I,"title",l=(0,b.Ay)("level filter"))},m(g,l){(0,C.Yry)(g,I,l),(0,C.BCw)(I,A),t||(c=[(0,C.hGc)(e=a.qz.call(null,A,{iconName:"filter"})),(0,C.KTR)(I,"click",(0,C.xZN)(i))],t=!0)},p(I,A){g=I},d(g){g&&(0,C.YoD)(I),t=!1,(0,C.oOW)(c)}}}function gg(g){let I,A,e,l,t,c,i,n,s;function d(){return g[40](g[57],g[58],g[59])}return{c(){I=(0,C.ND4)("input"),e=(0,C.xem)(),l=(0,C.ND4)("button"),t=(0,C.QQy)("svg"),(0,C.CFu)(I,"type","text"),(0,C.CFu)(I,"name","levelFilter"),(0,C.CFu)(I,"class","form-control form-control-sm"),I.value=A=g[57].searchTerm,(0,C.CFu)(l,"class","btn btn-link btn-xs level-filter svelte-1pjj2za"),(0,C.CFu)(l,"title",i=(0,b.Ay)("clear filter"))},m(A,i){(0,C.Yry)(A,I,i),(0,C.Yry)(A,e,i),(0,C.Yry)(A,l,i),(0,C.BCw)(l,t),n||(s=[(0,C.KTR)(I,"input",g[32]),(0,C.hGc)(c=a.qz.call(null,t,{iconName:"x"})),(0,C.KTR)(l,"click",(0,C.xZN)(d))],n=!0)},p(C,e){g=C,2&e[0]&&A!==(A=g[57].searchTerm)&&I.value!==A&&(I.value=A)},d(g){g&&((0,C.YoD)(I),(0,C.YoD)(e),(0,C.YoD)(l)),n=!1,(0,C.oOW)(s)}}}function Ig(g){let I,A,e,l,t,c;return{c(){I=(0,C.ND4)("button"),A=(0,C.QQy)("svg"),(0,C.CFu)(I,"class","btn btn-link btn-xs grid-view svelte-1pjj2za"),(0,C.CFu)(I,"title",l=(0,b.Ay)("list view"))},m(l,i){(0,C.Yry)(l,I,i),(0,C.BCw)(I,A),t||(c=[(0,C.hGc)(e=a.qz.call(null,A,{iconName:"list"})),(0,C.KTR)(I,"click",g[43])],t=!0)},p:C.lQ1,d(g){g&&(0,C.YoD)(I),t=!1,(0,C.oOW)(c)}}}function Ag(g){let I,A,e,l,t,c;return{c(){I=(0,C.ND4)("button"),A=(0,C.QQy)("svg"),(0,C.CFu)(I,"class","btn btn-link btn-xs grid-view svelte-1pjj2za"),(0,C.CFu)(I,"title",l=(0,b.Ay)("grid view"))},m(l,i){(0,C.Yry)(l,I,i),(0,C.BCw)(I,A),t||(c=[(0,C.hGc)(e=a.qz.call(null,A,{iconName:"grid"})),(0,C.KTR)(I,"click",g[42])],t=!0)},p:C.lQ1,d(g){g&&(0,C.YoD)(I),t=!1,(0,C.oOW)(c)}}}function Cg(g){let I,A,e,l;return{c(){I=(0,C.QQy)("svg"),(0,C.CFu)(I,"class","svelte-1pjj2za")},m(t,c){(0,C.Yry)(t,I,c),e||(l=(0,C.hGc)(A=a.qz.call(null,I,{iconName:`contenttype/${g[60].portal_type.toLowerCase().replace(/\.| /g,"-")}`})),e=!0)},p(I,e){g=I,A&&(0,C.Qk1)(A.update)&&2&e[0]&&A.update.call(null,{iconName:`contenttype/${g[60].portal_type.toLowerCase().replace(/\.| /g,"-")}`})},d(g){g&&(0,C.YoD)(I),e=!1,l()}}}function eg(g){let I,A,e;return{c(){I=(0,C.ND4)("img"),(0,C.mq_)(I.src,A=`${g[60].getURL}/@@images/image/thumb`)||(0,C.CFu)(I,"src",A),(0,C.CFu)(I,"alt",e=g[60].Title),(0,C.CFu)(I,"class","svelte-1pjj2za")},m(g,A){(0,C.Yry)(g,I,A)},p(g,l){2&l[0]&&!(0,C.mq_)(I.src,A=`${g[60].getURL}/@@images/image/thumb`)&&(0,C.CFu)(I,"src",A),2&l[0]&&e!==(e=g[60].Title)&&(0,C.CFu)(I,"alt",e)},d(g){g&&(0,C.YoD)(I)}}}function lg(g){let I,A,e,l=g[60].path+"";return{c(){I=(0,C.ND4)("br"),A=(0,C.ND4)("span"),e=(0,C.Qq7)(l),(0,C.CFu)(A,"class","small")},m(g,l){(0,C.Yry)(g,I,l),(0,C.Yry)(g,A,l),(0,C.BCw)(A,e)},p(g,I){2&I[0]&&l!==(l=g[60].path+"")&&(0,C.iQh)(e,l)},d(g){g&&((0,C.YoD)(I),(0,C.YoD)(A))}}}function tg(g){let I,A,e,l,t;return{c(){I=(0,C.ND4)("div"),A=(0,C.QQy)("svg"),(0,C.CFu)(I,"class","browseSub svelte-1pjj2za")},m(g,c){(0,C.Yry)(g,I,c),(0,C.BCw)(I,A),l||(t=(0,C.hGc)(e=a.qz.call(null,A,{iconName:"arrow-right-circle"})),l=!0)},d(g){g&&(0,C.YoD)(I),l=!1,t()}}}function cg(g){let I,A,e,l,t,c,i,b,n,s,a,d,u,o=g[60].Title+"";function G(g,I){return g[7]&&g[60].getIcon?eg:Cg}let r=G(g),Z=r(g),X="search"==g[8].mode&&lg(g),m=g[60].is_folderish&&"browse"==g[8].mode&&tg();function p(...I){return g[44](g[60],...I)}function B(...I){return g[45](g[60],...I)}return{c(){I=(0,C.ND4)("div"),A=(0,C.ND4)("div"),Z.c(),e=(0,C.xem)(),l=(0,C.Qq7)(o),t=(0,C.xem)(),X&&X.c(),b=(0,C.xem)(),m&&m.c(),(0,C.CFu)(A,"class",c=(0,C.oEI)(g[7]?"grid-preview":"item-title")+" svelte-1pjj2za"),(0,C.CFu)(A,"title",i=g[60].portal_type+": "+g[60].Title),(0,C.CFu)(I,"class",n="contentItem"+(g[62]%2==0?" odd":" even")+(g[29](g[60])?" inPath":"")+(-1!=g[0].indexOf(g[60].UID)?" selectedItem":"")+(g[27](g[60])?"":" text-body-tertiary")+" svelte-1pjj2za"),(0,C.CFu)(I,"role","button"),(0,C.CFu)(I,"tabindex",s=g[62]),(0,C.CFu)(I,"data-uuid",a=g[60].UID)},m(g,c){(0,C.Yry)(g,I,c),(0,C.BCw)(I,A),Z.m(A,null),(0,C.BCw)(A,e),(0,C.BCw)(A,l),(0,C.BCw)(A,t),X&&X.m(A,null),(0,C.BCw)(I,b),m&&m.m(I,null),d||(u=[(0,C.KTR)(I,"keydown",(0,C.xZN)(p)),(0,C.KTR)(I,"click",B)],d=!0)},p(t,b){r===(r=G(g=t))&&Z?Z.p(g,b):(Z.d(1),Z=r(g),Z&&(Z.c(),Z.m(A,e))),2&b[0]&&o!==(o=g[60].Title+"")&&(0,C.iQh)(l,o),"search"==g[8].mode?X?X.p(g,b):(X=lg(g),X.c(),X.m(A,null)):X&&(X.d(1),X=null),128&b[0]&&c!==(c=(0,C.oEI)(g[7]?"grid-preview":"item-title")+" svelte-1pjj2za")&&(0,C.CFu)(A,"class",c),2&b[0]&&i!==(i=g[60].portal_type+": "+g[60].Title)&&(0,C.CFu)(A,"title",i),g[60].is_folderish&&"browse"==g[8].mode?m||(m=tg(),m.c(),m.m(I,null)):m&&(m.d(1),m=null),3&b[0]&&n!==(n="contentItem"+(g[62]%2==0?" odd":" even")+(g[29](g[60])?" inPath":"")+(-1!=g[0].indexOf(g[60].UID)?" selectedItem":"")+(g[27](g[60])?"":" text-body-tertiary")+" svelte-1pjj2za")&&(0,C.CFu)(I,"class",n),2&b[0]&&a!==(a=g[60].UID)&&(0,C.CFu)(I,"data-uuid",a)},d(g){g&&(0,C.YoD)(I),Z.d(),X&&X.d(),m&&m.d(),d=!1,(0,C.oOW)(u)}}}function ig(g){let I,A,e,l,t,c,i;return{c(){I=(0,C.ND4)("div"),A=(0,C.ND4)("div"),(0,C.CFu)(A,"class","spinner-border"),(0,C.CFu)(A,"role","status"),(0,C.CFu)(I,"class","loadmore svelte-1pjj2za"),(0,C.CFu)(I,"data-level-path",e=g[57].path),(0,C.CFu)(I,"data-level-next-page",l=parseInt(g[57].page)+1)},m(e,l){(0,C.Yry)(e,I,l),(0,C.BCw)(I,A),c||(i=(0,C.hGc)(t=g[34].call(null,I)),c=!0)},p(g,A){2&A[0]&&e!==(e=g[57].path)&&(0,C.CFu)(I,"data-level-path",e),2&A[0]&&l!==(l=parseInt(g[57].page)+1)&&(0,C.CFu)(I,"data-level-next-page",l)},d(g){g&&(0,C.YoD)(I),c=!1,i()}}}function bg(g){let I,A;return{c(){I=(0,C.ND4)("div"),A=(0,C.ND4)("p"),A.textContent=`${(0,b.Ay)("no results found")}`,(0,C.CFu)(A,"class","svelte-1pjj2za"),(0,C.CFu)(I,"class","contentItem svelte-1pjj2za")},m(g,e){(0,C.Yry)(g,I,e),(0,C.BCw)(I,A)},d(g){g&&(0,C.YoD)(I)}}}function ng(g,I){let A,e,l,t,c,b,n,s,a,d=0==I[59]&&"browse"==I[8].mode&&K(I),u=I[59]==I[56].length-1&&M(I),o=(0,C.rv_)(I[57].results||[]),G=[];for(let g=0;g<o.length;g+=1)G[g]=cg(k(I,o,g));let r=I[57].more&&ig(I),Z=0==I[57].total&&bg();return{key:g,first:null,c(){A=(0,C.ND4)("div"),e=(0,C.ND4)("div"),d&&d.c(),l=(0,C.xem)(),u&&u.c(),t=(0,C.xem)(),c=(0,C.ND4)("div");for(let g=0;g<G.length;g+=1)G[g].c();b=(0,C.xem)(),r&&r.c(),n=(0,C.xem)(),Z&&Z.c(),(0,C.CFu)(e,"class","levelToolbar svelte-1pjj2za"),(0,C.CFu)(c,"class","levelItems svelte-1pjj2za"),(0,C.CFu)(A,"class",s="levelColumn"+(I[59]%2==0?" odd":" even")+" "+(I[59]===I[56].length-1?"active":"")+" svelte-1pjj2za"),this.first=A},m(g,I){(0,C.Yry)(g,A,I),(0,C.BCw)(A,e),d&&d.m(e,null),(0,C.BCw)(e,l),u&&u.m(e,null),(0,C.BCw)(A,t),(0,C.BCw)(A,c);for(let g=0;g<G.length;g+=1)G[g]&&G[g].m(c,null);(0,C.BCw)(c,b),r&&r.m(c,null),(0,C.BCw)(c,n),Z&&Z.m(c,null)},p(g,t){if(0==(I=g)[59]&&"browse"==I[8].mode?d?d.p(I,t):(d=K(I),d.c(),d.m(e,l)):d&&(d.d(1),d=null),I[59]==I[56].length-1?u?u.p(I,t):(u=M(I),u.c(),u.m(e,null)):u&&(u.d(1),u=null),673710467&t[0]){let g;for(o=(0,C.rv_)(I[57].results||[]),g=0;g<o.length;g+=1){const A=k(I,o,g);G[g]?G[g].p(A,t):(G[g]=cg(A),G[g].c(),G[g].m(c,b))}for(;g<G.length;g+=1)G[g].d(1);G.length=o.length}I[57].more?r?r.p(I,t):(r=ig(I),r.c(),r.m(c,n)):r&&(r.d(1),r=null),0==I[57].total?Z||(Z=bg(),Z.c(),Z.m(c,null)):Z&&(Z.d(1),Z=null),2&t[0]&&s!==(s="levelColumn"+(I[59]%2==0?" odd":" even")+" "+(I[59]===I[56].length-1?"active":"")+" svelte-1pjj2za")&&(0,C.CFu)(A,"class",s)},i(g){g&&(a||(0,C.Dti)((()=>{a=(0,C.b7f)(A,i._J,{duration:500}),a.start()})))},o:C.lQ1,d(g){g&&(0,C.YoD)(A),d&&d.d(),u&&u.d(),(0,C.ppq)(G,g),r&&r.d(),Z&&Z.d()}}}function sg(g){let I,A,e,l,t,c,n,s,a,d,u,o,G,r,Z,X,m,p=g[5].Title+"",B=g[27](g[5]),x=g[5].Title+"",V=B&&ag(g);function F(g,I){return g[5].getIcon?ug:dg}let W=F(g),v=W(g),Q=g[5].Description&&og(g),y=g[5].created&&Gg(g),h=g[5].modified&&rg(g),N=g[5].review_state&&Zg(g);return{c(){I=(0,C.ND4)("div"),A=(0,C.ND4)("div"),e=(0,C.ND4)("div"),l=(0,C.ND4)("span"),t=(0,C.Qq7)(p),c=(0,C.xem)(),V&&V.c(),n=(0,C.xem)(),s=(0,C.ND4)("div"),v.c(),a=(0,C.xem)(),d=(0,C.ND4)("dl"),u=(0,C.ND4)("dt"),u.textContent=`${(0,b.Ay)("Title")}`,o=(0,C.ND4)("dd"),G=(0,C.Qq7)(x),Q&&Q.c(),r=(0,C.Iex)(),y&&y.c(),Z=(0,C.Iex)(),h&&h.c(),X=(0,C.Iex)(),N&&N.c(),(0,C.CFu)(l,"class","me-3"),(0,C.CFu)(e,"class","selectLevel me-3"),(0,C.CFu)(A,"class","levelToolbar svelte-1pjj2za"),(0,C.CFu)(s,"class","info svelte-1pjj2za"),(0,C.CFu)(I,"class","preview svelte-1pjj2za")},m(g,i){(0,C.Yry)(g,I,i),(0,C.BCw)(I,A),(0,C.BCw)(A,e),(0,C.BCw)(e,l),(0,C.BCw)(l,t),(0,C.BCw)(e,c),V&&V.m(e,null),(0,C.BCw)(I,n),(0,C.BCw)(I,s),v.m(s,null),(0,C.BCw)(s,a),(0,C.BCw)(s,d),(0,C.BCw)(d,u),(0,C.BCw)(d,o),(0,C.BCw)(o,G),Q&&Q.m(d,null),(0,C.BCw)(d,r),y&&y.m(d,null),(0,C.BCw)(d,Z),h&&h.m(d,null),(0,C.BCw)(d,X),N&&N.m(d,null)},p(g,I){32&I[0]&&p!==(p=g[5].Title+"")&&(0,C.iQh)(t,p),32&I[0]&&(B=g[27](g[5])),B?V?V.p(g,I):(V=ag(g),V.c(),V.m(e,null)):V&&(V.d(1),V=null),W===(W=F(g))&&v?v.p(g,I):(v.d(1),v=W(g),v&&(v.c(),v.m(s,a))),32&I[0]&&x!==(x=g[5].Title+"")&&(0,C.iQh)(G,x),g[5].Description?Q?Q.p(g,I):(Q=og(g),Q.c(),Q.m(d,r)):Q&&(Q.d(1),Q=null),g[5].created?y?y.p(g,I):(y=Gg(g),y.c(),y.m(d,Z)):y&&(y.d(1),y=null),g[5].modified?h?h.p(g,I):(h=rg(g),h.c(),h.m(d,X)):h&&(h.d(1),h=null),g[5].review_state?N?N.p(g,I):(N=Zg(g),N.c(),N.m(d,null)):N&&(N.d(1),N=null)},i(g){g&&(m||(0,C.Dti)((()=>{m=(0,C.b7f)(I,i._J,{duration:500}),m.start()})))},o:C.lQ1,d(g){g&&(0,C.YoD)(I),V&&V.d(),v.d(),Q&&Q.d(),y&&y.d(),h&&h.d(),N&&N.d()}}}function ag(g){let I,A,e,l,t,c;return{c(){I=(0,C.ND4)("button"),A=(0,C.QQy)("svg"),(0,C.CFu)(A,"class","svelte-1pjj2za"),(0,C.CFu)(I,"class","btn btn-success btn-xs svelte-1pjj2za"),(0,C.CFu)(I,"title",l=(0,b.Ay)("select ${preview_path}",{preview_path:g[5].Title}))},m(l,i){(0,C.Yry)(l,I,i),(0,C.BCw)(I,A),t||(c=[(0,C.hGc)(e=a.qz.call(null,A,{iconName:"check"})),(0,C.KTR)(I,"click",(0,C.xZN)(g[46]))],t=!0)},p(g,A){32&A[0]&&l!==(l=(0,b.Ay)("select ${preview_path}",{preview_path:g[5].Title}))&&(0,C.CFu)(I,"title",l)},d(g){g&&(0,C.YoD)(I),t=!1,(0,C.oOW)(c)}}}function dg(g){let I,A,e,l,t;return{c(){I=(0,C.ND4)("div"),A=(0,C.QQy)("svg"),(0,C.CFu)(A,"class","svelte-1pjj2za"),(0,C.CFu)(I,"class","previewIcon svelte-1pjj2za")},m(c,i){(0,C.Yry)(c,I,i),(0,C.BCw)(I,A),l||(t=(0,C.hGc)(e=a.qz.call(null,A,{iconName:`contenttype/${g[5].portal_type.toLowerCase().replace(/\.| /g,"-")}`})),l=!0)},p(g,I){e&&(0,C.Qk1)(e.update)&&32&I[0]&&e.update.call(null,{iconName:`contenttype/${g[5].portal_type.toLowerCase().replace(/\.| /g,"-")}`})},d(g){g&&(0,C.YoD)(I),l=!1,t()}}}function ug(g){let I,A,e,l;return{c(){I=(0,C.ND4)("div"),A=(0,C.ND4)("img"),(0,C.mq_)(A.src,e=g[5].getURL+"/@@images/image/preview")||(0,C.CFu)(A,"src",e),(0,C.CFu)(A,"alt",l=g[5].Title),(0,C.CFu)(A,"class","svelte-1pjj2za"),(0,C.CFu)(I,"class","previewImage")},m(g,e){(0,C.Yry)(g,I,e),(0,C.BCw)(I,A)},p(g,I){32&I[0]&&!(0,C.mq_)(A.src,e=g[5].getURL+"/@@images/image/preview")&&(0,C.CFu)(A,"src",e),32&I[0]&&l!==(l=g[5].Title)&&(0,C.CFu)(A,"alt",l)},d(g){g&&(0,C.YoD)(I)}}}function og(g){let I,A,e,l,t,c=g[5].Description+"";return{c(){I=(0,C.ND4)("dt"),I.textContent=`${(0,b.Ay)("Description")}`,A=(0,C.ND4)("dd"),e=(0,C.Qq7)(c),l=(0,C.xem)(),(0,C.CFu)(A,"class","text-truncate"),(0,C.CFu)(A,"title",t=g[5].Description)},m(g,t){(0,C.Yry)(g,I,t),(0,C.Yry)(g,A,t),(0,C.BCw)(A,e),(0,C.BCw)(A,l)},p(g,I){32&I[0]&&c!==(c=g[5].Description+"")&&(0,C.iQh)(e,c),32&I[0]&&t!==(t=g[5].Description)&&(0,C.CFu)(A,"title",t)},d(g){g&&((0,C.YoD)(I),(0,C.YoD)(A))}}}function Gg(g){let I,A,e,l,t,c,i=(0,a.Yq)(g[5].created)+"";return{c(){I=(0,C.ND4)("dt"),I.textContent=`${(0,b.Ay)("created")}`,A=(0,C.ND4)("dd"),e=(0,C.ND4)("time"),l=(0,C.Qq7)(i),c=(0,C.xem)(),(0,C.CFu)(e,"datetime",t=g[5].created)},m(g,t){(0,C.Yry)(g,I,t),(0,C.Yry)(g,A,t),(0,C.BCw)(A,e),(0,C.BCw)(e,l),(0,C.BCw)(A,c)},p(g,I){32&I[0]&&i!==(i=(0,a.Yq)(g[5].created)+"")&&(0,C.iQh)(l,i),32&I[0]&&t!==(t=g[5].created)&&(0,C.CFu)(e,"datetime",t)},d(g){g&&((0,C.YoD)(I),(0,C.YoD)(A))}}}function rg(g){let I,A,e,l,t,c,i=(0,a.Yq)(g[5].modified)+"";return{c(){I=(0,C.ND4)("dt"),I.textContent=`${(0,b.Ay)("modified")}`,A=(0,C.ND4)("dd"),e=(0,C.ND4)("time"),l=(0,C.Qq7)(i),c=(0,C.xem)(),(0,C.CFu)(e,"datetime",t=g[5].modified)},m(g,t){(0,C.Yry)(g,I,t),(0,C.Yry)(g,A,t),(0,C.BCw)(A,e),(0,C.BCw)(e,l),(0,C.BCw)(A,c)},p(g,I){32&I[0]&&i!==(i=(0,a.Yq)(g[5].modified)+"")&&(0,C.iQh)(l,i),32&I[0]&&t!==(t=g[5].modified)&&(0,C.CFu)(e,"datetime",t)},d(g){g&&((0,C.YoD)(I),(0,C.YoD)(A))}}}function Zg(g){let I,A,e,l=g[5].review_state+"";return{c(){I=(0,C.ND4)("dt"),I.textContent=`${(0,b.Ay)("review_state")}`,A=(0,C.ND4)("dd"),e=(0,C.Qq7)(l)},m(g,l){(0,C.Yry)(g,I,l),(0,C.Yry)(g,A,l),(0,C.BCw)(A,e)},p(g,I){32&I[0]&&l!==(l=g[5].review_state+"")&&(0,C.iQh)(e,l)},d(g){g&&((0,C.YoD)(I),(0,C.YoD)(A))}}}function Xg(g){let I,A,e,l,t,c,n,s,d,u,o,G,r,Z,X,m,p=(0,b.Ay)("${item_count} items selected",{item_count:g[0].length})+"";return{c(){I=(0,C.ND4)("div"),A=(0,C.ND4)("div"),e=(0,C.ND4)("button"),l=(0,C.QQy)("svg"),n=(0,C.xem)(),s=(0,C.ND4)("div"),d=(0,C.QQy)("svg"),o=(0,C.xem)(),G=(0,C.ND4)("span"),r=(0,C.Qq7)(p),(0,C.CFu)(l,"class","svelte-1pjj2za"),(0,C.CFu)(e,"class","btn btn-success btn-xs svelte-1pjj2za"),(0,C.CFu)(e,"title",c=(0,b.Ay)("add selected items")),(0,C.CFu)(A,"class","levelToolbar svelte-1pjj2za"),(0,C.CFu)(d,"class","svelte-1pjj2za"),(0,C.CFu)(G,"class",""),(0,C.CFu)(s,"class","info svelte-1pjj2za"),(0,C.CFu)(I,"class","preview svelte-1pjj2za")},m(c,i){(0,C.Yry)(c,I,i),(0,C.BCw)(I,A),(0,C.BCw)(A,e),(0,C.BCw)(e,l),(0,C.BCw)(I,n),(0,C.BCw)(I,s),(0,C.BCw)(s,d),(0,C.BCw)(s,o),(0,C.BCw)(s,G),(0,C.BCw)(G,r),X||(m=[(0,C.hGc)(t=a.qz.call(null,l,{iconName:"check"})),(0,C.KTR)(e,"click",(0,C.xZN)(g[23])),(0,C.hGc)(u=a.qz.call(null,d,{iconName:"files"}))],X=!0)},p(g,I){1&I[0]&&p!==(p=(0,b.Ay)("${item_count} items selected",{item_count:g[0].length})+"")&&(0,C.iQh)(r,p)},i(g){g&&(Z||(0,C.Dti)((()=>{Z=(0,C.b7f)(I,i._J,{duration:500}),Z.start()})))},o:C.lQ1,d(g){g&&(0,C.YoD)(I),X=!1,(0,C.oOW)(m)}}}function mg(g){let I;return{c(){I=(0,C.ND4)("div"),(0,C.CFu)(I,"class","upload-wrapper svelte-1pjj2za")},m(g,A){(0,C.Yry)(g,I,A)},d(g){g&&(0,C.YoD)(I)}}}function pg(g){let I;return{c(){I=(0,C.ND4)("p"),I.textContent=`${(0,b.Ay)("loading content items")}`},m(g,A){(0,C.Yry)(g,I,A)},p:C.lQ1,d(g){g&&(0,C.YoD)(I)}}}function Bg(g){let I,A,e=g[3]&&H(g);return{c(){e&&e.c(),I=(0,C.Iex)()},m(g,l){e&&e.m(g,l),(0,C.Yry)(g,I,l),A=!0},p(g,A){g[3]?e?(e.p(g,A),8&A[0]&&(0,C.c7F)(e,1)):(e=H(g),e.c(),(0,C.c7F)(e,1),e.m(I.parentNode,I)):e&&((0,C.V44)(),(0,C.Tn8)(e,1,1,(()=>{e=null})),(0,C.GYV)())},i(g){A||((0,C.c7F)(e),A=!0)},o(g){(0,C.Tn8)(e),A=!1},d(g){g&&(0,C.YoD)(I),e&&e.d(g)}}}function xg(g,I,A){let e,i,b,s,u,o,G;c.ih({scrollX:!0,container:".levelColumns",duration:500});const r=(0,l.SD)("currentPath");(0,C.j0C)(g,r,(g=>A(2,b=g)));const Z=(0,l.SD)("config");(0,C.j0C)(g,Z,(g=>A(8,u=g)));const X=(0,l.SD)("pathCache"),m=(0,l.SD)("showContentBrowser");(0,C.j0C)(g,m,(g=>A(3,s=g)));const p=(0,l.SD)("selectedItems");(0,C.j0C)(g,p,(g=>A(51,G=g)));const B=(0,l.SD)("selectedUids");(0,C.j0C)(g,B,(g=>A(50,o=g)));const x=(0,l.SD)("previewUids");(0,C.j0C)(g,x,(g=>A(0,e=g)));const V=d(u,X);(0,C.j0C)(g,V,(g=>A(1,i=g)));let F=!1,W={},v=!1,Q=!1,y=null,h=!1,N=u.mode,Y=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);function U({data:g=null,uuid:I=null,action:l="show"}){if(g&&"show"==l)A(5,W=g),(0,C.vu6)(x,e=[g.UID],e);else if(I&&"add"==l&&-1===e.indexOf(I)){if(u.maximumSelectionSize>0&&e.length>=u.maximumSelectionSize)return;(0,C.vu6)(x,e=[...e,I],e)}else I&&"remove"==l&&-1!==e.indexOf(I)?x.update((g=>(g.splice(g.indexOf(I),1),g))):"clear"==l&&(A(5,W={}),(0,C.vu6)(x,e=[],e))}function R(g,I){A(4,F=!1),U({action:"clear"}),"/"!==g&&g!==u.rootPath?function(g){if("browse"==u.mode&&g.is_folderish)(0,C.vu6)(x,e=[g.UID],e),r.set(g.path);else{const I=g.path.split("/"),A=I.slice(0,I.length-1).join("/");r.set(A||u.rootPath),U({data:g})}f()}(g):r.set(u.rootPath)}function j(g,I){v||(v=!0);const A=I.currentTarget.closest(".levelItems"),C=A.querySelectorAll(".selectedItem");if(C.length&&1!=u.maximumSelectionSize)if(Q||I?.shiftKey){let I=!1;for(const C of A.children){if(-1!==[g.UID,W.UID].indexOf(C.dataset.uuid)){if(I){U({uuid:C.dataset.uuid,action:"add"}),I=!1;continue}I=!0}U({uuid:C.dataset.uuid,action:I?"add":"remove"})}Q=!1}else I?.metaKey||I?.ctrlKey?U({uuid:g.UID,action:-1==e.indexOf(g.UID)?"add":"remove"}):([...C].map((g=>g.classList.remove("selectedItem"))),R(g));else R(g);I.currentTarget.focus(),I.currentTarget.classList.add("selectedItem")}function w(){if(v)return;const g=[...document.querySelectorAll(".levelColumn .inPath"),...document.querySelectorAll(".levelColumn .selectedItem")];!g.length&&document.querySelector(".levelColumn .contentItem")&&g.push(document.querySelector(".levelColumn .contentItem")),g.length&&(v=!0,g[0].focus())}function D(g,I){const A=I.currentTarget;if(Q=I.shiftKey,"Escape"==I.key&&S(),"ArrowDown"==I.key&&A?.nextElementSibling?.classList.contains("contentItem")&&A.nextElementSibling.click(),"ArrowUp"==I.key&&A?.previousElementSibling?.classList.contains("contentItem")&&A.previousElementSibling.click(),"ArrowRight"==I.key){const g=I.target.closest(".levelColumn"),A=g?.nextElementSibling;if(!A||!A.classList.contains("levelColumn"))return;A.querySelector(".contentItem")?.click()}if("ArrowLeft"==I.key){const g=I.target.closest(".levelColumn"),A=g?.previousElementSibling;if(!A||!A.classList.contains("levelColumn"))return;A.querySelector(".inPath").click()}"Space"==I.key&&j(g,I),"Enter"==I.key&&L(g)&&(1==u.maximumSelectionSize?z(g):J())}async function z(g){1==u.maximumSelectionSize?(p.set([g]),B.set([g.UID])):(p.update((I=>[...I,g])),B.update((()=>G.map((g=>g.UID))))),(0,a.r1)(g,u),U({action:"clear"}),(0,C.vu6)(m,s=!1,s),v=!1}async function J(){const g=await(0,a.x6)(e,u);p.update((I=>{for(const A of g)-1==o.indexOf(A.UID)&&I.push(A);return I})),B.update((()=>G.map((g=>g.UID)))),U({action:"clear"}),(0,C.vu6)(m,s=!1,s),v=!1}function S(){(0,C.vu6)(m,s=!1,s),v=!1,U({action:"clear"})}function L(g){return-1===o.indexOf(g.UID)}function f(){const g=document.querySelector(".levelColumns");g&&c.VG({x:g.scrollWidth+100})}const k=t.A.debounce((async g=>{await H(g.target.value)}),300);async function H(g){A(6,y=g),"search"!==N&&(0,C.vu6)(Z,u.mode=""!==y?"search":"browse",u),await V.get({path:b,searchTerm:y,mode:u.mode}),y?U({action:"clear"}):(await t.A.timeout(1),f())}const E=t.A.debounce((async g=>{await T(g.target.value)}),300),T=async g=>{""!==g?U({action:"clear"}):f(),await V.get({path:b,searchTerm:g})};return g.$$.update=()=>{12&g.$$.dirty[0]&&s&&V.get({path:b}),2&g.$$.dirty[0]&&f(),g.$$.dirty[0]},[e,i,b,s,F,W,y,h,u,r,Z,m,p,B,x,V,Y,async function(){U({action:"clear"}),f(),A(4,F=!0),await t.A.timeout(1);const g=document.querySelector(".upload-wrapper");g.classList.add("pat-upload"),new n.default(g,{baseUrl:u.rootUrl,currentPath:b,relativePath:"@@fileUpload",allowPathSelection:!1,hiddenInputContainer:".upload-wrapper",success:(g,I)=>{V.get({path:b,updateCache:!0})}})},R,j,w,D,z,J,function(g){z(g.detail.item)},async function(g){const I=g.detail.item.path,A=await(0,a.Em)({vocabularyUrl:u.vocabularyUrl,attributes:u.attributes,levelInfoPath:I});if(!A.total)return void alert(`${I} not found!`);const C=A.results[0];C.path||(C.path=u.rootPath),R(C)},S,L,f,function(g){return"browse"==u.mode&&-1!=b.indexOf(g.path)},k,H,E,T,function(g){const I=new IntersectionObserver((I=>{for(const A of I)if(A.isIntersecting){const I=g.dataset.levelPath,A=parseInt(g.dataset.levelNextPage);V.get({loadMorePath:I,page:A})}}),{threshold:0,root:null,margin:"0px"});window.setTimeout((()=>{I.observe(g)}),500)},()=>H(""),()=>S(),()=>R(u.rootPath),()=>R(u.rootPath),g=>z(g),(g,I,A)=>{T(""),(0,C.vu6)(V,I[A].showFilter=!1,i)},(g,I,A)=>(0,C.vu6)(V,I[A].showFilter=!0,i),()=>A(7,h=!0),()=>A(7,h=!1),(g,I)=>D(g,I),(g,I)=>j(g,I),()=>z(W),()=>{f(),w()}]}class Vg extends C.r7T{constructor(g){super(),(0,C.TsN)(this,g,xg,Bg,C.jXN,{},null,[-1,-1,-1])}}var Fg=Vg,Wg=A(64708),vg=A.n(Wg),Qg=A(44563),yg=A(58621),hg=A.n(yg),Ng=A(94441),Yg={};Yg.styleTagTransform=J(),Yg.setAttributes=j(),Yg.insert=U(),Yg.domAPI=N(),Yg.insertStyleElement=D();y()(Ng.A,Yg),Ng.A&&Ng.A.locals&&Ng.A.locals;function Ug(g,I,A){const C=g.slice();return C[21]=I[A],C[23]=A,C}function Rg(g){let I,A=[],e=new Map,l=(0,C.rv_)(g[0]);const t=g=>g[21].UID;for(let I=0;I<l.length;I+=1){let C=Ug(g,l,I),c=t(C);e.set(c,A[I]=jg(c,C))}return{c(){for(let g=0;g<A.length;g+=1)A[g].c();I=(0,C.Iex)()},m(g,e){for(let I=0;I<A.length;I+=1)A[I]&&A[I].m(g,e);(0,C.Yry)(g,I,e)},p(g,c){1&c&&(l=(0,C.rv_)(g[0]),A=(0,C.l7s)(A,c,t,1,g,l,e,I.parentNode,C.n_k,jg,I,Ug))},d(g){g&&(0,C.YoD)(I);for(let I=0;I<A.length;I+=1)A[I].d(g)}}}function jg(g,I){let A,e,l,t;return{key:g,first:null,c(){A=(0,C.ND4)("div"),this.first=A},m(g,c){(0,C.Yry)(g,A,c),l||(t=(0,C.hGc)(e=I[7].call(null,A,{idx:I[23],item:I[21]})),l=!0)},p(g,A){I=g,e&&(0,C.Qk1)(e.update)&&1&A&&e.update.call(null,{idx:I[23],item:I[21]})},d(g){g&&(0,C.YoD)(A),l=!1,t()}}}function wg(g){let I;return{c(){I=(0,C.ND4)("p"),I.textContent=`${(0,b.Ay)("loading selected items")}`},m(g,A){(0,C.Yry)(g,I,A)},d(g){g&&(0,C.YoD)(I)}}}function Dg(g){let I,A,e,l,t,c,i,n=g[0]&&Rg(g),s=!g[0]&&wg();return{c(){I=(0,C.ND4)("div"),A=(0,C.ND4)("div"),n&&n.c(),e=(0,C.xem)(),s&&s.c(),l=(0,C.xem)(),t=(0,C.ND4)("a"),t.textContent=`${(0,b.Ay)("Select")}`,(0,C.CFu)(A,"class","content-browser-selected-items svelte-awokap"),(0,C.CFu)(t,"class","btn btn-primary"),(0,C.CFu)(t,"href","#"),(0,C.hgi)(t,"border-radius","0 var(--bs-border-radius) var(--bs-border-radius) 0"),(0,C.CFu)(I,"class","content-browser-selected-items-wrapper svelte-awokap"),(0,C.hgi)(I,"width",g[2].width||"auto")},m(b,a){(0,C.Yry)(b,I,a),(0,C.BCw)(I,A),n&&n.m(A,null),(0,C.BCw)(A,e),s&&s.m(A,null),(0,C.BCw)(I,l),(0,C.BCw)(I,t),g[11](I),c||(i=[(0,C.KTR)(A,"click",g[9]),(0,C.KTR)(t,"click",(0,C.xZN)(g[10]))],c=!0)},p(g,[l]){g[0]?n?n.p(g,l):(n=Rg(g),n.c(),n.m(A,e)):n&&(n.d(1),n=null),g[0]?s&&(s.d(1),s=null):s||(s=wg(),s.c(),s.m(A,null)),4&l&&(0,C.hgi)(I,"width",g[2].width||"auto")},i:C.lQ1,o:C.lQ1,d(A){A&&(0,C.YoD)(I),n&&n.d(),s&&s.d(),g[11](null),c=!1,(0,C.oOW)(i)}}}function zg(g,I,A){let e,t,c,i,b=!0;const n=(0,l.SD)("config");(0,C.j0C)(g,n,(g=>A(2,t=g)));const s=t.fieldId,d=document.getElementById(s),u=(0,l.SD)("selectedItems");(0,C.j0C)(g,u,(g=>A(0,e=g)));const o=(0,l.SD)("selectedUids"),G=(0,l.SD)("showContentBrowser");(0,C.j0C)(g,G,(g=>A(3,c=g)));const r=hg().getComponent(t.componentRegistryKeys?.selectedItem||"pat-contentbrowser.SelectedItem");function Z(){1!==t.maximumSelectionSize&&e.length>1&&vg().create(d.previousSibling.querySelector(".content-browser-selected-items"),{draggable:".selected-item",animation:200,onUpdate:g=>{let I=[];for(const A of g.target.children)I.push(A.dataset.uuid);X(I)}})}function X(g){const I=g.join(t.separator);d.value=I,d.dispatchEvent(Qg.A.change_event())}(0,l.Rc)((async()=>{await async function(){const g=t.selection.length?t.selection:d?.value?d.value.split(t.separator):[];if(!g.length)return;(0,C.vu6)(u,e=await(0,a.x6)(g,t),e),o.update((()=>e.map((g=>g.UID))))}(),Z(),A(8,b=!1)})),(0,l.o)("unselectItem",(function(g){u.update((I=>(I.splice(g,1),I))),o.update((()=>e.map((g=>g.UID))))}));return g.$$.update=()=>{257&g.$$.dirty&&(!e.length&&b||(X(function(){let g=[];return e.forEach((I=>{g.push(I.UID)})),g}()),Z()))},[e,i,t,c,n,u,G,function(g,I){new r.component({target:g,props:I})},b,()=>(0,C.vu6)(G,c=!e.length,c),()=>(0,C.vu6)(G,c=!0,c),function(g){C.Dnk[g?"unshift":"push"]((()=>{i=g,A(1,i)}))}]}class Jg extends C.r7T{constructor(g){super(),(0,C.TsN)(this,g,zg,Dg,C.jXN,{})}}var Sg=Jg;(0,s.T5)(!1);function Lg(g){let I,A,e,l;return I=new Fg({}),e=new Sg({}),{c(){(0,C.N0i)(I.$$.fragment),A=(0,C.xem)(),(0,C.N0i)(e.$$.fragment)},m(g,t){(0,C.wSR)(I,g,t),(0,C.Yry)(g,A,t),(0,C.wSR)(e,g,t),l=!0},p:C.lQ1,i(g){l||((0,C.c7F)(I.$$.fragment,g),(0,C.c7F)(e.$$.fragment,g),l=!0)},o(g){(0,C.Tn8)(I.$$.fragment,g),(0,C.Tn8)(e.$$.fragment,g),l=!1},d(g){g&&(0,C.YoD)(A),(0,C.Hbl)(I,g),(0,C.Hbl)(e,g)}}}function fg(g,I,A){let t,c,{maxDepth:i}=I,{width:b}=I,{attributes:n}=I,{contextPath:a}=I,{vocabularyUrl:d}=I,{mode:u="browse"}=I,{rootPath:o=""}=I,{rootUrl:G=""}=I,{basePath:r=""}=I,{selectableTypes:Z=[]}=I,{maximumSelectionSize:X=-1}=I,{separator:m}=I,{selection:p=[]}=I,{query:B={}}=I,{fieldId:x}=I,{upload:V}=I,{favorites:F}=I,{recentlyUsed:W}=I,{recentlyUsedKey:v}=I,{recentlyUsedMaxItems:Q}=I,{bSize:y=20}=I,{componentRegistryKeys:h={}}=I;const N=e.A.getLogger("pat-contentbrowser");!function(){let g=(0,s.T5)("");(0,l.o)("currentPath",g)}(),function(){let g=(0,s.T5)({});(0,l.o)("config",g)}(),function(){let g=(0,s.T5)({});(0,l.o)("pathCache",g)}(),function(){let g=(0,s.T5)([]);(0,l.o)("selectedItems",g)}(),function(){let g=(0,s.T5)(!1);(0,l.o)("showContentBrowser",g)}(),function(){let g=(0,s.T5)([]);(0,l.o)("selectedUids",g)}(),function(){let g=(0,s.T5)([]);(0,l.o)("previewUids",g)}();const Y=(0,l.SD)("currentPath");if((0,C.j0C)(g,Y,(g=>A(25,c=g))),!c)if(r||o)(0,C.vu6)(Y,c=0!=r.indexOf(o)?o:r,c);else{const g=new URL(d).pathname.split("/");o=a=(0,C.vu6)(Y,c=g.slice(0,g.length-1).join("/")||"/",c)}let U=(0,l.SD)("config");return(0,C.j0C)(g,U,(g=>A(24,t=g))),(0,C.vu6)(U,t={mode:u,attributes:n,contextPath:a,vocabularyUrl:d,width:b,maxDepth:i,rootPath:o,rootUrl:G,basePath:r,selectableTypes:Z,maximumSelectionSize:X,separator:m,selection:p,query:B,fieldId:x,uploadEnabled:V,favorites:F,recentlyUsed:W,recentlyUsedKey:v,recentlyUsedMaxItems:Q,pageSize:y,componentRegistryKeys:h},t),N.debug(`Initialized App<${x}> with config ${JSON.stringify(t)}`),g.$$set=g=>{"maxDepth"in g&&A(4,i=g.maxDepth),"width"in g&&A(5,b=g.width),"attributes"in g&&A(6,n=g.attributes),"contextPath"in g&&A(2,a=g.contextPath),"vocabularyUrl"in g&&A(7,d=g.vocabularyUrl),"mode"in g&&A(8,u=g.mode),"rootPath"in g&&A(3,o=g.rootPath),"rootUrl"in g&&A(9,G=g.rootUrl),"basePath"in g&&A(10,r=g.basePath),"selectableTypes"in g&&A(11,Z=g.selectableTypes),"maximumSelectionSize"in g&&A(12,X=g.maximumSelectionSize),"separator"in g&&A(13,m=g.separator),"selection"in g&&A(14,p=g.selection),"query"in g&&A(15,B=g.query),"fieldId"in g&&A(16,x=g.fieldId),"upload"in g&&A(17,V=g.upload),"favorites"in g&&A(18,F=g.favorites),"recentlyUsed"in g&&A(19,W=g.recentlyUsed),"recentlyUsedKey"in g&&A(20,v=g.recentlyUsedKey),"recentlyUsedMaxItems"in g&&A(21,Q=g.recentlyUsedMaxItems),"bSize"in g&&A(22,y=g.bSize),"componentRegistryKeys"in g&&A(23,h=g.componentRegistryKeys)},[Y,U,a,o,i,b,n,d,u,G,r,Z,X,m,p,B,x,V,F,W,v,Q,y,h]}class kg extends C.r7T{constructor(g){super(),(0,C.TsN)(this,g,fg,Lg,C.jXN,{maxDepth:4,width:5,attributes:6,contextPath:2,vocabularyUrl:7,mode:8,rootPath:3,rootUrl:9,basePath:10,selectableTypes:11,maximumSelectionSize:12,separator:13,selection:14,query:15,fieldId:16,upload:17,favorites:18,recentlyUsed:19,recentlyUsedKey:20,recentlyUsedMaxItems:21,bSize:22,componentRegistryKeys:23})}}var Hg=kg}}]);
//# sourceMappingURL=82752.e60d606f4a9ae9563091.min.js.map