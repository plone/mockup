{"version":3,"file":"chunks/96127.67416e2a9efb39a26a34.min.js","mappings":"sMAGe,MAAMA,EACjBC,WAAAA,CAAYC,GACRC,KAAKD,GAAKA,CACd,CAEAE,IAAAA,GACI,iCAGAC,IAAE,gCAAiCF,KAAKD,IAAII,GAAG,QAAS,SAAUC,GAC9D,IAAIC,EAAWH,IAAE,uCAAwCF,KAAKD,IAC9D,GAAwB,IAApBM,EAASC,OAAc,CACvBF,EAAEG,iBACFL,IAAEF,MAAMQ,YAAY,cACpB,IAAIC,EAAYP,IAAE,IAAKG,EAASK,QAAQ,OACpCC,EAAMT,IACN,YAAmBO,EAAUG,KAAK,QAAlC,kBACFC,SAAS,QACX,IAAIC,EAAAA,EAAMH,EAAK,CACXI,cAAe,CACXC,gBAAgB,KAGxBL,EAAIM,QAAQ,QAChB,CACJ,GAGAf,IAAE,iCAAkCF,KAAKD,IAAII,GAAG,QAAS,SAAUC,GAC/D,IACIc,EADAC,EAAQ,EAEZjB,IAAE,WAAYF,KAAKD,IACdW,QAAQ,MACRU,IAAI,iBACJC,KAAK,WACFF,GAASG,SAASpB,IAAE,sBAAuBF,MAAMuB,OAAOC,OAC5D,GAEAN,EADAC,EAEI,iIAEE,+CAELM,OAAOC,QAAQR,KAChBhB,IAAEF,MAAMQ,YAAY,cACpBJ,EAAEG,iBAEV,GAGAL,IAAE,QAAQC,GAAG,SAAU,sBAAuB,WAC1C,IAAIwB,EAAKzB,IAAAA,oCAAsCA,IAAEF,MAAM4B,OACvD1B,IAAE,oBAAoB0B,IAAID,EAC9B,EACJ,E","sources":["webpack://@plone/mockup/./src/pat/controlpanels/dexterity-types-listing--implementation.js"],"sourcesContent":["import $ from \"jquery\";\nimport Modal from \"../modal/modal\";\n\nexport default class DexterityTypesListing {\n    constructor(el) {\n        this.el = el;\n    }\n\n    init() {\n        import(\"./schemaeditor--implementation\"); // register plone_schemaeditor_normalize_string method.\n\n        // Button Clone\n        $(\"#crud-edit-form-buttons-clone\", this.el).on(\"click\", function (e) {\n            var selected = $(\"input[id$=-widgets-select-0]:checked\", this.el);\n            if (selected.length === 1) {\n                e.preventDefault();\n                $(this).removeClass(\"submitting\");\n                var type_link = $(\"a\", selected.closest(\"tr\"));\n                var $el = $(\n                    \"<\" + 'a href=\"' + type_link.attr(\"href\") + '/@@clone\"><' + \"/a>\"\n                ).appendTo(\"body\");\n                new Modal($el, {\n                    actionOptions: {\n                        displayInModal: false,\n                    },\n                });\n                $el.trigger(\"click\");\n            }\n        });\n\n        // Button delete\n        $(\"#crud-edit-form-buttons-delete\", this.el).on(\"click\", function (e) {\n            var items = 0,\n                msg;\n            $(\"td.count\", this.el)\n                .closest(\"tr\")\n                .has(\"input:checked\")\n                .each(function () {\n                    items += parseInt($(\"td.count .int-field\", this).html().trim());\n                });\n            if (items) {\n                msg =\n                    \"WARNING: There are existing instances of these content types which will break.\\n\\nAre you sure you want to delete these types?\";\n            } else {\n                msg = \"Are you sure you want to delete these types?\";\n            }\n            if (!window.confirm(msg)) {\n                $(this).removeClass(\"submitting\");\n                e.preventDefault();\n            }\n        });\n\n        // set id from title\n        $(\"body\").on(\"change\", \"#form-widgets-title\", function () {\n            var id = $.plone_schemaeditor_normalize_string($(this).val());\n            $(\"#form-widgets-id\").val(id);\n        });\n    }\n}\n"],"names":["DexterityTypesListing","constructor","el","this","init","$","on","e","selected","length","preventDefault","removeClass","type_link","closest","$el","attr","appendTo","Modal","actionOptions","displayInModal","trigger","msg","items","has","each","parseInt","html","trim","window","confirm","id","val"],"sourceRoot":""}