(self.webpackChunk_plone_mockup=self.webpackChunk_plone_mockup||[]).push([[48960],{48960:function(){!function(){"use strict";function e(e){return/^[(\[{ \u00a0]$/.test(e)}function t(e){return 3===e.nodeType}function n(e){return 1===e.nodeType}function o(e,n){var o;return n<0&&(n=0),!t(e)||(o=e.data.length)<n&&(n=o),n}function i(e,t,i){!n(t)||t.hasChildNodes()?e.setStart(t,o(t,i)):e.setStartBefore(t)}function r(e,t,i){!n(t)||t.hasChildNodes()?e.setEnd(t,o(t,i)):e.setEndAfter(t)}function a(n,o){var a,f,s,d,u,c=n.getParam("autolink_pattern",l),g=n.getParam("default_link_target",!1);if(null===n.dom.getParent(n.selection.getNode(),"a[href]")){var h=n.selection.getRng().cloneRange();if(h.startOffset<5){if(!(d=h.endContainer.previousSibling)){if(!h.endContainer.firstChild||!h.endContainer.firstChild.nextSibling)return;d=h.endContainer.firstChild.nextSibling}if(i(h,d,u=d.length),r(h,d,u),h.endOffset<5)return;a=h.endOffset,f=d}else{if(!t(f=h.endContainer)&&f.firstChild){for(;!t(f)&&f.firstChild;)f=f.firstChild;t(f)&&(i(h,f,0),r(h,f,f.nodeValue.length))}a=1===h.endOffset?2:h.endOffset-1-o}for(var k=a;i(h,f,2<=a?a-2:0),r(h,f,1<=a?a-1:0),--a,!e(h.toString())&&0<=a-2;);e(h.toString())?(i(h,f,a),r(h,f,k),a+=1):(0===h.startOffset?i(h,f,0):i(h,f,a),r(h,f,k)),C=h.toString(),/[?!,.;:]/.test(C.charAt(C.length-1))&&r(h,f,k-1);var C,m,w,p,y=(C=h.toString().trim()).match(c),v=n.getParam("link_default_protocol","http","string");y&&((w=m=y[0]).length>=(p="www.").length&&w.substr(0,4)===p?m=v+"://"+m:-1===m.indexOf("@")||/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(m)||(m="mailto:"+m),s=n.selection.getBookmark(),n.selection.setRng(h),n.execCommand("createlink",!1,m),!1!==g&&n.dom.setAttrib(n.selection.getNode(),"target",g),n.selection.moveToBookmark(s),n.nodeChanged())}}var f=tinymce.util.Tools.resolve("tinymce.PluginManager"),s=tinymce.util.Tools.resolve("tinymce.Env"),l=new RegExp("^"+/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g.source+"$","i");f.add("autolink",(function(e){var t,n;(t=e).on("keydown",(function(e){if(13===e.keyCode)return a(t,-1)})),s.browser.isIE()?t.on("focus",(function(){if(!n){n=!0;try{t.execCommand("AutoUrlDetect",!1,!0)}catch(e){}}})):(t.on("keypress",(function(e){if(41===e.keyCode||93===e.keyCode||125===e.keyCode)return a(t,-1)})),t.on("keyup",(function(e){if(32===e.keyCode)return a(t,0)})))}))}()}}]);
//# sourceMappingURL=48960.40068119bef2a8cb7be5.min.js.map